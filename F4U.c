/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2017 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

__int16 sub_401000();
BOOL sub_401700();
int sub_4017A0();
char sub_401AB0();
signed int __cdecl sub_401D10(int a1);
void __cdecl sub_402090(int a1);
void __cdecl sub_403080(int a1);
void __cdecl sub_4042B0(int a1);
char __cdecl sub_405570(int a1);
void __cdecl sub_406960(int a1);
void __cdecl sub_4071A0(signed int a1);
char __cdecl sub_407FC0(int a1);
int __cdecl sub_408440(int a1);
char __cdecl sub_408490(int a1);
char __cdecl sub_409520(int a1);
int nullsub_1(void); // weak
int __cdecl sub_409C30(signed int a1);
int __cdecl sub_409FB0(int a1);
__int16 __cdecl sub_40A300(signed int a1);
__int16 __cdecl sub_40B490(int a1);
__int16 __cdecl sub_40BF70(int a1);
int __cdecl sub_40CB70(int a1);
__int16 __cdecl sub_40D7A0(int a1);
__int16 __cdecl sub_40DE40(int a1);
__int16 __cdecl sub_40E670(int a1);
int __cdecl sub_40ECA0(int a1);
__int16 __cdecl sub_40F300(int a1);
__int16 __cdecl sub_40F720(int a1);
__int16 __cdecl sub_40FB40(int a1);
int __cdecl sub_40FD20(int a1);
char __cdecl sub_410B90(int a1);
__int16 __cdecl sub_410DF0(int a1);
signed int __cdecl sub_411AF0(int a1);
int __cdecl sub_4122D0(int a1);
void __cdecl sub_412360(int a1);
signed int __cdecl sub_4132E0(int a1);
__int16 __cdecl sub_413380(int a1);
signed int __cdecl sub_413830(int a1);
signed int __cdecl sub_413D20(int a1);
__int16 __cdecl sub_413E60(int a1);
__int16 __cdecl sub_4142D0(int a1);
signed int __cdecl sub_4145D0(int a1);
signed int __cdecl sub_414850(int a1);
signed int __cdecl sub_4148D0(int a1);
void __cdecl sub_414A30(int a1);
void __cdecl sub_414D20(int a1);
void __cdecl sub_4150C0(int a1);
void __cdecl sub_4154B0(int a1);
signed int __cdecl sub_4158C0(HWND a1);
void sub_415920();
signed int __cdecl sub_415940(HWND a1);
LPDIRECTSOUND sub_415B40();
signed int __cdecl sub_415B60(signed int a1);
signed int sub_415C70();
void sub_415D80();
signed int __cdecl sub_415DB0(void **a1, int *a2, const char *a3);
signed int __cdecl sub_415F20(void **a1, int *a2, const char *a3);
signed int __cdecl sub_416090(_DWORD *a1, _DWORD *a2, int *a3);
signed int __cdecl sub_4160E0(_DWORD *a1, _DWORD *a2);
void __cdecl sub_416100(void *a1);
int __cdecl sub_416140(_DWORD *a1, int *a2);
int __cdecl sub_416170(int a1);
signed int __cdecl sub_416190(unsigned int a1, char *a2, unsigned int a3);
int __cdecl sub_416260(int, LPSTR pszFileName); // idb
int __cdecl sub_4162C0(HMMIO hmmio, LPMMCKINFO pmmcki, char); // idb
int __cdecl sub_416430(LPSTR pszFileName, int, char, LPMMCKINFO pmmcki); // idb
int __cdecl sub_416490(int, LPMMCKINFO pmmcki, MMCKINFO *pmmckiParent); // idb
int __cdecl sub_4164E0(HMMIO hmmio, int, int, int, int); // idb
int __cdecl sub_4165B0(LPSTR pszFileName, int, char, HMMIO hmmio); // idb
int __cdecl sub_4166A0(int a1, int a2, int a3);
signed int __cdecl sub_416700(signed int a1, int a2);
signed int __cdecl sub_416750(signed int a1, LPDIRECTSOUNDBUFFER *a2);
int __cdecl sub_416790(int *a1, int a2, int a3, signed int a4, int a5);
int __cdecl sub_416860(signed int a1, int a2, int a3, int a4, int a5);
int sub_416950();
int __cdecl sub_416990(int a1);
void __cdecl __noreturn sub_4169B0(LPCSTR lpText, LPCSTR lpCaption, int); // idb
DWORD sub_4169E0();
int __cdecl sub_416B90(const char *a1);
int __cdecl sub_416C40(const char *a1);
LRESULT __stdcall sub_416DE0(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
int __stdcall sub_417990(int, int, int, int); // weak
LRESULT __stdcall sub_417AD0(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
LRESULT __stdcall sub_417C40(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
LRESULT __stdcall sub_417D80(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
void __stdcall __noreturn StartAddress(LPVOID lpThreadParameter);
LRESULT __stdcall sub_418470(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
signed int sub_41A2C0();
signed int sub_41A410();
signed int sub_41A550();
signed int sub_41A650();
signed int __cdecl sub_41A820(__int16 a1, __int16 a2);
LRESULT __stdcall fn(int code, WPARAM wParam, LPARAM lParam); // idb
int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd);
int __cdecl sub_41AF90(HINSTANCE hInstance, int nCmdShow); // idb
void *__cdecl sub_41BAF0(size_t a1);
void __cdecl sub_41BB80(void *a1);
// int _ioterm(void); weak
void *sub_41BC00();
FILE *__cdecl sub_41BC40(char *a1);
int __cdecl sub_41BD00(char *, int); // idb
int __cdecl sub_41BD50(FILE *); // idb
int __cdecl sub_41BF80(int *a1, int a2);
int __cdecl sub_41BFF0(FILE *, int); // idb
int __cdecl sub_41C090(const char *a1);
void sub_41C0E0();
void sub_41C100();
// int _ioterm_0(void); weak
int sub_41C150();
int sub_41C4C0();
int sub_41C7F0();
int __cdecl sub_41C960(signed int a1, signed int a2);
int __cdecl sub_41CB10(signed int a1, signed int a2, int a3);
signed int __cdecl sub_41CE40(int a1);
void sub_41CFA0();
unsigned int __cdecl sub_41CFD0(unsigned __int16 a1);
unsigned int __cdecl sub_41D080(unsigned __int16 a1);
unsigned int sub_41D130();
char __cdecl sub_41D570(int a1, signed int a2);
int sub_41D6C0();
int sub_41DF10();
void sub_41E430();
bool __cdecl sub_41E490(int a1, signed int a2);
int sub_41E530();
void sub_41E750();
bool __cdecl sub_41E790(signed int a1);
int sub_41E7A0();
void sub_41E980();
int sub_41E9C0();
void sub_41EB70();
int __cdecl sub_41EBA0(char *, int); // idb
void sub_41ED20();
int sub_41ED50();
void sub_41F400();
int sub_41F440();
// int _ioterm_1(void); weak
int sub_41F630();
void sub_420590();
int sub_420690();
void sub_420C50();
__int16 __cdecl sub_420C80(void *a1, FILE *a2);
int sub_420D60();
int sub_421AE0();
FILE *__cdecl sub_421E60(int a1, int a2);
FILE *__cdecl sub_4221A0(int a1, int a2);
int __cdecl sub_422500(int a1, int a2);
void sub_422850();
int __cdecl sub_422950(char *); // idb
void sub_422E30();
unsigned int __cdecl sub_422E80(const char *a1, int a2);
unsigned int sub_423010();
signed int sub_423120();
char __cdecl sub_423330(int a1);
signed int __cdecl sub_4233F0(int a1);
int *__cdecl sub_4239C0(int a1);
_WORD *__cdecl sub_423A40(int a1);
char __cdecl sub_423AC0(int a1);
int sub_423DF0();
signed int __cdecl sub_424130(signed int a1);
signed int __cdecl sub_424410(int a1, signed int a2);
int __cdecl sub_4245C0(int a1, int a2);
void sub_4248D0();
int __cdecl sub_424A20(const char *a1, int a2);
signed int __cdecl sub_424C20(int a1, signed int a2, signed int a3);
signed int __cdecl sub_424ED0(int a1, signed int a2, signed int a3);
int __cdecl sub_425480(_BYTE *a1);
signed int __cdecl sub_4254F0(_BYTE *a1);
int *__cdecl sub_425550(int *a1, int *a2, char *a3, char a4);
signed int __cdecl sub_4256E0(int a1, int a2, int a3);
signed int __cdecl sub_426260(int a1, int a2, int a3);
signed int __cdecl sub_426680(int a1, int a2, int a3);
signed int __cdecl sub_4269E0(int a1, int a2, int a3);
signed int __cdecl sub_4271B0(int a1, int a2, int a3);
char __cdecl sub_427EC0(int a1);
int __cdecl sub_429A60(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_429CC0(int a1, int a2, int a3, int a4, int a5, int a6);
signed int __cdecl sub_42A140(int a1, int a2, int a3, int a4, int a5);
int sub_42A3F0();
char sub_42BBE0();
signed int __cdecl sub_42BD80(int a1, int a2);
signed int __cdecl sub_42BDE0(int a1, int a2);
signed int __cdecl sub_42BE40(int a1, int a2);
signed int __cdecl sub_42BEA0(int a1, int a2);
signed int __cdecl sub_42BF00(int a1, int a2);
signed int __cdecl sub_42BF60(int a1, int a2);
char sub_42BFC0();
void sub_42DAB0();
__int16 sub_42DB50();
MCIERROR __cdecl sub_42DC70(__int16 a1);
MCIERROR sub_42DEC0();
int sub_42DF70();
char __cdecl sub_42E780(int a1, _BYTE *a2);
int __cdecl sub_42EA60(int a1, _BYTE *a2);
int __stdcall sub_42EDB0(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam); // idb
LRESULT __stdcall sub_433AC0(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
void sub_433D80();
char sub_4419E0();
char __cdecl sub_443C70(char a1, char a2, char a3);
HGDIOBJ sub_443C90();
HFONT sub_443CC0();
HGDIOBJ __cdecl sub_443DA0(unsigned __int8 a1);
HRGN sub_443DD0();
HGDIOBJ sub_443E30();
HGDIOBJ sub_443E60();
int sub_443EA0();
BOOL __cdecl sub_443ED0(int x, int y, LPCSTR lpString);
BOOL __cdecl sub_443F30(int x, int y, int a3);
BOOL __cdecl sub_443FC0(int a1, int a2, LPCSTR lpString);
BOOL __cdecl sub_444070(int a1, int a2, int a3);
int sub_444140();
int sub_4442B0();
char sub_444350();
void sub_446640();
char sub_4494D0();
int sub_44F4B0();
int sub_44F570();
int sub_44F630();
int sub_44F6F0();
BOOL __cdecl sub_44F7B0(char *a1);
int sub_4503C0();
int sub_455FD0();
int sub_4560D0();
void sub_4562F0();
int __cdecl sub_456330(_WORD *a1);
int __cdecl sub_456410(_WORD *a1);
int sub_4564F0();
int __cdecl sub_456530(int a1);
int sub_456570();
BOOL sub_4566F0();
char __cdecl sub_456920(char *a1, int a2, unsigned __int8 a3, char a4);
int __cdecl sub_456CE0(LPCSTR lpString, LPCSTR); // idb
int __cdecl sub_456F10(LPCSTR lpString, LPCSTR); // idb
int sub_457260();
signed int sub_4574E0();
signed int sub_457630();
char sub_457840();
int __cdecl sub_45DEE0(int a1);
char __cdecl sub_45E100(int a1);
int sub_45E2F0();
char __cdecl sub_45E3C0(int a1);
int sub_45E680();
void sub_45E6A0();
signed int __cdecl sub_45E7D0(unsigned int a1, int a2);
signed int __cdecl sub_45E870(unsigned int a1, int a2, int a3);
char __cdecl sub_45F2C0(int a1, int a2, int a3);
int *__cdecl sub_45F610(int a1, int a2, int a3, int a4, int *a5);
int __cdecl sub_464F70(int a1, int a2);
int __cdecl sub_465490(int a1, __int16 a2, __int16 a3);
__int16 __cdecl sub_466490(int a1, int a2, _WORD *a3);
char __cdecl sub_466510(int a1, unsigned int a2);
BOOL sub_466560();
BOOL sub_466580();
BOOL sub_4665A0();
int __cdecl sub_4665B0(int a1);
signed int sub_4665C0();
signed int __thiscall sub_4665F0(void *this);
int sub_466670();
char __cdecl sub_4666A0(LPCSTR lpMultiByteStr);
char __cdecl sub_466730(int a1, LPCSTR lpFileName);
int __thiscall sub_4667A0(void *this);
int sub_4667F0();
int sub_4668D0();
int __cdecl sub_466970(_DWORD *a1, _DWORD *a2, _DWORD *a3, int *a4);
MCIERROR __cdecl sub_4669F0(const char *a1);
MCIERROR __cdecl sub_466F20(unsigned __int8 *a1);
char __cdecl sub_467770(_BYTE *a1);
int __cdecl sub_467C10(_BYTE *a1);
signed int __cdecl sub_467CB0(int *a1);
char __cdecl sub_467DE0(int a1);
unsigned int __cdecl sub_468130(_BYTE *a1);
__int16 __cdecl sub_4681C0(_BYTE *a1);
char __cdecl sub_468270(int a1);
char __cdecl sub_4684B0(int a1);
signed int __cdecl sub_468500(_BYTE *a1);
char __cdecl sub_468640(_BYTE *a1);
signed int __cdecl sub_468FA0(_BYTE *a1);
int __cdecl sub_469210(int a1);
int __cdecl sub_469CA0(int a1);
int __cdecl sub_46A370(int a1);
int __cdecl sub_46A6F0(int a1);
int __cdecl sub_46B790(int a1);
signed int __cdecl sub_46BDD0(int a1);
int __cdecl sub_46BFE0(int *a1);
int __cdecl sub_46C0A0(_BYTE *a1);
int __cdecl sub_46C0F0(int *a1);
signed int __cdecl sub_46C3A0(int *a1);
int __cdecl sub_46C510(unsigned __int8 *a1);
char __cdecl sub_46C600(_BYTE *a1);
char __cdecl sub_46CEE0(int a1);
int __cdecl sub_46D090(int *a1);
int __cdecl sub_46D1C0(char *a1);
int __cdecl sub_46D290(int a1);
int __cdecl sub_46D380(int a1);
int __cdecl sub_46E050(int a1);
char __cdecl sub_46E420(int a1);
int *__cdecl sub_46E690(int a1);
LPCSTR __cdecl sub_46EC10(int a1);
char __cdecl sub_46F0D0(int a1);
int __cdecl sub_46F400(int a1, const char *a2);
int __cdecl sub_46F4A0(int a1);
int __cdecl sub_46F5D0(int a1, int a2);
int __cdecl sub_46F670(int a1, int a2);
int __cdecl sub_46F7A0(int a1);
void __cdecl sub_46F7D0(int a1, int a2, int a3);
int __cdecl sub_46FAA0(int a1);
int __cdecl sub_46FC00(int a1, int a2);
int __cdecl sub_46FC50(int a1, int a2, int a3);
int __cdecl sub_46FD80(int a1, int a2, int a3);
int sub_46FEB0();
int __cdecl sub_46FEF0(int a1);
int __cdecl sub_46FF20(int a1, int a2, char a3);
int __cdecl sub_4700B0(int a1);
int __cdecl sub_4701D0(int a1);
signed int sub_4702F0();
signed int __cdecl sub_470450(int a1);
__int16 sub_4704B0();
__int16 sub_4705B0();
__int16 sub_470630();
int sub_4706C0(); // weak
__int16 sub_470750();
int sub_4708C0();
__int16 sub_470A20();
__int16 sub_470B10();
__int16 sub_470C10();
__int16 sub_470CD0();
__int16 sub_470DD0();
int sub_470ED0(); // weak
__int16 sub_470FF0();
__int16 sub_471110();
__int16 sub_471230();
__int16 sub_471350();
__int16 sub_4713F0();
__int16 sub_4714B0();
__int16 sub_471680();
__int16 sub_471860();
__int16 sub_471A20();
__int16 sub_471BF0();
int sub_471C80(); // weak
int sub_471D80();
unsigned __int16 sub_471E80();
unsigned __int16 sub_472010();
int sub_4721A0(); // weak
int sub_472280(); // weak
__int64 sub_472360();
__int16 sub_4723F0();
_DWORD *sub_4724D0();
__int16 sub_472910();
__int16 sub_472B40();
__int16 __cdecl sub_473340(int a1);
int sub_473440();
char sub_4770A0();
int sub_4773E0();
void __cdecl sub_477400(signed int a1, signed int a2, __int16 a3);
void __cdecl sub_477460(signed int a1, signed int a2, int a3, int a4, __int16 a5);
void __cdecl sub_4775B0(signed int a1, signed int a2, int a3, int a4, __int16 a5);
void __cdecl sub_477600(signed int a1, signed int a2, int a3, int a4, __int16 a5, __int16 a6);
int __cdecl sub_477670(int a1);
signed int __cdecl sub_4779D0(int *a1);
unsigned int sub_4788B0();
signed int sub_478910();
FILE *sub_4789E0();
unsigned int sub_478B70();
int sub_478D10();
unsigned int sub_478DC0();
char sub_478E90();
char sub_4790D0();
signed int sub_479150();
signed int __cdecl sub_479190(int a1, int a2);
signed int sub_479230();
BOOL sub_479270();
signed int sub_479290();
signed int sub_4792D0();
SOCKET __cdecl sub_479300(int a1, char *cp);
SOCKET __cdecl sub_479360(int a1, char *cp);
SOCKET __cdecl sub_4793C0(HWND *a1, int a2);
SOCKET __cdecl sub_4795A0(HWND *a1, int a2);
SOCKET __cdecl sub_4796C0(HWND *a1, int a2);
// int __cdecl __setargv();
// int __thiscall __setargv_0(_DWORD); weak
int __cdecl sub_479790(int a1);
int sub_479840();
BOOL sub_479930();
signed int __cdecl sub_4799A0(HWND a1, DWORD a2, DWORD a3, DWORD a4);
LPDIRECTDRAW sub_479C50();
signed int __cdecl sub_479C90(HWND a1, DWORD a2, DWORD a3, DWORD a4);
int __cdecl sub_479E10(int *a1);
int sub_479E60();
// int __stdcall closesocket(SOCKET s);
// int __stdcall recv(SOCKET s, char *buf, int len, int flags);
// int __stdcall WSAAsyncSelect(SOCKET s, HWND hWnd, u_int wMsg, int lEvent);
// int __stdcall WSAStartup(WORD wVersionRequested, LPWSADATA lpWSAData);
// int __stdcall WSACleanup();
// HANDLE __stdcall WSAAsyncGetHostByName(HWND hWnd, u_int wMsg, const char *name, char *buf, int buflen);
// unsigned int __stdcall inet_addr(const char *cp);
// int __stdcall getsockname(SOCKET s, struct sockaddr *name, int *namelen);
// int __stdcall WSAGetLastError();
// int __stdcall connect(SOCKET s, const struct sockaddr *name, int namelen);
// u_short __stdcall htons(u_short hostshort);
// int __stdcall setsockopt(SOCKET s, int level, int optname, const char *optval, int optlen);
// SOCKET __stdcall socket(int af, int type, int protocol);
// int __stdcall send(SOCKET s, const char *buf, int len, int flags);
// HRESULT __stdcall DirectDrawCreate(GUID *lpGUID, LPDIRECTDRAW *lplpDD, IUnknown *pUnkOuter);
// HRESULT __stdcall DirectSoundCreate(LPGUID, LPDIRECTSOUND *, LPUNKNOWN);
// int sprintf(char *, const char *, ...);
// int _fpmath();
// int (__cdecl *_cfltcvt_init())(int, char *, int, size_t, int);
// signed __int64 __usercall _ftol@<edx:eax>(double a1@<st0>);
int __cdecl sub_479FCB(int a1);
// int __cdecl rand();
// int __cdecl fclose(FILE *);
// int __cdecl atol(const char *);
// int __cdecl atoi(const char *);
// int fscanf(FILE *, const char *, ...);
// int __cdecl fseek(FILE *, int, int);
// FILE *__cdecl _fsopen(const char *, const char *, int);
// FILE *__cdecl fopen(const char *, const char *);
// void __cdecl operator delete(void *); idb
// void *__cdecl operator new(unsigned int); idb
// void *__cdecl malloc(size_t);
// int __cdecl _nh_malloc(unsigned int a1, int a2);
// LPVOID __cdecl _heap_alloc(unsigned int a1);
// int _cinit(void); weak
// void __cdecl __noreturn exit(int);
// void __cdecl __noreturn _exit(int);
// int __cdecl doexit(UINT uExitCode, int, int); idb
// int __cdecl _strcmpi(const char *, const char *);
// int __cdecl remove(const char *);
// size_t __cdecl fwrite(const void *, size_t, size_t, FILE *);
// struct tm *__cdecl localtime(const time_t *);
// time_t __cdecl time(time_t *);
// int __cdecl _heapmin();
// void __cdecl free(void *);
// size_t __cdecl fread(void *, size_t, size_t, FILE *);
// int __cdecl fgetc(FILE *);
// char *__cdecl strncpy(char *, const char *, size_t);
// int __cdecl isspace(int);
// int __cdecl strncmp(const char *, const char *, size_t);
// int fprintf(FILE *, const char *, ...);
// void __noreturn start();
// void __cdecl __noreturn fast_error_exit(DWORD NumberOfBytesWritten); idb
// int __cdecl _flsbuf(int, FILE *);
// int __cdecl _output(FILE *, int, int); idb
// int __cdecl write_char(int, FILE *, int); idb
// int __cdecl write_multi_char(int, int, FILE *, int); idb
// int __cdecl write_string(int, int, FILE *, int); idb
// int __cdecl get_int_arg(_DWORD *a1);
// __int64 __cdecl get_int64_arg(_DWORD *a1);
// __int16 __cdecl get_short_arg(_DWORD *a1);
// unsigned int _setdefaultprecision();
// BOOL _ms_p5_test_fdiv();
// int _ms_p5_mp_test_fdiv();
// char __cdecl _forcdecpt(char *a1);
// char *__cdecl _cropzeros(char *a1);
// BOOL __cdecl _positive(double *a1);
// _DWORD *__cdecl _fassign(int a1, _DWORD *a2, int a3);
// _BYTE *__cdecl _cftoe(double *a1, _BYTE *a2, int a3, int a4);
// char *__cdecl _cftof(int a1, char *a2, size_t a3);
// int __cdecl _cftog(int, char *, size_t, int); idb
// _DWORD __cdecl _cftoe_g(_DWORD, _DWORD, _DWORD, _DWORD); weak
// char *__cdecl _cftof_g(int a1, char *a2, size_t a3);
// char *__cdecl _cfltcvt(int a1, char *a2, int a3, size_t a4, int a5);
// void __cdecl _shift(char *a1, int a2);
// int __cdecl _close(int);
// int __cdecl _freebuf(int a1);
// int __cdecl fflush(FILE *);
// signed int __cdecl _flush(_DWORD *a1);
signed int sub_47BAE1();
// signed int __cdecl flsall(int a1);
// int __cdecl _isctype(int, int);
// unsigned __int64 __stdcall _allmul(__int64 a1, __int64 a2);
// int __cdecl _input(FILE *, int, int); idb
// unsigned int __cdecl _hextodec(int a1);
// int __cdecl fgetc_0(FILE *);
// int __cdecl _un_inc(int, FILE *); idb
// int __cdecl _whiteout(int, FILE *); idb
// int __cdecl _lseek(int, int, int);
// int __cdecl ftell(FILE *);
// int __cdecl _openfile(char *, int, int, int); idb
// _DWORD *_getstream();
// BOOL __cdecl _callnewh(int a1);
// signed int __cdecl _heap_init(int a1);
// void *__sbh_heap_init();
// _DWORD __cdecl __sbh_find_block(_DWORD); weak
// _DWORD *__cdecl __sbh_free_block(_DWORD *a1, unsigned int a2);
// int __cdecl __sbh_alloc_block(int a1);
// char *__sbh_alloc_new_region();
// signed int __cdecl __sbh_alloc_new_group(_DWORD *a1);
// signed int __cdecl __sbh_resize_block(_DWORD *a1, int a2, int a3);
// LPVOID *__sbh_heapmin();
// int __cdecl tolower(int);
// _DWORD __cdecl _dosmaperr(_DWORD); weak
// int __cdecl _write(int, const void *, unsigned int);
// void *__cdecl memcpy(void *, const void *, size_t);
// int __tzset(void); weak
// _DWORD __cdecl _isindst(_DWORD); weak
// struct tm *__cdecl gmtime(const time_t *);
// _DWORD __cdecl __loctotime_t(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl _filbuf(FILE *);
// int __cdecl _read(int, void *, unsigned int);
// _DWORD __cdecl _stbuf(_DWORD); weak
// _DWORD __cdecl _ftbuf(_DWORD, _DWORD); weak
// int _wincmdln(void); weak
// int _setenvp(void); weak
// int _setargv(void); weak
// int __crtGetEnvironmentStringsA(void); weak
// int _ioinit(void); weak
// int _FF_MSGBANNER(void); weak
// int __cdecl _NMSG_WRITE(DWORD NumberOfBytesWritten); idb
// size_t __cdecl strlen(const char *);
// int __cdecl wctomb(char *, wchar_t);
// unsigned int __cdecl _controlfp(unsigned int, unsigned int);
// _DWORD __cdecl _ld12cvt(_DWORD, _DWORD, _DWORD); weak
int __cdecl sub_47FAB1(int a1, int a2);
int __cdecl sub_47FAC7(int a1, int a2);
int __cdecl sub_47FADD(int a1, int a2);
int __cdecl sub_47FB0A(int a1, int a2);
// char *__cdecl strcpy(char *, const char *);
// int __cdecl _fptostr(void *, int, int); idb
// _DWORD __cdecl _fltout(char); weak
// void *__cdecl memset(void *, int, size_t);
// void *__cdecl memcpy_0(void *, const void *, size_t);
// _DWORD __cdecl _free_osfhnd(_DWORD); weak
// int __cdecl _get_osfhandle(int);
// int __cdecl _commit(int);
// int __cdecl __crtGetStringTypeA(DWORD dwInfoType, LPCSTR lpSrcStr, int cchSrc, LPWORD lpCharType, UINT CodePage, LCID Locale, int); idb
// int __cdecl mbtowc(wchar_t *, const char *, size_t);
// int __cdecl ungetc(int, FILE *);
// int _sopen(const char *, int, int, ...);
// _DWORD __cdecl __strgtold12(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// char *__cdecl _itoa(int, char *, int);
// LSTATUS __stdcall RegCloseKey(HKEY hKey);
// LSTATUS __stdcall RegCreateKeyExA(HKEY hKey, LPCSTR lpSubKey, DWORD Reserved, LPSTR lpClass, DWORD dwOptions, REGSAM samDesired, const LPSECURITY_ATTRIBUTES lpSecurityAttributes, PHKEY phkResult, LPDWORD lpdwDisposition);
// LSTATUS __stdcall RegSetValueExA(HKEY hKey, LPCSTR lpValueName, DWORD Reserved, DWORD dwType, const BYTE *lpData, DWORD cbData);
// LSTATUS __stdcall RegOpenKeyExA(HKEY hKey, LPCSTR lpSubKey, DWORD ulOptions, REGSAM samDesired, PHKEY phkResult);
// HRESULT __stdcall DirectDrawCreate(GUID *lpGUID, LPDIRECTDRAW *lplpDD, IUnknown *pUnkOuter);
// HRESULT __stdcall DirectSoundCreate(LPGUID, LPDIRECTSOUND *, LPUNKNOWN);
// HFONT __stdcall CreateFontA(int cHeight, int cWidth, int cEscapement, int cOrientation, int cWeight, DWORD bItalic, DWORD bUnderline, DWORD bStrikeOut, DWORD iCharSet, DWORD iOutPrecision, DWORD iClipPrecision, DWORD iQuality, DWORD iPitchAndFamily, LPCSTR pszFaceName);
// BOOL __stdcall DeleteObject(HGDIOBJ ho);
// HRGN __stdcall CreateRectRgn(int x1, int y1, int x2, int y2);
// BOOL __stdcall TextOutA(HDC hdc, int x, int y, LPCSTR lpString, int c);
// COLORREF __stdcall SetTextColor(HDC hdc, COLORREF color);
// int __stdcall SetBkMode(HDC hdc, int mode);
// BOOL __stdcall GetTextExtentPoint32A(HDC hdc, LPCSTR lpString, int c, LPSIZE psizl);
// UINT __stdcall SetTextAlign(HDC hdc, UINT align);
// HGDIOBJ __stdcall SelectObject(HDC hdc, HGDIOBJ h);
// DWORD __stdcall GetTickCount();
// void __stdcall __noreturn ExitThread(DWORD dwExitCode);
// void __stdcall GlobalMemoryStatus(LPMEMORYSTATUS lpBuffer);
// HANDLE __stdcall CreateThread(LPSECURITY_ATTRIBUTES lpThreadAttributes, SIZE_T dwStackSize, LPTHREAD_START_ROUTINE lpStartAddress, LPVOID lpParameter, DWORD dwCreationFlags, LPDWORD lpThreadId);
// DWORD __stdcall GetFullPathNameA(LPCSTR lpFileName, DWORD nBufferLength, LPSTR lpBuffer, LPSTR *lpFilePart);
// void __stdcall GetSystemTime(LPSYSTEMTIME lpSystemTime);
// UINT __stdcall WinExec(LPCSTR lpCmdLine, UINT uCmdShow);
// int __stdcall lstrlenA(LPCSTR lpString);
// int __stdcall MultiByteToWideChar(UINT CodePage, DWORD dwFlags, LPCSTR lpMultiByteStr, int cbMultiByte, LPWSTR lpWideCharStr, int cchWideChar);
// BOOL __stdcall CloseHandle(HANDLE hObject);
// DWORD __stdcall WaitForSingleObject(HANDLE hHandle, DWORD dwMilliseconds);
// BOOL __stdcall SetEvent(HANDLE hEvent);
// HANDLE __stdcall HeapCreate(DWORD flOptions, SIZE_T dwInitialSize, SIZE_T dwMaximumSize);
// LPVOID __stdcall VirtualAlloc(LPVOID lpAddress, SIZE_T dwSize, DWORD flAllocationType, DWORD flProtect);
// BOOL __stdcall VirtualFree(LPVOID lpAddress, SIZE_T dwSize, DWORD dwFreeType);
// BOOL __stdcall HeapDestroy(HANDLE hHeap);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// DWORD __stdcall GetVersion();
// LPSTR __stdcall GetCommandLineA();
// void __stdcall GetStartupInfoA(LPSTARTUPINFOA lpStartupInfo);
// HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName);
// BOOL __stdcall HeapFree(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem);
// SIZE_T __stdcall HeapCompact(HANDLE hHeap, DWORD dwFlags);
// void __stdcall GetLocalTime(LPSYSTEMTIME lpSystemTime);
// DWORD __stdcall GetTimeZoneInformation(LPTIME_ZONE_INFORMATION lpTimeZoneInformation);
// BOOL __stdcall DeleteFileA(LPCSTR lpFileName);
// DWORD __stdcall GetLastError();
// void __stdcall __noreturn ExitProcess(UINT uExitCode);
// LPVOID __stdcall HeapAlloc(HANDLE hHeap, DWORD dwFlags, SIZE_T dwBytes);
// LPVOID __stdcall HeapReAlloc(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem, SIZE_T dwBytes);
// LPSTR __stdcall CharNextA(LPCSTR lpsz);
// LRESULT __stdcall SendMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// int __stdcall GetWindowTextA(HWND hWnd, LPSTR lpString, int nMaxCount);
// LPSTR __stdcall CharPrevA(LPCSTR lpszStart, LPCSTR lpszCurrent);
// BOOL __stdcall ShowWindow(HWND hWnd, int nCmdShow);
// void __stdcall PostQuitMessage(int nExitCode);
// BOOL __stdcall CloseClipboard();
// BOOL __stdcall UnhookWindowsHookEx(HHOOK hhk);
// BOOL __stdcall DestroyWindow(HWND hWnd);
// BOOL __stdcall SetWindowPos(HWND hWnd, HWND hWndInsertAfter, int X, int Y, int cx, int cy, UINT uFlags);
// int __stdcall MessageBoxA(HWND hWnd, LPCSTR lpText, LPCSTR lpCaption, UINT uType);
// BOOL __stdcall SetWindowTextA(HWND hWnd, LPCSTR lpString);
// LRESULT __stdcall DispatchMessageA(const MSG *lpMsg);
// HCURSOR __stdcall SetCursor(HCURSOR hCursor);
// LRESULT __stdcall DefWindowProcA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// SHORT __stdcall GetAsyncKeyState(int vKey);
// HCURSOR __stdcall LoadCursorA(HINSTANCE hInstance, LPCSTR lpCursorName);
// ATOM __stdcall RegisterClassExA(const WNDCLASSEXA *);
// HWND __stdcall CreateWindowExA(DWORD dwExStyle, LPCSTR lpClassName, LPCSTR lpWindowName, DWORD dwStyle, int X, int Y, int nWidth, int nHeight, HWND hWndParent, HMENU hMenu, HINSTANCE hInstance, LPVOID lpParam);
// HHOOK __stdcall SetWindowsHookExA(int idHook, HOOKPROC lpfn, HINSTANCE hmod, DWORD dwThreadId);
// HACCEL __stdcall LoadAcceleratorsA(HINSTANCE hInstance, LPCSTR lpTableName);
// int __stdcall ShowCursor(BOOL bShow);
// BOOL __stdcall UpdateWindow(HWND hWnd);
// BOOL __stdcall OpenClipboard(HWND hWndNewOwner);
// LONG __stdcall SetWindowLongA(HWND hWnd, int nIndex, LONG dwNewLong);
// BOOL __stdcall PeekMessageA(LPMSG lpMsg, HWND hWnd, UINT wMsgFilterMin, UINT wMsgFilterMax, UINT wRemoveMsg);
// BOOL __stdcall GetMessageA(LPMSG lpMsg, HWND hWnd, UINT wMsgFilterMin, UINT wMsgFilterMax);
// int __stdcall TranslateAcceleratorA(HWND hWnd, HACCEL hAccTable, LPMSG lpMsg);
// BOOL __stdcall TranslateMessage(const MSG *lpMsg);
// HWND __stdcall SetFocus(HWND hWnd);
// LRESULT __stdcall CallWindowProcA(WNDPROC lpPrevWndFunc, HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// HWND __stdcall GetFocus();
// HWND __stdcall GetForegroundWindow();
// HICON __stdcall LoadIconA(HINSTANCE hInstance, LPCSTR lpIconName);
// LONG __stdcall mmioSeek(HMMIO hmmio, LONG lOffset, int iOrigin);
// LONG __stdcall mmioRead(HMMIO hmmio, HPSTR pch, LONG cch);
// MMRESULT __stdcall mmioDescend(HMMIO hmmio, LPMMCKINFO pmmcki, const MMCKINFO *pmmckiParent, UINT fuDescend);
// MMRESULT __stdcall mmioClose(HMMIO hmmio, UINT fuClose);
// MMRESULT __stdcall mmioAscend(HMMIO hmmio, LPMMCKINFO pmmcki, UINT fuAscend);
// MMRESULT __stdcall mmioGetInfo(HMMIO hmmio, LPMMIOINFO pmmioinfo, UINT fuInfo);
// MCIERROR __stdcall mciSendCommandA(MCIDEVICEID mciId, UINT uMsg, DWORD_PTR dwParam1, DWORD_PTR dwParam2);
// MMRESULT __stdcall mmioAdvance(HMMIO hmmio, LPMMIOINFO pmmioinfo, UINT fuAdvance);
// MMRESULT __stdcall mmioSetInfo(HMMIO hmmio, LPCMMIOINFO pmmioinfo, UINT fuInfo);
// HMMIO __stdcall mmioOpenA(LPSTR pszFileName, LPMMIOINFO pmmioinfo, DWORD fdwOpen);
// int __stdcall WSAGetLastError();
// int __stdcall send(SOCKET s, const char *buf, int len, int flags);
// int __stdcall connect(SOCKET s, const struct sockaddr *name, int namelen);
// u_short __stdcall htons(u_short hostshort);
// int __stdcall setsockopt(SOCKET s, int level, int optname, const char *optval, int optlen);
// int __stdcall WSAStartup(WORD wVersionRequested, LPWSADATA lpWSAData);
// int __stdcall WSAAsyncSelect(SOCKET s, HWND hWnd, u_int wMsg, int lEvent);
// int __stdcall recv(SOCKET s, char *buf, int len, int flags);
// int __stdcall closesocket(SOCKET s);
// SOCKET __stdcall socket(int af, int type, int protocol);
// unsigned int __stdcall inet_addr(const char *cp);
// HANDLE __stdcall WSAAsyncGetHostByName(HWND hWnd, u_int wMsg, const char *name, char *buf, int buflen);
// int __stdcall getsockname(SOCKET s, struct sockaddr *name, int *namelen);
// int __stdcall WSACleanup();
// void __stdcall CoUninitialize();
// HRESULT __stdcall CoInitialize(LPVOID pvReserved);
// HRESULT __stdcall CoCreateInstance(const IID *const rclsid, LPUNKNOWN pUnkOuter, DWORD dwClsContext, const IID *const riid, LPVOID *ppv);

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN unk_483340; // weak
IID rclsid = { 3828804531u, 21071u, 4558u, { 159u, 83u, 0u, 32u, 175u, 11u, 167u, 112u } }; // idb
IID riid = { 1453877417u, 2772u, 4558u, { 176u, 58u, 0u, 32u, 175u, 11u, 167u, 112u } }; // idb
_UNKNOWN unk_483380; // weak
_UNKNOWN unk_483390; // weak
_UNKNOWN unk_4833A0; // weak
_UNKNOWN unk_4833B0; // weak
char aChrNumDAnimati[] = "Chr_num : %d,  Animation :  %d,  Direction :  %d,  Frame :  %d"; // idb
char aMapDXDYD[] = "Map : %d,  X :  %d,  Y :  %d"; // idb
char asc_485098[2] = " "; // weak
int (__cdecl *off_48509C[10])(int) =
{
  &sub_401D10,
  &sub_402090,
  &sub_403080,
  &sub_4042B0,
  &sub_405570,
  &sub_406960,
  &sub_4071A0,
  &sub_407FC0,
  &sub_408440,
  &sub_408490
}; // weak
int (__fastcall *off_4850C0)(_DWORD, _DWORD, _DWORD) = &sub_408490; // weak
int dword_4850C8[] = { 0 }; // weak
int dword_4850D0[] = { 0 }; // weak
int dword_4850D4[] = { 0 }; // weak
int dword_4850D8[1070] =
{
  0,
  4294967295,
  0,
  11,
  5,
  12,
  4294967295,
  0,
  11,
  5,
  12,
  4294967295,
  0,
  3,
  5,
  5,
  0,
  0,
  0,
  0,
  0,
  4294967295,
  0,
  5,
  5,
  9,
  3,
  0,
  7,
  2,
  8,
  4,
  0,
  7,
  1,
  8,
  4,
  0,
  7,
  1,
  9,
  5,
  0,
  8,
  3,
  9,
  11,
  0,
  14,
  4,
  15,
  3,
  0,
  6,
  4,
  7,
  14,
  0,
  24,
  4,
  28,
  9,
  0,
  12,
  4,
  14,
  7,
  0,
  11,
  1,
  14,
  9,
  0,
  13,
  4,
  14,
  5,
  0,
  13,
  4,
  14,
  6,
  0,
  8,
  2,
  10,
  7,
  0,
  10,
  4,
  11,
  4294967295,
  0,
  4294967295,
  0,
  0,
  2,
  0,
  5,
  3,
  6,
  4,
  0,
  7,
  3,
  9,
  7,
  0,
  11,
  3,
  13,
  3,
  0,
  6,
  4,
  8,
  6,
  0,
  10,
  3,
  11,
  17,
  0,
  21,
  4,
  24,
  5,
  0,
  9,
  5,
  10,
  4294967295,
  0,
  7,
  5,
  8,
  10,
  0,
  14,
  3,
  16,
  3,
  0,
  7,
  2,
  8,
  4,
  0,
  7,
  2,
  8,
  4294967295,
  0,
  11,
  4,
  12,
  5,
  0,
  9,
  1,
  10,
  5,
  0,
  9,
  3,
  10,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  6,
  0,
  10,
  4,
  11,
  3,
  0,
  5,
  4,
  10,
  7,
  0,
  11,
  3,
  12,
  12,
  0,
  16,
  4,
  18,
  7,
  0,
  11,
  1,
  12,
  7,
  0,
  11,
  3,
  12,
  7,
  0,
  11,
  4,
  12,
  5,
  0,
  8,
  2,
  9,
  4,
  0,
  8,
  4,
  15,
  4,
  0,
  7,
  1,
  8,
  7,
  0,
  11,
  2,
  12,
  4,
  0,
  8,
  5,
  9,
  8,
  0,
  11,
  4,
  12,
  8,
  0,
  13,
  5,
  14,
  6,
  0,
  10,
  4,
  12,
  4294967295,
  0,
  10,
  5,
  14,
  7,
  0,
  11,
  1,
  12,
  9,
  0,
  13,
  1,
  14,
  9,
  0,
  13,
  1,
  14,
  9,
  0,
  13,
  1,
  14,
  4294967295,
  0,
  1,
  5,
  1,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  4294967295,
  0,
  10,
  4,
  10,
  0,
  0,
  0,
  0,
  0,
  9,
  0,
  11,
  1,
  12,
  4,
  0,
  8,
  1,
  9,
  3,
  0,
  6,
  1,
  7,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  6,
  0,
  10,
  3,
  11,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0
}; // idb
int (__cdecl *off_486194)(int) = &sub_409520; // weak
int (__cdecl *off_4861E4[18])(int) =
{
  &sub_410DF0,
  &sub_412360,
  &sub_4122D0,
  &sub_4132E0,
  &sub_413380,
  &sub_413E60,
  &sub_4142D0,
  &sub_410B90,
  &sub_4145D0,
  &sub_414850,
  &sub_4148D0,
  &sub_413830,
  &sub_414A30,
  &sub_414D20,
  &sub_4150C0,
  &sub_4154B0,
  &sub_413D20,
  &sub_411AF0
}; // weak
CHAR aDirectsoundSet_0[] = "DirectSound SetPosition."; // idb
CHAR aDirectsoundSet[] = "DirectSound SetDopplerFactor."; // idb
CHAR Caption[] = "Error"; // idb
char aSoundsS[] = "sounds\\%s"; // idb
const CHAR byte_486284 = ''; // idb
CHAR aDirectSound[13] = "Direct Sound "; // idb
char aS_8[4] = "%s\n"; // idb
char aWaveNam[] = "wave.nam"; // idb
char aWorksDat[] = "Works.dat"; // idb
char aRb[] = "rb"; // idb
char aWorkdataDat[] = "Workdata.dat"; // idb
_UNKNOWN unk_4862D8; // weak
int dword_4862EC = 256; // weak
int dword_4862F0 = 1; // weak
char byte_4862F4 = '\xFF'; // weak
char byte_4862F5 = '\xFF'; // weak
char a20324812915[] = "203.248.129.15"; // idb
u_short hostshort = 7129u; // idb
void *off_486310 = &unk_486900; // weak
_UNKNOWN unk_486538; // weak
char asc_486908[20] =
{
  '/',
  '',
  'I',
  '',
  's',
  '',
  'C',
  '',
  '',
  '',
  '',
  '',
  'z',
  '',
  '',
  '',
  'G',
  '\0',
  '\0',
  '\0'
}; // idb
char asc_48691C[1] = "/"; // idb
char asc_486924[1] = "/"; // idb
char a237Ani[8] = "237.ani"; // weak
char aGama[] = "/GaMa"; // idb
char aS_1[4] = " %s "; // idb
char asc_486950[1] = "/"; // idb
char byte_486958[20] =
{
  '',
  'I',
  '',
  's',
  '',
  'C',
  '',
  '',
  '',
  '',
  '',
  'z',
  '',
  '',
  '',
  'G',
  '\0',
  '\0',
  '\0',
  '\0'
}; // idb
char asc_48696C[4] = " : "; // idb
_UNKNOWN unk_486970; // weak
_UNKNOWN unk_486988; // weak
char aS[] = "     %s"; // idb
_UNKNOWN unk_48699C; // weak
_UNKNOWN unk_4869A8; // weak
_UNKNOWN unk_4869B4; // weak
_UNKNOWN unk_4869E0; // weak
char aS_2[3] = "%s "; // idb
const CHAR byte_486A24 = ''; // idb
const CHAR byte_486A44 = ''; // idb
char cp[] = "211.20.178.193"; // idb
const CHAR byte_486AA4 = ''; // idb
const CHAR byte_486AD4 = ''; // idb
const CHAR byte_486AF4 = ''; // idb
char aErrorlogTxt[] = "errorlog.txt"; // idb
char aKeydataDat[] = "keydata.dat"; // idb
char aVerBin[] = "ver.bin"; // idb
char aWb[] = "wb"; // idb
const CHAR byte_486B3C = ''; // idb
const CHAR byte_486B7C = ''; // idb
CHAR CmdLine[] = "updater.exe"; // idb
char aTimeInt[] = "time.int"; // idb
char aPaletteInt[] = "palette.int"; // idb
char aRain2Int[] = "rain2.int"; // idb
char aRain1Int[] = "rain1.int"; // idb
char aWorldmap5Int[] = "worldmap5.int"; // idb
char aWorldmap4Int[] = "worldmap4.int"; // idb
char aWorldmap3Int[] = "worldmap3.int"; // idb
char aWorldmap2Int[] = "worldmap2.int"; // idb
char aWorldmap1Int[] = "worldmap1.int"; // idb
char aWorldmap0Int[] = "worldmap0.int"; // idb
char aMsgselectInt[] = "msgselect.int"; // idb
char aMsgsendbuttonI[] = "msgsendbutton.int"; // idb
char aMsgnewbuttonIn[] = "msgnewbutton.int"; // idb
char aPluspushInt[] = "pluspush.int"; // idb
char aPlusbuttonInt[] = "plusbutton.int"; // idb
char aTrademenuInt[] = "trademenu.int"; // idb
char aGivemenuInt[] = "givemenu.int"; // idb
char aBuymenuInt[] = "buymenu.int"; // idb
char aSellmenuInt[] = "sellmenu.int"; // idb
char aBankmenuInt[] = "bankmenu.int"; // idb
char aMsgmenuInt[] = "msgmenu.int"; // idb
char aNewsmenuInt[] = "newsmenu.int"; // idb
char aBuildmenuInt[] = "buildmenu.int"; // idb
char aGuildbankmenuI[] = "guildbankmenu.int"; // idb
char aGuildmenuInt[] = "guildmenu.int"; // idb
char aDmagicmenuInt[] = "dmagicmenu.int"; // idb
char aHmagicmenuInt[] = "hmagicmenu.int"; // idb
char aLootmenuInt[] = "lootmenu.int"; // idb
char aItemmenuInt[] = "itemmenu.int"; // idb
char aSkillmenuInt[] = "skillmenu.int"; // idb
char aStatusmenuInt[] = "statusmenu.int"; // idb
char aEnemyhpInt[] = "enemyhp.int"; // idb
char aDarkicon5Int[] = "darkicon5.int"; // idb
char aDarkicon4Int[] = "darkicon4.int"; // idb
char aDarkicon3Int[] = "darkicon3.int"; // idb
char aDarkicon2Int[] = "darkicon2.int"; // idb
char aDarkicon1Int[] = "darkicon1.int"; // idb
char aHolyicon6Int[] = "holyicon6.int"; // idb
char aHolyicon5Int[] = "holyicon5.int"; // idb
char aHolyicon4Int[] = "holyicon4.int"; // idb
char aHolyicon3Int[] = "holyicon3.int"; // idb
char aHolyicon2Int[] = "holyicon2.int"; // idb
char aHolyicon1Int[] = "holyicon1.int"; // idb
char aSkillogrepushI[] = "skillogrepush.int"; // idb
char aSkillogreInt[] = "skillogre.int"; // idb
char aSkillunnatural[] = "skillunnatural.int"; // idb
char aSkillnaturalIn[] = "skillnatural.int"; // idb
char aOneononechatIn[] = "oneononechat.int"; // idb
char aGuildchatInt[] = "guildchat.int"; // idb
char aGuardiconInt[] = "guardicon.int"; // idb
char aBarrackiconInt[] = "barrackicon.int"; // idb
char aLevelupInt[] = "levelup.int"; // idb
char aEmployeeInt[] = "employee.int"; // idb
char aUpgradebuttonI[] = "upgradebutton.int"; // idb
char aBuildbuttonInt[] = "buildbutton.int"; // idb
char aSendmoneyInt[] = "sendmoney.int"; // idb
char aInterupInt[] = "interup.int"; // idb
char aScrollInt[] = "scroll.int"; // idb
char aMenulightsmall[] = "menulightsmall.int"; // idb
char aMenulightmidIn[] = "menulightmid.int"; // idb
char aInterupnewsInt[] = "interupnews.int"; // idb
char aInterupguildIn[] = "interupguild.int"; // idb
char aInterupmagicIn[] = "interupmagic.int"; // idb
char aInterupitemInt[] = "interupitem.int"; // idb
char aInterupstatusI[] = "interupstatus.int"; // idb
char aWpbarInt[] = "wpbar.int"; // idb
char aMpbarInt[] = "mpbar.int"; // idb
char aHpbarInt[] = "hpbar.int"; // idb
char a244Ani[8] = "244.ani"; // weak
char a243Ani[8] = "243.ani"; // weak
char a090Ani[8] = "090.ani"; // weak
char a087Ani[8] = "087.ani"; // weak
char a086Ani[8] = "086.ani"; // weak
char a084Ani[8] = "084.ani"; // weak
char a083Ani[8] = "083.ani"; // weak
char a081Ani[8] = "081.ani"; // weak
char a080Ani[8] = "080.ani"; // weak
char a064Ani[8] = "064.ani"; // weak
char a063Ani[8] = "063.ani"; // weak
char a061Ani[8] = "061.ani"; // weak
char a060Ani[8] = "060.ani"; // weak
char a044Ani[8] = "044.ani"; // weak
char a043Ani[8] = "043.ani"; // weak
char a041Ani[8] = "041.ani"; // weak
char a040Ani[8] = "040.ani"; // weak
char a027Ani[8] = "027.ani"; // weak
char a026Ani[8] = "026.ani"; // weak
char a024Ani[8] = "024.ani"; // weak
char a023Ani[8] = "023.ani"; // weak
char a021Ani[8] = "021.ani"; // weak
char a020Ani[8] = "020.ani"; // weak
char a013Ani[8] = "013.ani"; // weak
char a012Ani[8] = "012.ani"; // weak
char a010Ani[8] = "010.ani"; // weak
char a009Ani[8] = "009.ani"; // weak
char a007Ani[8] = "007.ani"; // weak
char a006Ani[8] = "006.ani"; // weak
char a004Ani[8] = "004.ani"; // weak
char a003Ani[8] = "003.ani"; // weak
char a001Ani[8] = "001.ani"; // weak
char a000Ani[8] = "000.ani"; // weak
char aLoading2Int[] = "loading2.int"; // idb
char aLoading1Int[] = "loading1.int"; // idb
char aEff999Ani[11] = "Eff999.ani"; // weak
char aEff998Ani[11] = "Eff998.ani"; // weak
CHAR aSocketInitialE[] = "Socket Initial Error"; // idb
char aMapMemAllocPro[] = "Map mem alloc Process"; // idb
char aChrMemAllocPro[] = "Chr mem alloc Process"; // idb
CHAR ClassName[] = "edit"; // idb
CHAR aTheme02[] = "theme 02"; // idb
const CHAR Text = ''; // idb
const CHAR WindowName = ''; // idb
CHAR ValueName[] = "Path"; // idb
CHAR SubKey[] = "Software\\F4U"; // idb
CHAR FileName[] = "Fantasy4U.exe"; // idb
char a00011100000000[21] = "00011100000000000000"; // weak
char a00000000000000[21] = "00000000000000000000"; // weak
char byte_487550[8] = { '\x15', '\x13', '\x10', '\r', '\n', '\b', '\r', '\0' }; // idb
CHAR aMemoryAllocati[] = "Memory Allocation Error"; // idb
char aBindInfoProces[18] = "Bind Info process"; // weak
char aFileUnlockProc[20] = "file unlock process"; // weak
char aSourceDat[] = "Source.dat"; // idb
char aSourcedataDat[] = "Sourcedata.dat"; // idb
char aItemsDat[] = "items.dat"; // idb
char aItemInfoFile[15] = "Item Info file"; // weak
char aIconinfoDat[] = "iconinfo.dat"; // idb
char aTesticoninfoDa[17] = "testiconinfo.dat"; // weak
char aIconInfo[10] = "Icon Info"; // weak
char aMakeitemsDat[] = "Makeitems.dat"; // idb
char aMakeItemInfo[15] = "Make Item Info"; // weak
char a110Tbl[] = "110.tbl"; // idb
char a100Tbl[] = "100.tbl"; // idb
char a090Tbl[] = "090.tbl"; // idb
char a080Tbl[] = "080.tbl"; // idb
char a060Tbl[] = "060.tbl"; // idb
char a040Tbl[] = "040.tbl"; // idb
char a020Tbl[] = "020.tbl"; // idb
char a000Tbl[] = "000.tbl"; // idb
char a02d02d00Tga[] = "%02d%02d00.tga"; // idb
char a02d02d02dTga[] = "%02d%02d%02d.tga"; // idb
char aInitTilesProce[19] = "Init Tiles Process"; // weak
char aO02d02d00Int[] = "o%02d%02d00.int"; // idb
char aLoadWallObject[25] = "Load Wall Object Process"; // weak
char aOb04dInt[] = "ob%04d.int"; // idb
char aLoadObjectProc[20] = "Load Object Process"; // weak
char aCursorDInt[] = "cursor%d.int"; // idb
char aLoadCursorProc[20] = "Load Cursor Process"; // weak
char aLoadIntercutPr[22] = "Load Intercut process"; // weak
char aItem04dInt[] = "Item%04d.int"; // idb
char aIcon04dInt[] = "Icon%04d.int"; // idb
char a03dmapInt[] = "%03dmap.int"; // idb
char aLoadMapnamePro[21] = "Load mapname process"; // weak
char aIntershopTga[] = "intershop.tga"; // idb
char aInterbankTga[] = "interbank.tga"; // idb
char aIntertradeTga[] = "intertrade.tga"; // idb
char aTestintertrade[19] = "testintertrade.tga"; // weak
char aIntermessageTg[] = "intermessage.tga"; // idb
char aInternewsTga[] = "internews.tga"; // idb
char aInterbuildTga[] = "interbuild.tga"; // idb
char aInterguildTga[] = "interguild.tga"; // idb
char aInterdmagicTga[] = "interdmagic.tga"; // idb
char aInterhmagicTga[] = "interhmagic.tga"; // idb
char aInterlootTga[] = "interloot.tga"; // idb
char aInteritemTga[] = "interitem.tga"; // idb
char aInterskillTga[] = "interskill.tga"; // idb
char aInterstatusTga[] = "interstatus.tga"; // idb
char aInterdownTga[] = "interdown.tga"; // idb
char aLoadInterfaceP[23] = "Load Interface Process"; // weak
char aSkyTga[] = "sky.tga"; // idb
char aLoadingTga[] = "loading.tga"; // idb
char aTitlebackTga[] = "titleback.tga"; // idb
char aZarksalDTga[] = "zarksal%d.tga"; // idb
char aEyagiTga[] = "eyagi.tga"; // idb
char aLoadTitlesProc[20] = "Load Titles Process"; // weak
char aOwfaceDInt[] = "owface%d.int"; // idb
char aOmfaceDInt[] = "omface%d.int"; // idb
char aDwfaceDInt[] = "dwface%d.int"; // idb
char aDmfaceDInt[] = "dmface%d.int"; // idb
char aHwfaceDInt[] = "hwface%d.int"; // idb
char aChface03dInt[] = "chface%03d.int"; // idb
char aHmfaceDInt[] = "hmface%d.int"; // idb
char aFace03dInt[] = "face%03d.int"; // idb
char aFacetleInt[] = "facetle.int"; // idb
char aMakecursor2Int[] = "MakeCursor2.int"; // idb
char aMakecursor1Int[] = "MakeCursor1.int"; // idb
char aIconselectInt[] = "IconSelect.int"; // idb
char aFeatherbuttonI[] = "featherbutton.int"; // idb
char aCharacterbutto[] = "characterbutton.int"; // idb
char aSendpushInt[] = "sendpush.int"; // idb
char aDefaultpushInt[] = "defaultpush.int"; // idb
char aSelectpushInt[] = "selectpush.int"; // idb
char aQuitpushInt[] = "quitpush.int"; // idb
char aDeletepushInt[] = "deletepush.int"; // idb
char aStartpushInt[] = "startpush.int"; // idb
char aNewpushInt[] = "newpush.int"; // idb
char aMinuspushInt[] = "minuspush.int"; // idb
char aCpluspushInt[] = "cpluspush.int"; // idb
char aNewlightbutton[] = "newlightbutton.int"; // idb
char aNewcolorInt[] = "newcolor.int"; // idb
char aNewcharacterIn[] = "newcharacter.int"; // idb
char aSelectInt[] = "select.int"; // idb
char aLoginboxInt[] = "loginbox.int"; // idb
char aYesnoboxInt[] = "yesnobox.int"; // idb
char aMessageboxInt[] = "messagebox.int"; // idb
char aNameselectInt[] = "nameselect.int"; // idb
char aNewmenuInt[] = "newmenu.int"; // idb
char aCancelbuttonIn[] = "cancelbutton.int"; // idb
char aOkbuttonInt[] = "okbutton.int"; // idb
char aCountwinInt[] = "countwin.int"; // idb
char aNpcwindowdownI[] = "npcwindowdown.int"; // idb
char aNpcwindowmidIn[] = "npcwindowmid.int"; // idb
char aNpcwindowupInt[] = "npcwindowup.int"; // idb
char aResistpointbla[] = "resistpointblank.int"; // idb
char aResistpointInt[] = "resistpoint.int"; // idb
char aMenuDInt[] = "menu%d.int"; // idb
char aFantasylogoInt[] = "fantasylogo.int"; // idb
char aLoadMenusProce[19] = "Load Menus Process"; // weak
char aChrEff03dAni[] = "chr\\Eff%03d.ani"; // idb
char aLoadEffect03dP[] = "Load effect %03d Process"; // idb
char aChrS[] = "chr\\%s"; // idb
char aChrS_0[] = "Chr\\%s"; // idb
char aLoadAnimations[] = "Load Animations Process '%s' error"; // idb
CHAR aAnimationFileN[] = "Animation File not found"; // idb
char aLoadAnimations_0[24] = "Load Animations Process"; // weak
char aMapsDat[] = "Maps.dat"; // idb
char aMapdataDat[] = "Mapdata.dat"; // idb
char aLoadMapProcess[17] = "Load Map Process"; // weak
int dword_487C50[] = { 0 }; // weak
int dword_487C54[] = { 0 }; // weak
int dword_487C58[] = { 0 }; // weak
char byte_48818C[] = { '\0' }; // weak
LPCSTR dword_488190[37] =
{
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  (LPCSTR)0x150F0F00,
  (LPCSTR)0x17180B00,
  (LPCSTR)0x151A1517,
  (LPCSTR)0x150B181A,
  (LPCSTR)0x1910180F,
  (LPCSTR)0x10181518,
  (LPCSTR)0xB19191A,
  (LPCSTR)0xF191015,
  (LPCSTR)0x1616,
  NULL,
  (LPCSTR)0x181A1500,
  (LPCSTR)0x1515150D,
  (LPCSTR)0xB0D1815
}; // idb
char byte_488224[732] =
{
  '\x0F',
  '\x1A',
  '\x19',
  '\r',
  '\x1A',
  '\x1A',
  '\x15',
  '\x15',
  '\v',
  '\x15',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x11',
  '\x11',
  '\f',
  '\0',
  '\x12',
  '\x12',
  '\x12',
  '\x12',
  '\x12',
  '\x12',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '',
  '\0',
  '\x04',
  '\x04',
  '\x04',
  '\x03',
  '\x03',
  '\x02',
  '\t',
  '\a',
  '\x03',
  '\b',
  '\0',
  '\t',
  '\b',
  '\t',
  '\a',
  '\x06',
  '\b',
  '\0',
  '\n',
  '\b',
  '\x05',
  '\n',
  '\v',
  '\b',
  '\0',
  '\x04',
  '\0',
  '\x03',
  '\n',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\t',
  '\x03',
  '\t',
  '\n',
  '\n',
  '\t',
  '\0',
  '\0',
  '\t',
  '\n',
  '\a',
  '\x06',
  '\x06',
  '\x05',
  '\t',
  '\n',
  '\b',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '|',
  '',
  'H',
  '\0',
  't',
  '',
  'H',
  '\0',
  'l',
  '',
  'H',
  '\0',
  'd',
  '',
  'H',
  '\0',
  '\\',
  '',
  'H',
  '\0',
  'T',
  '',
  'H',
  '\0',
  'L',
  '',
  'H',
  '\0',
  'D',
  '',
  'H',
  '\0',
  '<',
  '',
  'H',
  '\0',
  '4',
  '',
  'H',
  '\0',
  ',',
  '',
  'H',
  '\0',
  ' ',
  '',
  'H',
  '\0',
  '\x18',
  '',
  'H',
  '\0',
  '\b',
  '',
  'H',
  '\0',
  '\0',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '\x80',
  '',
  'H',
  '\0',
  'x',
  '',
  'H',
  '\0',
  'p',
  '',
  'H',
  '\0',
  'h',
  '',
  'H',
  '\0',
  '\\',
  '',
  'H',
  '\0',
  'T',
  '',
  'H',
  '\0',
  'L',
  '',
  'H',
  '\0',
  'D',
  '',
  'H',
  '\0',
  '<',
  '',
  'H',
  '\0',
  '4',
  '',
  'H',
  '\0',
  ',',
  '',
  'H',
  '\0',
  '$',
  '',
  'H',
  '\0',
  '\x18',
  '',
  'H',
  '\0',
  '\x10',
  '',
  'H',
  '\0',
  '\b',
  '',
  'H',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '',
  '',
  'H',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // idb
int dword_488500[2] = { 500, 501 }; // idb
int dword_488508[718] =
{
  16,
  1,
  601,
  2,
  602,
  603,
  3,
  604,
  605,
  92,
  1401,
  98,
  1501,
  103,
  1601,
  137,
  1901,
  138,
  1903,
  1904,
  168,
  2101,
  170,
  169,
  191,
  2201,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  500,
  501,
  16,
  504,
  503,
  506,
  505,
  507,
  508,
  509,
  510,
  511,
  191,
  2201,
  2202,
  2203,
  2204,
  2205,
  2206,
  192,
  103,
  1601,
  104,
  1603,
  1604,
  105,
  106,
  1607,
  107,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  1,
  601,
  2,
  602,
  603,
  3,
  604,
  605,
  5,
  606,
  4,
  608,
  609,
  6,
  7,
  610,
  611,
  612,
  613,
  8,
  1100,
  1101,
  54,
  1103,
  1105,
  55,
  1107,
  1611,
  1609,
  1610,
  1612,
  1616,
  1614,
  108,
  1615,
  168,
  2101,
  170,
  169,
  180,
  173,
  171,
  172,
  4294967295,
  4294967295,
  29,
  800,
  30,
  802,
  21,
  701,
  22,
  703,
  56,
  1109,
  1108,
  57,
  1111,
  1113,
  58,
  137,
  1901,
  138,
  1903,
  1904,
  139,
  1906,
  1907,
  140,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  36,
  901,
  37,
  903,
  904,
  38,
  39,
  907,
  908,
  909,
  910,
  911,
  912,
  913,
  92,
  1401,
  93,
  1403,
  94,
  1405,
  1406,
  95,
  98,
  1501,
  1502,
  1503,
  1504,
  1505,
  1506,
  1909,
  1910,
  1911,
  141,
  156,
  142,
  1915,
  143,
  144,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  46,
  1001,
  1002,
  1003,
  1005,
  1004,
  1007,
  1006,
  1008,
  1009,
  1011,
  1010,
  1200,
  1201,
  1202,
  1203,
  1507,
  1508,
  99,
  1510,
  1511,
  100,
  174,
  175,
  176,
  2111,
  177,
  178,
  2114,
  2115,
  179,
  193,
  2209,
  2210,
  2211,
  195,
  2212,
  194,
  196,
  2216,
  2217,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  126,
  1701,
  1702,
  131,
  1801,
  1802,
  2000,
  2001,
  2002,
  210,
  219,
  227,
  262,
  270,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  81,
  1301,
  1302,
  1303,
  82,
  83,
  1305,
  1306,
  84,
  126,
  1701,
  1702,
  210,
  219,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  1308,
  1309,
  1310,
  85,
  1312,
  1313,
  1314,
  86,
  1316,
  131,
  1801,
  1802,
  227,
  235,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  126,
  1701,
  1702,
  1703,
  1704,
  1705,
  127,
  1707,
  1708,
  1709,
  241,
  247,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  131,
  1801,
  1802,
  1803,
  132,
  1805,
  1806,
  1807,
  133,
  1809,
  254,
  262,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  2000,
  2001,
  2002,
  2003,
  2004,
  2005,
  2006,
  2007,
  2008,
  2009,
  2010,
  2011,
  2012,
  2013,
  2014,
  270,
  279,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  335,
  336,
  337,
  338,
  339,
  340,
  341,
  2603,
  2604,
  2605,
  2606,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  2012,
  2013,
  2014,
  1807,
  133,
  1809,
  1707,
  1708,
  1709,
  1314,
  86,
  1316,
  194,
  196,
  2216,
  2217,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  300,
  301,
  302,
  304,
  306,
  2603,
  2604,
  392,
  393,
  396,
  368,
  369,
  372,
  297,
  298,
  299,
  289,
  290,
  291,
  292,
  293,
  294,
  410,
  411,
  412,
  413,
  414,
  415,
  416,
  417,
  418,
  419,
  420,
  421,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  414,
  422,
  385,
  335,
  336,
  338,
  340,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295,
  4294967295
}; // idb
int dword_489040 = 4294967295; // weak
char a00000000000000_0[44] = "0000000000000000000000000000000000000000000"; // weak
char byte_4897A8[120] =
{
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x02',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // idb
int dword_489820[120] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  1,
  1,
  1,
  1,
  1,
  0,
  0,
  0,
  0,
  0,
  0
}; // idb
int dword_489A00[121] =
{
  0,
  1,
  1,
  1,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  1,
  0,
  1,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  1,
  1,
  1,
  0,
  0,
  0,
  0,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  1,
  0,
  0,
  0,
  0
}; // idb
int dword_489BE4[] = { 1 }; // weak
_UNKNOWN unk_489BE8; // weak
_UNKNOWN unk_489D74; // weak
int dword_48A8B8[] = { 0 }; // weak
int dword_48A8BC[] = { 0 }; // weak
int dword_48A8C0[] = { 0 }; // weak
int dword_48A8C4[] = { 0 }; // weak
int dword_48A8C8[] = { 0 }; // weak
int dword_48A8CC[] = { 0 }; // weak
int dword_48A8D0[] = { 0 }; // weak
int dword_48A8D4[] = { 0 }; // weak
int dword_48A8D8[594] =
{
  0,
  3,
  5,
  131,
  0,
  0,
  0,
  0,
  0,
  0,
  7,
  114,
  216,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  130,
  172,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  13,
  52,
  314,
  0,
  0,
  0,
  0,
  0,
  0,
  2,
  16,
  87,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  14,
  14,
  276,
  0,
  0,
  0,
  0,
  0,
  0,
  6,
  104,
  34,
  0,
  0,
  0,
  0,
  0,
  0,
  12,
  155,
  46,
  0,
  0,
  0,
  0,
  0,
  0,
  112,
  89,
  113,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  113,
  35,
  117,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  24,
  101,
  24,
  0,
  0,
  0,
  0,
  0,
  0,
  23,
  2,
  17,
  0,
  0,
  0,
  0,
  0,
  0,
  29,
  33,
  312,
  0,
  0,
  0,
  0,
  0,
  0,
  30,
  31,
  77,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  110,
  56,
  41,
  0,
  0,
  0,
  0,
  0,
  0,
  25,
  73,
  24,
  0,
  0,
  0,
  0,
  0,
  0,
  26,
  156,
  45,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  33,
  156,
  200,
  0,
  0,
  0,
  0,
  0,
  0,
  32,
  16,
  159,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  46,
  13,
  312,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  107,
  151,
  140,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  37,
  16,
  16,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  50,
  156,
  287,
  0,
  0,
  0,
  0,
  0,
  0,
  49,
  22,
  211,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  116,
  122,
  147,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  104,
  63,
  143,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  72,
  113,
  300,
  0,
  0,
  0,
  0,
  0,
  0,
  106,
  104,
  219,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0
}; // idb
int dword_48B230[324] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  111,
  76,
  133,
  0,
  0,
  0,
  0,
  0,
  0,
  80,
  72,
  254,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  62,
  30,
  3,
  0,
  0,
  0,
  0,
  0,
  0,
  82,
  24,
  266,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  70,
  45,
  4,
  88,
  90,
  313,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  73,
  126,
  4,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  114,
  108,
  173,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  80,
  77,
  36,
  0,
  0,
  0,
  0,
  0,
  0,
  108,
  100,
  205,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  95,
  142,
  268,
  0,
  0,
  0,
  0,
  0,
  0,
  94,
  2,
  187,
  0,
  0,
  0,
  0,
  0,
  0,
  109,
  71,
  197,
  0,
  0,
  0,
  0,
  0,
  0,
  103,
  18,
  210,
  0,
  0,
  0,
  0,
  0,
  0,
  99,
  19,
  267,
  0,
  0,
  0,
  0,
  0,
  0,
  98,
  31,
  266,
  102,
  127,
  312,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  99,
  128,
  31,
  0,
  0,
  0,
  0,
  0,
  0,
  97,
  70,
  72
}; // idb
int dword_48B740[150] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  57,
  70,
  130,
  115,
  152,
  167,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  63,
  156,
  40,
  0,
  0,
  0,
  0,
  0,
  0,
  44,
  3,
  107,
  0,
  0,
  0,
  0,
  0,
  0,
  96,
  79,
  181,
  0,
  0,
  0,
  0,
  0,
  0,
  89,
  79,
  181,
  0,
  0,
  0,
  0,
  0,
  0,
  69,
  79,
  181,
  0,
  0,
  0,
  0,
  0,
  0,
  28,
  79,
  181,
  0,
  0,
  0,
  0,
  0,
  0,
  20,
  79,
  181,
  0,
  0,
  0,
  0,
  0,
  0,
  15,
  79,
  181,
  0,
  0,
  0,
  0,
  0,
  0,
  85,
  7,
  241,
  0,
  0,
  0,
  0,
  0,
  0,
  104,
  7,
  241,
  0,
  0,
  0,
  0,
  0,
  0,
  52,
  7,
  241,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0
}; // idb
int dword_48B998[] = { 20 }; // weak
int dword_48B99C[] = { 112 }; // weak
_UNKNOWN unk_48B9A0; // weak
int dword_48BA58[] = { 0 }; // weak
_UNKNOWN unk_48BA5C; // weak
_UNKNOWN unk_48BA60; // weak
char byte_48BC38[120] =
{
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\x01',
  '\0',
  '\0',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\0',
  '\0',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\x02',
  '\0',
  '\0',
  '\0',
  '\x02',
  '\x02',
  '\x02',
  '\x01',
  '\x01',
  '\x02',
  '\0',
  '\0',
  '\0',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\0',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\x02',
  '\0',
  '\0',
  '\x02',
  '\0',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\x02',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0'
}; // idb
int dword_48BCB0[] = { 0 }; // weak
int dword_48BF40[236] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  0,
  0,
  0,
  1,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  1,
  1,
  0,
  0,
  0,
  1,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0
}; // idb
char byte_48C2F0[84] =
{
  '\0',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\a',
  '\b',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\t',
  '\n',
  '\v',
  '\f',
  '\r',
  '\x0E',
  '\x0F',
  '\x10',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\x11',
  '\x12',
  '\x13',
  '\x14',
  '\x15',
  '\x16',
  '\x17',
  '\x18',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\x19',
  '\x1A',
  '\x1B',
  '\x1C',
  '\x1D',
  '\x1E',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\x1F',
  ' ',
  '!',
  '\"',
  '#',
  '$',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '%',
  '&',
  '\'',
  '(',
  ')',
  '*',
  '+',
  '\xFF',
  '\xFF'
}; // idb
_UNKNOWN unk_48C34A; // weak
char byte_48C34C[72] =
{
  '\0',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\a',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\b',
  '\t',
  '\n',
  '\v',
  '\f',
  '\r',
  '\x0E',
  '\x0F',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\x10',
  '\x11',
  '\x12',
  '\x13',
  '\x14',
  '\x15',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\x16',
  '\x17',
  '\x18',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\xFF',
  '\x19',
  '\x1A',
  '\x1B',
  '\x1C',
  '\x1D',
  '\x1E',
  '\x1F',
  ' ',
  '!',
  '\"',
  '\xFF',
  '\xFF'
}; // idb
_UNKNOWN unk_48C397; // weak
char byte_48C398[16] =
{
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\x01',
  '\x01',
  '\x01',
  '\x02',
  '\0',
  '\0'
}; // idb
char byte_48C3A8[8] = { '\t', '\b', '\b', '\x06', '\x06', '\a', '\0', '\0' }; // idb
char byte_48C3B0[8] = { '\b', '\b', '\x06', '\x03', '\n', '\0', '\0', '\0' }; // idb
char byte_48C3B8[8] = { '\t', '\x03', '\x02', '\x02', '\x02', '\x02', '\0', '\0' }; // idb
char byte_48C3C0[8] = { '\x02', '\x02', '\x02', '\0', '\x02', '\0', '\0', '\0' }; // idb
int dword_48C3C8 = 4294967295; // weak
_UNKNOWN unk_48C5F0; // weak
_UNKNOWN unk_48C60C; // weak
_UNKNOWN unk_48C624; // weak
_UNKNOWN unk_48C640; // weak
_UNKNOWN unk_48C658; // weak
_UNKNOWN unk_48C670; // weak
_UNKNOWN unk_48C68C; // weak
_UNKNOWN unk_48C6A4; // weak
_UNKNOWN unk_48C6BC; // weak
_UNKNOWN unk_48C6D4; // weak
_UNKNOWN unk_48C6EC; // weak
_UNKNOWN unk_48C6F8; // weak
_UNKNOWN unk_48C710; // weak
_UNKNOWN unk_48C724; // weak
char byte_48C740 = ''; // idb
char a03dMap[] = "%03d.map"; // idb
CHAR aTheme09[] = "theme 09"; // idb
CHAR aTheme08[] = "theme 08"; // idb
char aTheme07[9] = "theme 07"; // weak
char aTheme06[9] = "theme 06"; // weak
char aTheme05[9] = "theme 05"; // weak
char aTheme04[9] = "theme 04"; // weak
char aTheme03[9] = "theme 03"; // weak
int dword_48C7B0 = 4294967295; // weak
char a03dAni[] = "%03d.ani"; // idb
CHAR aMapChangeError[] = "MAP CHANGE ERROR"; // idb
char aS_5[3] = "%s "; // idb
char aS_4[3] = "%s "; // idb
char aS_3[3] = "%s "; // idb
char byte_48C80C = ''; // idb
char byte_48C824 = ''; // idb
_UNKNOWN unk_48C840; // weak
_UNKNOWN unk_48C864; // weak
_UNKNOWN unk_48C880; // weak
_UNKNOWN unk_48C890; // weak
_UNKNOWN unk_48C8AC; // weak
char aLastHit[9] = "Last Hit"; // weak
_UNKNOWN unk_48C8D4; // weak
_UNKNOWN unk_48C8E4; // weak
_UNKNOWN unk_48C8F4; // weak
_UNKNOWN unk_48C904; // weak
_UNKNOWN unk_48C924; // weak
_UNKNOWN unk_48C934; // weak
_UNKNOWN unk_48C944; // weak
_UNKNOWN unk_48C958; // weak
_UNKNOWN unk_48C974; // weak
char aRequestConnect[28] = "REQUEST CONNECT MAIN SERVER"; // weak
char aMainServerLogi[26] = "MAIN SERVER LOGIN MESSAGE"; // weak
char aWaitingPass[13] = "WAITING PASS"; // weak
char aTmpExe[] = "tmp.exe"; // idb
CHAR aPatchError[] = "Patch Error !!"; // idb
char aS_0[] = "%s"; // idb
char aWorkS[8] = "Work\\%s"; // weak
char aSourceS[10] = "Source\\%s"; // weak
char aSoundsS_0[10] = "Sounds\\%s"; // weak
char aMapS[7] = "Map\\%s"; // weak
CHAR aDataError[] = "Data error"; // idb
CHAR aError_1[] = "error"; // idb
CHAR aFileSizeNotMat[] = "File Size Not Matching"; // idb
CHAR aPatching[] = "PATCHING"; // idb
char aWaitingPatch[14] = "WAITING PATCH"; // weak
CHAR aWaitingLogin[] = "WAITING LOGIN"; // idb
CHAR aError_0[] = "ERROR"; // idb
const CHAR byte_48CA78 = ''; // idb
const CHAR byte_48CA88 = ''; // idb
const CHAR byte_48CAAC = ''; // idb
_UNKNOWN unk_48CAEC; // weak
_UNKNOWN unk_48CB14; // weak
_UNKNOWN unk_48CB40; // weak
_UNKNOWN unk_48CB64; // weak
_UNKNOWN unk_48CB78; // weak
_UNKNOWN unk_48CBA0; // weak
_UNKNOWN unk_48CBAC; // weak
LPCSTR off_48CBC0 = &unk_48DC44; // idb
void *off_48CCE0 = &unk_FFFFFF; // weak
int dword_48CCE4 = 4294967295; // weak
int dword_48CCE8[] = { 4294967295 }; // weak
int dword_48CCEC[78] =
{
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295
}; // idb
int dword_48CE28[] = { 4294967295 }; // weak
int dword_48CE2C[] = { 0 }; // weak
_UNKNOWN unk_48CE30; // weak
_UNKNOWN unk_48CEA0; // weak
_UNKNOWN unk_48CEA4; // weak
_UNKNOWN unk_48CEA8; // weak
int dword_48CEC8[] = { 4294967295 }; // weak
int dword_48CECC[28] =
{
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295,
  0,
  4294967295
}; // idb
_UNKNOWN unk_48CF40; // weak
_UNKNOWN unk_48CF44; // weak
_UNKNOWN unk_48CF48; // weak
int dword_48CF68 = 4294967295; // weak
int dword_48CF6C = 4294967295; // weak
int dword_48CF70 = 4294967295; // weak
int dword_48CF74 = 4294967295; // weak
int dword_48CF78 = 4294967295; // weak
int dword_48CF7C = 4294967295; // weak
int dword_48CF80 = 4294967295; // weak
int dword_48CF84 = 4294967295; // weak
int dword_48CF88 = 4294967295; // weak
int dword_48CF8C = 4294967295; // weak
int dword_48CF90 = 4294967295; // weak
int dword_48CF94 = 4294967295; // weak
int dword_48CF98 = 100; // weak
int dword_48CF9C = 4294967295; // weak
int dword_48CFA0 = 1; // weak
LPCSTR off_48CFA4 = &unk_48D724; // idb
LPCSTR off_48CFC0 = &unk_48D6E4; // idb
int dword_48CFC8 = 2; // weak
LPCSTR off_48CFD0 = &unk_48D6D4; // idb
char byte_48CFD4[] = { '\x0F' }; // weak
char byte_48CFD5[] = { '\x0F' }; // weak
char byte_48CFD6[] = { '\x15' }; // weak
char byte_48CFD7[] = { '\x0F' }; // weak
char byte_48CFD8[] = { '\x0F' }; // weak
char byte_48CFD9[] = { '\x0F' }; // weak
char byte_48CFDA[] = { '\x0F' }; // weak
int dword_48D600 = 4294967295; // weak
char byte_48D604 = '\x03'; // weak
char byte_48D605 = '\x03'; // weak
_UNKNOWN unk_48D6EC; // weak
_UNKNOWN unk_48D6F4; // weak
_UNKNOWN unk_48D710; // weak
_UNKNOWN unk_48D718; // weak
_UNKNOWN unk_48D724; // weak
const CHAR pszFaceName = ''; // idb
_UNKNOWN unk_48DC5C; // weak
_UNKNOWN unk_48DC74; // weak
_UNKNOWN unk_48DC80; // weak
_UNKNOWN unk_48DC8C; // weak
char aD_1[] = "%+d%%"; // idb
char aD_2[] = "%d"; // idb
char aD_0[] = "%+d%"; // idb
char off_48DCB4[] = { '%', '+', 'd', '\0' }; // idb
char aDGold[] = "[%d Gold]"; // idb
const CHAR byte_48DCC4 = ''; // idb
const CHAR byte_48DCCC = ''; // idb
const CHAR byte_48DCD4 = ''; // idb
const CHAR byte_48DCDC = ''; // idb
const CHAR byte_48DCE4 = ''; // idb
const CHAR byte_48DCEC = ''; // idb
const CHAR byte_48DCF4 = ''; // idb
const CHAR byte_48DCFC = ''; // idb
const CHAR byte_48DD04 = ''; // idb
const CHAR byte_48DD0C = ''; // idb
const CHAR byte_48DD24 = ''; // idb
char aSD[] = "%s [%d]"; // idb
const CHAR byte_48DD40 = ''; // idb
_UNKNOWN unk_48DD4C; // weak
const CHAR byte_48DD60 = ''; // idb
char byte_48DD74 = ''; // idb
char aSDGold[] = "%s [%d Gold]"; // idb
const CHAR byte_48DDA4 = ''; // idb
_UNKNOWN unk_48DDAC; // weak
char asc_48DDC4[36] = "-----------------------------------"; // weak
const CHAR byte_48DDE8 = ''; // idb
const CHAR byte_48DE04 = ''; // idb
const CHAR byte_48DE14 = ''; // idb
CHAR aOk[3] = "OK"; // idb
const CHAR byte_48DE3C = ''; // idb
const CHAR byte_48DE70 = ''; // idb
const CHAR byte_48DE84 = ''; // idb
const CHAR byte_48DE88 = ''; // idb
const CHAR byte_48DE8C = ''; // idb
char aFromS02d02d02d[24] = "From:'%s' %02d/%02d %02d"; // idb
char a02d02d02d[14] = "%02d/%02d %02d"; // idb
const CHAR byte_48DEDC = ''; // idb
char byte_48DEE8 = ''; // idb
char byte_48DEF8 = ''; // idb
char byte_48DF04 = ''; // idb
char byte_48DF10 = ''; // idb
char byte_48DF20 = ''; // idb
char byte_48DF30 = ''; // idb
char byte_48DF3C = ''; // idb
char byte_48DF4C = ''; // idb
char byte_48DF5C = ''; // idb
char byte_48DF68 = ''; // idb
char byte_48DF74 = ''; // idb
char byte_48DF80 = ''; // idb
char byte_48DF8C = ''; // idb
char byte_48DF98 = ''; // idb
const CHAR byte_48DFA4 = ''; // idb
const CHAR byte_48DFAC = ''; // idb
char aDD_0[] = "%d / %d"; // idb
char aDD[] = "%d(%d%%)"; // idb
_UNKNOWN unk_48DFCC; // weak
char off_48DFDC[] = { 'F', '%', 'd', '\0' }; // idb
char byte_48DFE0 = ''; // idb
char aD00[] = " %d:00"; // idb
const CHAR byte_48DFFC = ''; // idb
const CHAR byte_48E004 = ''; // idb
char a02d[4] = "%02d"; // idb
char off_48E024[] = { '%', 's', '_', '\0' }; // idb
char aTestVersionDD[] = "Test version %d.%d"; // idb
_UNKNOWN unk_48E03C; // weak
_UNKNOWN unk_48E048; // weak
_UNKNOWN unk_48E04C; // weak
const CHAR byte_48E050 = ''; // idb
const CHAR byte_48E06C = ''; // idb
char byte_48E0A8 = ''; // idb
const CHAR byte_48E0C4 = ''; // idb
char byte_48E0F4 = ''; // idb
const CHAR byte_48E110 = ''; // idb
const CHAR byte_48E140 = ''; // idb
const CHAR byte_48E170 = ''; // idb
const CHAR byte_48E194 = ''; // idb
CHAR aId_1[3] = "ID "; // idb
const CHAR byte_48E1C4 = ''; // idb
const CHAR byte_48E1D8 = ''; // idb
char aNoname[] = "noname"; // idb
const CHAR byte_48E1F4 = ''; // idb
const CHAR byte_48E204 = ''; // idb
const CHAR byte_48E218 = ''; // idb
const CHAR byte_48E230 = ''; // idb
const CHAR byte_48E27C = ''; // idb
_UNKNOWN unk_48E2BC; // weak
_UNKNOWN unk_48E2E4; // weak
_UNKNOWN unk_48E30C; // weak
_UNKNOWN unk_48E33C; // weak
_UNKNOWN unk_48E37C; // weak
_UNKNOWN unk_48E3B8; // weak
_UNKNOWN unk_48E3E8; // weak
_UNKNOWN unk_48E3F8; // weak
const CHAR byte_48E410 = ''; // idb
const CHAR byte_48E42C = ''; // idb
char a21120178197[15] = "211.20.178.197"; // weak
char a21120178196[15] = "211.20.178.196"; // weak
char a21120178198[15] = "211.20.178.198"; // weak
char a2021431525[14] = "202.143.152.5"; // weak
char a2112017842[14] = "211.20.178.42"; // weak
char a2112017841[14] = "211.20.178.41"; // weak
char a2112017844[14] = "211.20.178.44"; // weak
CHAR aTestServer[] = "Test Server"; // idb
const CHAR byte_48E4D0 = ''; // idb
const CHAR byte_48E4E0 = ''; // idb
const CHAR byte_48E4EC = ''; // idb
const CHAR byte_48E4F8 = ''; // idb
char aD[] = "%d%%"; // idb
const CHAR byte_48E510 = ''; // idb
const CHAR byte_48E520 = ''; // idb
const CHAR byte_48E528 = ''; // idb
const CHAR byte_48E534 = ''; // idb
_UNKNOWN unk_48E564; // weak
const CHAR byte_48E568 = ''; // idb
const CHAR byte_48E588 = ''; // idb
const CHAR byte_48E598 = ''; // idb
const CHAR byte_48E5D0 = ''; // idb
CHAR aId_0[3] = "ID "; // idb
const CHAR byte_48E60C = ''; // idb
const CHAR byte_48E63C = ''; // idb
const CHAR byte_48E668 = ''; // idb
unsigned __int8 byte_48E688[36] =
{
  177u,
  75u,
  189u,
  88u,
  189u,
  84u,
  187u,
  123u,
  191u,
  249u,
  187u,
  126u,
  161u,
  67u,
  189u,
  208u,
  177u,
  113u,
  173u,
  171u,
  191u,
  233u,
  164u,
  74u,
  189u,
  84u,
  187u,
  123u,
  177u,
  75u,
  189u,
  88u,
  161u,
  73u,
  0u,
  0u
}; // idb
const CHAR byte_48E6AC = ''; // idb
char byte_48E6C0[16] = { '', '', '', '', '', 'J', '', 'K', '', 'X', '', 'I', '\0', '\0', '\0', '\0' }; // idb
CHAR aId[3] = "ID "; // idb
char aHotkeyBin[] = "hotkey.bin"; // idb
char aRt[] = "rt"; // idb
char a03d[] = "%03d\n"; // idb
char aWt[] = "wt"; // idb
char byte_48E728[56] =
{
  '\x02',
  '\x01',
  '\x01',
  '\x01',
  '\0',
  '\x01',
  '\x02',
  '\x01',
  '\0',
  '\0',
  '\x02',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\x02',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\x01',
  '\x01',
  '\0',
  '\x01',
  '\x01',
  '\0',
  '\0',
  '\x01',
  '\x02',
  '\x01',
  '\x01',
  '\x02',
  '\x01',
  '\x02',
  '\0'
}; // idb
char byte_48E760[180] =
{
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\a',
  '\b',
  '\t',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\a',
  '\b',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\a',
  '\b',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\a',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\a',
  '\b',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\a',
  '\b',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\t',
  '\n',
  '\v',
  '\x01',
  '\x02',
  '\x03',
  '\x04',
  '\x05',
  '\x06',
  '\a',
  '\b',
  '\t',
  '\n',
  '\0',
  '\x03',
  '\x06',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x03',
  '\x06',
  '\t',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x05',
  '\x06',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x03',
  '\x06',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x03',
  '\x06',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x03',
  '\x06',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x03',
  '\x06',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x03',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x03',
  '\x06',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\x05',
  '\x06',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // idb
char byte_48E814 = ''; // idb
_UNKNOWN unk_48E830; // weak
_UNKNOWN unk_48E860; // weak
_UNKNOWN unk_48E87C; // weak
_UNKNOWN unk_48E890; // weak
_UNKNOWN unk_48E8AC; // weak
_UNKNOWN unk_48E8D4; // weak
_UNKNOWN unk_48E8F8; // weak
_UNKNOWN unk_48E920; // weak
char aS_6[3] = "%s "; // idb
_UNKNOWN unk_48E948; // weak
_UNKNOWN unk_48E954; // weak
_UNKNOWN unk_48E974; // weak
_UNKNOWN unk_48E98C; // weak
char aS_7[3] = "%s "; // idb
char byte_48E9B8 = ''; // idb
_UNKNOWN unk_48E9E0; // weak
_UNKNOWN unk_48E9F4; // weak
char byte_48EA08 = ''; // idb
char byte_48EA24 = ''; // idb
char byte_48EA3C = ''; // idb
char aAt[3] = "at"; // idb
char off_48EA54[] = { '+', '%', 'd', '\0' }; // idb
_UNKNOWN unk_48EA58; // weak
_UNKNOWN unk_48EA6C; // weak
_UNKNOWN unk_48EA80; // weak
_UNKNOWN unk_48EA94; // weak
_UNKNOWN unk_48EAA0; // weak
char aD_3[4] = " %d "; // idb
char aD_4[4] = " %d "; // idb
const CHAR byte_48EAF8 = ''; // idb
int dword_48EB10 = 2162945; // weak
int dword_48EB14 = 800; // weak
char byte_48EB20 = ''; // idb
char byte_48EB5C = ''; // idb
_UNKNOWN unk_48EB8C; // weak
char byte_48EBC8 = ''; // idb
char a09dTga[] = "%09d.tga"; // idb
char aScrDat[] = "Scr.dat"; // idb
char aScrdataDat[] = "Scrdata.dat"; // idb
char aScr03dBin[] = "scr%03d.bin"; // idb
char aScrtestDat[] = "ScrTest.dat"; // idb
char aScrtestdataDat[] = "ScrTestdata.dat"; // idb
int dword_48EC4C = 1; // weak
int dword_48EC50 = 1; // weak
CHAR aDirectdrawCoop[] = "DirectDraw Cooperative."; // idb
CHAR aLockError[] = "lock error"; // idb
CHAR aBacksurfaceIni[] = "BackSurface Initial."; // idb
CHAR aPrimarysurface[] = "PrimarySurface Initial."; // idb
CHAR aDirectdrawInit[] = "DirectDraw Initial."; // idb
int dword_48ECD0 = 1; // weak
_UNKNOWN unk_48F510; // weak
_UNKNOWN unk_48F528; // weak
int dword_48F960 = 0; // weak
int dword_48F964 = 0; // weak
int dword_48FA68 = 0; // weak
char byte_48FA6C = '\0'; // weak
int dword_48FA74 = 0; // weak
int dword_48FA78 = 0; // weak
int dword_48FA7C = 0; // weak
int dword_48FA80 = 0; // weak
int dword_48FAB8 = 0; // weak
int dword_48FABC = 0; // weak
int dword_48FAC8[216] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0
}; // idb
int dword_48FE28 = 0; // weak
LPDIRECTSOUND dword_48FE2C = NULL; // idb
int dword_48FE30 = 0; // weak
int dword_48FE38 = 0; // weak
int dword_48FE78 = 0; // weak
int dword_48FE7C = 0; // weak
int dword_48FE80[200] =
{
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  
}; // idb
int dword_4901A0[200]; // idb
char byte_4904C0[52000]; // idb
int dword_49CFE0; // weak
char byte_49CFF0; // weak
HACCEL hAccTable; // idb
void *dword_49CFF8; // idb
int dword_49D000; // weak
WNDPROC lpPrevWndFunc; // idb
FILE *dword_49D008; // idb
int dword_49D00C; // weak
HWND hWndParent; // idb
HWND hWnd; // idb
int len; // idb
HWND dword_49D01C; // idb
HWND dword_49D020; // idb
int dword_49D024; // weak
HWND dword_49D028; // idb
int dword_49D02C; // weak
HWND dword_49D030; // idb
HANDLE hObject; // idb
int dword_49D038; // weak
int dword_49D03C; // weak
HANDLE hEvent; // idb
size_t dword_49D044; // idb
DWORD ThreadId; // idb
HHOOK hhk; // idb
int dword_49D050; // weak
int dword_49D054; // weak
int dword_49D058; // weak
int dword_49D05C; // weak
int dword_49D060; // weak
int dword_49D064; // weak
int dword_49D068; // weak
int dword_49D06C; // weak
int dword_49D070; // weak
int dword_49D074; // weak
_UNKNOWN unk_49D0A0; // weak
int dword_49D870; // weak
char byte_49D88C; // weak
char byte_49D88D; // weak
int dword_49D890; // weak
HINSTANCE hInstance; // idb
FILE *dword_49D898; // idb
int dword_49D89C; // weak
int dword_49D8A0; // weak
char byte_49D8BC[20]; // idb
char byte_49D8D0[20]; // idb
char byte_49D8E4[20]; // idb
int dword_49D8F8; // weak
int dword_49D900; // weak
char byte_49D908; // weak
_UNKNOWN unk_49D90A; // weak
int dword_49D92C; // weak
int dword_49D930; // weak
char byte_49D94C; // weak
__int16 word_49D94E; // weak
char byte_49D950; // weak
int dword_49D958; // weak
int dword_49D95C; // weak
int dword_49D960; // weak
char byte_49D964; // weak
char byte_49D965; // weak
int dword_49D968; // weak
int dword_49D96C; // weak
int dword_49D970; // weak
int dword_49D974; // weak
int dword_49D978; // weak
int dword_49D97C; // weak
int dword_49D980; // weak
CHAR byte_49D994[4]; // idb
_UNKNOWN unk_49D998; // weak
int dword_49D9A0; // weak
_UNKNOWN unk_49D9A8; // weak
int dword_49D9B0[27]; // idb
int dword_49DA1C[]; // weak
LPCSTR lpString; // idb
int dword_49DA24; // weak
_WORD word_4BAEE0[1000]; // idb
_UNKNOWN unk_4BB6B0; // weak
_UNKNOWN unk_4BBE80; // weak
int dword_4BBE88; // weak
_UNKNOWN unk_4BBE90; // weak
int dword_4BBE98[27]; // idb
_UNKNOWN unk_4BBF08; // weak
int dword_4BBF10; // weak
int dword_4BBF14; // weak
void *dword_4BBF18; // idb
void *dword_4BBF1C; // idb
_UNKNOWN unk_4BBF20; // weak
int dword_4BBF28; // weak
_UNKNOWN unk_4BBF30; // weak
int dword_4BBF38[27]; // idb
__int16 word_4BBFA8; // weak
__int16 word_4BBFAC[1000]; // idb
__int16 word_4BC77C[]; // weak
void *dword_4BCF4C; // idb
int dword_4BCF50[50]; // idb
int dword_4BD018; // weak
int dword_4BD01C; // weak
_UNKNOWN unk_4BD028; // weak
_UNKNOWN unk_4BD0E0; // weak
_UNKNOWN unk_4BD240; // weak
_UNKNOWN unk_4BD270; // weak
_UNKNOWN unk_4BD388; // weak
int dword_4BD400[600]; // idb
_UNKNOWN unk_4BDD60; // weak
_UNKNOWN unk_4BDEF0; // weak
int dword_4BDEF8; // weak
void *unk_4BDEFC; // idb
__int16 word_4BDEFE; // weak
_UNKNOWN unk_4BDF00; // weak
_UNKNOWN unk_4BDF3E; // weak
void *dword_6BDF00; // idb
int dword_6BDF04[14]; // idb
_UNKNOWN unk_6BDF3E; // weak
int dword_6BDFF4; // weak
_UNKNOWN unk_6BE224; // weak
_UNKNOWN unk_6BE228; // weak
int dword_6BE230[27]; // idb
char byte_6BE2A0[264]; // idb
_UNKNOWN unk_6BE3A8; // weak
int dword_6BE3B0[27]; // idb
int dword_6BE420[]; // weak
int dword_6BE424[62]; // idb
int dword_6BE520[]; // weak
_UNKNOWN unk_6BE524; // weak
int dword_6C7FF8[90]; // idb
_UNKNOWN unk_6C8160; // weak
int dword_6C83B8; // weak
_UNKNOWN unk_6C8610; // weak
int dword_6C8618; // weak
_UNKNOWN unk_6C861C; // weak
__int16 word_6C8626; // weak
_UNKNOWN unk_6C8628; // weak
_UNKNOWN unk_788628; // weak
_UNKNOWN unk_828628; // weak
_UNKNOWN unk_8C862A; // weak
int dword_8C8630; // weak
_UNKNOWN unk_8C8642; // weak
_UNKNOWN unk_8C8648; // weak
_UNKNOWN unk_8C8710; // weak
int dword_8C8718; // weak
_UNKNOWN unk_8C8720; // weak
int dword_8C8728[27]; // idb
_UNKNOWN unk_8C8798; // weak
int dword_8C87A0; // weak
void *dword_8C87A4; // idb
_UNKNOWN unk_8C87A8; // weak
int dword_8C87B0; // weak
void *dword_8C87B4; // idb
void *dword_8C87B8; // idb
int dword_8C87BC[120]; // idb
_UNKNOWN unk_8C899C; // weak
double dbl_8D0998[41]; // idb
double dbl_8D09A0[40]; // idb
char *dword_8D0AE0[3000]; // idb
_UNKNOWN unk_8D39C0; // weak
int dword_8D39C8; // weak
void *dword_8D39CC; // idb
_UNKNOWN unk_8D39D0; // weak
int dword_8D39D8; // weak
_UNKNOWN unk_8D39E0; // weak
_UNKNOWN unk_8D39EC; // weak
_UNKNOWN unk_8D39F8; // weak
_UNKNOWN unk_8D3B88; // weak
int dword_8D3B90[]; // weak
__int16 word_8D3C00; // weak
__int16 word_8D3C02; // weak
_UNKNOWN unk_8D3C08; // weak
int dword_8D3C10; // weak
_UNKNOWN unk_8D3C18; // weak
int dword_8D3C20; // weak
int dword_8D3C24[]; // weak
int dword_8D3C28[999]; // idb
_UNKNOWN unk_8D4BC4; // weak
int dword_8D4BFC; // weak
int dword_8D4C58; // weak
int dword_8D4C94; // weak
int dword_8D4CA4; // weak
int dword_8D4CA8; // weak
int dword_8D4CDC; // weak
int dword_8D5B5C; // weak
_UNKNOWN unk_8D5B68; // weak
int dword_8D5B70; // weak
void *dword_8D5B74; // idb
void *dword_8D5B78; // idb
_UNKNOWN unk_8D5B80; // weak
_UNKNOWN unk_8D5B82; // weak
int dword_8D5B84[]; // weak
int dword_8D5B88[]; // weak
int dword_8D5B90; // weak
int dword_8D5B94; // weak
int dword_8D5B9C; // weak
int dword_8D5BA0; // weak
int dword_8D5BAC; // weak
int dword_8D5BB8; // weak
int dword_8D5BC4; // weak
int dword_8D5BD0; // weak
int dword_8D5BDC; // weak
int dword_8D5BE4; // weak
int dword_8D5BE8; // weak
int dword_8D5C00; // weak
int dword_8D5C08; // weak
int dword_8D5C0C; // weak
int dword_8D5C14; // weak
int dword_8D5C18; // weak
int dword_8D5C20; // weak
int dword_8D5C24; // weak
int dword_8D5C2C; // weak
int dword_8D5C30; // weak
int dword_8D5C38; // weak
int dword_8D5C3C; // weak
int dword_8D5C44; // weak
int dword_8D5C48; // weak
int dword_8D5C50; // weak
int dword_8D5C54; // weak
int dword_8D5C5C; // weak
int dword_8D5C60; // weak
int dword_8D5C68; // weak
int dword_8D5C6C; // weak
int dword_8D5C74; // weak
int dword_8D5C78; // weak
int dword_8D5C80; // weak
int dword_8D5C84; // weak
int dword_8D5C8C; // weak
int dword_8D5C90; // weak
int dword_8D5C98; // weak
int dword_8D5C9C; // weak
int dword_8D5CA4; // weak
int dword_8D5CA8; // weak
int dword_8D5CC0; // weak
int dword_8D5CCC; // weak
int dword_8D5CD4; // weak
int dword_8D5CD8; // weak
int dword_8D5CE0; // weak
int dword_8D5CE4; // weak
int dword_8D5CF0; // weak
int dword_8D5CFC; // weak
int dword_8D5D10; // weak
int dword_8D5D14; // weak
int dword_8D5D1C; // weak
int dword_8D5D20; // weak
int dword_8D5D28; // weak
int dword_8D5D2C; // weak
int dword_8D5D38; // weak
int dword_8D5D44; // weak
int dword_8D5D50; // weak
int dword_8D5D5C; // weak
int dword_8D5D68; // weak
int dword_8D5D74; // weak
int dword_8D5D80; // weak
int dword_8D5D8C; // weak
int dword_8D5D98; // weak
int dword_8D5DA4; // weak
int dword_8D5DB0; // weak
int dword_8D5DBC; // weak
int dword_8D5DC8; // weak
int dword_8D5DD4; // weak
int dword_8D5DE0; // weak
int dword_8D5DEC; // weak
int dword_8D5DF8; // weak
int dword_8D5E04; // weak
int dword_8D5E10; // weak
int dword_8D5E1C; // weak
int dword_8D5E3C; // weak
int dword_8D5E40; // weak
int dword_8D5E58; // weak
int dword_8D5E64[21]; // idb
int dword_8D5EB8[3]; // idb
void *dword_8D5EC8; // idb
_UNKNOWN unk_8D5ECC; // weak
_UNKNOWN unk_8D5ED0; // weak
_UNKNOWN unk_1000000; // weak
void *dword_11FDACC; // idb
void *dword_11FDAD0; // idb
void *dword_11FDAD4; // idb
_UNKNOWN unk_11FDAD8; // weak
double dbl_11FDAE0[41]; // idb
_UNKNOWN unk_11FDC28; // weak
int dword_11FDC30[27]; // idb
_UNKNOWN unk_11FDCA0; // weak
int dword_11FDCA8[27]; // idb
void *dword_11FDD18; // idb
_UNKNOWN unk_11FDD20; // weak
int dword_11FDD28; // weak
_UNKNOWN unk_11FDD30; // weak
int dword_11FDD38; // weak
void *dword_11FDD3C; // idb
_UNKNOWN unk_11FDD40; // weak
int dword_11FDD48; // weak
int dword_11FDD50; // weak
_UNKNOWN dword_11FDD54; // weak
int dword_11FDD5C; // weak
_UNKNOWN dword_11FDD60; // weak
int dword_11FDD68; // weak
int dword_11FDD6C; // weak
int dword_11FDD78; // weak
int dword_11FDD84; // weak
int dword_11FDD90; // weak
char byte_11FDD94[64]; // idb
int dword_11FDDD4[9975]; // idb
char byte_12079B0[100]; // idb
char byte_1207A14[2004]; // idb
_UNKNOWN unk_12081E8; // weak
int dword_12081F0; // weak
void *dword_12081F4; // idb
void *dword_12081F8; // idb
int dword_12081FC; // weak
int dword_1208200[]; // weak
int dword_1208204[]; // weak
int dword_1208208[]; // weak
int dword_120820C[]; // weak
void *dword_13081F0; // idb
_UNKNOWN unk_13081F8; // weak
int dword_13081FC; // weak
int dword_1308200; // weak
_UNKNOWN unk_1308208; // weak
int dword_1308210; // weak
int dword_1308220; // weak
int dword_1308224; // weak
int dword_1308228; // weak
int dword_130822C; // weak
int dword_1308230; // weak
int dword_1308234; // weak
int dword_1308238; // weak
int dword_130823C; // weak
int dword_1308240; // weak
int dword_1308244; // weak
int dword_1308248; // weak
int dword_130824C; // weak
int dword_1308250; // weak
int dword_1308254; // weak
int dword_1308258; // weak
int dword_130825C; // weak
int dword_1308260; // weak
void *dword_1308264; // idb
_UNKNOWN unk_1308268; // weak
int dword_1308270[27]; // idb
_UNKNOWN unk_13082E0; // weak
int dword_13082E4; // weak
int dword_13082E8; // weak
_UNKNOWN unk_13082EC; // weak
int dword_13082F4; // weak
_UNKNOWN unk_13082F8; // weak
int dword_1308300; // weak
_UNKNOWN unk_1308308; // weak
int dword_1308310; // weak
_UNKNOWN unk_1308318; // weak
int dword_1308320; // weak
void *dword_1308324; // idb
_UNKNOWN unk_1308328; // weak
int dword_1308330[27]; // idb
_UNKNOWN unk_13083A0; // weak
int dword_13083A8; // weak
int dword_13083AC[]; // weak
int dword_13083B0[]; // weak
int dword_13083C4[]; // weak
int dword_13083CC[6]; // idb
int dword_13083E4[]; // weak
int dword_130A14C; // weak
_UNKNOWN unk_13100AC; // weak
int dword_131054C; // weak
int dword_131072C; // weak
int dword_13107AC; // weak
int dword_13107CC; // weak
int dword_1317D6C; // weak
int dword_1317D8C; // weak
_UNKNOWN unk_1317DAC; // weak
_UNKNOWN unk_1317DB0; // weak
int dword_1317DB8; // weak
_UNKNOWN unk_1317DC0; // weak
_UNKNOWN unk_1317E38; // weak
int dword_1317E40; // weak
_UNKNOWN unk_1317E48; // weak
int dword_1317E50; // weak
__int16 word_1317E58; // weak
__int16 word_1317E5A; // weak
_DWORD dword_1317E60; // idb
_UNKNOWN unk_1317E68; // weak
int dword_1317E74; // weak
char byte_1317E78; // weak
int dword_1317E7C; // weak
char byte_1317E80; // weak
char byte_1317E8A[5038]; // idb
int dword_1319238; // weak
_UNKNOWN unk_131923C; // weak
int dword_1319494; // weak
int dword_1319498; // weak
_UNKNOWN unk_131949C; // weak
char byte_13194B2; // weak
int dword_13194B4; // weak
_UNKNOWN unk_13194B8; // weak
int dword_13194CC; // weak
char byte_13194D2[5038]; // idb
int dword_131A880; // weak
int dword_131A884; // weak
_UNKNOWN unk_131A888; // weak
int dword_131A88C[]; // weak
int dword_131A890; // weak
int dword_131A894; // weak
struct _SYSTEMTIME SystemTime; // idb
_UNKNOWN unk_131A8A8; // weak
int dword_131A8C0[203]; // idb
int dword_131ABF0; // weak
int dword_131ABF4; // weak
int dword_131ABF8; // weak
__int16 word_131ABFC; // weak
__int16 word_131ABFE; // weak
char byte_131AC00; // weak
int dword_131AC04[100]; // idb
int dword_131AD94[101]; // idb
char byte_131AF2A[5040]; // idb
char byte_131C2DA[5038]; // idb
int dword_131D688; // weak
char byte_131D68C; // weak
int dword_131D690; // weak
char byte_131D694; // weak
_UNKNOWN unk_131D698; // weak
MCIDEVICEID mciId; // idb
int dword_131D6A0; // weak
char byte_131D6B2[5040]; // idb
char byte_131EA62[5038]; // idb
int dword_131FE10; // weak
char byte_131FE1A[5038]; // idb
int dword_13211C8; // weak
int dword_13211CC; // weak
char byte_13211D2[5038]; // idb
__int16 word_1322580; // weak
int dword_1322584; // weak
char byte_1322588; // weak
int dword_132258C; // weak
char byte_1322590; // weak
int dword_1322594; // weak
int dword_1322598; // weak
char byte_132259C; // weak
int dword_13225A0; // weak
int dword_13225A4; // weak
int dword_13225AC; // weak
int dword_13225B0; // weak
int dword_13225B4; // weak
char byte_13225C0; // weak
char byte_13225C1; // weak
int dword_13225C8; // weak
int dword_13225CC; // weak
int dword_13225D0; // weak
int dword_13225D4; // weak
int dword_13225DC; // weak
int dword_13225E0; // weak
int dword_13225E4; // weak
char byte_13225E8; // weak
char byte_13225E9; // weak
int dword_13225EC; // weak
int dword_13225F0; // weak
char byte_13225F4; // weak
char byte_13225F5; // weak
int dword_13225F8; // weak
int dword_13225FC; // weak
int dword_1322600; // weak
int dword_1322604; // weak
int dword_1322608; // weak
int dword_132260C; // weak
int dword_1322610; // weak
int dword_1322614; // weak
int dword_1322618; // weak
int dword_132261C; // weak
int dword_1322620; // weak
int dword_1322624; // weak
char byte_1322628; // weak
int dword_132262C; // weak
int dword_1322630; // weak
char byte_1322634; // weak
int dword_1322638; // idb
char byte_132263C; // weak
int dword_1322640; // weak
int dword_1322648; // weak
int dword_132264C; // weak
int dword_1322654; // weak
int dword_1322658; // weak
int dword_132265C; // weak
int dword_1322660; // weak
int dword_1322664; // weak
int dword_1322680; // weak
int dword_1322684; // weak
const CHAR byte_1322688; // idb
char byte_13226A7; // weak
char byte_13226A8; // weak
__int16 word_13226AA; // weak
int dword_13226AC; // weak
CHAR byte_13226B0[25]; // idb
char byte_13226C9; // weak
int dword_13226CC; // weak
HGDIOBJ h; // idb
int dword_13226D4; // weak
int dword_13226D8; // weak
int dword_13226DC; // weak
char byte_13226E0[]; // weak
char byte_13226E1[72]; // idb
_UNKNOWN unk_1322731; // weak
char byte_13245E2; // weak
char byte_13245E3[160]; // idb
int dword_1324684; // weak
char byte_1324688[]; // weak
int dword_13246A0; // weak
int dword_13246A4; // weak
int dword_13246A8; // weak
int dword_13246AC; // weak
float flt_13246B0; // weak
float flt_13246B4; // weak
int dword_13246B8; // weak
CHAR byte_13246BC[10]; // idb
char byte_13246C6; // weak
int dword_13246D0; // weak
int dword_13246D4; // idb
int dword_13246D8; // weak
int dword_13246DC; // weak
int dword_13246E0; // weak
_WORD word_13246E4[79]; // idb
char byte_1324782; // weak
char byte_1324784[100]; // idb
_UNKNOWN unk_13247E8; // weak
char byte_1324D92[]; // weak
int dword_1324F54; // weak
int dword_1324F58; // weak
CHAR dword_1324F5C[]; // idb
int dword_1324F60; // weak
int dword_1324F64; // weak
int dword_1324F68; // weak
int dword_1324F6C; // weak
char byte_1324F70; // weak
CHAR byte_1324F74[260]; // idb
int dword_1325078; // weak
_UNKNOWN unk_132507C; // weak
char byte_132507F[]; // weak
CHAR dword_1325080[]; // idb
int dword_1325084; // weak
int dword_1325088; // weak
int dword_132508C; // weak
int dword_1325090; // weak
char byte_1325094; // weak
int (__cdecl *dword_1325098)(_DWORD); // weak
char byte_13250A0[]; // weak
char byte_13250A1[]; // weak
char byte_13250A2[]; // weak
char byte_13250A3[]; // weak
char byte_13250A4[]; // weak
CHAR byte_13250A5[21]; // idb
_UNKNOWN unk_13250BA; // weak
_UNKNOWN unk_13250DD; // weak
_UNKNOWN unk_1328D7C; // weak
char byte_1328DA6[18]; // idb
int dword_1328DB8; // weak
int dword_1328DBC; // weak
char byte_1328DC0[10]; // idb
__int16 word_1328DCA[]; // weak
int word_1328DCC; // idb
__int16 word_1328DCE; // weak
__int16 word_1328DD0; // weak
__int16 word_1328DD2; // weak
__int16 word_1328DD4; // weak
__int16 word_1328DD6; // weak
__int16 word_1328DD8; // weak
__int16 word_1328DDA; // weak
__int16 word_1328DDC; // weak
__int16 word_1328DDE; // weak
__int16 word_1328DE0; // weak
__int16 word_1328DE2; // weak
__int16 word_1328DE4; // weak
__int16 word_1328DE6; // weak
char byte_1328DEE; // weak
char byte_1328DEF; // weak
int dword_1328DF4; // weak
int dword_1328DF8; // weak
int dword_1328DFC; // weak
char byte_1328E45; // weak
__int16 word_1328E46; // weak
__int16 word_1328E76; // weak
__int16 word_1328E7A; // weak
int dword_1328E7C; // weak
int dword_1328E80; // weak
int dword_1328E84; // weak
int dword_1328E88; // weak
int dword_1328E8C; // weak
char byte_1328E90; // weak
char byte_1328E98[20]; // idb
char byte_1328EAC[]; // weak
char byte_1328EAD[20]; // idb
char byte_1328EC1[]; // weak
char byte_1328EC2[]; // weak
char byte_1328EC3[]; // weak
char byte_1328EC4[]; // weak
char byte_1328EC5[]; // weak
char byte_1328EC6[]; // weak
__int16 word_1328EC8[]; // weak
__int16 word_1328ECA[]; // weak
__int16 word_1328ECC[]; // weak
__int16 word_1328ECE[]; // weak
__int16 word_1328ED0[]; // weak
__int16 word_1328ED2[]; // weak
__int16 word_1328ED4[]; // weak
__int16 word_1328ED6[]; // weak
__int16 word_1328ED8[]; // weak
__int16 word_1328EDA[]; // weak
__int16 word_1328EDC[]; // weak
__int16 word_1328EDE[]; // weak
__int16 word_1328EE0[]; // weak
__int16 word_1328EE2[]; // weak
char byte_1328EE4[]; // weak
char byte_1328EE5[]; // weak
__int16 word_1328EE6[]; // weak
int dword_1328EE8[]; // weak
int dword_1328EEC[]; // weak
_UNKNOWN unk_1328EF0; // weak
_UNKNOWN unk_1328F12; // weak
__int16 word_1328FB0[]; // weak
char byte_1328FDE; // weak
char byte_13290FA; // weak
char byte_1329216; // weak
char byte_1329332; // weak
int dword_1329424; // weak
int dword_1329428; // weak
CHAR byte_132942C[24]; // idb
int dword_1329444; // weak
char byte_1329448; // weak
HGDIOBJ ho; // idb
int dword_1329450[]; // weak
int dword_1329454[6]; // idb
_UNKNOWN unk_1329470; // weak
char byte_1329471; // weak
CHAR byte_1329474[264]; // idb
_WORD word_132957C[79]; // idb
_UNKNOWN unk_132961A; // weak
char byte_132961B[]; // weak
int dword_132961C[]; // weak
int dword_1329620; // weak
int dword_1329624; // weak
int dword_1329628; // weak
int dword_132962C; // weak
char byte_1329630; // weak
char byte_1329631; // weak
HGDIOBJ dword_1329634; // idb
int dword_1329638; // weak
char byte_132963C[260]; // idb
HGDIOBJ dword_1329740; // idb
int dword_1329744; // weak
int dword_1329748; // weak
CHAR byte_132974C[2080]; // idb
int dword_1329F6C; // weak
int dword_1329F70; // weak
const CHAR byte_1329F74; // idb
char byte_1329F75[]; // weak
char byte_1329F76[31]; // idb
char byte_1329F95[]; // weak
char byte_1329F96[]; // weak
CHAR byte_1329F97[720]; // idb
int dword_132A268; // weak
int dword_132A270[]; // weak
int dword_132A274[]; // weak
int dword_132A278; // weak
int dword_132A27C; // weak
int dword_132A280; // weak
int dword_132A284; // weak
int dword_132A288; // weak
int dword_132A28C; // weak
int dword_132A290; // weak
int dword_132A294; // idb
int dword_132A298; // weak
_UNKNOWN unk_132A2A0; // weak
__int16 word_132A2B6; // weak
int dword_132A2B8; // weak
int dword_132A2BC; // weak
char byte_132A2C0[]; // weak
char byte_132A2C1[]; // weak
char byte_132A2C2[]; // weak
char byte_132A2C3[]; // weak
char byte_132A2C4[22]; // idb
_UNKNOWN unk_132A2DA; // weak
_UNKNOWN unk_132A2FD; // weak
char byte_132DFD8[]; // weak
char byte_132DFD9[]; // weak
char byte_132DFDA[]; // weak
char byte_132DFDB[]; // weak
char byte_132DFDC[]; // weak
char byte_132DFDD[]; // weak
_UNKNOWN unk_132DFDE; // weak
_BYTE byte_132E029[8019]; // idb
CHAR String; // idb
int dword_132FFCC; // weak
CHAR dword_132FFD0[]; // idb
int dword_132FFD4; // weak
int dword_132FFD8; // weak
int dword_132FFDC; // weak
int dword_132FFE0; // weak
char byte_132FFE4; // weak
char byte_132FFE5; // weak
char byte_132FFE7; // weak
int dword_132FFE8; // weak
int dword_132FFEC; // idb
int dword_132FFF0; // weak
float flt_132FFF4; // weak
float flt_132FFF8; // weak
int dword_132FFFC; // weak
CHAR byte_1330000[20]; // idb
int dword_1330014; // weak
int dword_1330018; // weak
int dword_133001C; // weak
int dword_1330020; // weak
int dword_1330024; // weak
int dword_1330028; // weak
int dword_133002C; // weak
char byte_1330030; // weak
int dword_1330034; // weak
int dword_1330038; // weak
int dword_133003C; // weak
int dword_1330040; // weak
char byte_1330048; // weak
char byte_1330049; // weak
char byte_133004A; // weak
int dword_133004C; // weak
int dword_1330050; // weak
int dword_1330054; // weak
int dword_1330058; // weak
char byte_133005C; // weak
int dword_1330060; // weak
int dword_1330064; // weak
int dword_1330068; // weak
int dword_133006C; // weak
int dword_1330070; // weak
int dword_1330074; // weak
int dword_1330078; // weak
int dword_133007C; // weak
char byte_1330080; // weak
int dword_1330084; // weak
int dword_1330088; // weak
int dword_1330090; // weak
char byte_1330094; // weak
char byte_1330095; // weak
int dword_1330098; // weak
char byte_133009C; // weak
int dword_13300A0; // weak
int dword_13300A4; // weak
int dword_13300A8; // weak
int dword_13300AC; // weak
int dword_13300B0; // weak
int dword_13300B4; // weak
int dword_13300B8; // weak
int dword_13300BC; // weak
int dword_13300C0; // weak
int dword_13300C4; // weak
int dword_13300D0; // weak
int dword_13300D4; // weak
char byte_13300D8; // weak
char byte_13300D9; // weak
int dword_13300DC; // weak
int dword_13300E0; // weak
char byte_13300E4; // weak
int dword_13300E8; // weak
int dword_13300EC; // weak
int dword_13300F0; // weak
int dword_13300F4; // weak
int dword_13300F8; // weak
int dword_13300FC; // weak
int dword_1330100; // weak
int dword_1330104; // weak
int dword_1330108; // weak
int dword_133010C; // weak
int dword_1330110; // weak
char byte_1330114[8]; // idb
char byte_133011C; // weak
char byte_1330121; // weak
char byte_1330124; // weak
char byte_1330125; // weak
char byte_1330126; // weak
char byte_133012F; // weak
char byte_1330134; // weak
char byte_1330135; // weak
char byte_1330136; // weak
char byte_1330145; // weak
char byte_1330146; // weak
char byte_1330147; // weak
char byte_1330184; // weak
char byte_1330185; // weak
char byte_1330186; // weak
char byte_1330187; // weak
char byte_1330188; // weak
char byte_1330189; // weak
char byte_133018A; // weak
char byte_133018B; // weak
char byte_133018C; // weak
char byte_133018D; // weak
char byte_133018E; // weak
char byte_133018F; // weak
char byte_1330214; // weak
CHAR MultiByteStr[260]; // idb
char byte_133031C[511]; // idb
char byte_133051B; // weak
int dword_1330520; // weak
LPVOID ppv; // idb
int dword_1330528; // weak
int dword_133052C; // weak
int dword_1330530; // weak
int dword_1330534; // weak
int dword_1330538; // weak
int dword_133053C; // weak
int dword_1330548; // weak
int dword_133054C; // weak
char byte_1330550[260]; // idb
int dword_1330654; // weak
int dword_1330658; // weak
int dword_133065C; // weak
int dword_1330660; // weak
int (__thiscall *dword_1330668)(_DWORD); // weak
char byte_133066C; // weak
int dword_1330670; // weak
int dword_1330674; // weak
int dword_1330678; // weak
int dword_133067C; // weak
int dword_1330680; // weak
int dword_1330784; // weak
int (*dword_1330788)(void); // weak
int dword_133078C; // weak
void *dword_1330790; // idb
int dword_1330794; // weak
int dword_1330798; // weak
__int16 word_133079C; // weak
void *dword_13307A0; // idb
_UNKNOWN unk_13307AC; // weak
_UNKNOWN unk_13307AE; // weak
int dword_13315BC; // weak
__int16 word_13315C0; // weak
int x; // idb
int y; // idb
_UNKNOWN unk_13315CC; // weak
__int16 word_13B5390[504]; // idb
_UNKNOWN unk_13B5780; // weak
_UNKNOWN unk_147BD4C; // weak
_UNKNOWN unk_147BDB0; // weak
_UNKNOWN unk_14B7BF4; // weak
int dword_1540B4C; // weak
int dword_1540B50; // weak
int dword_1540B54; // weak
int dword_1540B58; // weak
int (*dword_1540B5C)(void); // weak
int dword_1540B60; // weak
__int16 word_1540B64; // weak
int dword_1540B68; // weak
char byte_1540B6C[490]; // idb
_UNKNOWN unk_1540D56; // weak
char byte_1540E3C[3430]; // idb
int dword_1541BD8; // weak
int dword_1541BE0[12]; // idb
int (*dword_1541C10)(void); // weak
int dword_1541C14; // weak
int dword_1541C18; // weak
int dword_1541C1C; // weak
int dword_1541C20; // weak
_UNKNOWN unk_1541C24; // weak
int dword_1541C34[1116]; // idb
void *dword_1542DA4; // idb
int dword_1542DA8[12]; // idb
int dword_1542DD8; // weak
int dword_1542DDC; // weak
int dword_1542DE0; // weak
_UNKNOWN unk_1543A90; // weak
_UNKNOWN unk_1543B28; // weak
_UNKNOWN unk_1543DD8; // weak
_UNKNOWN unk_1543E38; // weak
int dword_1547438; // weak
void *dword_1547440; // idb
int dword_1547444; // weak
int (*dword_1547448)(void); // weak
int dword_154744C; // weak
int dword_1547450; // weak
int (*dword_1547454)(void); // weak
_UNKNOWN unk_1547463; // weak
int dword_1547908; // weak
int dword_154790C; // weak
_DWORD dword_1547910[5]; // idb
_UNKNOWN unk_1547924; // weak
char byte_1547940; // weak
int (*dword_1547944)(void); // weak
int dword_1547948; // weak
int dword_154794C; // weak
int dword_1547950; // weak
char byte_1547958; // weak
char byte_1547959; // weak
int dword_154795C; // weak
int dword_1547960; // weak
int dword_1547964; // weak
int dword_1547968; // weak
char byte_154796C; // weak
int dword_1547978; // weak
int dword_154797C; // weak
int dword_1547980; // weak
int dword_1547984; // weak
int dword_1547988; // weak
int dword_154798C; // weak
int dword_1547990; // weak
int dword_15479D0; // weak
int dword_15479D4; // weak
char byte_15479DC; // weak
_UNKNOWN unk_15479E0; // weak
char byte_1547AE4[260]; // idb
_UNKNOWN unk_1547BE8; // weak
char byte_154DF70[]; // weak
char byte_154DF71[]; // weak
char byte_154DF72; // weak
char byte_154DF73; // weak
int dword_154DF74; // weak
int dword_154DF78; // weak
int dword_154DF7C; // weak
int dword_1550680; // weak
int dword_1550684; // weak
int dword_1550688; // weak
int dword_155068C; // weak
int dword_1550690; // weak
int dword_1550694; // weak
int dword_1550698; // idb
int dword_155069C; // weak
int dword_15506A0; // weak
int dword_15506A4; // weak
int dword_15506A8; // weak
size_t dword_1550828; // idb
int dword_1550830; // weak
int dword_1550834; // weak
int dword_1550838; // idb
int dword_155083C; // weak
int dword_1550840; // weak
int dword_1550844; // weak
int dword_1550848; // weak
int dword_155084C; // weak
int dword_15509C8; // weak
int dword_15509CC[101]; // idb
char byte_1550B60[]; // weak
char byte_1550B61[]; // weak
int dword_1550B62; // weak
char byte_1550B66; // weak
int dword_1550B67; // weak
int dword_1550B6B; // weak
char byte_1550B6F; // weak
char byte_1550B70; // weak
char byte_1550B71; // weak
char byte_1550B72; // weak
char byte_1550B73; // weak
char byte_1550B74; // weak
char byte_1550B75[]; // weak
char byte_1550B76[]; // weak
char byte_1550B77[]; // weak
char byte_1550B78[]; // weak
char byte_1550B79; // weak
char byte_1550B7A; // weak
char byte_1550B7B; // weak
int dword_1550B7C; // weak
char byte_1550B80; // weak
char byte_1550B81; // weak
char byte_1550B82; // weak
char byte_1550B83; // weak
char byte_1550B84; // weak
char byte_1550B89[]; // weak
char byte_1550B8A[19]; // idb
char byte_1550B9D[]; // weak
char byte_1550B9E[19]; // idb
char byte_1550BB1[]; // weak
char byte_1550BB2[22]; // idb
_UNKNOWN unk_1550BC8; // weak
int dword_1551330; // weak
u_short word_1551334; // idb
int dword_1551344; // weak
int dword_1551738; // weak
char dword_1551740[]; // idb
int dword_1551744; // weak
int dword_1551748; // weak
int dword_155174C; // weak
int dword_1551750; // weak
int dword_1551754; // weak
int dword_1551758; // weak
int dword_155175C; // weak
int dword_1551760; // weak
int dword_1551764; // weak
char byte_1551770[]; // weak
char byte_1551771[23]; // idb
char byte_1551788[]; // weak
char byte_1551789[1927]; // idb
int dword_1551F10; // weak
char byte_1551F14[260]; // idb
char byte_1552018[60000]; // idb
char byte_1560A78; // weak
char buf[12]; // idb
int dword_1560A88; // weak
SOCKET dword_1560E7C; // idb
struct WSAData stru_1560E80; // idb
SOCKET s; // idb
int dword_156FA74; // weak
int dword_156FA78; // weak
int dword_156FA7C; // weak
int dword_156FA80; // idb
int dword_156FA84; // weak
int dword_156FA98; // weak
__int16 word_156FAA0; // weak
int dword_156FAA4; // weak
int dword_156FEB0; // weak
int dword_156FEB8; // weak
int dword_156FEC8; // weak
int dword_156FEDC; // weak
int dword_156FF14; // weak
int dword_156FF24; // weak
HDC hdc; // idb
HGDIOBJ dword_157023C; // idb
int dword_1570240; // weak
int dword_1570244; // weak
int dword_1570248; // weak
int dword_1570288; // weak
int dword_157028C; // weak
int dword_157029C; // weak
int dword_15702F0; // weak
int dword_15702F4; // weak
int dword_15702F8; // weak
int dword_15702FC; // weak
int dword_1570300; // weak
HGDIOBJ dword_1570318; // idb
LPDIRECTDRAW lpDD; // idb
int dword_1571324; // weak


//----- (00401000) --------------------------------------------------------
__int16 sub_401000()
{
  int v0; // ecx
  int v1; // eax
  _WORD *v2; // edi
  unsigned __int16 *v3; // esi
  char *v4; // edx
  int v5; // ecx
  signed int v6; // ecx
  bool v7; // sf
  unsigned __int8 v8; // of
  signed int v9; // edi
  int v10; // esi
  int v11; // ecx
  int v12; // ebx
  unsigned int v13; // ecx
  int v14; // eax
  unsigned int v15; // ecx
  int v16; // edi
  signed __int16 *v17; // ecx
  bool v18; // zf
  int v19; // eax
  char v20; // al
  int v21; // ecx
  signed __int16 *v22; // eax
  int v23; // eax
  int v24; // ecx
  int v25; // eax
  signed __int16 *v27; // ecx
  int v28; // [esp-4h] [ebp-40h]
  int v29; // [esp+14h] [ebp-28h]
  int v30; // [esp+18h] [ebp-24h]
  int v31; // [esp+1Ch] [ebp-20h]
  int v32; // [esp+20h] [ebp-1Ch]
  int v33; // [esp+24h] [ebp-18h]
  int v34; // [esp+24h] [ebp-18h]
  _WORD *v35; // [esp+28h] [ebp-14h]
  unsigned int v36; // [esp+28h] [ebp-14h]
  char *v37; // [esp+2Ch] [ebp-10h]
  char *v38; // [esp+2Ch] [ebp-10h]
  int v39; // [esp+30h] [ebp-Ch]
  int v40; // [esp+34h] [ebp-8h]
  int v41; // [esp+38h] [ebp-4h]
  signed int v42; // [esp+38h] [ebp-4h]

  sub_46FEF0(185273099);
  v40 = (unsigned __int8)(dword_154794C % 40);
  v39 = (unsigned __int8)(dword_1547950 % 20);
  v0 = 0;
  v1 = (unsigned __int16)(dword_1547950 / 20);
  v41 = 0;
  v32 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * dword_154794C) >> 32) >> 31)
                         + ((signed int)((unsigned __int64)(1717986919i64 * dword_154794C) >> 32) >> 4));
  v29 = (unsigned __int16)(dword_1547950 / 20);
  while ( 1 )
  {
    v35 = 0;
    v33 = v0 + v1;
    v37 = &byte_1540E3C[v0];
    do
    {
      v2 = v35;
      v3 = (unsigned __int16 *)dword_1208200[(unsigned __int8)dword_1547960
                                           + 4
                                           * *((unsigned __int16 *)dword_1330790
                                             + 4 * ((_DWORD)v35 + v32 + dword_1540B4C * v33))];
      v4 = (char *)&unk_4BDF00 + 0x20000 * *v37;
      v5 = 20;
      do
      {
        v28 = v5;
        v6 = 40;
        do
        {
          *v2 = *(_WORD *)&v4[2 * *v3];
          ++v2;
          ++v3;
          --v6;
        }
        while ( v6 );
        v2 += 860;
        v5 = v28 - 1;
      }
      while ( v28 != 1 );
      v8 = __OFSUB__((char *)v35 + 1, 21);
      v7 = (signed int)(v35 - 10) < 0;
      v35 = (_WORD *)((char *)v35 + 1);
      v37 += 70;
    }
    while ( v7 ^ v8 );
    v8 = __OFSUB__(v41 + 1, 31);
    v7 = v41++ - 30 < 0;
    if ( !(v7 ^ v8) )
      break;
    v1 = v29;
    v0 = v41;
  }
  memset(&unk_1541C24, 0, 0x1180u);
  if ( ++dword_48FA7C > *(unsigned __int16 *)dword_8D4BFC - 1 )
    dword_48FA7C = 0;
  if ( ++dword_48FA80 > *(unsigned __int16 *)dword_8D4C94 - 1 )
    dword_48FA80 = 0;
  v9 = 0;
  v42 = 0;
  do
  {
    v10 = 24 - 7 * (byte_1328E45 != 0);
    if ( v10 > -3 )
    {
      v11 = v29 + v9;
      v12 = 40 * v10;
      v31 = v10 + v32;
      v34 = v29 + v9;
      v30 = 40 * v10;
      v38 = &byte_1540E3C[70 * v10 + v9];
      while ( 1 )
      {
        if ( v11 < dword_1540B50 - 1 && v31 > -1 )
        {
          v13 = *((_DWORD *)dword_1330790 + 2 * (v10 + v32 + dword_1540B4C * v11) + 1);
          if ( v13 != -1 )
          {
            if ( v13 < 0x10000 )
            {
              if ( v10 < 22 - 7 * (byte_1328E45 != 0) )
              {
                v14 = dword_11FDDD4[v13 % 0x32 + 50 * (v13 / 0x32)];
                if ( !v14 )
                  y = 1;
                y = 4 * (5 * v42 + 5) - *(unsigned __int16 *)(v14 + 6) - v39;
                if ( y > -300 && v10 > -1 )
                {
                  x = v12 - v40;
                  dword_1547438 = *(_DWORD *)(v14 + 8);
                  LOBYTE(dword_1547948) = *v38;
                  sub_471350();
                }
              }
              goto LABEL_59;
            }
            v15 = (v13 >> 7) - 512;
            v36 = v15;
            if ( v15 > 0xFF )
            {
              v36 = 0;
LABEL_32:
              v16 = 20 * v9;
              v17 = (signed __int16 *)dword_6BDF04[v36];
              x = *v17 - v40 + v12 + 20;
              v18 = v17[1] - v39 + v16 == -310;
              v7 = v17[1] - v39 + v16 + 310 < 0;
              y = v17[1] - v39 + v16 + 10;
              if ( !((unsigned __int8)(v7 ^ __OFSUB__(y, -300)) | v18) )
              {
                if ( dword_48BCB0[v36] && v10 > -1 && v10 < 22 - 7 * (byte_1328E45 != 0) )
                {
                  dword_1330678 = -v17[1] >> 1;
                  dword_133067C = v17[1] / -2;
                  dword_1547438 = *((_DWORD *)v17 + 2);
                  sub_4708C0();
                }
                v19 = dword_6BDF04[v36];
                x = *(signed __int16 *)dword_6BDF04[v36] - v40 + v12 + 20;
                y = *(signed __int16 *)(v19 + 2) - v39 + v16 + 10;
                dword_1547438 = *(_DWORD *)(v19 + 8);
                switch ( v36 )
                {
                  case 0x2Cu:
                  case 0x2Du:
                  case 0x45u:
                  case 0x46u:
                    if ( dword_13225E4 )
                    {
                      if ( (unsigned __int8)byte_154796C < 0x1Fu )
                      {
                        v20 = byte_154796C + 1;
                        goto LABEL_43;
                      }
                    }
                    else if ( byte_154796C )
                    {
                      v20 = byte_154796C - 1;
LABEL_43:
                      byte_154796C = v20;
                      LOBYTE(dword_1547948) = v20;
                      dword_1330668(0);
                    }
                    else
                    {
                      LOBYTE(dword_1547948) = *v38;
                      if ( v10 >= 1 )
                      {
                        if ( v10 <= 19 - 7 * (byte_1328E45 != 0) )
                          goto LABEL_52;
                        sub_471A20();
                      }
                      else
                      {
                        sub_471860();
                      }
                    }
LABEL_53:
                    if ( dword_48BF40[v36] && v10 > -1 && v10 < 22 - 7 * (byte_1328E45 != 0) )
                    {
                      v21 = dword_6BDF04[v36];
                      v22 = (signed __int16 *)(dword_131072C + 12 * dword_48FA80);
                      x = *v22 + *(signed __int16 *)dword_6BDF04[v36] - v40 + v12 + 30;
                      y = *(signed __int16 *)(v21 + 2) + v22[1] - v39 + v16 + 15;
                      dword_1547438 = *((_DWORD *)v22 + 2);
                      if ( y > -300 )
                        dword_1541C10();
                      v12 = v30;
                    }
                    break;
                  default:
                    LOBYTE(dword_1547948) = *v38;
                    if ( v10 >= 1 )
                    {
                      if ( v10 <= 19 - 7 * (byte_1328E45 != 0) )
LABEL_52:
                        sub_471350();
                      else
                        sub_471A20();
                    }
                    else
                    {
                      sub_471860();
                    }
                    goto LABEL_53;
                }
              }
LABEL_59:
              v9 = v42;
              goto LABEL_60;
            }
            if ( v15 != 60 && v15 != 59 )
              goto LABEL_32;
            v27 = (signed __int16 *)(dword_131054C + 12 * (dword_48FA80 % (*(unsigned __int16 *)dword_8D4C58 - 1)));
            x = *v27 - v40 + v12 + 20;
            y = v27[1] + 20 * v9 - v39 + 10;
            dword_1547438 = *((_DWORD *)v27 + 2);
            if ( y > -300 && v10 > -1 && v10 < 22 - 7 * (byte_1328E45 != 0) )
              dword_1541C10();
          }
        }
LABEL_60:
        --v10;
        v12 -= 40;
        --v31;
        v38 -= 70;
        v30 = v12;
        if ( v10 <= -3 )
          break;
        v11 = v34;
      }
    }
    v42 = ++v9;
  }
  while ( v9 < 43 );
  v23 = dword_13083AC[dword_48F964 + 8 * dword_48FA68];
  v24 = *(signed __int16 *)(v23
                          + 12
                          * *(_DWORD *)(*(_DWORD *)(dword_8D3C24[dword_48FA68] + 8 * dword_48F960 + 4) + 4 * dword_48FA78));
  v25 = v23 + 12 * *(_DWORD *)(*(_DWORD *)(dword_8D3C24[dword_48FA68] + 8 * dword_48F960 + 4) + 4 * dword_48FA78);
  x = v24 + 400;
  y = *(signed __int16 *)(v25 + 2) + 300;
  dword_1547438 = *(_DWORD *)(v25 + 8);
  return sub_471350();
}
// 48BCB0: using guessed type int dword_48BCB0[];
// 48F960: using guessed type int dword_48F960;
// 48F964: using guessed type int dword_48F964;
// 48FA68: using guessed type int dword_48FA68;
// 48FA78: using guessed type int dword_48FA78;
// 48FA7C: using guessed type int dword_48FA7C;
// 48FA80: using guessed type int dword_48FA80;
// 8D3C24: using guessed type int dword_8D3C24[];
// 8D4BFC: using guessed type int dword_8D4BFC;
// 8D4C58: using guessed type int dword_8D4C58;
// 8D4C94: using guessed type int dword_8D4C94;
// 1208200: using guessed type int dword_1208200[];
// 13083AC: using guessed type int dword_13083AC[];
// 131054C: using guessed type int dword_131054C;
// 131072C: using guessed type int dword_131072C;
// 13225E4: using guessed type int dword_13225E4;
// 1328E45: using guessed type char byte_1328E45;
// 1330668: using guessed type int (__thiscall *dword_1330668)(_DWORD);
// 1330678: using guessed type int dword_1330678;
// 133067C: using guessed type int dword_133067C;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 1541C10: using guessed type int (*dword_1541C10)(void);
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;
// 1547960: using guessed type int dword_1547960;
// 154796C: using guessed type char byte_154796C;

//----- (00401700) --------------------------------------------------------
BOOL sub_401700()
{
  CHAR String; // [esp+0h] [ebp-104h]

  sprintf(&String, aMapDXDYD, (unsigned __int16)word_131ABFE, dword_154794C / 40, dword_1547950 / 20);
  sub_443ED0(0, 0, &String);
  sprintf(&String, aChrNumDAnimati, dword_48FA68, dword_48F960, dword_48F964, dword_48FA78);
  return sub_443ED0(0, 30, &String);
}
// 48F960: using guessed type int dword_48F960;
// 48F964: using guessed type int dword_48F964;
// 48FA68: using guessed type int dword_48FA68;
// 48FA78: using guessed type int dword_48FA78;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;

//----- (004017A0) --------------------------------------------------------
int sub_4017A0()
{
  DWORD v0; // eax
  DWORD v1; // eax
  int result; // eax
  DWORD v3; // eax
  char *v4; // edi
  __int16 *v5; // esi
  signed int v6; // edx
  int v7; // eax
  int v8; // edi
  int v9; // eax
  int v10; // ecx
  int v11; // ebx
  int v12; // esi
  int v13; // ecx
  int v14; // ecx
  bool v15; // sf
  unsigned __int8 v16; // of
  __int16 v17; // [esp-4h] [ebp-1Ch]
  int v18; // [esp+Ch] [ebp-Ch]
  int v19; // [esp+10h] [ebp-8h]
  int v20; // [esp+14h] [ebp-4h]

  if ( !(byte_48FA6C & 1) )
  {
    byte_48FA6C |= 1u;
    dword_48FA74 = GetTickCount();
  }
  BYTE2(dword_48EB10) = 10;
  v0 = GetTickCount();
  ++dword_48FAB8;
  if ( v0 - dword_48FABC >= BYTE2(dword_48EB10) )
  {
    if ( v0 - dword_48FABC - BYTE2(dword_48EB10) > BYTE2(dword_48EB10) )
    {
      result = v0 - BYTE2(dword_48EB10);
      dword_48FABC = result;
      return result;
    }
    dword_48FABC += BYTE2(dword_48EB10);
  }
  else
  {
    do
      v1 = GetTickCount();
    while ( v1 - dword_48FABC < BYTE2(dword_48EB10) );
    dword_48FABC = v1;
  }
  v3 = GetTickCount();
  dword_1547964 = v3;
  if ( v3 - dword_1547968 > 0xC8 )
  {
    dword_1547968 = v3;
    LOBYTE(dword_1547960) = dword_1547960 + 1;
    if ( (unsigned __int8)dword_1547960 > 3u )
    {
      LOBYTE(dword_1547960) = 0;
      sub_422E80(asc_485098, 4);
    }
  }
  sub_401000();
  sub_4773E0();
  result = dword_4862F0;
  if ( dword_4862F0 )
  {
    v4 = (char *)dword_1570240;
    v5 = word_13B5390;
    v6 = 600;
    v7 = (unsigned __int16)word_156FAA0;
    do
    {
      qmemcpy(v4, v5, 0x640u);
      v5 += 900;
      v4 += v7 + 1600;
      --v6;
    }
    while ( v6 );
    sub_443E60();
    SelectObject(hdc, ho);
    sub_401700();
    v8 = 0;
    if ( dword_1540B4C > 0 )
    {
      v9 = dword_154794C;
      v10 = dword_1547950;
      while ( 1 )
      {
        v19 = 0;
        if ( dword_1540B50 > 0 )
          break;
LABEL_34:
        if ( ++v8 >= dword_1540B4C )
          goto LABEL_35;
      }
      v11 = 40 * v8;
      v20 = 40 * v8;
      v12 = 0;
      while ( 1 )
      {
        if ( v11 <= v9 - 1 || v11 >= v9 + 800 || v12 <= v10 - 1 || v12 >= v10 + 600 )
          goto LABEL_33;
        v13 = *((unsigned __int16 *)dword_1547440 + v8 + v19 * dword_1540B4C);
        v18 = (unsigned __int16)v13;
        if ( v13 & 1 )
        {
          v17 = -1;
        }
        else if ( v13 & 4 )
        {
          v17 = 255;
        }
        else
        {
          if ( !(v13 & 8) )
          {
            if ( *((_WORD *)dword_1547440 + v8 + v19 * dword_1540B4C) )
            {
              v11 = 40 * v8;
              sub_4775B0(v20 - v9, v12 - dword_1547950, 8 * (5 * v8 + 5) - v9, v12 - dword_1547950 + 20, 0);
              sub_443F30(v20 - dword_154794C, v12 - dword_1547950, v18 >> 6);
              v9 = dword_154794C;
            }
            else
            {
              v11 = 40 * v8;
            }
            goto LABEL_33;
          }
          v17 = -16;
        }
        v11 = 40 * v8;
        sub_4775B0(v20 - v9, v12 - dword_1547950, 8 * (5 * v8 + 5) - v9, v12 - dword_1547950 + 20, v17);
        v9 = dword_154794C;
LABEL_33:
        v14 = v19 + 1;
        v12 += 20;
        v19 = v14;
        v16 = __OFSUB__(v14, dword_1540B50);
        v15 = v14 - dword_1540B50 < 0;
        v10 = dword_1547950;
        if ( !(v15 ^ v16) )
          goto LABEL_34;
      }
    }
LABEL_35:
    SelectObject(hdc, dword_1570318);
    sub_443EA0();
    x = dword_49D89C;
    y = dword_49D8A0;
    dword_1547438 = dword_8C8630;
    sub_4702F0();
    nullsub_1();
    result = sub_479E60();
  }
  return result;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862F0: using guessed type int dword_4862F0;
// 48EB10: using guessed type int dword_48EB10;
// 48FA6C: using guessed type char byte_48FA6C;
// 48FA74: using guessed type int dword_48FA74;
// 48FAB8: using guessed type int dword_48FAB8;
// 48FABC: using guessed type int dword_48FABC;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 8C8630: using guessed type int dword_8C8630;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 1547438: using guessed type int dword_1547438;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;
// 1547960: using guessed type int dword_1547960;
// 1547964: using guessed type int dword_1547964;
// 1547968: using guessed type int dword_1547968;
// 156FAA0: using guessed type __int16 word_156FAA0;
// 156FAA4: using guessed type int dword_156FAA4;
// 1570240: using guessed type int dword_1570240;

//----- (00401AB0) --------------------------------------------------------
char sub_401AB0()
{
  signed int v0; // edx
  signed int v1; // eax
  int v2; // ecx
  int v3; // ecx
  bool v4; // zf
  bool v5; // sf
  unsigned __int8 v6; // of
  int v7; // edx
  char result; // al

  if ( dword_1322618 )
  {
    if ( byte_1330187 )
    {
      byte_1330187 = 0;
      dword_132261C ^= 1u;
    }
  }
  else if ( byte_1330187 )
  {
    dword_13225E4 ^= 1u;
  }
  if ( dword_49D89C )
  {
    if ( dword_49D89C >= 799 )
    {
      dword_154794C += 20;
      if ( dword_154794C > 8 * (5 * dword_1540B4C - 100) )
        dword_154794C = 8 * (5 * dword_1540B4C - 100);
    }
  }
  else
  {
    dword_154794C -= 20;
    if ( dword_154794C < 0 )
      dword_154794C = 0;
  }
  if ( dword_49D8A0 )
  {
    if ( dword_49D8A0 >= 599 )
    {
      dword_1547950 += 20;
      if ( dword_1547950 > 4 * (5 * dword_1540B50 - 155) )
        dword_1547950 = 4 * (5 * dword_1540B50 - 155);
    }
  }
  else
  {
    dword_1547950 -= 20;
    if ( dword_1547950 < 0 )
      dword_1547950 = 0;
  }
  v0 = dword_48FA68;
  if ( byte_1330145 )
  {
    switch ( dword_48FA68 )
    {
      case 0:
        v0 = 20;
        goto LABEL_25;
      case 20:
        v0 = 40;
        goto LABEL_25;
      case 40:
        v0 = 60;
        goto LABEL_25;
      case 60:
        v0 = 80;
        goto LABEL_25;
      case 80:
        v0 = 0;
LABEL_25:
        dword_48FA68 = v0;
        break;
      default:
        break;
    }
    v1 = 0;
    v2 = 0;
    dword_48F960 = 0;
    dword_48FA78 = 0;
    dword_48F964 = 0;
    byte_1330145 = 0;
  }
  else
  {
    v1 = dword_48F960;
    v2 = dword_48FA78;
  }
  if ( byte_1330146 )
  {
    v3 = dword_8D3C24[v0];
    do
    {
      dword_48F960 = ++v1;
      if ( v1 > 20 )
      {
        v1 = 0;
        dword_48F960 = 0;
      }
    }
    while ( !*(_WORD *)(v3 + 8 * v1) );
    v2 = 0;
    dword_48F964 = 0;
    dword_48FA78 = 0;
    byte_1330146 = 0;
  }
  if ( byte_1330147 )
  {
    v6 = __OFSUB__(dword_48F964 + 1, 7);
    v4 = dword_48F964 == 6;
    v5 = dword_48F964++ - 6 < 0;
    if ( !((unsigned __int8)(v5 ^ v6) | v4) )
      dword_48F964 = 0;
    v2 = 0;
    byte_1330147 = 0;
    dword_48FA78 = 0;
  }
  if ( byte_1330134 )
  {
    v7 = dword_8D3C24[v0];
    byte_1330134 = 0;
    if ( v2 < *(unsigned __int16 *)(v7 + 8 * v1) - 1 )
      dword_48FA78 = ++v2;
  }
  result = byte_133011C;
  if ( byte_133011C )
  {
    byte_133011C = 0;
    if ( v2 > 0 )
      dword_48FA78 = v2 - 1;
  }
  return result;
}
// 48F960: using guessed type int dword_48F960;
// 48F964: using guessed type int dword_48F964;
// 48FA68: using guessed type int dword_48FA68;
// 48FA78: using guessed type int dword_48FA78;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 8D3C24: using guessed type int dword_8D3C24[];
// 13225E4: using guessed type int dword_13225E4;
// 1322618: using guessed type int dword_1322618;
// 132261C: using guessed type int dword_132261C;
// 133011C: using guessed type char byte_133011C;
// 1330134: using guessed type char byte_1330134;
// 1330145: using guessed type char byte_1330145;
// 1330146: using guessed type char byte_1330146;
// 1330147: using guessed type char byte_1330147;
// 1330187: using guessed type char byte_1330187;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;

//----- (00401D10) --------------------------------------------------------
signed int __cdecl sub_401D10(int a1)
{
  signed int result; // eax
  LPCSTR v2; // ebp
  double v3; // st7
  int v4; // edi
  char v5; // al
  signed __int64 v6; // rax
  signed __int64 v7; // rax
  LPCSTR v8; // esi
  signed __int64 v9; // rax
  signed __int64 v10; // rax
  signed int v11; // edi
  signed __int64 v12; // rax
  signed __int64 v13; // rax

  result = *(_DWORD *)(a1 + 92);
  if ( !result )
  {
    v2 = (&lpString)[dword_131D690];
    result = *((_DWORD *)v2 + 23);
    if ( !result )
    {
      v3 = *((float *)v2 + 28) * 0.025;
      if ( *(_BYTE *)(a1 + 104) )
      {
        v11 = (signed __int64)(*(float *)(a1 + 112) * 0.025) - (signed __int64)v3;
        result = (signed __int64)(*(float *)(a1 + 120) * 0.050000001)
               - (signed __int64)(*((float *)v2 + 30) * 0.050000001);
        if ( v11 < -1 || v11 > 1 || result < -1 || result > 1 )
        {
          *(_BYTE *)(a1 + 104) = 0;
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 11;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
          sub_479790(7);
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 18;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
          v12 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
          LOBYTE(dword_1550B67) = BYTE1(v12);
          BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
          v13 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
          BYTE2(dword_1550B67) = BYTE1(v13);
          HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
          dword_1550B6B = *((_DWORD *)(&lpString)[dword_131D690] + 14);
          result = sub_479790(15);
        }
      }
      else
      {
        v4 = (signed __int64)(*(float *)(a1 + 112) * 0.025) - (signed __int64)v3;
        result = (signed __int64)(*(float *)(a1 + 120) * 0.050000001)
               - (signed __int64)(*((float *)v2 + 30) * 0.050000001);
        if ( (v4 == -1
           || v4 == 1
           || (unsigned int)(signed __int64)(*(float *)(a1 + 112) * 0.025) == (unsigned int)(signed __int64)v3)
          && (result == -1
           || result == 1
           || (unsigned int)(signed __int64)(*(float *)(a1 + 120) * 0.050000001) == (unsigned int)(signed __int64)(*((float *)v2 + 30) * 0.050000001)) )
        {
          if ( v4 == -1 )
          {
            if ( result == -1 )
            {
              *(_BYTE *)(a1 + 172) = 6;
            }
            else if ( (unsigned int)(signed __int64)(*(float *)(a1 + 120) * 0.050000001) == (unsigned int)(signed __int64)(*((float *)v2 + 30) * 0.050000001) )
            {
              *(_BYTE *)(a1 + 172) = 5;
            }
            else if ( result == 1 )
            {
              *(_BYTE *)(a1 + 172) = 4;
            }
          }
          else if ( (unsigned int)(signed __int64)(*(float *)(a1 + 112) * 0.025) == (unsigned int)(signed __int64)v3 )
          {
            if ( result == -1 )
            {
              *(_BYTE *)(a1 + 172) = 7;
            }
            else if ( result == 1 )
            {
              *(_BYTE *)(a1 + 172) = 3;
            }
          }
          else if ( v4 == 1 )
          {
            if ( result == -1 )
            {
              *(_BYTE *)(a1 + 172) = 0;
            }
            else if ( (unsigned int)(signed __int64)(*(float *)(a1 + 120) * 0.050000001) == (unsigned int)(signed __int64)(*((float *)v2 + 30) * 0.050000001) )
            {
              *(_BYTE *)(a1 + 172) = 1;
            }
            else if ( result == 1 )
            {
              *(_BYTE *)(a1 + 172) = 2;
            }
          }
          v5 = *(_BYTE *)(a1 + 172);
          *(_BYTE *)(a1 + 104) = 1;
          *(_BYTE *)(a1 + 173) = v5;
          *(_DWORD *)(a1 + 188) = 0;
          *(_DWORD *)(a1 + 100) = -1;
          *(_WORD *)(a1 + 176) = 0;
          *(_DWORD *)(a1 + 600) = 1;
          if ( dword_132258C & 1 )
          {
            if ( (dword_132258C & 1) != 1 )
            {
LABEL_34:
              sub_423330(a1);
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 7;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
              v6 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v6);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
              v7 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v7);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
              v8 = (&lpString)[dword_131D690];
              dword_1550B6B = *((_DWORD *)v8 + 14);
              v9 = (signed __int64)(*((float *)v8 + 28) * 0.025);
              byte_1550B6F = BYTE1(v9);
              byte_1550B70 = (signed __int64)(*((float *)v8 + 28) * 0.025);
              v10 = (signed __int64)(*((float *)v8 + 30) * 0.050000001);
              byte_1550B71 = BYTE1(v10);
              byte_1550B72 = (signed __int64)(*((float *)v8 + 30) * 0.050000001);
              return sub_479790(19);
            }
            if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(a1 + 168)] + 48) )
            {
              *(_BYTE *)(a1 + 174) = 6;
              goto LABEL_34;
            }
          }
          *(_BYTE *)(a1 + 174) = 5;
          goto LABEL_34;
        }
      }
    }
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;

//----- (00402090) --------------------------------------------------------
void __cdecl sub_402090(int a1)
{
  int v1; // esi
  LPCSTR v2; // ebp
  char v3; // al
  signed __int64 v4; // rax
  signed __int64 v5; // rax
  int v6; // edi
  int v7; // edi
  signed __int64 v8; // rax
  signed int v9; // edi
  LPCSTR v10; // ebp
  double v11; // st7
  int v12; // edi
  int v13; // ebx
  double v14; // st7
  int v15; // eax
  signed __int64 v16; // rax
  signed __int64 v17; // rax
  __int16 v18; // cx
  int v19; // eax
  int v20; // eax
  char v21; // dl
  signed __int64 v22; // rax
  signed __int64 v23; // rax
  LPCSTR v24; // edi
  signed __int64 v25; // rax
  signed __int64 v26; // rax
  signed __int64 v27; // rax
  signed __int64 v28; // rax
  __int16 v29; // ax
  int v30; // ecx
  int v31; // ecx
  signed int v32; // eax
  signed int v33; // ST28_4
  double v34; // st7
  int v35; // edi
  signed __int64 v36; // rax
  signed int v37; // edi
  signed int v38; // eax
  LPCSTR v39; // edi
  signed __int64 v40; // rax
  signed __int64 v41; // rax
  signed __int64 v42; // rax
  signed __int64 v43; // rax
  LPCSTR v44; // ebp
  double v45; // st7
  int v46; // edi
  int v47; // ebx
  double v48; // st7
  signed __int64 v49; // rax
  signed __int64 v50; // rax
  __int16 v51; // cx
  int v52; // eax
  int v53; // eax

  v1 = a1;
  if ( *(_DWORD *)(a1 + 92) )
    return;
  v2 = (&lpString)[dword_131D690];
  if ( *((_DWORD *)v2 + 23) )
    return;
  v3 = *(_BYTE *)(a1 + 97);
  if ( v3 )
  {
    if ( v3 == 3
      && (signed __int64)*(float *)(a1 + 112) / 40 == *(_DWORD *)(a1 + 132) / 40
      && (signed __int64)*(float *)(a1 + 120) / 20 == *(_DWORD *)(a1 + 136) / 20 )
    {
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      LOBYTE(dword_1550B62) = 18;
      *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
      v4 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
      LOBYTE(dword_1550B67) = BYTE1(v4);
      BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
      v5 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
      BYTE2(dword_1550B67) = BYTE1(v5);
      HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
      dword_1550B6B = *((_DWORD *)v2 + 14);
      sub_479790(15);
      *(_DWORD *)(v1 + 72) = 0;
      *(_DWORD *)(v1 + 76) = 0;
      *(_BYTE *)(v1 + 97) = 0;
    }
    goto LABEL_82;
  }
  if ( !*(_BYTE *)(a1 + 104) )
  {
    v6 = (signed __int64)(*((float *)v2 + 28) * 0.025);
    v8 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
    a1 = v6;
    v7 = v8 - v6;
    LODWORD(v8) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001)
                - (signed __int64)(*((float *)v2 + 30) * 0.050000001);
    if ( v7 != -1 && v7 != 1 && v7
      || (_DWORD)v8 != -1
      && (_DWORD)v8 != 1
      && (unsigned int)(signed __int64)(*(float *)(v1 + 120) * 0.050000001) != (unsigned int)(signed __int64)(*((float *)v2 + 30) * 0.050000001) )
    {
      if ( !*(_DWORD *)(v1 + 72) && !*(_DWORD *)(v1 + 600) )
      {
        *(_DWORD *)(v1 + 600) = 0;
        *(_DWORD *)(v1 + 72) = 1;
        *(_BYTE *)(v1 + 174) = 2;
        *(_DWORD *)(v1 + 188) = 1;
        v9 = sub_4271B0(
               *(_DWORD *)(v1 + 52),
               20 - 40 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * -0.025),
               10 - 20 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * -0.050000001));
        if ( (unsigned int)(signed __int64)*(float *)(v1 + 112) == *(_DWORD *)(v1 + 140)
          && (unsigned int)(signed __int64)*(float *)(v1 + 120) == *(_DWORD *)(v1 + 144)
          || !v9 )
        {
          v10 = (&lpString)[dword_131D690];
          v11 = *((float *)v10 + 28) * 0.025;
          v12 = -(signed int)(signed __int64)v11 - (unsigned __int64)(signed __int64)(*(float *)(v1 + 112) * -0.025);
          v13 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001)
              - (signed __int64)(*((float *)v10 + 30) * 0.050000001);
          if ( v12 <= 0 )
          {
            v14 = *((float *)v10 + 28);
            if ( v12 >= 0 )
              *(_DWORD *)(v1 + 132) = 20 - 40 * (unsigned __int64)(signed __int64)(v14 * -0.025);
            else
              *(_DWORD *)(v1 + 132) = 20 - -40 * (unsigned __int64)(signed __int64)(v14 * 0.025 + -15.0);
          }
          else
          {
            *(_DWORD *)(v1 + 132) = 40 * (unsigned __int64)(signed __int64)(v11 + 15.0) + 20;
          }
          if ( v13 <= 0 )
          {
            if ( v13 < 0 )
            {
              *(_DWORD *)(v1 + 136) = 10
                                    - -20
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                       * 0.050000001
                                                                       + -30.0);
LABEL_31:
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 3;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              sub_42EA60(v1, &dword_1550B67);
              v16 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              BYTE1(dword_1550B6B) = BYTE1(v16);
              BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v17 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              HIBYTE(dword_1550B6B) = BYTE1(v17);
              byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
              byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
              byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
              v18 = 0;
              byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
              v19 = *(_DWORD *)(v1 + 636);
              a1 = 0;
              if ( v19 != -1 )
              {
                sub_466490(v1, v19, &a1);
                v18 = a1;
              }
              v20 = *(_DWORD *)(v1 + 636);
              byte_1550B74 = BYTE1(v20);
              byte_1550B75[0] = *(_BYTE *)(v1 + 636);
              byte_1550B76[0] = HIBYTE(v18);
              byte_1550B77[0] = v18;
              sub_479790(24);
              *(_BYTE *)(v1 + 97) = 3;
              *(_DWORD *)(v1 + 100) = -1;
              goto LABEL_82;
            }
            v15 = 10
                - 20 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * -0.050000001);
          }
          else
          {
            v15 = 20
                * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * 0.050000001 + 30.0)
                + 10;
          }
          *(_DWORD *)(v1 + 136) = v15;
          goto LABEL_31;
        }
        goto LABEL_81;
      }
      goto LABEL_82;
    }
    *(_DWORD *)(v1 + 72) = 0;
    if ( v7 == -1 )
    {
      if ( (_DWORD)v8 == -1 )
      {
        *(_BYTE *)(v1 + 172) = 6;
      }
      else if ( (_DWORD)v8 )
      {
        if ( (_DWORD)v8 == 1 )
          *(_BYTE *)(v1 + 172) = 4;
      }
      else
      {
        *(_BYTE *)(v1 + 172) = 5;
      }
    }
    else if ( v7 )
    {
      if ( v7 == 1 )
      {
        if ( (_DWORD)v8 == -1 )
        {
          *(_BYTE *)(v1 + 172) = 0;
        }
        else if ( (_DWORD)v8 )
        {
          if ( (_DWORD)v8 == 1 )
            *(_BYTE *)(v1 + 172) = 2;
        }
        else
        {
          *(_BYTE *)(v1 + 172) = 1;
        }
      }
    }
    else if ( (_DWORD)v8 == -1 )
    {
      *(_BYTE *)(v1 + 172) = 7;
    }
    else if ( (_DWORD)v8 == 1 )
    {
      *(_BYTE *)(v1 + 172) = 3;
    }
    if ( *((_DWORD *)(&lpString)[dword_131D690] + 159) == 106 )
    {
      switch ( *(unsigned __int8 *)(v1 + 172) )
      {
        case 0u:
          v7 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
          goto LABEL_63;
        case 1u:
          v7 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
          v8 = (signed __int64)*(float *)(v1 + 120);
          break;
        case 2u:
          v7 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
          LODWORD(v8) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
          break;
        case 3u:
          v7 = (signed __int64)*(float *)(v1 + 112);
          LODWORD(v8) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
          break;
        case 4u:
          v7 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
          LODWORD(v8) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
          break;
        case 5u:
          v7 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
          v8 = (signed __int64)*(float *)(v1 + 120);
          break;
        case 6u:
          v7 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
          goto LABEL_63;
        case 7u:
          v7 = (signed __int64)*(float *)(v1 + 112);
LABEL_63:
          LODWORD(v8) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) - 100;
          break;
        default:
          break;
      }
      sub_426260(*(_DWORD *)(v1 + 52), v7, v8);
      if ( (double)(*(_DWORD *)(v1 + 132) / 40) != *(float *)(v1 + 112) * 0.025
        || (double)(*(_DWORD *)(v1 + 136) / 20) != *(float *)(v1 + 120) * 0.050000001 )
      {
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 114;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
        sub_42EA60(v1, &dword_1550B67);
        v27 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        BYTE1(dword_1550B6B) = BYTE1(v27);
        BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        v28 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        HIBYTE(dword_1550B6B) = BYTE1(v28);
        byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
        byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
        byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
        v29 = 0;
        HIDWORD(v28) = *(_DWORD *)(v1 + 136) / 20;
        a1 = 0;
        byte_1550B73 = BYTE4(v28);
        v30 = *(_DWORD *)(v1 + 636);
        if ( v30 != -1 )
        {
          sub_466490(v1, v30, &a1);
          v29 = a1;
        }
        v31 = *(_DWORD *)(v1 + 636);
        byte_1550B74 = BYTE1(v31);
        byte_1550B75[0] = *(_BYTE *)(v1 + 636);
        byte_1550B76[0] = HIBYTE(v29);
        byte_1550B77[0] = v29;
        sub_479790(24);
        sub_429A60(
          v1,
          (signed __int64)*(float *)(v1 + 112) / 40,
          (signed __int64)*(float *)(v1 + 120) / 20,
          *(_DWORD *)(v1 + 132) / 40,
          *(_DWORD *)(v1 + 136) / 20);
        *((_BYTE *)dword_1542DA4
        + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(v1 + 120) * 0.050000001)
        + (unsigned __int16)(signed __int64)(*(float *)(v1 + 112) * 0.025)) = 0;
        v32 = *(_DWORD *)(v1 + 132);
        v33 = *(_DWORD *)(v1 + 136);
        *(_DWORD *)(v1 + 140) = v32;
        *(_DWORD *)(v1 + 144) = v33;
        *(_DWORD *)(v1 + 188) = 0;
        *(float *)(v1 + 112) = (double)v32;
        v34 = (double)v33;
        *(_BYTE *)(v1 + 174) = 0;
        *(_DWORD *)(v1 + 600) = 0;
        *(_WORD *)(v1 + 176) = 0;
        *(float *)(v1 + 120) = v34;
        *(float *)(v1 + 116) = v34;
        goto LABEL_82;
      }
    }
    v21 = *(_BYTE *)(v1 + 172);
    *(_BYTE *)(v1 + 104) = 1;
    *(_BYTE *)(v1 + 173) = v21;
    *(_DWORD *)(v1 + 188) = 0;
    *(_DWORD *)(v1 + 600) = 1;
    if ( dword_132258C & 1 )
    {
      if ( (dword_132258C & 1) != 1 )
      {
LABEL_71:
        *(_WORD *)(v1 + 176) = 0;
        sub_423330(v1);
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 7;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
        v22 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v22);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        v23 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v23);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        v24 = (&lpString)[dword_131D690];
        dword_1550B6B = *((_DWORD *)v24 + 14);
        v25 = (signed __int64)(*((float *)v24 + 28) * 0.025);
        byte_1550B6F = BYTE1(v25);
        byte_1550B70 = (signed __int64)(*((float *)v24 + 28) * 0.025);
        v26 = (signed __int64)(*((float *)v24 + 30) * 0.050000001);
        byte_1550B71 = BYTE1(v26);
        byte_1550B72 = (signed __int64)(*((float *)v24 + 30) * 0.050000001);
        sub_479790(19);
        goto LABEL_82;
      }
      if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 48) )
      {
        *(_BYTE *)(v1 + 174) = 6;
        goto LABEL_71;
      }
    }
    *(_BYTE *)(v1 + 174) = 5;
    goto LABEL_71;
  }
  if ( !*(_DWORD *)(a1 + 600) )
  {
    v35 = (signed __int64)(*((float *)v2 + 28) * 0.025);
    v36 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
    a1 = v35;
    v37 = v36 - v35;
    v38 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001) - (signed __int64)(*((float *)v2 + 30) * 0.050000001);
    if ( v37 < -1 || v37 > 1 || v38 < -1 || v38 > 1 )
    {
      *(_BYTE *)(v1 + 104) = 0;
      *(_DWORD *)(v1 + 72) = 1;
      *(_DWORD *)(v1 + 600) = 0;
      *(_BYTE *)(v1 + 174) = 2;
      *(_DWORD *)(v1 + 188) = 1;
LABEL_81:
      *(_DWORD *)(v1 + 132) = 20
                            - 40
                            * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * -0.025);
      *(_DWORD *)(v1 + 136) = 10
                            - 20
                            * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                               * -0.050000001);
      *(_DWORD *)(v1 + 100) = dword_131D690;
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      v39 = (&lpString)[dword_131D690];
      LOBYTE(dword_1550B62) = 9;
      *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
      dword_1550B67 = *((_DWORD *)v39 + 14);
      v40 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
      LOBYTE(dword_1550B6B) = BYTE1(v40);
      BYTE1(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
      v41 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
      BYTE2(dword_1550B6B) = BYTE1(v41);
      HIBYTE(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
      v42 = (signed __int64)(*((float *)v39 + 28) * 0.025);
      byte_1550B6F = BYTE1(v42);
      byte_1550B70 = (signed __int64)(*((float *)v39 + 28) * 0.025);
      v43 = (signed __int64)(*((float *)v39 + 30) * 0.050000001);
      byte_1550B71 = BYTE1(v43);
      byte_1550B72 = (signed __int64)(*((float *)v39 + 30) * 0.050000001);
      sub_42EA60(v1, &byte_1550B73);
      sub_42EA60((int)(&lpString)[dword_131D690], byte_1550B78);
      sub_479790(29);
      goto LABEL_82;
    }
  }
LABEL_82:
  if ( !*(_BYTE *)(v1 + 97)
    && *(_BYTE *)(v1 + 174) == 2
    && *(_DWORD *)(v1 + 124) == (unsigned int)(signed __int64)*(float *)(v1 + 112)
    && *(_DWORD *)(v1 + 128) == (unsigned int)(signed __int64)*(float *)(v1 + 120) )
  {
    v44 = (&lpString)[dword_131D690];
    v45 = *((float *)v44 + 28) * 0.025;
    v46 = -(signed int)(signed __int64)v45 - (unsigned __int64)(signed __int64)(*(float *)(v1 + 112) * -0.025);
    v47 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001) - (signed __int64)(*((float *)v44 + 30) * 0.050000001);
    if ( v46 <= 0 )
    {
      v48 = *((float *)v44 + 28);
      if ( v46 >= 0 )
        *(_DWORD *)(v1 + 132) = 20 - 40 * (unsigned __int64)(signed __int64)(v48 * -0.025);
      else
        *(_DWORD *)(v1 + 132) = 20 - -40 * (unsigned __int64)(signed __int64)(v48 * 0.025 + -15.0);
    }
    else
    {
      *(_DWORD *)(v1 + 132) = 40 * (unsigned __int64)(signed __int64)(v45 + 15.0) + 20;
    }
    if ( v47 <= 0 )
    {
      if ( v47 >= 0 )
        *(_DWORD *)(v1 + 136) = 10
                              - 20
                              * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                 * -0.050000001);
      else
        *(_DWORD *)(v1 + 136) = 10
                              - -20
                              * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                 * 0.050000001
                                                                 + -30.0);
    }
    else
    {
      *(_DWORD *)(v1 + 136) = 20
                            * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                               * 0.050000001
                                                               + 30.0)
                            + 10;
    }
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 3;
    *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
    sub_42EA60(v1, &dword_1550B67);
    v49 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
    BYTE1(dword_1550B6B) = BYTE1(v49);
    BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
    v50 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
    HIBYTE(dword_1550B6B) = BYTE1(v50);
    byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
    byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                    + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
    byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
    byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                    + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
    v51 = 0;
    byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
    v52 = *(_DWORD *)(v1 + 636);
    a1 = 0;
    if ( v52 != -1 )
    {
      sub_466490(v1, v52, &a1);
      v51 = a1;
    }
    v53 = *(_DWORD *)(v1 + 636);
    byte_1550B74 = BYTE1(v53);
    byte_1550B75[0] = *(_BYTE *)(v1 + 636);
    byte_1550B76[0] = HIBYTE(v51);
    byte_1550B77[0] = v51;
    sub_479790(24);
    *(_BYTE *)(v1 + 97) = 3;
  }
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1540B4C: using guessed type int dword_1540B4C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (00403080) --------------------------------------------------------
void __cdecl sub_403080(int a1)
{
  int v1; // esi
  LPCSTR v2; // ebp
  signed __int64 v3; // rax
  signed __int64 v4; // rax
  signed __int64 v5; // rax
  int v6; // edi
  int v7; // ebp
  signed __int64 v8; // rax
  signed __int64 v9; // rax
  __int16 v10; // cx
  int v11; // eax
  int v12; // eax
  int v13; // edi
  signed __int64 v14; // rax
  signed int v15; // edi
  LPCSTR v16; // ebp
  double v17; // st7
  int v18; // edi
  int v19; // ebx
  double v20; // st7
  signed __int64 v21; // rax
  signed __int64 v22; // rax
  __int16 v23; // cx
  int v24; // eax
  int v25; // eax
  LPCSTR v26; // edi
  signed __int64 v27; // rax
  signed __int64 v28; // rax
  signed __int64 v29; // rax
  signed __int64 v30; // rax
  char v31; // dl
  signed __int64 v32; // rax
  signed __int64 v33; // rax
  LPCSTR v34; // edi
  signed __int64 v35; // rax
  signed __int64 v36; // rax
  signed __int64 v37; // rax
  signed __int64 v38; // rax
  __int16 v39; // ax
  int v40; // ecx
  int v41; // ecx
  signed int v42; // eax
  signed int v43; // ST28_4
  double v44; // st7
  LPCSTR v45; // ebp
  signed int v46; // edi
  signed int v47; // eax
  LPCSTR v48; // edi
  signed __int64 v49; // rax
  signed __int64 v50; // rax
  signed __int64 v51; // rax
  signed __int64 v52; // rax

  v1 = a1;
  if ( !*(_DWORD *)(a1 + 92) )
  {
    v2 = (&lpString)[dword_131D690];
    if ( !*((_DWORD *)v2 + 23) )
    {
      if ( *(_BYTE *)(a1 + 104) )
        goto LABEL_105;
      if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(a1 + 168)] + 40) )
      {
        if ( *(_BYTE *)(a1 + 97) )
        {
          if ( *(_BYTE *)(a1 + 97) == 1 )
          {
            v5 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
            a1 = (signed __int64)(*((float *)v2 + 28) * 0.025);
            v6 = v5 - a1;
            v7 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001)
               - (signed __int64)(*((float *)v2 + 30) * 0.050000001);
            if ( *(_BYTE *)(v1 + 174) != 2 )
            {
              *(_DWORD *)(v1 + 72) = 1;
              *(_DWORD *)(v1 + 100) = -1;
              *(_DWORD *)(v1 + 600) = 0;
              *(_BYTE *)(v1 + 174) = 2;
              *(_DWORD *)(v1 + 188) = 1;
              if ( v6 <= 0 )
              {
                if ( v6 >= 0 )
                  *(_DWORD *)(v1 + 132) = 20
                                        - 40
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                           * -0.025);
                else
                  *(_DWORD *)(v1 + 132) = 20
                                        - -40
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                           * 0.025
                                                                           + -15.0);
              }
              else
              {
                *(_DWORD *)(v1 + 132) = 40
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                         * 0.025
                                                                         + 15.0)
                                      + 20;
              }
              if ( v7 <= 0 )
              {
                if ( v7 >= 0 )
                  *(_DWORD *)(v1 + 136) = 10
                                        - 20
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                           * -0.050000001);
                else
                  *(_DWORD *)(v1 + 136) = 10
                                        - -20
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                           * 0.050000001
                                                                           + -30.0);
              }
              else
              {
                *(_DWORD *)(v1 + 136) = 20
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                         * 0.050000001
                                                                         + 30.0)
                                      + 10;
              }
              *(_BYTE *)(v1 + 97) = 2;
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 3;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              sub_42EA60(v1, &dword_1550B67);
              v8 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              BYTE1(dword_1550B6B) = BYTE1(v8);
              BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v9 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              HIBYTE(dword_1550B6B) = BYTE1(v9);
              byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
              byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
              byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
              v10 = 0;
              byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
              v11 = *(_DWORD *)(v1 + 636);
              a1 = 0;
              if ( v11 != -1 )
              {
                sub_466490(v1, v11, &a1);
                v10 = a1;
              }
              v12 = *(_DWORD *)(v1 + 636);
              byte_1550B74 = BYTE1(v12);
              byte_1550B75[0] = *(_BYTE *)(v1 + 636);
              byte_1550B76[0] = HIBYTE(v10);
              byte_1550B77[0] = v10;
              sub_479790(24);
            }
          }
          else if ( *(_BYTE *)(a1 + 97) == 2
                 && (signed __int64)*(float *)(a1 + 112) / 40 == *(_DWORD *)(a1 + 132) / 40
                 && (signed __int64)*(float *)(a1 + 120) / 20 == *(_DWORD *)(a1 + 136) / 20 )
          {
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 18;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
            v3 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
            LOBYTE(dword_1550B67) = BYTE1(v3);
            BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
            v4 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
            BYTE2(dword_1550B67) = BYTE1(v4);
            HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
            dword_1550B6B = *((_DWORD *)v2 + 14);
            sub_479790(15);
            *(_DWORD *)(v1 + 72) = 0;
            *(_DWORD *)(v1 + 76) = 0;
            *(_BYTE *)(v1 + 97) = 0;
          }
        }
        else
        {
          v13 = (signed __int64)(*(float *)(a1 + 112) * 0.025) - (signed __int64)(*((float *)v2 + 28) * 0.025);
          LODWORD(v14) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001)
                       - (signed __int64)(*((float *)v2 + 30) * 0.050000001);
          if ( (v13 == -1
             || v13 == 1
             || (unsigned int)(signed __int64)(*(float *)(a1 + 112) * 0.025) == (unsigned int)(signed __int64)(*((float *)v2 + 28) * 0.025))
            && ((_DWORD)v14 == -1
             || (_DWORD)v14 == 1
             || (unsigned int)(signed __int64)(*(float *)(a1 + 120) * 0.050000001) == (unsigned int)(signed __int64)(*((float *)v2 + 30) * 0.050000001)) )
          {
            *(_DWORD *)(a1 + 72) = 0;
            if ( v13 == -1 )
            {
              if ( (_DWORD)v14 == -1 )
              {
                *(_BYTE *)(v1 + 172) = 6;
              }
              else if ( (_DWORD)v14 )
              {
                if ( (_DWORD)v14 == 1 )
                  *(_BYTE *)(v1 + 172) = 4;
              }
              else
              {
                *(_BYTE *)(v1 + 172) = 5;
              }
            }
            else if ( v13 )
            {
              if ( v13 == 1 )
              {
                if ( (_DWORD)v14 == -1 )
                {
                  *(_BYTE *)(v1 + 172) = 0;
                }
                else if ( (_DWORD)v14 )
                {
                  if ( (_DWORD)v14 == 1 )
                    *(_BYTE *)(v1 + 172) = 2;
                }
                else
                {
                  *(_BYTE *)(v1 + 172) = 1;
                }
              }
            }
            else if ( (_DWORD)v14 == -1 )
            {
              *(_BYTE *)(v1 + 172) = 7;
            }
            else if ( (_DWORD)v14 == 1 )
            {
              *(_BYTE *)(v1 + 172) = 3;
            }
            if ( *((_DWORD *)(&lpString)[dword_131D690] + 159) != 106 )
              goto LABEL_106;
            switch ( *(unsigned __int8 *)(v1 + 172) )
            {
              case 0u:
                v13 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
                goto LABEL_79;
              case 1u:
                v13 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
                v14 = (signed __int64)*(float *)(v1 + 120);
                break;
              case 2u:
                v13 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
                LODWORD(v14) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
                break;
              case 3u:
                v13 = (signed __int64)*(float *)(v1 + 112);
                LODWORD(v14) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
                break;
              case 4u:
                v13 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
                LODWORD(v14) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
                break;
              case 5u:
                v13 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
                v14 = (signed __int64)*(float *)(v1 + 120);
                break;
              case 6u:
                v13 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
                goto LABEL_79;
              case 7u:
                v13 = (signed __int64)*(float *)(v1 + 112);
LABEL_79:
                LODWORD(v14) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) - 100;
                break;
              default:
                break;
            }
            sub_426260(*(_DWORD *)(v1 + 52), v13, v14);
            if ( (double)(*(_DWORD *)(v1 + 132) / 40) != *(float *)(v1 + 112) * 0.025
              || (double)(*(_DWORD *)(v1 + 136) / 40) != *(float *)(v1 + 120) * 0.025 )
            {
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 114;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              sub_42EA60(v1, &dword_1550B67);
              v37 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              BYTE1(dword_1550B6B) = BYTE1(v37);
              BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v38 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              HIBYTE(dword_1550B6B) = BYTE1(v38);
              byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
              byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
              byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
              v39 = 0;
              HIDWORD(v38) = *(_DWORD *)(v1 + 136) / 20;
              a1 = 0;
              byte_1550B73 = BYTE4(v38);
              v40 = *(_DWORD *)(v1 + 636);
              if ( v40 != -1 )
              {
                sub_466490(v1, v40, &a1);
                v39 = a1;
              }
              v41 = *(_DWORD *)(v1 + 636);
              byte_1550B74 = BYTE1(v41);
              byte_1550B75[0] = *(_BYTE *)(v1 + 636);
              byte_1550B76[0] = HIBYTE(v39);
              byte_1550B77[0] = v39;
              sub_479790(24);
              *((_BYTE *)dword_1542DA4
              + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(v1 + 120) * 0.050000001)
              + (unsigned __int16)(signed __int64)(*(float *)(v1 + 112) * 0.025)) = 0;
              sub_429A60(
                v1,
                (signed __int64)*(float *)(v1 + 112) / 40,
                (signed __int64)*(float *)(v1 + 120) / 20,
                *(_DWORD *)(v1 + 132) / 40,
                *(_DWORD *)(v1 + 136) / 20);
              v42 = *(_DWORD *)(v1 + 132);
              v43 = *(_DWORD *)(v1 + 136);
              *(_DWORD *)(v1 + 140) = v42;
              *(_DWORD *)(v1 + 144) = v43;
              *(_DWORD *)(v1 + 188) = 0;
              *(float *)(v1 + 112) = (double)v42;
              v44 = (double)v43;
              *(_BYTE *)(v1 + 174) = 0;
              *(_DWORD *)(v1 + 600) = 0;
              *(_WORD *)(v1 + 176) = 0;
              *(float *)(v1 + 120) = v44;
              *(float *)(v1 + 116) = v44;
            }
            else
            {
LABEL_106:
              v31 = *(_BYTE *)(v1 + 172);
              *(_BYTE *)(v1 + 104) = 1;
              *(_BYTE *)(v1 + 173) = v31;
              *(_DWORD *)(v1 + 188) = 0;
              *(_DWORD *)(v1 + 600) = 1;
              switch ( dword_132258C & 3 )
              {
                case 0:
                  goto LABEL_89;
                case 1:
                  if ( !*(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 48) )
                    goto LABEL_89;
                  *(_BYTE *)(v1 + 174) = 6;
                  break;
                case 2:
                  if ( !*(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 56) )
                    goto LABEL_89;
                  *(_BYTE *)(v1 + 174) = 7;
                  break;
                case 3:
                  if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 64) )
                    *(_BYTE *)(v1 + 174) = 8;
                  else
LABEL_89:
                    *(_BYTE *)(v1 + 174) = 5;
                  break;
                default:
                  break;
              }
              *(_WORD *)(v1 + 176) = 0;
              sub_423330(v1);
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 7;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              v32 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v32);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v33 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v33);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              v34 = (&lpString)[dword_131D690];
              dword_1550B6B = *((_DWORD *)v34 + 14);
              v35 = (signed __int64)(*((float *)v34 + 28) * 0.025);
              byte_1550B6F = BYTE1(v35);
              byte_1550B70 = (signed __int64)(*((float *)v34 + 28) * 0.025);
              v36 = (signed __int64)(*((float *)v34 + 30) * 0.050000001);
              byte_1550B71 = BYTE1(v36);
              byte_1550B72 = (signed __int64)(*((float *)v34 + 30) * 0.050000001);
              sub_479790(19);
            }
          }
          else if ( !*(_DWORD *)(a1 + 72) && !*(_DWORD *)(a1 + 600) )
          {
            *(_DWORD *)(a1 + 600) = 0;
            *(_DWORD *)(v1 + 72) = 1;
            *(_BYTE *)(v1 + 174) = 2;
            *(_DWORD *)(v1 + 188) = 1;
            v15 = sub_4271B0(
                    *(_DWORD *)(v1 + 52),
                    20 - 40 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * -0.025),
                    10
                  - 20 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * -0.050000001));
            if ( ((unsigned int)(signed __int64)*(float *)(v1 + 112) != *(_DWORD *)(v1 + 140)
               || (unsigned int)(signed __int64)*(float *)(v1 + 120) != *(_DWORD *)(v1 + 144))
              && v15 )
            {
              *(_DWORD *)(v1 + 132) = 20
                                    - 40
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                       * -0.025);
              *(_DWORD *)(v1 + 136) = 10
                                    - 20
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                       * -0.050000001);
              *(_DWORD *)(v1 + 100) = dword_131D690;
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              v26 = (&lpString)[dword_131D690];
              LOBYTE(dword_1550B62) = 9;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              dword_1550B67 = *((_DWORD *)v26 + 14);
              v27 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              LOBYTE(dword_1550B6B) = BYTE1(v27);
              BYTE1(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v28 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              BYTE2(dword_1550B6B) = BYTE1(v28);
              HIBYTE(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              v29 = (signed __int64)(*((float *)v26 + 28) * 0.025);
              byte_1550B6F = BYTE1(v29);
              byte_1550B70 = (signed __int64)(*((float *)v26 + 28) * 0.025);
              v30 = (signed __int64)(*((float *)v26 + 30) * 0.050000001);
              byte_1550B71 = BYTE1(v30);
              byte_1550B72 = (signed __int64)(*((float *)v26 + 30) * 0.050000001);
              sub_42EA60(v1, &byte_1550B73);
              sub_42EA60((int)(&lpString)[dword_131D690], byte_1550B78);
              sub_479790(29);
            }
            else
            {
              v16 = (&lpString)[dword_131D690];
              v17 = *((float *)v16 + 28) * 0.025;
              v18 = -(signed int)(signed __int64)v17 - (unsigned __int64)(signed __int64)(*(float *)(v1 + 112) * -0.025);
              v19 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001)
                  - (signed __int64)(*((float *)v16 + 30) * 0.050000001);
              if ( v18 <= 0 )
              {
                v20 = *((float *)v16 + 28);
                if ( v18 >= 0 )
                  *(_DWORD *)(v1 + 132) = 20 - 40 * (unsigned __int64)(signed __int64)(v20 * -0.025);
                else
                  *(_DWORD *)(v1 + 132) = 20 - -40 * (unsigned __int64)(signed __int64)(v20 * 0.025 + -15.0);
              }
              else
              {
                *(_DWORD *)(v1 + 132) = 40 * (unsigned __int64)(signed __int64)(v17 + 15.0) + 20;
              }
              if ( v19 <= 0 )
              {
                if ( v19 >= 0 )
                  *(_DWORD *)(v1 + 136) = 10
                                        - 20
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                           * -0.050000001);
                else
                  *(_DWORD *)(v1 + 136) = 10
                                        - -20
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                           * 0.050000001
                                                                           + -30.0);
              }
              else
              {
                *(_DWORD *)(v1 + 136) = 20
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                         * 0.050000001
                                                                         + 30.0)
                                      + 10;
              }
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 3;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              sub_42EA60(v1, &dword_1550B67);
              v21 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              BYTE1(dword_1550B6B) = BYTE1(v21);
              BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v22 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              HIBYTE(dword_1550B6B) = BYTE1(v22);
              byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
              byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
              byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
              v23 = 0;
              byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
              v24 = *(_DWORD *)(v1 + 636);
              a1 = 0;
              if ( v24 != -1 )
              {
                sub_466490(v1, v24, &a1);
                v23 = a1;
              }
              v25 = *(_DWORD *)(v1 + 636);
              byte_1550B74 = BYTE1(v25);
              byte_1550B75[0] = *(_BYTE *)(v1 + 636);
              byte_1550B76[0] = HIBYTE(v23);
              byte_1550B77[0] = v23;
              sub_479790(24);
              *(_BYTE *)(v1 + 97) = 2;
              *(_DWORD *)(v1 + 100) = -1;
            }
          }
        }
      }
      if ( *(_BYTE *)(v1 + 104) )
      {
LABEL_105:
        if ( !*(_DWORD *)(v1 + 600) )
        {
          if ( 100 * *(unsigned __int16 *)(v1 + 86) / *(unsigned __int16 *)(v1 + 84) >= 50 )
          {
            v45 = (&lpString)[dword_131D690];
            v46 = (signed __int64)(*(float *)(v1 + 112) * 0.025) - (signed __int64)(*((float *)v45 + 28) * 0.025);
            v47 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001)
                - (signed __int64)(*((float *)v45 + 30) * 0.050000001);
            if ( v46 < -1 || v46 > 1 || v47 < -1 || v47 > 1 )
            {
              *(_BYTE *)(v1 + 104) = 0;
              *(_DWORD *)(v1 + 72) = 1;
              *(_DWORD *)(v1 + 600) = 0;
              *(_BYTE *)(v1 + 174) = 2;
              *(_DWORD *)(v1 + 188) = 1;
              *(_DWORD *)(v1 + 132) = 20
                                    - 40
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                       * -0.025);
              *(_DWORD *)(v1 + 136) = 10
                                    - 20
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                       * -0.050000001);
              *(_DWORD *)(v1 + 100) = dword_131D690;
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              v48 = (&lpString)[dword_131D690];
              LOBYTE(dword_1550B62) = 9;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              dword_1550B67 = *((_DWORD *)v48 + 14);
              v49 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              LOBYTE(dword_1550B6B) = BYTE1(v49);
              BYTE1(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v50 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              BYTE2(dword_1550B6B) = BYTE1(v50);
              HIBYTE(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              v51 = (signed __int64)(*((float *)v48 + 28) * 0.025);
              byte_1550B6F = BYTE1(v51);
              byte_1550B70 = (signed __int64)(*((float *)v48 + 28) * 0.025);
              v52 = (signed __int64)(*((float *)v48 + 30) * 0.050000001);
              byte_1550B71 = BYTE1(v52);
              byte_1550B72 = (signed __int64)(*((float *)v48 + 30) * 0.050000001);
              sub_42EA60(v1, &byte_1550B73);
              sub_42EA60((int)(&lpString)[dword_131D690], byte_1550B78);
              sub_479790(29);
            }
          }
          else
          {
            *(_BYTE *)(v1 + 104) = 0;
            *(_BYTE *)(v1 + 97) = 1;
          }
        }
      }
    }
  }
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1540B4C: using guessed type int dword_1540B4C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (004042B0) --------------------------------------------------------
void __cdecl sub_4042B0(int a1)
{
  int v1; // esi
  LPCSTR v2; // ebp
  int v3; // edi
  int v4; // edi
  signed __int64 v5; // rax
  signed int v6; // edi
  LPCSTR v7; // ebp
  double v8; // st7
  int v9; // edi
  int v10; // ebx
  double v11; // st7
  int v12; // eax
  signed __int64 v13; // rax
  signed __int64 v14; // rax
  __int16 v15; // cx
  int v16; // eax
  int v17; // eax
  LPCSTR v18; // edi
  signed __int64 v19; // rax
  signed __int64 v20; // rax
  signed __int64 v21; // rax
  signed __int64 v22; // rax
  char v23; // dl
  signed __int64 v24; // rax
  signed __int64 v25; // rax
  LPCSTR v26; // edi
  signed __int64 v27; // rax
  signed __int64 v28; // rax
  signed __int64 v29; // rax
  signed __int64 v30; // rax
  __int16 v31; // ax
  int v32; // ecx
  int v33; // ecx
  signed int v34; // eax
  signed int v35; // ST28_4
  double v36; // st7
  int v37; // edi
  signed __int64 v38; // rax
  int v39; // ebp
  signed __int64 v40; // rax
  signed __int64 v41; // rax
  __int16 v42; // cx
  int v43; // eax
  int v44; // eax
  signed __int64 v45; // rax
  signed __int64 v46; // rax
  LPCSTR v47; // ebp
  signed int v48; // edi
  signed int v49; // eax
  LPCSTR v50; // edi
  signed __int64 v51; // rax
  signed __int64 v52; // rax
  signed __int64 v53; // rax
  signed __int64 v54; // rax

  v1 = a1;
  if ( *(_DWORD *)(a1 + 92) )
    return;
  v2 = (&lpString)[dword_131D690];
  if ( *((_DWORD *)v2 + 23) )
    return;
  if ( !*(_BYTE *)(a1 + 104) )
  {
    if ( !*(_WORD *)(dword_8D3C24[*(_DWORD *)(a1 + 168)] + 40) )
      goto LABEL_96;
    switch ( *(unsigned __int8 *)(a1 + 97) )
    {
      case 0u:
      case 3u:
        v3 = (signed __int64)(*((float *)v2 + 28) * 0.025);
        v5 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        a1 = v3;
        v4 = v5 - v3;
        LODWORD(v5) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001)
                    - (signed __int64)(*((float *)v2 + 30) * 0.050000001);
        if ( (v4 == -1 || v4 == 1 || !v4)
          && ((_DWORD)v5 == -1
           || (_DWORD)v5 == 1
           || (unsigned int)(signed __int64)(*(float *)(v1 + 120) * 0.050000001) == (unsigned int)(signed __int64)(*((float *)v2 + 30) * 0.050000001)) )
        {
          *(_DWORD *)(v1 + 72) = 0;
          if ( v4 == -1 )
          {
            if ( (_DWORD)v5 == -1 )
            {
              *(_BYTE *)(v1 + 172) = 6;
            }
            else if ( (_DWORD)v5 )
            {
              if ( (_DWORD)v5 == 1 )
                *(_BYTE *)(v1 + 172) = 4;
            }
            else
            {
              *(_BYTE *)(v1 + 172) = 5;
            }
          }
          else if ( v4 )
          {
            if ( v4 == 1 )
            {
              if ( (_DWORD)v5 == -1 )
              {
                *(_BYTE *)(v1 + 172) = 0;
              }
              else if ( (_DWORD)v5 )
              {
                if ( (_DWORD)v5 == 1 )
                  *(_BYTE *)(v1 + 172) = 2;
              }
              else
              {
                *(_BYTE *)(v1 + 172) = 1;
              }
            }
          }
          else if ( (_DWORD)v5 == -1 )
          {
            *(_BYTE *)(v1 + 172) = 7;
          }
          else if ( (_DWORD)v5 == 1 )
          {
            *(_BYTE *)(v1 + 172) = 3;
          }
          if ( *((_DWORD *)(&lpString)[dword_131D690] + 159) != 106 )
            goto LABEL_108;
          switch ( *(unsigned __int8 *)(v1 + 172) )
          {
            case 0u:
              v4 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
              goto LABEL_61;
            case 1u:
              v4 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
              v5 = (signed __int64)*(float *)(v1 + 120);
              break;
            case 2u:
              v4 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
              LODWORD(v5) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
              break;
            case 3u:
              v4 = (signed __int64)*(float *)(v1 + 112);
              LODWORD(v5) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
              break;
            case 4u:
              v4 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
              LODWORD(v5) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
              break;
            case 5u:
              v4 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
              v5 = (signed __int64)*(float *)(v1 + 120);
              break;
            case 6u:
              v4 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
              goto LABEL_61;
            case 7u:
              v4 = (signed __int64)*(float *)(v1 + 112);
LABEL_61:
              LODWORD(v5) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) - 100;
              break;
            default:
              break;
          }
          sub_426260(*(_DWORD *)(v1 + 52), v4, v5);
          if ( (double)(*(_DWORD *)(v1 + 132) / 40) != *(float *)(v1 + 112) * 0.025
            || (double)(*(_DWORD *)(v1 + 136) / 40) != *(float *)(v1 + 120) * 0.025 )
          {
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 114;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
            sub_42EA60(v1, &dword_1550B67);
            v29 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            BYTE1(dword_1550B6B) = BYTE1(v29);
            BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            v30 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            HIBYTE(dword_1550B6B) = BYTE1(v30);
            byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                            + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
            byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
            byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                            + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
            v31 = 0;
            HIDWORD(v30) = *(_DWORD *)(v1 + 136) / 20;
            a1 = 0;
            byte_1550B73 = BYTE4(v30);
            v32 = *(_DWORD *)(v1 + 636);
            if ( v32 != -1 )
            {
              sub_466490(v1, v32, &a1);
              v31 = a1;
            }
            v33 = *(_DWORD *)(v1 + 636);
            byte_1550B74 = BYTE1(v33);
            byte_1550B75[0] = *(_BYTE *)(v1 + 636);
            byte_1550B76[0] = HIBYTE(v31);
            byte_1550B77[0] = v31;
            sub_479790(24);
            *((_BYTE *)dword_1542DA4
            + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(v1 + 120) * 0.050000001)
            + (unsigned __int16)(signed __int64)(*(float *)(v1 + 112) * 0.025)) = 0;
            sub_429A60(
              v1,
              (signed __int64)*(float *)(v1 + 112) / 40,
              (signed __int64)*(float *)(v1 + 120) / 20,
              *(_DWORD *)(v1 + 132) / 40,
              *(_DWORD *)(v1 + 136) / 20);
            v34 = *(_DWORD *)(v1 + 132);
            v35 = *(_DWORD *)(v1 + 136);
            *(_DWORD *)(v1 + 140) = v34;
            *(_DWORD *)(v1 + 144) = v35;
            *(_DWORD *)(v1 + 188) = 0;
            *(float *)(v1 + 112) = (double)v34;
            v36 = (double)v35;
            *(_BYTE *)(v1 + 174) = 0;
            *(_DWORD *)(v1 + 600) = 0;
            *(_WORD *)(v1 + 176) = 0;
            *(float *)(v1 + 120) = v36;
            *(float *)(v1 + 116) = v36;
          }
          else
          {
LABEL_108:
            v23 = *(_BYTE *)(v1 + 172);
            *(_BYTE *)(v1 + 104) = 1;
            *(_BYTE *)(v1 + 173) = v23;
            *(_DWORD *)(v1 + 188) = 0;
            *(_DWORD *)(v1 + 600) = 1;
            switch ( dword_132258C & 3 )
            {
              case 0:
                goto LABEL_71;
              case 1:
                if ( !*(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 48) )
                  goto LABEL_71;
                *(_BYTE *)(v1 + 174) = 6;
                break;
              case 2:
                if ( !*(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 56) )
                  goto LABEL_71;
                *(_BYTE *)(v1 + 174) = 7;
                break;
              case 3:
                if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 64) )
                  *(_BYTE *)(v1 + 174) = 8;
                else
LABEL_71:
                  *(_BYTE *)(v1 + 174) = 5;
                break;
              default:
                break;
            }
            *(_WORD *)(v1 + 176) = 0;
            sub_423330(v1);
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 7;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
            v24 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            LOBYTE(dword_1550B67) = BYTE1(v24);
            BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            v25 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            BYTE2(dword_1550B67) = BYTE1(v25);
            HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            v26 = (&lpString)[dword_131D690];
            dword_1550B6B = *((_DWORD *)v26 + 14);
            v27 = (signed __int64)(*((float *)v26 + 28) * 0.025);
            byte_1550B6F = BYTE1(v27);
            byte_1550B70 = (signed __int64)(*((float *)v26 + 28) * 0.025);
            v28 = (signed __int64)(*((float *)v26 + 30) * 0.050000001);
            byte_1550B71 = BYTE1(v28);
            byte_1550B72 = (signed __int64)(*((float *)v26 + 30) * 0.050000001);
            sub_479790(19);
          }
LABEL_96:
          if ( !*(_BYTE *)(v1 + 104) )
            return;
          break;
        }
        if ( *(_DWORD *)(v1 + 72) || *(_DWORD *)(v1 + 600) )
          goto LABEL_96;
        *(_DWORD *)(v1 + 600) = 0;
        *(_DWORD *)(v1 + 72) = 1;
        *(_BYTE *)(v1 + 174) = 2;
        *(_DWORD *)(v1 + 188) = 1;
        v6 = sub_4271B0(
               *(_DWORD *)(v1 + 52),
               20 - 40 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * -0.025),
               10 - 20 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * -0.050000001));
        if ( ((unsigned int)(signed __int64)*(float *)(v1 + 112) != *(_DWORD *)(v1 + 140)
           || (unsigned int)(signed __int64)*(float *)(v1 + 120) != *(_DWORD *)(v1 + 144))
          && v6 )
        {
          *(_DWORD *)(v1 + 132) = 20
                                - 40
                                * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * -0.025);
          *(_DWORD *)(v1 + 136) = 10
                                - 20
                                * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                   * -0.050000001);
          *(_DWORD *)(v1 + 100) = dword_131D690;
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          v18 = (&lpString)[dword_131D690];
          LOBYTE(dword_1550B62) = 9;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
          dword_1550B67 = *((_DWORD *)v18 + 14);
          v19 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
          LOBYTE(dword_1550B6B) = BYTE1(v19);
          BYTE1(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
          v20 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
          BYTE2(dword_1550B6B) = BYTE1(v20);
          HIBYTE(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
          v21 = (signed __int64)(*((float *)v18 + 28) * 0.025);
          byte_1550B6F = BYTE1(v21);
          byte_1550B70 = (signed __int64)(*((float *)v18 + 28) * 0.025);
          v22 = (signed __int64)(*((float *)v18 + 30) * 0.050000001);
          byte_1550B71 = BYTE1(v22);
          byte_1550B72 = (signed __int64)(*((float *)v18 + 30) * 0.050000001);
          sub_42EA60(v1, &byte_1550B73);
          sub_42EA60((int)(&lpString)[dword_131D690], byte_1550B78);
          sub_479790(29);
          goto LABEL_96;
        }
        v7 = (&lpString)[dword_131D690];
        v8 = *((float *)v7 + 28) * 0.025;
        v9 = -(signed int)(signed __int64)v8 - (unsigned __int64)(signed __int64)(*(float *)(v1 + 112) * -0.025);
        v10 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001) - (signed __int64)(*((float *)v7 + 30) * 0.050000001);
        if ( v9 <= 0 )
        {
          v11 = *((float *)v7 + 28);
          if ( v9 >= 0 )
            *(_DWORD *)(v1 + 132) = 20 - 40 * (unsigned __int64)(signed __int64)(v11 * -0.025);
          else
            *(_DWORD *)(v1 + 132) = 20 - -40 * (unsigned __int64)(signed __int64)(v11 * 0.025 + -15.0);
        }
        else
        {
          *(_DWORD *)(v1 + 132) = 40 * (unsigned __int64)(signed __int64)(v8 + 15.0) + 20;
        }
        if ( v10 <= 0 )
        {
          if ( v10 < 0 )
          {
            *(_DWORD *)(v1 + 136) = 10
                                  - -20
                                  * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                     * 0.050000001
                                                                     + -30.0);
LABEL_28:
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 3;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
            sub_42EA60(v1, &dword_1550B67);
            v13 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            BYTE1(dword_1550B6B) = BYTE1(v13);
            BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            v14 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            HIBYTE(dword_1550B6B) = BYTE1(v14);
            byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                            + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
            byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
            byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                            + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
            v15 = 0;
            byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
            v16 = *(_DWORD *)(v1 + 636);
            a1 = 0;
            if ( v16 != -1 )
            {
              sub_466490(v1, v16, &a1);
              v15 = a1;
            }
            v17 = *(_DWORD *)(v1 + 636);
            byte_1550B74 = BYTE1(v17);
            byte_1550B75[0] = *(_BYTE *)(v1 + 636);
            byte_1550B76[0] = HIBYTE(v15);
            byte_1550B77[0] = v15;
            sub_479790(24);
            *(_BYTE *)(v1 + 97) = 4;
            *(_DWORD *)(v1 + 100) = -1;
            goto LABEL_96;
          }
          v12 = 10 - 20 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * -0.050000001);
        }
        else
        {
          v12 = 20
              * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * 0.050000001 + 30.0)
              + 10;
        }
        *(_DWORD *)(v1 + 136) = v12;
        goto LABEL_28;
      case 1u:
        v37 = (signed __int64)(*(float *)(a1 + 112) * 0.025) - (signed __int64)(*((float *)v2 + 28) * 0.025);
        v38 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        a1 = (signed __int64)(*((float *)v2 + 30) * 0.050000001);
        v39 = v38 - a1;
        if ( *(_BYTE *)(v1 + 174) != 2 )
        {
          *(_DWORD *)(v1 + 72) = 1;
          *(_DWORD *)(v1 + 100) = -1;
          *(_DWORD *)(v1 + 600) = 0;
          *(_BYTE *)(v1 + 174) = 2;
          *(_DWORD *)(v1 + 188) = 1;
          if ( v37 <= 0 )
          {
            if ( v37 >= 0 )
              *(_DWORD *)(v1 + 132) = 20
                                    - 40
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                       * -0.025);
            else
              *(_DWORD *)(v1 + 132) = 20
                                    - -40
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                       * 0.025
                                                                       + -15.0);
          }
          else
          {
            *(_DWORD *)(v1 + 132) = 40
                                  * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                     * 0.025
                                                                     + 15.0)
                                  + 20;
          }
          if ( v39 <= 0 )
          {
            if ( v39 >= 0 )
              *(_DWORD *)(v1 + 136) = 10
                                    - 20
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                       * -0.050000001);
            else
              *(_DWORD *)(v1 + 136) = 10
                                    - -20
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                       * 0.050000001
                                                                       + -30.0);
          }
          else
          {
            *(_DWORD *)(v1 + 136) = 20
                                  * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                     * 0.050000001
                                                                     + 30.0)
                                  + 10;
          }
          *(_BYTE *)(v1 + 97) = 2;
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 3;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
          sub_42EA60(v1, &dword_1550B67);
          v40 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
          BYTE1(dword_1550B6B) = BYTE1(v40);
          BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
          v41 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
          HIBYTE(dword_1550B6B) = BYTE1(v41);
          byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
          byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                          + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
          byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
          byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                          + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
          v42 = 0;
          byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
          v43 = *(_DWORD *)(v1 + 636);
          a1 = 0;
          if ( v43 != -1 )
          {
            sub_466490(v1, v43, &a1);
            v42 = a1;
          }
          v44 = *(_DWORD *)(v1 + 636);
          byte_1550B74 = BYTE1(v44);
          byte_1550B75[0] = *(_BYTE *)(v1 + 636);
          byte_1550B76[0] = HIBYTE(v42);
          byte_1550B77[0] = v42;
          sub_479790(24);
        }
        goto LABEL_96;
      case 2u:
        if ( (signed __int64)*(float *)(a1 + 112) / 40 == *(_DWORD *)(a1 + 132) / 40
          && (signed __int64)*(float *)(a1 + 120) / 20 == *(_DWORD *)(a1 + 136) / 20 )
        {
          *(_BYTE *)(a1 + 97) = 3;
          *(_DWORD *)(v1 + 72) = 0;
        }
        goto LABEL_96;
      case 4u:
        if ( (signed __int64)*(float *)(a1 + 112) / 40 == *(_DWORD *)(a1 + 132) / 40
          && (signed __int64)*(float *)(a1 + 120) / 20 == *(_DWORD *)(a1 + 136) / 20 )
        {
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 18;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
          v45 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
          LOBYTE(dword_1550B67) = BYTE1(v45);
          BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
          v46 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
          BYTE2(dword_1550B67) = BYTE1(v46);
          HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
          dword_1550B6B = *((_DWORD *)v2 + 14);
          sub_479790(15);
          *(_DWORD *)(v1 + 72) = 0;
          *(_DWORD *)(v1 + 76) = 0;
          *(_BYTE *)(v1 + 97) = 0;
        }
        goto LABEL_96;
      default:
        goto LABEL_96;
    }
  }
  if ( !*(_DWORD *)(v1 + 600) )
  {
    if ( 100 * *(unsigned __int16 *)(v1 + 86) / *(unsigned __int16 *)(v1 + 84) >= 50 || *(_BYTE *)(v1 + 97) )
    {
      v47 = (&lpString)[dword_131D690];
      v48 = (signed __int64)(*(float *)(v1 + 112) * 0.025) - (signed __int64)(*((float *)v47 + 28) * 0.025);
      v49 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001) - (signed __int64)(*((float *)v47 + 30) * 0.050000001);
      if ( v48 < -1 || v48 > 1 || v49 < -1 || v49 > 1 )
      {
        *(_BYTE *)(v1 + 104) = 0;
        *(_DWORD *)(v1 + 72) = 1;
        *(_DWORD *)(v1 + 600) = 0;
        *(_BYTE *)(v1 + 174) = 2;
        *(_DWORD *)(v1 + 188) = 1;
        *(_DWORD *)(v1 + 132) = 20
                              - 40
                              * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * -0.025);
        *(_DWORD *)(v1 + 136) = 10
                              - 20
                              * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                 * -0.050000001);
        *(_DWORD *)(v1 + 100) = dword_131D690;
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        v50 = (&lpString)[dword_131D690];
        LOBYTE(dword_1550B62) = 9;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
        dword_1550B67 = *((_DWORD *)v50 + 14);
        v51 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        LOBYTE(dword_1550B6B) = BYTE1(v51);
        BYTE1(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        v52 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        BYTE2(dword_1550B6B) = BYTE1(v52);
        HIBYTE(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        v53 = (signed __int64)(*((float *)v50 + 28) * 0.025);
        byte_1550B6F = BYTE1(v53);
        byte_1550B70 = (signed __int64)(*((float *)v50 + 28) * 0.025);
        v54 = (signed __int64)(*((float *)v50 + 30) * 0.050000001);
        byte_1550B71 = BYTE1(v54);
        byte_1550B72 = (signed __int64)(*((float *)v50 + 30) * 0.050000001);
        sub_42EA60(v1, &byte_1550B73);
        sub_42EA60((int)(&lpString)[dword_131D690], byte_1550B78);
        sub_479790(29);
      }
    }
    else
    {
      *(_BYTE *)(v1 + 104) = 0;
      *(_BYTE *)(v1 + 97) = 1;
    }
  }
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1540B4C: using guessed type int dword_1540B4C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (00405570) --------------------------------------------------------
char __cdecl sub_405570(int a1)
{
  int v1; // esi
  signed int v2; // eax
  LPCSTR v3; // ebp
  int v4; // edi
  int v5; // edi
  signed __int64 v6; // rax
  signed int v7; // edi
  LPCSTR v8; // ebp
  double v9; // st7
  int v10; // edi
  int v11; // ebx
  double v12; // st7
  int v13; // eax
  signed __int64 v14; // rax
  signed __int64 v15; // rax
  __int16 v16; // cx
  int v17; // eax
  int v18; // eax
  LPCSTR v19; // edi
  signed __int64 v20; // rax
  signed __int64 v21; // rax
  signed __int64 v22; // rax
  signed __int64 v23; // rax
  char v24; // dl
  signed __int64 v25; // rax
  signed __int64 v26; // rax
  LPCSTR v27; // edi
  signed __int64 v28; // rax
  signed __int64 v29; // rax
  signed __int64 v30; // rax
  signed __int64 v31; // rax
  __int16 v32; // ax
  int v33; // ecx
  int v34; // ecx
  signed int v35; // eax
  signed int v36; // ST28_4
  double v37; // st7
  int v38; // edi
  signed __int64 v39; // rax
  int v40; // ebp
  signed __int64 v41; // rax
  signed __int64 v42; // rax
  __int16 v43; // cx
  int v44; // eax
  int v45; // eax
  int v46; // ebp
  LPCSTR *v47; // edi
  int v48; // ecx
  int v49; // eax
  unsigned int v50; // edx
  char v51; // al
  signed __int64 v52; // rax
  signed __int64 v53; // rax
  LPCSTR v54; // ebp
  signed int v55; // edi
  LPCSTR v56; // edi
  signed __int64 v57; // rax
  signed __int64 v58; // rax
  signed __int64 v59; // rax
  signed __int64 v60; // rax
  int v62; // [esp+10h] [ebp-4h]

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 92);
  if ( !v2 )
  {
    v3 = (&lpString)[dword_131D690];
    v62 = (int)v3;
    a1 = *((_DWORD *)v3 + 23);
    LOBYTE(v2) = a1;
    if ( !a1 )
    {
      if ( *(_BYTE *)(v1 + 104) )
        goto LABEL_128;
      if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 40) )
      {
        switch ( *(unsigned __int8 *)(v1 + 97) )
        {
          case 0u:
          case 3u:
            v4 = (signed __int64)(*((float *)v3 + 28) * 0.025);
            v6 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            a1 = v4;
            v5 = v6 - v4;
            LODWORD(v6) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001)
                        - (signed __int64)(*((float *)v3 + 30) * 0.050000001);
            if ( v5 != -1 && v5 != 1 && v5
              || (_DWORD)v6 != -1
              && (_DWORD)v6 != 1
              && (unsigned int)(signed __int64)(*(float *)(v1 + 120) * 0.050000001) != (unsigned int)(signed __int64)(*((float *)v3 + 30) * 0.050000001) )
            {
              if ( *(_DWORD *)(v1 + 72) || *(_DWORD *)(v1 + 600) )
                break;
              *(_DWORD *)(v1 + 72) = 1;
              *(_DWORD *)(v1 + 600) = 0;
              *(_BYTE *)(v1 + 174) = 2;
              *(_DWORD *)(v1 + 188) = 1;
              v7 = sub_4271B0(
                     *(_DWORD *)(v1 + 52),
                     20 - 40 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * -0.025),
                     10
                   - 20 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * -0.050000001));
              if ( ((unsigned int)(signed __int64)*(float *)(v1 + 112) != *(_DWORD *)(v1 + 140)
                 || (unsigned int)(signed __int64)*(float *)(v1 + 120) != *(_DWORD *)(v1 + 144))
                && v7 )
              {
                *(_DWORD *)(v1 + 132) = 20
                                      - 40
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                         * -0.025);
                *(_DWORD *)(v1 + 136) = 10
                                      - 20
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                         * -0.050000001);
                *(_DWORD *)(v1 + 100) = dword_131D690;
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                v19 = (&lpString)[dword_131D690];
                LOBYTE(dword_1550B62) = 9;
                *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
                dword_1550B67 = *((_DWORD *)v19 + 14);
                v20 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
                LOBYTE(dword_1550B6B) = BYTE1(v20);
                BYTE1(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
                v21 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
                BYTE2(dword_1550B6B) = BYTE1(v21);
                HIBYTE(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
                v22 = (signed __int64)(*((float *)v19 + 28) * 0.025);
                byte_1550B6F = BYTE1(v22);
                byte_1550B70 = (signed __int64)(*((float *)v19 + 28) * 0.025);
                v23 = (signed __int64)(*((float *)v19 + 30) * 0.050000001);
                byte_1550B71 = BYTE1(v23);
                byte_1550B72 = (signed __int64)(*((float *)v19 + 30) * 0.050000001);
                sub_42EA60(v1, &byte_1550B73);
                sub_42EA60((int)(&lpString)[dword_131D690], byte_1550B78);
                sub_479790(29);
                break;
              }
              v8 = (&lpString)[dword_131D690];
              v9 = *((float *)v8 + 28) * 0.025;
              v10 = -(signed int)(signed __int64)v9 - (unsigned __int64)(signed __int64)(*(float *)(v1 + 112) * -0.025);
              v11 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001)
                  - (signed __int64)(*((float *)v8 + 30) * 0.050000001);
              if ( v10 <= 0 )
              {
                v12 = *((float *)v8 + 28);
                if ( v10 >= 0 )
                  *(_DWORD *)(v1 + 132) = 20 - 40 * (unsigned __int64)(signed __int64)(v12 * -0.025);
                else
                  *(_DWORD *)(v1 + 132) = 20 - -40 * (unsigned __int64)(signed __int64)(v12 * 0.025 + -15.0);
              }
              else
              {
                *(_DWORD *)(v1 + 132) = 40 * (unsigned __int64)(signed __int64)(v9 + 15.0) + 20;
              }
              if ( v11 <= 0 )
              {
                if ( v11 < 0 )
                {
                  *(_DWORD *)(v1 + 136) = 10
                                        - -20
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                           * 0.050000001
                                                                           + -30.0);
LABEL_28:
                  byte_1550B60[0] = -9;
                  byte_1550B61[0] = 113;
                  LOBYTE(dword_1550B62) = 3;
                  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
                  sub_42EA60(v1, &dword_1550B67);
                  v14 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
                  BYTE1(dword_1550B6B) = BYTE1(v14);
                  BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
                  v15 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
                  HIBYTE(dword_1550B6B) = BYTE1(v15);
                  byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
                  byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                     * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                                  + ((signed int)((unsigned __int64)(1717986919i64
                                                                                   * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
                  byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
                  byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                     * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                                  + ((signed int)((unsigned __int64)(1717986919i64
                                                                                   * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
                  v16 = 0;
                  byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
                  v17 = *(_DWORD *)(v1 + 636);
                  a1 = 0;
                  if ( v17 != -1 )
                  {
                    sub_466490(v1, v17, &a1);
                    v16 = a1;
                  }
                  v18 = *(_DWORD *)(v1 + 636);
                  byte_1550B74 = BYTE1(v18);
                  byte_1550B75[0] = *(_BYTE *)(v1 + 636);
                  byte_1550B76[0] = HIBYTE(v16);
                  byte_1550B77[0] = v16;
                  sub_479790(24);
                  *(_BYTE *)(v1 + 97) = 4;
                  *(_DWORD *)(v1 + 100) = -1;
                  break;
                }
                v13 = 10
                    - 20
                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * -0.050000001);
              }
              else
              {
                v13 = 20
                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * 0.050000001 + 30.0)
                    + 10;
              }
              *(_DWORD *)(v1 + 136) = v13;
              goto LABEL_28;
            }
            *(_DWORD *)(v1 + 72) = 0;
            if ( v5 == -1 )
            {
              if ( (_DWORD)v6 == -1 )
              {
                *(_BYTE *)(v1 + 172) = 6;
              }
              else if ( (_DWORD)v6 )
              {
                if ( (_DWORD)v6 == 1 )
                  *(_BYTE *)(v1 + 172) = 4;
              }
              else
              {
                *(_BYTE *)(v1 + 172) = 5;
              }
            }
            else if ( v5 )
            {
              if ( v5 == 1 )
              {
                if ( (_DWORD)v6 == -1 )
                {
                  *(_BYTE *)(v1 + 172) = 0;
                }
                else if ( (_DWORD)v6 )
                {
                  if ( (_DWORD)v6 == 1 )
                    *(_BYTE *)(v1 + 172) = 2;
                }
                else
                {
                  *(_BYTE *)(v1 + 172) = 1;
                }
              }
            }
            else if ( (_DWORD)v6 == -1 )
            {
              *(_BYTE *)(v1 + 172) = 7;
            }
            else if ( (_DWORD)v6 == 1 )
            {
              *(_BYTE *)(v1 + 172) = 3;
            }
            if ( *((_DWORD *)(&lpString)[dword_131D690] + 159) != 106 )
              goto LABEL_129;
            switch ( *(unsigned __int8 *)(v1 + 172) )
            {
              case 0u:
                v5 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
                goto LABEL_61;
              case 1u:
                v5 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
                v6 = (signed __int64)*(float *)(v1 + 120);
                break;
              case 2u:
                v5 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
                LODWORD(v6) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
                break;
              case 3u:
                v5 = (signed __int64)*(float *)(v1 + 112);
                LODWORD(v6) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
                break;
              case 4u:
                v5 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
                LODWORD(v6) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
                break;
              case 5u:
                v5 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
                v6 = (signed __int64)*(float *)(v1 + 120);
                break;
              case 6u:
                v5 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
                goto LABEL_61;
              case 7u:
                v5 = (signed __int64)*(float *)(v1 + 112);
LABEL_61:
                LODWORD(v6) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) - 100;
                break;
              default:
                break;
            }
            sub_426260(*(_DWORD *)(v1 + 52), v5, v6);
            if ( (double)(*(_DWORD *)(v1 + 132) / 40) != *(float *)(v1 + 112) * 0.025
              || (double)(*(_DWORD *)(v1 + 136) / 40) != *(float *)(v1 + 120) * 0.025 )
            {
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 114;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              sub_42EA60(v1, &dword_1550B67);
              v30 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              BYTE1(dword_1550B6B) = BYTE1(v30);
              BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v31 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              HIBYTE(dword_1550B6B) = BYTE1(v31);
              byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
              byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
              byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
              v32 = 0;
              HIDWORD(v31) = *(_DWORD *)(v1 + 136) / 20;
              a1 = 0;
              byte_1550B73 = BYTE4(v31);
              v33 = *(_DWORD *)(v1 + 636);
              if ( v33 != -1 )
              {
                sub_466490(v1, v33, &a1);
                v32 = a1;
              }
              v34 = *(_DWORD *)(v1 + 636);
              byte_1550B74 = BYTE1(v34);
              byte_1550B75[0] = *(_BYTE *)(v1 + 636);
              byte_1550B76[0] = HIBYTE(v32);
              byte_1550B77[0] = v32;
              sub_479790(24);
              *((_BYTE *)dword_1542DA4
              + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(v1 + 120) * 0.050000001)
              + (unsigned __int16)(signed __int64)(*(float *)(v1 + 112) * 0.025)) = 0;
              sub_429A60(
                v1,
                (signed __int64)*(float *)(v1 + 112) / 40,
                (signed __int64)*(float *)(v1 + 120) / 20,
                *(_DWORD *)(v1 + 132) / 40,
                *(_DWORD *)(v1 + 136) / 20);
              v35 = *(_DWORD *)(v1 + 132);
              v36 = *(_DWORD *)(v1 + 136);
              *(_DWORD *)(v1 + 140) = v35;
              *(_DWORD *)(v1 + 144) = v36;
              *(_DWORD *)(v1 + 188) = 0;
              *(float *)(v1 + 112) = (double)v35;
              v37 = (double)v36;
              *(_BYTE *)(v1 + 174) = 0;
              *(_DWORD *)(v1 + 600) = 0;
              *(_WORD *)(v1 + 176) = 0;
              *(float *)(v1 + 120) = v37;
              *(float *)(v1 + 116) = v37;
            }
            else
            {
LABEL_129:
              v24 = *(_BYTE *)(v1 + 172);
              *(_BYTE *)(v1 + 104) = 1;
              *(_BYTE *)(v1 + 173) = v24;
              *(_DWORD *)(v1 + 188) = 0;
              *(_DWORD *)(v1 + 600) = 1;
              switch ( dword_132258C & 3 )
              {
                case 0:
                  goto LABEL_71;
                case 1:
                  if ( !*(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 48) )
                    goto LABEL_71;
                  *(_BYTE *)(v1 + 174) = 6;
                  break;
                case 2:
                  if ( !*(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 56) )
                    goto LABEL_71;
                  *(_BYTE *)(v1 + 174) = 7;
                  break;
                case 3:
                  if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 64) )
                    *(_BYTE *)(v1 + 174) = 8;
                  else
LABEL_71:
                    *(_BYTE *)(v1 + 174) = 5;
                  break;
                default:
                  break;
              }
              *(_WORD *)(v1 + 176) = 0;
              sub_423330(v1);
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 7;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              v25 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v25);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v26 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v26);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              v27 = (&lpString)[dword_131D690];
              dword_1550B6B = *((_DWORD *)v27 + 14);
              v28 = (signed __int64)(*((float *)v27 + 28) * 0.025);
              byte_1550B6F = BYTE1(v28);
              byte_1550B70 = (signed __int64)(*((float *)v27 + 28) * 0.025);
              v29 = (signed __int64)(*((float *)v27 + 30) * 0.050000001);
              byte_1550B71 = BYTE1(v29);
              byte_1550B72 = (signed __int64)(*((float *)v27 + 30) * 0.050000001);
              sub_479790(19);
            }
            break;
          case 1u:
            v38 = (signed __int64)(*(float *)(v1 + 112) * 0.025) - (signed __int64)(*((float *)v3 + 28) * 0.025);
            v39 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            a1 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
            v40 = v39 - a1;
            if ( *(_BYTE *)(v1 + 174) != 2 )
            {
              *(_DWORD *)(v1 + 72) = 1;
              *(_DWORD *)(v1 + 100) = -1;
              *(_DWORD *)(v1 + 600) = 0;
              *(_BYTE *)(v1 + 174) = 2;
              *(_DWORD *)(v1 + 188) = 1;
              if ( v38 <= 0 )
              {
                if ( v38 >= 0 )
                  *(_DWORD *)(v1 + 132) = 20
                                        - 40
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                           * -0.025);
                else
                  *(_DWORD *)(v1 + 132) = 20
                                        - -40
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                           * 0.025
                                                                           + -15.0);
              }
              else
              {
                *(_DWORD *)(v1 + 132) = 40
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                         * 0.025
                                                                         + 15.0)
                                      + 20;
              }
              if ( v40 <= 0 )
              {
                if ( v40 >= 0 )
                  *(_DWORD *)(v1 + 136) = 10
                                        - 20
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                           * -0.050000001);
                else
                  *(_DWORD *)(v1 + 136) = 10
                                        - -20
                                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                           * 0.050000001
                                                                           + -30.0);
              }
              else
              {
                *(_DWORD *)(v1 + 136) = 20
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                         * 0.050000001
                                                                         + 30.0)
                                      + 10;
              }
              *(_BYTE *)(v1 + 97) = 2;
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 3;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              sub_42EA60(v1, &dword_1550B67);
              v41 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              BYTE1(dword_1550B6B) = BYTE1(v41);
              BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v42 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              HIBYTE(dword_1550B6B) = BYTE1(v42);
              byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
              byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
              byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                                 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                              + ((signed int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
              v43 = 0;
              byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
              v44 = *(_DWORD *)(v1 + 636);
              a1 = 0;
              if ( v44 != -1 )
              {
                sub_466490(v1, v44, &a1);
                v43 = a1;
              }
              v45 = *(_DWORD *)(v1 + 636);
              byte_1550B74 = BYTE1(v45);
              byte_1550B75[0] = *(_BYTE *)(v1 + 636);
              byte_1550B76[0] = HIBYTE(v43);
              byte_1550B77[0] = v43;
              sub_479790(24);
            }
            break;
          case 2u:
            if ( (signed __int64)*(float *)(v1 + 112) / 40 != *(_DWORD *)(v1 + 132) / 40
              || (signed __int64)*(float *)(v1 + 120) / 20 != *(_DWORD *)(v1 + 136) / 20 )
            {
              break;
            }
            v46 = 0;
            if ( dword_1317E74 <= 0 )
              goto LABEL_110;
            v47 = &lpString;
            while ( 1 )
            {
              v48 = (int)*v47;
              v49 = *((_DWORD *)*v47 + 13);
              if ( v49 != dword_131D690 && v49 != *(_DWORD *)(v1 + 52) )
              {
                if ( *(_DWORD *)(v48 + 68) )
                {
                  if ( !*(_DWORD *)(v48 + 76) && !*(_DWORD *)(v48 + 80) && !*(_DWORD *)(v48 + 92) )
                  {
                    v50 = *(_DWORD *)(v48 + 168);
                    if ( v50 < 0xDC
                      && *(_BYTE *)(v48 + 48) == 2
                      && *(float *)(v48 + 112) + 400.0 > *(float *)(v1 + 112)
                      && *(float *)(v48 + 112) - 400.0 < *(float *)(v1 + 112)
                      && *(float *)(v48 + 120) + 200.0 > *(float *)(v1 + 120)
                      && *(float *)(v48 + 120) - 200.0 < *(float *)(v1 + 120) )
                    {
                      v51 = byte_48818C[v50];
                      if ( v51 >= 21 && v51 <= 26 && !a1 )
                        break;
                    }
                  }
                }
              }
              ++v46;
              ++v47;
              if ( v46 >= dword_1317E74 )
              {
LABEL_110:
                *(_BYTE *)(v1 + 97) = 3;
                *(_DWORD *)(v1 + 72) = 0;
                goto LABEL_115;
              }
            }
            LOBYTE(v2) = sub_46FC00(v48, v62);
            *(_BYTE *)(v1 + 97) = 0;
            *(_DWORD *)(v1 + 72) = 0;
            return v2;
          case 4u:
            if ( (signed __int64)*(float *)(v1 + 112) / 40 == *(_DWORD *)(v1 + 132) / 40
              && (signed __int64)*(float *)(v1 + 120) / 20 == *(_DWORD *)(v1 + 136) / 20 )
            {
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 18;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              v52 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v52);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v53 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v53);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              dword_1550B6B = *((_DWORD *)v3 + 14);
              sub_479790(15);
              *(_DWORD *)(v1 + 72) = 0;
              *(_DWORD *)(v1 + 76) = 0;
              *(_BYTE *)(v1 + 97) = 0;
            }
            break;
          default:
            break;
        }
      }
LABEL_115:
      LOBYTE(v2) = *(_BYTE *)(v1 + 104);
      if ( (_BYTE)v2 )
      {
LABEL_128:
        v2 = *(_DWORD *)(v1 + 600);
        if ( !v2 )
        {
          if ( 100 * *(unsigned __int16 *)(v1 + 86) / *(unsigned __int16 *)(v1 + 84) >= 30
            || (LOBYTE(v2) = *(_BYTE *)(v1 + 97), (_BYTE)v2) )
          {
            v54 = (&lpString)[dword_131D690];
            v55 = (signed __int64)(*(float *)(v1 + 112) * 0.025) - (signed __int64)(*((float *)v54 + 28) * 0.025);
            v2 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001)
               - (signed __int64)(*((float *)v54 + 30) * 0.050000001);
            if ( v55 < -1 || v55 > 1 || v2 < -1 || v2 > 1 )
            {
              *(_BYTE *)(v1 + 104) = 0;
              *(_DWORD *)(v1 + 72) = 1;
              *(_DWORD *)(v1 + 600) = 0;
              *(_BYTE *)(v1 + 174) = 2;
              *(_DWORD *)(v1 + 188) = 1;
              *(_DWORD *)(v1 + 132) = 20
                                    - 40
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                       * -0.025);
              *(_DWORD *)(v1 + 136) = 10
                                    - 20
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                       * -0.050000001);
              *(_DWORD *)(v1 + 100) = dword_131D690;
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              v56 = (&lpString)[dword_131D690];
              LOBYTE(dword_1550B62) = 9;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
              dword_1550B67 = *((_DWORD *)v56 + 14);
              v57 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              LOBYTE(dword_1550B6B) = BYTE1(v57);
              BYTE1(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
              v58 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              BYTE2(dword_1550B6B) = BYTE1(v58);
              HIBYTE(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
              v59 = (signed __int64)(*((float *)v56 + 28) * 0.025);
              byte_1550B6F = BYTE1(v59);
              byte_1550B70 = (signed __int64)(*((float *)v56 + 28) * 0.025);
              v60 = (signed __int64)(*((float *)v56 + 30) * 0.050000001);
              byte_1550B71 = BYTE1(v60);
              byte_1550B72 = (signed __int64)(*((float *)v56 + 30) * 0.050000001);
              sub_42EA60(v1, &byte_1550B73);
              sub_42EA60((int)(&lpString)[dword_131D690], byte_1550B78);
              LOBYTE(v2) = sub_479790(29);
            }
          }
          else
          {
            *(_BYTE *)(v1 + 104) = 0;
            *(_BYTE *)(v1 + 97) = 1;
          }
        }
      }
    }
  }
  return v2;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1540B4C: using guessed type int dword_1540B4C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (00406960) --------------------------------------------------------
void __cdecl sub_406960(int a1)
{
  int v1; // esi
  LPCSTR v2; // ebp
  int v3; // edi
  int v4; // ebp
  signed __int64 v5; // rax
  signed __int64 v6; // rax
  __int16 v7; // cx
  int v8; // eax
  int v9; // eax
  signed int v10; // edi
  signed int v11; // ebp
  int v12; // eax
  int v13; // eax
  unsigned __int8 v14; // dl
  unsigned __int8 v15; // al
  signed __int64 v16; // rax
  signed __int64 v17; // rax
  __int16 v18; // cx
  int v19; // eax
  int v20; // eax

  v1 = a1;
  if ( !*(_DWORD *)(a1 + 92) )
  {
    v2 = (&lpString)[dword_131D690];
    if ( !*((_DWORD *)v2 + 23) && !*(_BYTE *)(a1 + 104) )
    {
      if ( *(_BYTE *)(a1 + 97) )
      {
        if ( *(_BYTE *)(a1 + 97) == 1 )
        {
          v3 = (signed __int64)(*(float *)(a1 + 112) * 0.025) - (signed __int64)(*((float *)v2 + 28) * 0.025);
          v4 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001)
             - (signed __int64)(*((float *)v2 + 30) * 0.050000001);
          if ( *(_BYTE *)(a1 + 174) != 2 )
          {
            *(_DWORD *)(a1 + 100) = -1;
            *(_DWORD *)(v1 + 72) = 1;
            *(_DWORD *)(v1 + 600) = 0;
            *(_BYTE *)(v1 + 174) = 2;
            *(_DWORD *)(v1 + 188) = 1;
            if ( v3 <= 0 )
            {
              if ( v3 >= 0 )
                *(_DWORD *)(v1 + 132) = 20
                                      - 40
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                         * -0.025);
              else
                *(_DWORD *)(v1 + 132) = 20
                                      - -40
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                         * 0.025
                                                                         + -15.0);
            }
            else
            {
              *(_DWORD *)(v1 + 132) = 40
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                       * 0.025
                                                                       + 15.0)
                                    + 20;
            }
            if ( v4 <= 0 )
            {
              if ( v4 >= 0 )
                *(_DWORD *)(v1 + 136) = 10
                                      - 20
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                         * -0.050000001);
              else
                *(_DWORD *)(v1 + 136) = 10
                                      - -20
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                         * 0.050000001
                                                                         + -30.0);
            }
            else
            {
              *(_DWORD *)(v1 + 136) = 20
                                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                       * 0.050000001
                                                                       + 30.0)
                                    + 10;
            }
            *(_BYTE *)(v1 + 97) = 2;
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 3;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
            sub_42EA60(v1, &dword_1550B67);
            v5 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            BYTE1(dword_1550B6B) = BYTE1(v5);
            BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            v6 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            HIBYTE(dword_1550B6B) = BYTE1(v6);
            byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                            + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
            byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
            byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                            + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
            v7 = 0;
            byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
            v8 = *(_DWORD *)(v1 + 636);
            a1 = 0;
            if ( v8 != -1 )
            {
              sub_466490(v1, v8, &a1);
              v7 = a1;
            }
            v9 = *(_DWORD *)(v1 + 636);
            byte_1550B74 = BYTE1(v9);
            byte_1550B75[0] = *(_BYTE *)(v1 + 636);
            byte_1550B76[0] = HIBYTE(v7);
            byte_1550B77[0] = v7;
            sub_479790(24);
          }
        }
        else if ( *(_BYTE *)(a1 + 97) == 2
               && (signed __int64)*(float *)(a1 + 112) / 40 == *(_DWORD *)(a1 + 132) / 40
               && (signed __int64)*(float *)(a1 + 120) / 20 == *(_DWORD *)(a1 + 136) / 20 )
        {
          *(_BYTE *)(a1 + 97) = 0;
          *(_DWORD *)(v1 + 72) = 0;
        }
      }
      else
      {
        if ( *(_DWORD *)(a1 + 636) == 209 )
          goto LABEL_56;
        v10 = (signed __int64)(*(float *)(a1 + 112) * 0.025) - (signed __int64)(*((float *)v2 + 28) * 0.025);
        v11 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001) - (signed __int64)(*((float *)v2 + 30) * 0.050000001);
        if ( v10 <= -20 || v10 >= 20 || v11 <= -20 || v11 >= 20 )
        {
          if ( !*(_DWORD *)(a1 + 72) )
          {
            *(_DWORD *)(a1 + 72) = 1;
            *(_DWORD *)(v1 + 100) = -1;
            *(_DWORD *)(v1 + 600) = 0;
            *(_BYTE *)(v1 + 174) = 2;
            *(_DWORD *)(v1 + 188) = 1;
            if ( v10 <= 0 )
            {
              if ( v10 >= 0 )
                *(_DWORD *)(v1 + 132) = 20
                                      - 40
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28)
                                                                         * -0.025);
              else
                *(_DWORD *)(v1 + 132) = 20
                                      - 40
                                      * (unsigned __int64)(signed __int64)((double)(rand() % 5 + 3)
                                                                         - *((float *)(&lpString)[dword_131D690] + 28)
                                                                         * 0.025);
            }
            else
            {
              *(_DWORD *)(v1 + 132) = 40
                                    * (unsigned __int64)(signed __int64)((double)(rand() % 5 + 3)
                                                                       + *((float *)(&lpString)[dword_131D690] + 28)
                                                                       * 0.025)
                                    + 20;
            }
            if ( v11 <= 0 )
            {
              if ( v11 >= 0 )
                *(_DWORD *)(v1 + 136) = 10
                                      - 20
                                      * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                         * -0.050000001);
              else
                *(_DWORD *)(v1 + 136) = 10
                                      - 20
                                      * (unsigned __int64)(signed __int64)((double)(rand() % 3)
                                                                         - *((float *)(&lpString)[dword_131D690] + 30)
                                                                         * 0.050000001);
            }
            else
            {
              *(_DWORD *)(v1 + 136) = 20
                                    * (unsigned __int64)(signed __int64)((double)(rand() % 3)
                                                                       + *((float *)(&lpString)[dword_131D690] + 30)
                                                                       * 0.050000001)
                                    + 10;
            }
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 3;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
            sub_42EA60(v1, &dword_1550B67);
            v16 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            BYTE1(dword_1550B6B) = BYTE1(v16);
            BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            v17 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            HIBYTE(dword_1550B6B) = BYTE1(v17);
            byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                            + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
            byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
            byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                               * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                            + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
            v18 = 0;
            byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
            v19 = *(_DWORD *)(v1 + 636);
            a1 = 0;
            if ( v19 != -1 )
            {
              sub_466490(v1, v19, &a1);
              v18 = a1;
            }
            v20 = *(_DWORD *)(v1 + 636);
            byte_1550B74 = BYTE1(v20);
            byte_1550B75[0] = *(_BYTE *)(v1 + 636);
            byte_1550B76[0] = HIBYTE(v18);
            byte_1550B77[0] = v18;
            sub_479790(24);
          }
        }
        else
        {
          v12 = *(_DWORD *)(a1 + 600);
          *(_DWORD *)(a1 + 72) = 0;
          if ( !v12 )
          {
            v13 = *(_DWORD *)(v1 + 168);
            if ( v13 == 126 )
            {
              v15 = *(_BYTE *)(v1 + 98) + 1;
              *(_BYTE *)(v1 + 98) = v15;
              if ( v15 > 0x1Eu )
              {
                *(_BYTE *)(v1 + 98) = 0;
                sub_46F7D0(v1, (int)(&lpString)[dword_131D690], 302);
              }
            }
            else
            {
              v14 = *(_BYTE *)(v1 + 98) + 1;
              *(_BYTE *)(v1 + 98) = v14;
              if ( v14 > 0x1Eu )
              {
                *(_BYTE *)(v1 + 98) = 0;
                if ( *(_WORD *)(dword_8D3C24[v13] + 80) )
                  *(_BYTE *)(v1 + 174) = 10;
                else
                  *(_BYTE *)(v1 + 174) = 5;
                *(_WORD *)(v1 + 176) = 0;
                *(_DWORD *)(v1 + 600) = 1;
                sub_423330(v1);
                sub_46F7D0(v1, (int)(&lpString)[dword_131D690], 131);
              }
            }
          }
        }
        if ( *(_BYTE *)(v1 + 174) == 11 )
LABEL_56:
          *(_BYTE *)(v1 + 97) = 1;
      }
    }
  }
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (004071A0) --------------------------------------------------------
void __cdecl sub_4071A0(signed int a1)
{
  int v1; // esi
  LPCSTR v2; // ebp
  int v3; // edi
  signed __int64 v4; // rax
  signed int v5; // edi
  LPCSTR v6; // ebp
  double v7; // st7
  int v8; // edi
  int v9; // ebx
  double v10; // st7
  int v11; // eax
  signed __int64 v12; // rax
  signed __int64 v13; // rax
  __int16 v14; // cx
  int v15; // eax
  int v16; // eax
  LPCSTR v17; // edi
  signed __int64 v18; // rax
  signed __int64 v19; // rax
  signed __int64 v20; // rax
  signed __int64 v21; // rax
  int v22; // eax
  int v23; // eax
  unsigned __int8 v24; // dl
  bool v25; // zf
  signed int v26; // eax
  unsigned __int8 v27; // al
  signed __int64 v28; // rax
  signed __int64 v29; // rax
  char v30; // cl
  signed __int64 v31; // rax
  signed __int64 v32; // rax
  LPCSTR v33; // esi
  signed __int64 v34; // rax
  signed __int64 v35; // rax
  unsigned __int8 v36; // al
  int v37; // edx
  unsigned __int8 v38; // al
  int v39; // eax
  signed __int64 v40; // rax
  signed __int64 v41; // rax
  __int16 v42; // ax
  int v43; // ecx
  int v44; // ecx
  signed int v45; // eax
  signed int v46; // ecx
  double v47; // st7
  double v48; // st7

  v1 = a1;
  if ( *(_DWORD *)(a1 + 92) )
    return;
  v2 = (&lpString)[dword_131D690];
  if ( *((_DWORD *)v2 + 23) )
    return;
  v3 = (signed __int64)(*(float *)(a1 + 112) * 0.025) - (signed __int64)(*((float *)v2 + 28) * 0.025);
  LODWORD(v4) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001)
              - (signed __int64)(*((float *)v2 + 30) * 0.050000001);
  if ( (v3 == -1
     || v3 == 1
     || (unsigned int)(signed __int64)(*(float *)(a1 + 112) * 0.025) == (unsigned int)(signed __int64)(*((float *)v2 + 28) * 0.025))
    && ((_DWORD)v4 == -1
     || (_DWORD)v4 == 1
     || (unsigned int)(signed __int64)(*(float *)(a1 + 120) * 0.050000001) == (unsigned int)(signed __int64)(*((float *)v2 + 30) * 0.050000001)) )
  {
    if ( !*(_BYTE *)(a1 + 104) )
    {
      *(_DWORD *)(a1 + 72) = 0;
      if ( v3 == -1 )
      {
        if ( (_DWORD)v4 == -1 )
        {
          *(_BYTE *)(v1 + 172) = 6;
        }
        else if ( (_DWORD)v4 )
        {
          if ( (_DWORD)v4 == 1 )
            *(_BYTE *)(v1 + 172) = 4;
        }
        else
        {
          *(_BYTE *)(v1 + 172) = 5;
        }
      }
      else if ( v3 )
      {
        if ( v3 == 1 )
        {
          if ( (_DWORD)v4 == -1 )
          {
            *(_BYTE *)(v1 + 172) = 0;
          }
          else if ( (_DWORD)v4 )
          {
            if ( (_DWORD)v4 == 1 )
              *(_BYTE *)(v1 + 172) = 2;
          }
          else
          {
            *(_BYTE *)(v1 + 172) = 1;
          }
        }
      }
      else if ( (_DWORD)v4 == -1 )
      {
        *(_BYTE *)(v1 + 172) = 7;
      }
      else if ( (_DWORD)v4 == 1 )
      {
        *(_BYTE *)(v1 + 172) = 3;
      }
      if ( *((_DWORD *)(&lpString)[dword_131D690] + 159) != 106 )
        goto LABEL_103;
      switch ( *(unsigned __int8 *)(v1 + 172) )
      {
        case 0u:
          v3 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
          goto LABEL_76;
        case 1u:
          v3 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
          v4 = (signed __int64)*(float *)(v1 + 120);
          break;
        case 2u:
          v3 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
          LODWORD(v4) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
          break;
        case 3u:
          v3 = (signed __int64)*(float *)(v1 + 112);
          LODWORD(v4) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
          break;
        case 4u:
          v3 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
          LODWORD(v4) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
          break;
        case 5u:
          v3 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
          v4 = (signed __int64)*(float *)(v1 + 120);
          break;
        case 6u:
          v3 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
          goto LABEL_76;
        case 7u:
          v3 = (signed __int64)*(float *)(v1 + 112);
LABEL_76:
          LODWORD(v4) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) - 100;
          break;
        default:
          break;
      }
      sub_426260(*(_DWORD *)(v1 + 52), v3, v4);
      if ( (double)(*(_DWORD *)(v1 + 132) / 40) != *(float *)(v1 + 112) * 0.025
        || (double)(*(_DWORD *)(v1 + 136) / 40) != *(float *)(v1 + 120) * 0.025 )
      {
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 114;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
        sub_42EA60(v1, &dword_1550B67);
        v40 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        BYTE1(dword_1550B6B) = BYTE1(v40);
        BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        v41 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        HIBYTE(dword_1550B6B) = BYTE1(v41);
        byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
        byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
        byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
        v42 = 0;
        HIDWORD(v41) = *(_DWORD *)(v1 + 136) / 20;
        a1 = 0;
        byte_1550B73 = BYTE4(v41);
        v43 = *(_DWORD *)(v1 + 636);
        if ( v43 != -1 )
        {
          sub_466490(v1, v43, &a1);
          v42 = a1;
        }
        v44 = *(_DWORD *)(v1 + 636);
        byte_1550B74 = BYTE1(v44);
        byte_1550B75[0] = *(_BYTE *)(v1 + 636);
        byte_1550B76[0] = HIBYTE(v42);
        byte_1550B77[0] = v42;
        sub_479790(24);
        *((_BYTE *)dword_1542DA4
        + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(v1 + 120) * 0.050000001)
        + (unsigned __int16)(signed __int64)(*(float *)(v1 + 112) * 0.025)) = 0;
        sub_429A60(
          v1,
          (signed __int64)*(float *)(v1 + 112) / 40,
          (signed __int64)*(float *)(v1 + 120) / 20,
          *(_DWORD *)(v1 + 132) / 40,
          *(_DWORD *)(v1 + 136) / 20);
        v46 = *(_DWORD *)(v1 + 136);
        a1 = *(_DWORD *)(v1 + 132);
        v45 = a1;
        v47 = (double)a1;
        a1 = v46;
        *(_DWORD *)(v1 + 140) = v45;
        *(_DWORD *)(v1 + 144) = v46;
        *(_DWORD *)(v1 + 188) = 0;
        *(float *)(v1 + 112) = v47;
        v48 = (double)a1;
        *(_BYTE *)(v1 + 174) = 0;
        *(_DWORD *)(v1 + 600) = 0;
        *(_WORD *)(v1 + 176) = 0;
        *(float *)(v1 + 120) = v48;
        *(float *)(v1 + 116) = v48;
      }
      else
      {
LABEL_103:
        v30 = *(_BYTE *)(v1 + 172);
        *(_BYTE *)(v1 + 104) = 1;
        *(_BYTE *)(v1 + 173) = v30;
        *(_DWORD *)(v1 + 188) = 0;
        *(_DWORD *)(v1 + 600) = 1;
        switch ( dword_132258C % 6u )
        {
          case 0u:
            goto LABEL_86;
          case 1u:
            if ( !*(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 48) )
              goto LABEL_86;
            *(_BYTE *)(v1 + 174) = 6;
            goto LABEL_87;
          case 2u:
            if ( !*(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 56) )
              goto LABEL_86;
            *(_BYTE *)(v1 + 174) = 7;
            goto LABEL_87;
          case 3u:
            if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 64) )
              *(_BYTE *)(v1 + 174) = 8;
            else
LABEL_86:
              *(_BYTE *)(v1 + 174) = 5;
LABEL_87:
            *(_WORD *)(v1 + 176) = 0;
            sub_423330(v1);
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 7;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
            v31 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            LOBYTE(dword_1550B67) = BYTE1(v31);
            BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
            v32 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            BYTE2(dword_1550B67) = BYTE1(v32);
            HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
            v33 = (&lpString)[dword_131D690];
            dword_1550B6B = *((_DWORD *)v33 + 14);
            v34 = (signed __int64)(*((float *)v33 + 28) * 0.025);
            byte_1550B6F = BYTE1(v34);
            byte_1550B70 = (signed __int64)(*((float *)v33 + 28) * 0.025);
            v35 = (signed __int64)(*((float *)v33 + 30) * 0.050000001);
            byte_1550B71 = BYTE1(v35);
            byte_1550B72 = (signed __int64)(*((float *)v33 + 30) * 0.050000001);
            sub_479790(19);
            break;
          case 4u:
            v36 = *(_BYTE *)(v1 + 98) + 1;
            *(_BYTE *)(v1 + 98) = v36;
            if ( v36 > 0x14u )
            {
              v37 = *(_DWORD *)(v1 + 168);
              *(_BYTE *)(v1 + 98) = 0;
              if ( *(_WORD *)(dword_8D3C24[v37] + 80) )
                *(_BYTE *)(v1 + 174) = 10;
              else
                *(_BYTE *)(v1 + 174) = 5;
              *(_WORD *)(v1 + 176) = 0;
              *(_DWORD *)(v1 + 600) = 1;
              sub_423330(v1);
              sub_46F7D0(v1, (int)(&lpString)[dword_131D690], 125);
            }
            break;
          case 5u:
            v38 = *(_BYTE *)(v1 + 98) + 1;
            *(_BYTE *)(v1 + 98) = v38;
            if ( v38 > 0x14u )
            {
              v39 = *(_DWORD *)(v1 + 168);
              *(_BYTE *)(v1 + 98) = 0;
              if ( *(_WORD *)(dword_8D3C24[v39] + 80) )
                *(_BYTE *)(v1 + 174) = 10;
              else
                *(_BYTE *)(v1 + 174) = 5;
              *(_WORD *)(v1 + 176) = 0;
              *(_DWORD *)(v1 + 600) = 1;
              sub_423330(v1);
              sub_46F7D0(v1, (int)(&lpString)[dword_131D690], 216);
            }
            break;
          default:
            return;
        }
      }
    }
  }
  else
  {
    if ( v3 <= -20 || v3 >= 20 || (signed int)v4 <= -20 || (signed int)v4 >= 20 )
    {
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      LOBYTE(dword_1550B62) = 18;
      *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
      v28 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
      LOBYTE(dword_1550B67) = BYTE1(v28);
      BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
      v29 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
      BYTE2(dword_1550B67) = BYTE1(v29);
      HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
      dword_1550B6B = *((_DWORD *)v2 + 14);
      sub_479790(15);
      *(_DWORD *)(v1 + 72) = 0;
      *(_DWORD *)(v1 + 76) = 0;
      *(_BYTE *)(v1 + 104) = 0;
      *(_BYTE *)(v1 + 97) = 0;
      return;
    }
    if ( *(_DWORD *)(a1 + 636) == 209 )
    {
      *(_DWORD *)(a1 + 600) = 0;
      *(_DWORD *)(v1 + 72) = 1;
      *(_BYTE *)(v1 + 174) = 2;
      *(_DWORD *)(v1 + 188) = 1;
      v5 = sub_4271B0(
             *(_DWORD *)(v1 + 52),
             20 - 40 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * -0.025),
             10 - 20 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * -0.050000001));
      if ( ((unsigned int)(signed __int64)*(float *)(v1 + 112) != *(_DWORD *)(v1 + 140)
         || (unsigned int)(signed __int64)*(float *)(v1 + 120) != *(_DWORD *)(v1 + 144))
        && v5 )
      {
        *(_DWORD *)(v1 + 132) = 20
                              - 40
                              * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * -0.025);
        *(_DWORD *)(v1 + 136) = 10
                              - 20
                              * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                 * -0.050000001);
        *(_DWORD *)(v1 + 100) = dword_131D690;
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        v17 = (&lpString)[dword_131D690];
        LOBYTE(dword_1550B62) = 9;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
        dword_1550B67 = *((_DWORD *)v17 + 14);
        v18 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        LOBYTE(dword_1550B6B) = BYTE1(v18);
        BYTE1(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        v19 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        BYTE2(dword_1550B6B) = BYTE1(v19);
        HIBYTE(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        v20 = (signed __int64)(*((float *)v17 + 28) * 0.025);
        byte_1550B6F = BYTE1(v20);
        byte_1550B70 = (signed __int64)(*((float *)v17 + 28) * 0.025);
        v21 = (signed __int64)(*((float *)v17 + 30) * 0.050000001);
        byte_1550B71 = BYTE1(v21);
        byte_1550B72 = (signed __int64)(*((float *)v17 + 30) * 0.050000001);
        sub_42EA60(v1, &byte_1550B73);
        sub_42EA60((int)(&lpString)[dword_131D690], byte_1550B78);
        sub_479790(29);
        return;
      }
      v6 = (&lpString)[dword_131D690];
      v7 = *((float *)v6 + 28) * 0.025;
      v8 = -(signed int)(signed __int64)v7 - (unsigned __int64)(signed __int64)(*(float *)(v1 + 112) * -0.025);
      v9 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001) - (signed __int64)(*((float *)v6 + 30) * 0.050000001);
      if ( v8 <= 0 )
      {
        v10 = *((float *)v6 + 28);
        if ( v8 >= 0 )
          *(_DWORD *)(v1 + 132) = 20 - 40 * (unsigned __int64)(signed __int64)(v10 * -0.025);
        else
          *(_DWORD *)(v1 + 132) = 20 - -40 * (unsigned __int64)(signed __int64)(v10 * 0.025 + -15.0);
      }
      else
      {
        *(_DWORD *)(v1 + 132) = 40 * (unsigned __int64)(signed __int64)(v7 + 15.0) + 20;
      }
      if ( v9 <= 0 )
      {
        if ( v9 < 0 )
        {
          *(_DWORD *)(v1 + 136) = 10
                                - -20
                                * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                                   * 0.050000001
                                                                   + -30.0);
LABEL_28:
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 3;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
          sub_42EA60(v1, &dword_1550B67);
          v12 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
          BYTE1(dword_1550B6B) = BYTE1(v12);
          BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
          v13 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
          HIBYTE(dword_1550B6B) = BYTE1(v13);
          byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
          byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                          + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
          byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
          byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                          + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
          v14 = 0;
          byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
          v15 = *(_DWORD *)(v1 + 636);
          a1 = 0;
          if ( v15 != -1 )
          {
            sub_466490(v1, v15, &a1);
            v14 = a1;
          }
          v16 = *(_DWORD *)(v1 + 636);
          byte_1550B74 = BYTE1(v16);
          byte_1550B75[0] = *(_BYTE *)(v1 + 636);
          byte_1550B76[0] = HIBYTE(v14);
          byte_1550B77[0] = v14;
          sub_479790(24);
          *(_BYTE *)(v1 + 97) = 4;
          *(_DWORD *)(v1 + 100) = -1;
          return;
        }
        v11 = 10 - 20 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * -0.050000001);
      }
      else
      {
        v11 = 20 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * 0.050000001 + 30.0)
            + 10;
      }
      *(_DWORD *)(v1 + 136) = v11;
      goto LABEL_28;
    }
    v22 = *(_DWORD *)(a1 + 600);
    *(_BYTE *)(a1 + 104) = 0;
    *(_DWORD *)(v1 + 72) = 0;
    if ( !v22 )
    {
      v23 = *(_DWORD *)(v1 + 168);
      if ( v23 == 126 )
      {
        v27 = *(_BYTE *)(v1 + 98) + 1;
        *(_BYTE *)(v1 + 98) = v27;
        if ( v27 > 0x1Eu )
        {
          *(_BYTE *)(v1 + 98) = 0;
          sub_46F7D0(v1, (int)(&lpString)[dword_131D690], 302);
        }
      }
      else
      {
        v24 = *(_BYTE *)(v1 + 98) + 1;
        *(_BYTE *)(v1 + 98) = v24;
        if ( v24 > 0x14u )
        {
          *(_BYTE *)(v1 + 98) = 0;
          if ( *(_WORD *)(dword_8D3C24[v23] + 80) )
            *(_BYTE *)(v1 + 174) = 10;
          else
            *(_BYTE *)(v1 + 174) = 5;
          *(_WORD *)(v1 + 176) = 0;
          *(_DWORD *)(v1 + 600) = 1;
          sub_423330(v1);
          v26 = rand() & 0x80000001;
          v25 = v26 == 0;
          if ( v26 < 0 )
            v25 = (((_BYTE)v26 - 1) | 0xFFFFFFFE) == -1;
          if ( v25 )
            sub_46F7D0(v1, (int)(&lpString)[dword_131D690], 216);
          else
            sub_46F7D0(v1, (int)(&lpString)[dword_131D690], 125);
        }
      }
    }
  }
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1540B4C: using guessed type int dword_1540B4C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (00407FC0) --------------------------------------------------------
char __cdecl sub_407FC0(int a1)
{
  int v1; // esi
  unsigned int v2; // eax
  LPCSTR v3; // ebp
  int v4; // eax
  signed __int64 v5; // rax
  signed __int64 v6; // rax
  signed __int64 v7; // rax
  int v8; // edi
  int v9; // ebp
  int v10; // eax
  signed __int64 v11; // rax
  signed __int64 v12; // rax
  __int16 v13; // cx
  int v14; // eax
  int v15; // eax

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 92);
  if ( v2 )
    return v2;
  v3 = (&lpString)[dword_131D690];
  v2 = *((_DWORD *)v3 + 23);
  if ( v2 )
    return v2;
  v2 = *(unsigned __int8 *)(a1 + 97);
  if ( !*(_BYTE *)(a1 + 97) )
  {
    *(_BYTE *)(a1 + 97) = 1;
    return v2;
  }
  v4 = v2 - 1;
  if ( v4 )
  {
    v2 = v4 - 1;
    if ( !v2 )
    {
      v5 = (signed __int64)*(float *)(a1 + 112);
      HIDWORD(v5) = (signed int)((unsigned __int64)(1717986919i64 * (signed int)v5) >> 32) >> 4;
      v2 = (unsigned int)((unsigned __int64)(1717986919i64 * (signed int)v5) >> 32) >> 31;
      if ( v2 + HIDWORD(v5) == *(_DWORD *)(a1 + 132) / 40 )
      {
        v2 = (unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(a1 + 136)) >> 32) >> 31;
        if ( (signed __int64)*(float *)(a1 + 120) / 20 == *(_DWORD *)(a1 + 136) / 20 )
        {
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 18;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
          v6 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
          LOBYTE(dword_1550B67) = BYTE1(v6);
          BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
          v7 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
          BYTE2(dword_1550B67) = BYTE1(v7);
          HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
          dword_1550B6B = *((_DWORD *)v3 + 14);
          LOBYTE(v2) = sub_479790(15);
          *(_DWORD *)(v1 + 72) = 0;
          *(_BYTE *)(v1 + 97) = 0;
        }
      }
    }
    return v2;
  }
  v8 = (signed __int64)(*(float *)(a1 + 112) * 0.025) - (signed __int64)(*((float *)v3 + 28) * 0.025);
  LOBYTE(v2) = *(_BYTE *)(a1 + 174);
  v9 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001) - (signed __int64)(*((float *)v3 + 30) * 0.050000001);
  if ( (_BYTE)v2 == 2 )
    return v2;
  *(_DWORD *)(a1 + 100) = -1;
  *(_DWORD *)(v1 + 72) = 1;
  *(_DWORD *)(v1 + 600) = 0;
  *(_BYTE *)(v1 + 174) = 2;
  *(_DWORD *)(v1 + 188) = 1;
  if ( v8 > 0 )
  {
    v10 = 40 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * 0.025 + 15.0) + 20;
LABEL_15:
    *(_DWORD *)(v1 + 132) = v10;
    goto LABEL_16;
  }
  if ( v8 >= 0 )
  {
    v10 = 20 - 40 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * -0.025);
    goto LABEL_15;
  }
  *(_DWORD *)(v1 + 132) = 20
                        - -40
                        * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * 0.025 + -15.0);
LABEL_16:
  if ( v9 <= 0 )
  {
    if ( v9 >= 0 )
      *(_DWORD *)(v1 + 136) = 10
                            - 20
                            * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                               * -0.050000001);
    else
      *(_DWORD *)(v1 + 136) = 10
                            - -20
                            * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30)
                                                               * 0.050000001
                                                               + -30.0);
  }
  else
  {
    *(_DWORD *)(v1 + 136) = 20
                          * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * 0.050000001
                                                             + 30.0)
                          + 10;
  }
  *(_BYTE *)(v1 + 97) = 2;
  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  LOBYTE(dword_1550B62) = 3;
  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
  sub_42EA60(v1, &dword_1550B67);
  v11 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
  BYTE1(dword_1550B6B) = BYTE1(v11);
  BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
  v12 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
  HIBYTE(dword_1550B6B) = BYTE1(v12);
  byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
  byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                  + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
  byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
  byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                  + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
  v13 = 0;
  byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
  v14 = *(_DWORD *)(v1 + 636);
  a1 = 0;
  if ( v14 != -1 )
  {
    sub_466490(v1, v14, &a1);
    v13 = a1;
  }
  v15 = *(_DWORD *)(v1 + 636);
  byte_1550B74 = BYTE1(v15);
  byte_1550B75[0] = *(_BYTE *)(v1 + 636);
  byte_1550B76[0] = HIBYTE(v13);
  byte_1550B77[0] = v13;
  LOBYTE(v2) = sub_479790(24);
  return v2;
}
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (00408440) --------------------------------------------------------
int __cdecl sub_408440(int a1)
{
  int result; // eax
  LPCSTR v2; // esi

  result = *(_DWORD *)(a1 + 92);
  if ( !result )
  {
    v2 = (&lpString)[dword_131D690];
    result = *((_DWORD *)v2 + 23);
    if ( !result && !*(_WORD *)(a1 + 176) )
    {
      sub_46F7D0(a1, (int)v2, 303);
      result = sub_46FD80(a1, (int)v2, 303);
    }
  }
  return result;
}
// 131D690: using guessed type int dword_131D690;

//----- (00408490) --------------------------------------------------------
char __cdecl sub_408490(int a1)
{
  int v1; // esi
  signed __int64 v2; // rax
  LPCSTR v3; // edi
  int v4; // ebx
  LPCSTR v5; // ecx
  int v6; // eax
  char v7; // al
  int v8; // ebp
  signed __int64 v9; // rax
  signed int v10; // ebp
  double v11; // st7
  int v12; // ebp
  int v13; // ebx
  double v14; // st7
  double v15; // st7
  signed __int64 v16; // rax
  signed __int64 v17; // rax
  __int16 v18; // cx
  int v19; // eax
  int v20; // eax
  signed __int64 v21; // rax
  signed __int64 v22; // rax
  signed __int64 v23; // rax
  signed __int64 v24; // rax
  char v25; // dl
  signed __int64 v26; // rax
  signed __int64 v27; // rax
  signed __int64 v28; // rax
  signed __int64 v29; // rax
  signed __int64 v30; // rax
  signed __int64 v31; // rax
  __int16 v32; // ax
  int v33; // ecx
  int v34; // ecx
  signed int v35; // eax
  signed int v36; // ST28_4
  double v37; // st7
  signed int v38; // ebp
  signed int v39; // eax
  signed __int64 v40; // rax
  signed __int64 v41; // rax
  signed __int64 v42; // rax
  signed __int64 v43; // rax
  double v44; // st7
  int v45; // ebp
  int v46; // ebx
  double v47; // st7
  double v48; // st7
  signed __int64 v49; // rax
  signed __int64 v50; // rax
  __int16 v51; // cx
  int v52; // eax
  int v53; // eax

  v1 = a1;
  v2 = *(unsigned int *)(a1 + 92);
  v3 = *(LPCSTR *)(a1 + 628);
  if ( (_DWORD)v2 )
    return v2;
  v4 = dword_131D690;
  LODWORD(v2) = (&lpString)[dword_131D690];
  if ( *(_DWORD *)(v2 + 92) )
    return v2;
  if ( !v3 )
    goto LABEL_126;
  if ( *((_DWORD *)v3 + 23) )
  {
    *(_DWORD *)(a1 + 628) = 0;
    v4 = dword_131D690;
    a1 = 0;
    if ( dword_1317E74 > 0 )
    {
      while ( 1 )
      {
        v5 = (&lpString)[HIDWORD(v2)];
        if ( v5[48] == 2 && *((_DWORD *)v5 + 159) != 224 )
        {
          v6 = *((_DWORD *)v5 + 13);
          if ( v6 != dword_131D690
            && v6 != *(_DWORD *)(v1 + 52)
            && !*((_DWORD *)v5 + 23)
            && *((_DWORD *)v5 + 17)
            && *((float *)v5 + 28) + 400.0 > *(float *)(v1 + 112)
            && *((float *)v5 + 28) - 400.0 < *(float *)(v1 + 112)
            && *((float *)v5 + 30) + 200.0 > *(float *)(v1 + 120)
            && *((float *)v5 + 30) - 200.0 < *(float *)(v1 + 120) )
          {
            break;
          }
        }
        a1 = ++HIDWORD(v2);
        if ( SHIDWORD(v2) >= dword_1317E74 )
          goto LABEL_19;
      }
      *(_DWORD *)(v1 + 628) = v5;
      *(_DWORD *)(v1 + 72) = 0;
      *(_BYTE *)(v1 + 104) = 0;
      *(_BYTE *)(v1 + 97) = 0;
      v4 = dword_131D690;
      v3 = v5;
    }
  }
LABEL_19:
  WORD2(v2) = 0;
  if ( !v3 )
LABEL_126:
    v3 = (&lpString)[v4];
  if ( (&lpString)[v4][104] && dword_48CCE4 != -1 && (&lpString)[dword_48CCE4] )
  {
    *(_DWORD *)(v1 + 72) = 0;
    *(_BYTE *)(v1 + 104) = 0;
    *(_BYTE *)(v1 + 97) = 0;
    *(_DWORD *)(v1 + 628) = (&lpString)[dword_48CCE4];
  }
  v7 = *(_BYTE *)(v1 + 97);
  if ( v7 )
  {
    if ( v7 == 3 && *(_BYTE *)(v1 + 174) != 2 )
    {
      *(_BYTE *)(v1 + 97) = 0;
      *(_DWORD *)(v1 + 72) = 0;
    }
    goto LABEL_106;
  }
  if ( !*(_BYTE *)(v1 + 104) )
  {
    if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 40) == WORD2(v2) )
      goto LABEL_106;
    v8 = (signed __int64)(*((float *)v3 + 28) * -0.025) - (signed __int64)(*(float *)(v1 + 112) * -0.025);
    LODWORD(v9) = (signed __int64)(*((float *)v3 + 30) * -0.050000001)
                - (signed __int64)(*(float *)(v1 + 120) * -0.050000001);
    if ( v8 != -1
      && v8 != 1
      && (unsigned int)(signed __int64)(*((float *)v3 + 28) * -0.025) != (unsigned int)(signed __int64)(*(float *)(v1 + 112) * -0.025)
      || (_DWORD)v9 != -1
      && (_DWORD)v9 != 1
      && (unsigned int)(signed __int64)(*((float *)v3 + 30) * -0.050000001) != (unsigned int)(signed __int64)(*(float *)(v1 + 120) * -0.050000001) )
    {
      if ( !*(_DWORD *)(v1 + 72) && !*(_DWORD *)(v1 + 600) )
      {
        *(_DWORD *)(v1 + 600) = 0;
        *(_DWORD *)(v1 + 72) = 1;
        *(_BYTE *)(v1 + 174) = 2;
        *(_DWORD *)(v1 + 188) = 1;
        v10 = sub_4271B0(
                *(_DWORD *)(v1 + 52),
                20 - 40 * (unsigned __int64)(signed __int64)(*((float *)v3 + 28) * -0.025),
                10 - 20 * (unsigned __int64)(signed __int64)(*((float *)v3 + 30) * -0.050000001));
        if ( (unsigned int)(signed __int64)*(float *)(v1 + 112) == *(_DWORD *)(v1 + 140)
          && (unsigned int)(signed __int64)*(float *)(v1 + 120) == *(_DWORD *)(v1 + 144)
          || !v10 )
        {
          v11 = *((float *)v3 + 28) * 0.025;
          v12 = -(signed int)(signed __int64)v11 - (unsigned __int64)(signed __int64)(*(float *)(v1 + 112) * -0.025);
          v13 = (signed __int64)(*((float *)v3 + 30) * -0.050000001)
              - (signed __int64)(*(float *)(v1 + 120) * -0.050000001);
          if ( v12 <= 0 )
          {
            v14 = *((float *)v3 + 28);
            if ( v12 >= 0 )
              *(_DWORD *)(v1 + 132) = 20 - 40 * (unsigned __int64)(signed __int64)(v14 * -0.025);
            else
              *(_DWORD *)(v1 + 132) = 20 - -40 * (unsigned __int64)(signed __int64)(v14 * 0.025 + -15.0);
          }
          else
          {
            *(_DWORD *)(v1 + 132) = 40 * (unsigned __int64)(signed __int64)(v11 + 15.0) + 20;
          }
          v15 = *((float *)v3 + 30);
          if ( v13 <= 0 )
          {
            if ( v13 >= 0 )
              *(_DWORD *)(v1 + 136) = 10 - 20 * (unsigned __int64)(signed __int64)(v15 * -0.050000001);
            else
              *(_DWORD *)(v1 + 136) = 10 - -20 * (unsigned __int64)(signed __int64)(v15 * 0.050000001 + -30.0);
          }
          else
          {
            *(_DWORD *)(v1 + 136) = 20 * (unsigned __int64)(signed __int64)(v15 * 0.050000001 + 30.0) + 10;
          }
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 3;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
          sub_42EA60(v1, &dword_1550B67);
          v16 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
          BYTE1(dword_1550B6B) = BYTE1(v16);
          BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
          v17 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
          HIBYTE(dword_1550B6B) = BYTE1(v17);
          byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
          byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                          + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
          byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
          byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                          + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
          v18 = 0;
          byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
          v19 = *(_DWORD *)(v1 + 636);
          a1 = 0;
          if ( v19 != -1 )
          {
            sub_466490(v1, v19, &a1);
            v18 = a1;
          }
          v20 = *(_DWORD *)(v1 + 636);
          byte_1550B74 = BYTE1(v20);
          byte_1550B75[0] = *(_BYTE *)(v1 + 636);
          byte_1550B76[0] = HIBYTE(v18);
          byte_1550B77[0] = v18;
          sub_479790(24);
          *(_BYTE *)(v1 + 97) = 3;
          *(_DWORD *)(v1 + 100) = -1;
          goto LABEL_106;
        }
        *(_DWORD *)(v1 + 132) = 20 - 40 * (unsigned __int64)(signed __int64)(*((float *)v3 + 28) * -0.025);
        *(_DWORD *)(v1 + 136) = 10 - 20 * (unsigned __int64)(signed __int64)(*((float *)v3 + 30) * -0.050000001);
        *(_DWORD *)(v1 + 100) = *((_DWORD *)v3 + 13);
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 9;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
        dword_1550B67 = *((_DWORD *)v3 + 14);
        v21 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        LOBYTE(dword_1550B6B) = BYTE1(v21);
        BYTE1(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        v22 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        BYTE2(dword_1550B6B) = BYTE1(v22);
        HIBYTE(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        v23 = (signed __int64)(*((float *)v3 + 28) * 0.025);
        byte_1550B6F = BYTE1(v23);
        byte_1550B70 = (signed __int64)(*((float *)v3 + 28) * 0.025);
        v24 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
        byte_1550B71 = BYTE1(v24);
        goto LABEL_105;
      }
      goto LABEL_106;
    }
    *(_DWORD *)(v1 + 72) = 0;
    if ( v8 == -1 )
    {
      if ( (_DWORD)v9 == -1 )
      {
        *(_BYTE *)(v1 + 172) = 6;
      }
      else if ( (_DWORD)v9 )
      {
        if ( (_DWORD)v9 == 1 )
          *(_BYTE *)(v1 + 172) = 4;
      }
      else
      {
        *(_BYTE *)(v1 + 172) = 5;
      }
    }
    else if ( v8 )
    {
      if ( v8 == 1 )
      {
        if ( (_DWORD)v9 == -1 )
        {
          *(_BYTE *)(v1 + 172) = 0;
        }
        else if ( (_DWORD)v9 )
        {
          if ( (_DWORD)v9 == 1 )
            *(_BYTE *)(v1 + 172) = 2;
        }
        else
        {
          *(_BYTE *)(v1 + 172) = 1;
        }
      }
    }
    else if ( (_DWORD)v9 == -1 )
    {
      *(_BYTE *)(v1 + 172) = 7;
    }
    else if ( (_DWORD)v9 == 1 )
    {
      *(_BYTE *)(v1 + 172) = 3;
    }
    if ( v3 != *(LPCSTR *)(v1 + 628) )
      goto LABEL_106;
    if ( *((_DWORD *)v3 + 159) == 106 )
    {
      switch ( *(unsigned __int8 *)(v1 + 172) )
      {
        case 0u:
          v8 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
          goto LABEL_86;
        case 1u:
          v8 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
          v9 = (signed __int64)*(float *)(v1 + 120);
          break;
        case 2u:
          v8 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 200;
          LODWORD(v9) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
          break;
        case 3u:
          v8 = (signed __int64)*(float *)(v1 + 112);
          LODWORD(v9) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
          break;
        case 4u:
          v8 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
          LODWORD(v9) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 100;
          break;
        case 5u:
          v8 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
          v9 = (signed __int64)*(float *)(v1 + 120);
          break;
        case 6u:
          v8 = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 200;
          goto LABEL_86;
        case 7u:
          v8 = (signed __int64)*(float *)(v1 + 112);
LABEL_86:
          LODWORD(v9) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) - 100;
          break;
        default:
          break;
      }
      sub_426260(*(_DWORD *)(v1 + 52), v8, v9);
      if ( (double)(*(_DWORD *)(v1 + 132) / 40) != *(float *)(v1 + 112) * 0.025
        || (double)(*(_DWORD *)(v1 + 136) / 20) != *(float *)(v1 + 120) * 0.050000001 )
      {
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 114;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
        sub_42EA60(v1, &dword_1550B67);
        v30 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        BYTE1(dword_1550B6B) = BYTE1(v30);
        BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        v31 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        HIBYTE(dword_1550B6B) = BYTE1(v31);
        byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
        byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
        byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
        v32 = 0;
        HIDWORD(v31) = *(_DWORD *)(v1 + 136) / 20;
        a1 = 0;
        byte_1550B73 = BYTE4(v31);
        v33 = *(_DWORD *)(v1 + 636);
        if ( v33 != -1 )
        {
          sub_466490(v1, v33, &a1);
          v32 = a1;
        }
        v34 = *(_DWORD *)(v1 + 636);
        byte_1550B74 = BYTE1(v34);
        byte_1550B75[0] = *(_BYTE *)(v1 + 636);
        byte_1550B76[0] = HIBYTE(v32);
        byte_1550B77[0] = v32;
        sub_479790(24);
        sub_429A60(
          v1,
          (signed __int64)*(float *)(v1 + 112) / 40,
          (signed __int64)*(float *)(v1 + 120) / 20,
          *(_DWORD *)(v1 + 132) / 40,
          *(_DWORD *)(v1 + 136) / 20);
        *((_BYTE *)dword_1542DA4
        + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(v1 + 120) * 0.050000001)
        + (unsigned __int16)(signed __int64)(*(float *)(v1 + 112) * 0.025)) = 0;
        v35 = *(_DWORD *)(v1 + 132);
        v36 = *(_DWORD *)(v1 + 136);
        *(_DWORD *)(v1 + 140) = v35;
        *(_DWORD *)(v1 + 144) = v36;
        *(_DWORD *)(v1 + 188) = 0;
        *(float *)(v1 + 112) = (double)v35;
        v37 = (double)v36;
        *(_BYTE *)(v1 + 174) = 0;
        *(_DWORD *)(v1 + 600) = 0;
        *(_WORD *)(v1 + 176) = 0;
        *(float *)(v1 + 120) = v37;
        *(float *)(v1 + 116) = v37;
        goto LABEL_106;
      }
    }
    v25 = *(_BYTE *)(v1 + 172);
    *(_BYTE *)(v1 + 104) = 1;
    *(_BYTE *)(v1 + 173) = v25;
    *(_DWORD *)(v1 + 188) = 0;
    *(_DWORD *)(v1 + 600) = 1;
    if ( dword_132258C & 1 )
    {
      if ( (dword_132258C & 1) != 1 )
      {
LABEL_94:
        *(_WORD *)(v1 + 176) = 0;
        sub_423330(v1);
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 7;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
        v26 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v26);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        v27 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v27);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        dword_1550B6B = *((_DWORD *)v3 + 14);
        v28 = (signed __int64)(*((float *)v3 + 28) * 0.025);
        byte_1550B6F = BYTE1(v28);
        byte_1550B70 = (signed __int64)(*((float *)v3 + 28) * 0.025);
        v29 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
        byte_1550B71 = BYTE1(v29);
        byte_1550B72 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
        sub_479790(19);
        goto LABEL_106;
      }
      if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 48) )
      {
        *(_BYTE *)(v1 + 174) = 6;
        goto LABEL_94;
      }
    }
    *(_BYTE *)(v1 + 174) = 5;
    goto LABEL_94;
  }
  if ( !*(_DWORD *)(v1 + 600) )
  {
    v38 = (signed __int64)(*((float *)v3 + 28) * -0.025) - (signed __int64)(*(float *)(v1 + 112) * -0.025);
    v39 = (signed __int64)(*((float *)v3 + 30) * -0.050000001) - (signed __int64)(*(float *)(v1 + 120) * -0.050000001);
    if ( v38 < -1 || v38 > 1 || v39 < -1 || v39 > 1 )
    {
      *(_BYTE *)(v1 + 104) = 0;
      *(_DWORD *)(v1 + 72) = 1;
      *(_DWORD *)(v1 + 600) = 0;
      *(_BYTE *)(v1 + 174) = 2;
      *(_DWORD *)(v1 + 188) = 1;
      *(_DWORD *)(v1 + 132) = 20 - 40 * (unsigned __int64)(signed __int64)(*((float *)v3 + 28) * -0.025);
      *(_DWORD *)(v1 + 136) = 10 - 20 * (unsigned __int64)(signed __int64)(*((float *)v3 + 30) * -0.050000001);
      *(_DWORD *)(v1 + 100) = *((_DWORD *)v3 + 13);
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      LOBYTE(dword_1550B62) = 9;
      *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
      dword_1550B67 = *((_DWORD *)v3 + 14);
      v40 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
      LOBYTE(dword_1550B6B) = BYTE1(v40);
      BYTE1(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
      v41 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
      BYTE2(dword_1550B6B) = BYTE1(v41);
      HIBYTE(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
      v42 = (signed __int64)(*((float *)v3 + 28) * 0.025);
      byte_1550B6F = BYTE1(v42);
      byte_1550B70 = (signed __int64)(*((float *)v3 + 28) * 0.025);
      v43 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
      byte_1550B71 = BYTE1(v43);
LABEL_105:
      byte_1550B72 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
      sub_42EA60(v1, &byte_1550B73);
      sub_42EA60((int)v3, byte_1550B78);
      sub_479790(29);
      goto LABEL_106;
    }
  }
LABEL_106:
  LOBYTE(v2) = *(_BYTE *)(v1 + 97);
  if ( !(_BYTE)v2 && *(_BYTE *)(v1 + 174) == 2 )
  {
    v2 = (signed __int64)*(float *)(v1 + 112);
    if ( *(_DWORD *)(v1 + 124) == (_DWORD)v2 )
    {
      v2 = (signed __int64)*(float *)(v1 + 120);
      if ( *(_DWORD *)(v1 + 128) == (_DWORD)v2 )
      {
        v44 = *((float *)v3 + 28) * 0.025;
        v45 = -(signed int)(signed __int64)v44 - (unsigned __int64)(signed __int64)(*(float *)(v1 + 112) * -0.025);
        v46 = (signed __int64)(*((float *)v3 + 30) * -0.050000001)
            - (signed __int64)(*(float *)(v1 + 120) * -0.050000001);
        if ( v45 <= 0 )
        {
          v47 = *((float *)v3 + 28);
          if ( v45 >= 0 )
            *(_DWORD *)(v1 + 132) = 20 - 40 * (unsigned __int64)(signed __int64)(v47 * -0.025);
          else
            *(_DWORD *)(v1 + 132) = 20 - -40 * (unsigned __int64)(signed __int64)(v47 * 0.025 + -15.0);
        }
        else
        {
          *(_DWORD *)(v1 + 132) = 40 * (unsigned __int64)(signed __int64)(v44 + 15.0) + 20;
        }
        v48 = *((float *)v3 + 30);
        if ( v46 <= 0 )
        {
          if ( v46 >= 0 )
            *(_DWORD *)(v1 + 136) = 10 - 20 * (unsigned __int64)(signed __int64)(v48 * -0.050000001);
          else
            *(_DWORD *)(v1 + 136) = 10 - -20 * (unsigned __int64)(signed __int64)(v48 * 0.050000001 + -30.0);
        }
        else
        {
          *(_DWORD *)(v1 + 136) = 20 * (unsigned __int64)(signed __int64)(v48 * 0.050000001 + 30.0) + 10;
        }
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 3;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
        sub_42EA60(v1, &dword_1550B67);
        v49 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        BYTE1(dword_1550B6B) = BYTE1(v49);
        BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        v50 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        HIBYTE(dword_1550B6B) = BYTE1(v50);
        byte_1550B6F = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
        byte_1550B71 = (char)*(_DWORD *)(v1 + 132) / 40;
        byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
        v51 = 0;
        byte_1550B73 = *(_DWORD *)(v1 + 136) / 20;
        v52 = *(_DWORD *)(v1 + 636);
        a1 = 0;
        if ( v52 != -1 )
        {
          sub_466490(v1, v52, &a1);
          v51 = a1;
        }
        v53 = *(_DWORD *)(v1 + 636);
        byte_1550B74 = BYTE1(v53);
        byte_1550B75[0] = *(_BYTE *)(v1 + 636);
        byte_1550B76[0] = HIBYTE(v51);
        byte_1550B77[0] = v51;
        LOBYTE(v2) = sub_479790(24);
        *(_BYTE *)(v1 + 97) = 3;
      }
    }
  }
  return v2;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 8D3C24: using guessed type int dword_8D3C24[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1540B4C: using guessed type int dword_1540B4C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (00409520) --------------------------------------------------------
char __cdecl sub_409520(int a1)
{
  int v1; // ecx
  unsigned __int16 v2; // dx
  int v3; // eax
  __int16 v4; // dx
  signed int v5; // edi
  signed int v6; // ebp
  int v7; // ebp
  __int16 v8; // ax
  int v9; // edx
  int v10; // edi
  LPCSTR v11; // eax
  signed int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  bool v17; // zf
  bool v18; // sf
  unsigned __int8 v19; // of
  int v20; // ecx
  LPCSTR v21; // ebp
  int v22; // ecx
  __int16 v23; // di

  v1 = *(_DWORD *)(a1 + 168);
  v2 = ++*(_WORD *)(a1 + 176);
  if ( *(_WORD *)(dword_8D3C24[v1] + 32) )
  {
    switch ( ++*(_WORD *)(a1 + 608) )
    {
      case 0:
      case 8:
        *(_WORD *)(a1 + 610) = -30;
        break;
      case 1:
      case 7:
        *(_WORD *)(a1 + 610) = -33;
        break;
      case 2:
      case 6:
        *(_WORD *)(a1 + 610) = -35;
        break;
      case 3:
      case 5:
        *(_WORD *)(a1 + 610) = -36;
        break;
      case 4:
        *(_WORD *)(a1 + 610) = -37;
        break;
      case 9:
      case 13:
        *(_WORD *)(a1 + 610) = -28;
        break;
      case 10:
      case 12:
        *(_WORD *)(a1 + 610) = -27;
        break;
      case 11:
        *(_WORD *)(a1 + 610) = -26;
        break;
      default:
        *(_WORD *)(a1 + 610) = -30;
        *(_WORD *)(a1 + 608) = 0;
        break;
    }
    *(float *)(a1 + 116) = (double)*(signed __int16 *)(a1 + 610) + *(float *)(a1 + 120);
  }
  else
  {
    *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
  }
  LOBYTE(v3) = 1;
  if ( *(_DWORD *)(a1 + 92) == 1 )
  {
    *(_BYTE *)(a1 + 174) = 17;
    v4 = *(_WORD *)(dword_8D3C24[v1] + 136);
    *(_DWORD *)(a1 + 600) = 1;
    *(_BYTE *)(a1 + 99) = 1;
    *(_WORD *)(a1 + 176) = v4 - 1;
    return v3;
  }
  v3 = dword_8D3C24[v1];
  if ( v3 )
  {
    if ( v2 > *(unsigned __int16 *)v3 - 1 )
    {
      *(_WORD *)(a1 + 176) = 0;
      *(_DWORD *)(a1 + 600) = 0;
      switch ( 0 )
      {
        case 111:
        case 112:
        case 118:
        case 124:
        case 141:
        case 144:
        case 150:
        case 151:
          v5 = 121;
          v6 = 122;
          goto LABEL_25;
        case 113:
        case 155:
          v5 = 109;
          v6 = 110;
          goto LABEL_25;
        case 115:
        case 125:
        case 129:
        case 146:
        case 147:
        case 148:
          v5 = 134;
          v6 = 135;
          goto LABEL_25;
        case 117:
        case 122:
        case 126:
        case 142:
        case 143:
        case 149:
        case 156:
          v5 = 115;
          v6 = 116;
          goto LABEL_25;
        case 119:
        case 123:
        case 153:
          v5 = 128;
          v6 = 129;
          goto LABEL_25;
        case 152:
        case 154:
          v5 = 142;
          v6 = 142;
LABEL_25:
          if ( dword_132258C % 3u == 1 )
          {
            sub_416860(v5, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          }
          else if ( dword_132258C % 3u == 2 )
          {
            sub_416860(v6, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          }
          break;
        default:
          break;
      }
    }
    v7 = *(_DWORD *)(a1 + 636);
    if ( v7 == 104 )
    {
      v8 = *(_WORD *)(a1 + 176);
      if ( v8 )
      {
        if ( ++*(_WORD *)(a1 + 618) >= 2 )
          *(_WORD *)(a1 + 618) = 0;
        else
          *(_WORD *)(a1 + 176) = v8 - 1;
      }
    }
    LOBYTE(v3) = *(_BYTE *)(a1 + 104);
    if ( (_BYTE)v3 )
    {
      v9 = *(_DWORD *)(a1 + 108) + 1;
      *(_DWORD *)(a1 + 108) = v9;
      if ( v9 > 20 )
      {
        v10 = *(_DWORD *)(a1 + 52);
        if ( v10 == dword_131D690 )
        {
          if ( (_BYTE)v3 != 2 )
          {
            *(_BYTE *)(a1 + 174) = 0;
            *(_BYTE *)(a1 + 104) = 0;
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 11;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
            LOBYTE(v3) = sub_479790(7);
            return v3;
          }
          if ( v10 == dword_131D690 )
          {
            v11 = (&lpString)[dword_48CCE4];
            if ( v11 )
            {
              if ( !*((_DWORD *)v11 + 17) && !byte_1330125 )
              {
                *(_BYTE *)(a1 + 174) = 0;
                *(_BYTE *)(a1 + 104) = 0;
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 11;
                *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
                LOBYTE(v3) = sub_479790(7);
                *(_DWORD *)(a1 + 120) = *(_DWORD *)(a1 + 116);
                return v3;
              }
            }
          }
        }
        v12 = *(_DWORD *)(a1 + 748);
        if ( v12 > 704 )
        {
          switch ( v12 )
          {
            case 706:
            case 707:
            case 708:
              goto LABEL_52;
            case 800:
            case 801:
              goto LABEL_56;
            case 850:
              if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(a1 + 168)] + 56) )
                *(_BYTE *)(a1 + 174) = 7;
              goto LABEL_71;
            default:
              break;
          }
        }
        else
        {
          if ( v12 >= 700 )
          {
LABEL_52:
            if ( dword_132258C & 1 )
            {
              if ( (dword_132258C & 1) != 1 )
                goto LABEL_71;
              if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(a1 + 168)] + 48) )
              {
                *(_BYTE *)(a1 + 174) = 6;
                goto LABEL_71;
              }
            }
            goto LABEL_70;
          }
          v13 = v12 - 500;
          if ( !v13 )
            goto LABEL_49;
          v14 = v13 - 1;
          if ( v14 )
          {
            if ( v14 == 1 )
            {
LABEL_49:
              if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(a1 + 168)] + 120) )
              {
                *(_BYTE *)(a1 + 174) = 15;
                goto LABEL_71;
              }
              goto LABEL_70;
            }
          }
          else
          {
LABEL_56:
            if ( dword_132258C & 1 )
            {
              if ( (dword_132258C & 1) != 1 )
                goto LABEL_71;
              v15 = *(_DWORD *)(a1 + 168);
              if ( *(_WORD *)(dword_8D3C24[v15] + 64) && v15 != 80 && v15 != 83 && v15 != 86 )
              {
                *(_BYTE *)(a1 + 174) = 8;
                goto LABEL_71;
              }
            }
            else
            {
              v16 = *(_DWORD *)(a1 + 168);
              if ( *(_WORD *)(dword_8D3C24[v16] + 56) && v16 != 80 && v16 != 83 && v16 != 86 )
              {
                *(_BYTE *)(a1 + 174) = 7;
                goto LABEL_71;
              }
            }
          }
        }
LABEL_70:
        *(_BYTE *)(a1 + 174) = 5;
LABEL_71:
        if ( *(_DWORD *)(a1 + 168) == 161 )
        {
          LOBYTE(v3) = 0;
          v19 = __OFSUB__(++*(_WORD *)(a1 + 612), 50);
          v17 = *(_WORD *)(a1 + 612) == 50;
          v18 = (signed __int16)(*(_WORD *)(a1 + 612) - 50) < 0;
          *(_DWORD *)(a1 + 108) = 0;
          if ( !((unsigned __int8)(v18 ^ v19) | v17) )
          {
            *(_WORD *)(a1 + 612) = 0;
            *(_BYTE *)(a1 + 174) = 5;
          }
        }
        else
        {
          LOBYTE(v3) = 0;
          *(_WORD *)(a1 + 176) = 0;
        }
        v20 = *(_DWORD *)(a1 + 68);
        *(_DWORD *)(a1 + 600) = 1;
        *(_BYTE *)(a1 + 104) = 1;
        if ( v20 && *(_DWORD *)(a1 + 76) )
        {
          if ( v7 == 224 )
          {
            v21 = *(LPCSTR *)(a1 + 628);
            if ( v21 )
            {
LABEL_85:
              v23 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001)
                  - (signed __int64)(*((float *)v21 + 30) * 0.050000001);
              v3 = (signed __int16)((signed __int64)(*(float *)(a1 + 112) * 0.025)
                                  - (signed __int64)(*((float *)v21 + 28) * 0.025));
              if ( v3 == -1 )
              {
                LOBYTE(v3) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001)
                           - (signed __int64)(*((float *)v21 + 30) * 0.050000001);
                if ( v23 == -1 )
                {
                  *(_BYTE *)(a1 + 172) = 6;
                  *(_BYTE *)(a1 + 173) = 6;
                }
                else if ( (unsigned __int16)(signed __int64)(*(float *)(a1 + 120) * 0.050000001) == (unsigned __int16)(signed __int64)(*((float *)v21 + 30) * 0.050000001) )
                {
                  *(_BYTE *)(a1 + 172) = 5;
                  *(_BYTE *)(a1 + 173) = 5;
                }
                else if ( v23 == 1 )
                {
                  LOBYTE(v3) = 4;
                  *(_BYTE *)(a1 + 172) = 4;
                  *(_BYTE *)(a1 + 173) = 4;
                }
              }
              else if ( (unsigned __int16)(signed __int64)(*(float *)(a1 + 112) * 0.025) == (unsigned __int16)(signed __int64)(*((float *)v21 + 28) * 0.025) )
              {
                LOBYTE(v3) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001)
                           - (signed __int64)(*((float *)v21 + 30) * 0.050000001);
                if ( v23 == -1 )
                {
                  *(_BYTE *)(a1 + 172) = 7;
                  *(_BYTE *)(a1 + 173) = 7;
                }
                else if ( v23 == 1 )
                {
                  *(_BYTE *)(a1 + 172) = 3;
                  *(_BYTE *)(a1 + 173) = 3;
                }
              }
              else if ( v3 == 1 )
              {
                LOBYTE(v3) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001)
                           - (signed __int64)(*((float *)v21 + 30) * 0.050000001);
                if ( v23 == -1 )
                {
                  *(_BYTE *)(a1 + 172) = 0;
                  *(_BYTE *)(a1 + 173) = 0;
                }
                else if ( (unsigned __int16)(signed __int64)(*(float *)(a1 + 120) * 0.050000001) == (unsigned __int16)(signed __int64)(*((float *)v21 + 30) * 0.050000001) )
                {
                  *(_BYTE *)(a1 + 172) = 1;
                  *(_BYTE *)(a1 + 173) = 1;
                }
                else if ( v23 == 1 )
                {
                  *(_BYTE *)(a1 + 172) = 2;
                  *(_BYTE *)(a1 + 173) = 2;
                }
              }
              return v3;
            }
          }
          v22 = dword_131D690;
        }
        else
        {
          if ( v10 == dword_131D690 )
          {
            v21 = (&lpString)[dword_48CCE4];
            goto LABEL_84;
          }
          v22 = *(_DWORD *)(a1 + 100);
        }
        v21 = (&lpString)[v22];
LABEL_84:
        if ( !v21 )
          return v3;
        goto LABEL_85;
      }
    }
  }
  return v3;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1330125: using guessed type char byte_1330125;
// 1550B62: using guessed type int dword_1550B62;

//----- (00409C30) --------------------------------------------------------
int __cdecl sub_409C30(signed int a1)
{
  int result; // eax
  int v2; // edx
  double v3; // st7
  unsigned __int16 v4; // si
  __int16 v5; // cx
  signed int v6; // ecx
  int v7; // edx
  bool v8; // zf
  int v9; // edx
  int v10; // edx
  int v11; // ecx
  int v12; // ecx

  result = a1;
  v2 = *(_DWORD *)(a1 + 168);
  if ( *(_WORD *)(dword_8D3C24[v2] + 32) && v2 != 142 )
  {
    v3 = *(float *)(a1 + 120) - 30.0;
    *(_WORD *)(a1 + 176) = 0;
    *(_BYTE *)(a1 + 174) = 4;
    *(float *)(a1 + 116) = v3;
    return result;
  }
  v4 = ++*(_WORD *)(a1 + 176);
  if ( *(_WORD *)(dword_8D3C24[v2] + 32) )
  {
    switch ( ++*(_WORD *)(a1 + 608) )
    {
      case 0:
      case 8:
        *(_WORD *)(a1 + 610) = -30;
        break;
      case 1:
      case 7:
        *(_WORD *)(a1 + 610) = -33;
        break;
      case 2:
      case 6:
        *(_WORD *)(a1 + 610) = -35;
        break;
      case 3:
      case 5:
        *(_WORD *)(a1 + 610) = -36;
        break;
      case 4:
        *(_WORD *)(a1 + 610) = -37;
        break;
      case 9:
      case 13:
        *(_WORD *)(a1 + 610) = -28;
        break;
      case 10:
      case 12:
        *(_WORD *)(a1 + 610) = -27;
        break;
      case 11:
        *(_WORD *)(a1 + 610) = -26;
        break;
      default:
        *(_WORD *)(a1 + 610) = -30;
        *(_WORD *)(a1 + 608) = 0;
        break;
    }
    a1 = *(signed __int16 *)(a1 + 610);
    *(float *)(result + 116) = (double)a1 + *(float *)(result + 120);
  }
  else
  {
    *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
  }
  if ( v4 > *(unsigned __int16 *)(dword_8D3C24[v2] + 16) - 1 )
    *(_WORD *)(result + 176) = 0;
  if ( *(_DWORD *)(result + 636) == 104 )
  {
    v5 = *(_WORD *)(result + 176);
    if ( v5 )
    {
      if ( ++*(_WORD *)(result + 618) >= 2 )
        *(_WORD *)(result + 618) = 0;
      else
        *(_WORD *)(result + 176) = v5 - 1;
    }
  }
  if ( *(_DWORD *)(result + 52) == dword_131D690 )
  {
    if ( !*(_DWORD *)(result + 156) )
    {
      switch ( byte_13225F4 )
      {
        case 0:
          v6 = 24;
          break;
        case 1:
          v6 = 40;
          break;
        case 2:
          v6 = 32;
          break;
        case 3:
          v6 = 36;
          break;
        case 4:
          v6 = 28;
          break;
        case 5:
          v6 = 52;
          break;
        case 6:
          v6 = 44;
          break;
        default:
          v6 = a1;
          break;
      }
      if ( dword_13225E4 )
      {
        if ( byte_1324782 == 2 )
        {
          v10 = *(unsigned __int16 *)(result + 176);
          if ( (unsigned __int16)v10 != 8 )
          {
            if ( v10 != 24 )
              return result;
            if ( dword_132258C & 1 )
              return sub_416860(v6 + 2, 0, 0, 0, 0);
            return sub_416860(v6 + 3, 0, 0, 0, 0);
          }
LABEL_50:
          if ( dword_132258C & 1 )
            result = sub_416860(v6, 0, 0, 0, 0);
          else
            result = sub_416860(v6 + 1, 0, 0, 0, 0);
          return result;
        }
      }
      else if ( byte_1324782 == 2 )
      {
        v9 = *(unsigned __int16 *)(result + 176);
        if ( (unsigned __int16)v9 != 8 )
        {
          v8 = v9 == 24;
LABEL_39:
          if ( !v8 )
            return result;
          if ( dword_132258C & 1 )
            return sub_416860(v6 + 2, 0, 0, 0, 0);
          return sub_416860(v6 + 3, 0, 0, 0, 0);
        }
        goto LABEL_50;
      }
      v7 = *(unsigned __int16 *)(result + 176);
      if ( (unsigned __int16)v7 != 3 )
      {
        v8 = v7 == 11;
        goto LABEL_39;
      }
      goto LABEL_50;
    }
    if ( byte_1324782 == 2 )
    {
      v12 = *(unsigned __int16 *)(result + 176);
      if ( (unsigned __int16)v12 != 8 )
      {
        if ( v12 != 24 )
          return result;
        if ( dword_132258C & 1 )
          return sub_416860(50, 0, 0, 0, 0);
        return sub_416860(51, 0, 0, 0, 0);
      }
    }
    else
    {
      v11 = *(unsigned __int16 *)(result + 176);
      if ( (unsigned __int16)v11 != 3 )
      {
        if ( v11 != 11 )
          return result;
        if ( dword_132258C & 1 )
          return sub_416860(50, 0, 0, 0, 0);
        return sub_416860(51, 0, 0, 0, 0);
      }
    }
    if ( dword_132258C & 1 )
      result = sub_416860(48, 0, 0, 0, 0);
    else
      result = sub_416860(49, 0, 0, 0, 0);
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 13225E4: using guessed type int dword_13225E4;
// 13225F4: using guessed type char byte_13225F4;
// 1324782: using guessed type char byte_1324782;

//----- (00409FB0) --------------------------------------------------------
int __cdecl sub_409FB0(int a1)
{
  int result; // eax
  int v2; // edx
  int v3; // ecx
  __int16 v4; // cx
  signed int v5; // ecx
  int v6; // edx
  bool v7; // zf
  int v8; // edx
  int v9; // edx
  int v10; // ecx
  int v11; // ecx
  signed int v12; // [esp+8h] [ebp+4h]

  result = a1;
  v2 = *(_DWORD *)(a1 + 168);
  if ( !*(_WORD *)(dword_8D3C24[v2] + 32) )
  {
    *(_WORD *)(a1 + 176) = 0;
    *(_BYTE *)(a1 + 174) = 2;
    return result;
  }
  if ( (unsigned __int16)++*(_WORD *)(a1 + 176) > *(unsigned __int16 *)(dword_8D3C24[v2] + 32) - 1 )
    *(_WORD *)(a1 + 176) = 0;
  switch ( ++*(_WORD *)(a1 + 608) )
  {
    case 0:
    case 8:
      *(_WORD *)(a1 + 610) = -30;
      break;
    case 1:
    case 7:
      *(_WORD *)(a1 + 610) = -33;
      break;
    case 2:
    case 6:
      *(_WORD *)(a1 + 610) = -35;
      break;
    case 3:
    case 5:
      *(_WORD *)(a1 + 610) = -36;
      break;
    case 4:
      *(_WORD *)(a1 + 610) = -37;
      break;
    case 9:
    case 13:
      *(_WORD *)(a1 + 610) = -28;
      break;
    case 10:
    case 12:
      *(_WORD *)(a1 + 610) = -27;
      break;
    case 11:
      *(_WORD *)(a1 + 610) = -26;
      break;
    default:
      *(_WORD *)(a1 + 610) = -30;
      *(_WORD *)(a1 + 608) = 0;
      break;
  }
  v12 = *(signed __int16 *)(a1 + 610);
  v3 = *(_DWORD *)(result + 636);
  *(float *)(result + 116) = (double)v12 + *(float *)(result + 120);
  if ( v3 == 104 )
  {
    v4 = *(_WORD *)(result + 176);
    if ( v4 )
    {
      if ( ++*(_WORD *)(result + 618) >= 2 )
        *(_WORD *)(result + 618) = 0;
      else
        *(_WORD *)(result + 176) = v4 - 1;
    }
  }
  if ( *(_DWORD *)(result + 52) == dword_131D690 )
  {
    if ( !*(_DWORD *)(result + 156) )
    {
      switch ( byte_13225F4 )
      {
        case 0:
          v5 = 24;
          break;
        case 1:
          v5 = 40;
          break;
        case 2:
          v5 = 32;
          break;
        case 3:
          v5 = 36;
          break;
        case 4:
          v5 = 28;
          break;
        case 5:
          v5 = 52;
          break;
        case 6:
          v5 = 44;
          break;
        default:
          v5 = v12;
          break;
      }
      if ( dword_13225E4 )
      {
        if ( byte_1324782 == 2 )
        {
          v9 = *(unsigned __int16 *)(result + 176);
          if ( (unsigned __int16)v9 != 8 )
          {
            if ( v9 != 24 )
              return result;
            if ( dword_132258C & 1 )
              return sub_416860(v5 + 2, 0, 0, 0, 0);
            return sub_416860(v5 + 3, 0, 0, 0, 0);
          }
LABEL_46:
          if ( dword_132258C & 1 )
            result = sub_416860(v5, 0, 0, 0, 0);
          else
            result = sub_416860(v5 + 1, 0, 0, 0, 0);
          return result;
        }
      }
      else if ( byte_1324782 == 2 )
      {
        v8 = *(unsigned __int16 *)(result + 176);
        if ( (unsigned __int16)v8 != 8 )
        {
          v7 = v8 == 24;
LABEL_35:
          if ( !v7 )
            return result;
          if ( dword_132258C & 1 )
            return sub_416860(v5 + 2, 0, 0, 0, 0);
          return sub_416860(v5 + 3, 0, 0, 0, 0);
        }
        goto LABEL_46;
      }
      v6 = *(unsigned __int16 *)(result + 176);
      if ( (unsigned __int16)v6 != 3 )
      {
        v7 = v6 == 11;
        goto LABEL_35;
      }
      goto LABEL_46;
    }
    if ( byte_1324782 == 2 )
    {
      v11 = *(unsigned __int16 *)(result + 176);
      if ( (unsigned __int16)v11 != 8 )
      {
        if ( v11 != 24 )
          return result;
        if ( dword_132258C & 1 )
          return sub_416860(50, 0, 0, 0, 0);
        return sub_416860(51, 0, 0, 0, 0);
      }
    }
    else
    {
      v10 = *(unsigned __int16 *)(result + 176);
      if ( (unsigned __int16)v10 != 3 )
      {
        if ( v10 != 11 )
          return result;
        if ( dword_132258C & 1 )
          return sub_416860(50, 0, 0, 0, 0);
        return sub_416860(51, 0, 0, 0, 0);
      }
    }
    if ( dword_132258C & 1 )
      result = sub_416860(48, 0, 0, 0, 0);
    else
      result = sub_416860(49, 0, 0, 0, 0);
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 13225E4: using guessed type int dword_13225E4;
// 13225F4: using guessed type char byte_13225F4;
// 1324782: using guessed type char byte_1324782;

//----- (0040A300) --------------------------------------------------------
__int16 __cdecl sub_40A300(signed int a1)
{
  int v1; // esi
  unsigned int v2; // eax
  signed __int64 v3; // rax
  signed __int64 v4; // rax
  LPCSTR v5; // edi
  signed __int64 v6; // rax
  signed __int64 v7; // rax
  double v8; // st7
  double v9; // st7
  unsigned int v10; // edx
  double v11; // st7
  double v12; // st7
  double v13; // st7
  double v14; // st7
  double v15; // st7
  double v16; // st7
  double v17; // st7
  signed int v18; // edi
  signed int v19; // ebp
  double v20; // st7
  double v21; // st7
  double v22; // st7
  signed int v23; // edi
  signed int v24; // ebp
  int v25; // eax
  int v26; // ecx
  int v27; // ecx
  signed __int64 v28; // rax
  signed __int64 v29; // rax
  LPCSTR v30; // edi
  signed __int64 v31; // rax
  signed __int64 v32; // rax
  int v33; // ecx
  signed __int64 v34; // rax
  signed int v36; // [esp-4h] [ebp-14h]

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 168);
  if ( *(_WORD *)(dword_8D3C24[v2] + 32) )
  {
    switch ( ++*(_WORD *)(a1 + 608) )
    {
      case 0:
      case 8:
        *(_WORD *)(a1 + 610) = -30;
        break;
      case 1:
      case 7:
        *(_WORD *)(a1 + 610) = -33;
        break;
      case 2:
      case 6:
        *(_WORD *)(a1 + 610) = -35;
        break;
      case 3:
      case 5:
        *(_WORD *)(a1 + 610) = -36;
        break;
      case 4:
        *(_WORD *)(a1 + 610) = -37;
        break;
      case 9:
      case 13:
        *(_WORD *)(a1 + 610) = -28;
        break;
      case 10:
      case 12:
        *(_WORD *)(a1 + 610) = -27;
        break;
      case 11:
        *(_WORD *)(a1 + 610) = -26;
        break;
      default:
        *(_WORD *)(a1 + 610) = -30;
        *(_WORD *)(a1 + 608) = 0;
        break;
    }
    a1 = *(signed __int16 *)(a1 + 610);
    *(float *)(v1 + 116) = (double)a1 + *(float *)(v1 + 120);
  }
  else
  {
    *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
  }
  if ( !*(_WORD *)(dword_8D3C24[v2] + 40) )
  {
    *(_BYTE *)(v1 + 174) = 0;
    *(_DWORD *)(v1 + 600) = 0;
    if ( v2 == 161 )
    {
      if ( (v2 = *(_DWORD *)(v1 + 52), v2 == dword_131D690) && *(_BYTE *)(v1 + 104) && (&lpString)[dword_48CCE4]
        || *(_DWORD *)(v1 + 68) && *(_DWORD *)(v1 + 76) && *(_BYTE *)(v1 + 104) )
      {
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 5;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
        v3 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v3);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
        v4 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v4);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
        {
          v5 = (&lpString)[dword_48CCE4];
        }
        else if ( *(_DWORD *)(v1 + 636) != 224 || (v5 = *(LPCSTR *)(v1 + 628)) == 0 )
        {
          v5 = (&lpString)[dword_131D690];
        }
        dword_1550B6B = *((_DWORD *)v5 + 14);
        v6 = (signed __int64)(*((float *)v5 + 28) * 0.025);
        byte_1550B6F = BYTE1(v6);
        byte_1550B70 = (signed __int64)(*((float *)v5 + 28) * 0.025);
        v7 = (signed __int64)(*((float *)v5 + 30) * 0.050000001);
        byte_1550B71 = BYTE1(v7);
        byte_1550B72 = (signed __int64)(*((float *)v5 + 30) * 0.050000001);
        sub_42EA60((int)v5, byte_1550B78);
        sub_42EA60(v1, &byte_1550B73);
        LOWORD(v2) = sub_479790(29);
      }
    }
    return v2;
  }
  switch ( v2 )
  {
    case 0u:
    case 3u:
    case 6u:
      switch ( *(_WORD *)(v1 + 176) )
      {
        case 1:
          v10 = dword_132258C % 0xAu;
          if ( dword_132258C % 0xAu )
            goto LABEL_41;
          v12 = *(float *)(v1 + 120);
          if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
            goto LABEL_154;
          sub_416860(64, (signed __int64)*(float *)(v1 + 112), (signed __int64)v12, 0, 0);
          break;
        case 8:
          if ( dword_132258C & 1 )
          {
            v8 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) != dword_131D690 )
              goto LABEL_36;
            sub_416790((int *)dword_1308234, (signed __int64)*(float *)(v1 + 112), (signed __int64)v8, 0, 0);
          }
          else
          {
            v9 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              sub_416790((int *)dword_1308230, (signed __int64)*(float *)(v1 + 112), (signed __int64)v9, 0, 0);
            else
              sub_416860(85, (signed __int64)*(float *)(v1 + 112), (signed __int64)v9, 0, 0);
          }
          break;
        case 9:
          goto LABEL_184;
      }
      goto LABEL_197;
    case 9u:
      switch ( *(_WORD *)(v1 + 176) )
      {
        case 1:
          v10 = dword_132258C % 0xAu;
          if ( dword_132258C % 0xAu )
          {
LABEL_41:
            if ( v10 == 1 )
            {
              v11 = *(float *)(v1 + 120);
              if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
                goto LABEL_43;
              sub_416860(65, (signed __int64)*(float *)(v1 + 112), (signed __int64)v11, 0, 0);
            }
          }
          else
          {
            v12 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              goto LABEL_154;
            sub_416860(64, (signed __int64)*(float *)(v1 + 112), (signed __int64)v12, 0, 0);
          }
          break;
        case 5:
          if ( dword_132258C & 1 )
          {
            v13 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              goto LABEL_53;
            sub_416860(92, (signed __int64)*(float *)(v1 + 112), (signed __int64)v13, 0, 0);
          }
          else
          {
            v14 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              sub_416790((int *)dword_1308248, (signed __int64)*(float *)(v1 + 112), (signed __int64)v14, 0, 0);
            else
              sub_416860(91, (signed __int64)*(float *)(v1 + 112), (signed __int64)v14, 0, 0);
          }
          break;
        case 6:
          goto LABEL_184;
      }
      goto LABEL_197;
    case 0xCu:
      if ( *(_BYTE *)(v1 + 42) )
      {
        if ( *(_BYTE *)(v1 + 42) == 1 )
        {
          if ( !*(_BYTE *)(v1 + 43) )
          {
            v18 = 72;
            v19 = 73;
            goto LABEL_137;
          }
          if ( *(_BYTE *)(v1 + 43) == 1 )
          {
            v18 = 76;
            v19 = 77;
            goto LABEL_137;
          }
        }
      }
      else
      {
        if ( !*(_BYTE *)(v1 + 43) )
        {
          v18 = 64;
          v19 = 65;
          goto LABEL_137;
        }
        if ( *(_BYTE *)(v1 + 43) == 1 )
        {
          v18 = 68;
          v19 = 69;
          goto LABEL_137;
        }
      }
      v18 = a1;
      v19 = a1;
LABEL_137:
      switch ( *(_WORD *)(v1 + 176) )
      {
        case 1:
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu == 1 )
            {
              v22 = *(float *)(v1 + 120);
              if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
                sub_416790((int *)dword_1308224, (signed __int64)*(float *)(v1 + 112), (signed __int64)v22, 0, 0);
              else
                sub_416860(v19, (signed __int64)*(float *)(v1 + 112), (signed __int64)v22, 0, 0);
            }
          }
          else
          {
            v12 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              goto LABEL_154;
            sub_416860(v18, (signed __int64)*(float *)(v1 + 112), (signed __int64)v12, 0, 0);
          }
          break;
        case 8:
          if ( dword_132258C & 1 )
          {
            v20 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              sub_416790((int *)dword_130824C, (signed __int64)*(float *)(v1 + 112), (signed __int64)v20, 0, 0);
            else
              sub_416860(92, (signed __int64)*(float *)(v1 + 112), (signed __int64)v20, 0, 0);
          }
          else
          {
            v21 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              sub_416790((int *)dword_1308248, (signed __int64)*(float *)(v1 + 112), (signed __int64)v21, 0, 0);
            else
              sub_416860(91, (signed __int64)*(float *)(v1 + 112), (signed __int64)v21, 0, 0);
          }
          break;
        case 9:
          goto LABEL_184;
      }
LABEL_197:
      v33 = *(_DWORD *)(v1 + 168);
      if ( (unsigned __int16)++*(_WORD *)(v1 + 176) > *(unsigned __int16 *)(dword_8D3C24[v33] + 40) - 1 )
      {
        *(_WORD *)(v1 + 176) = 0;
        *(_DWORD *)(v1 + 108) = 0;
        *(_BYTE *)(v1 + 174) = 0;
        *(_DWORD *)(v1 + 600) = 0;
      }
      v2 = *(_DWORD *)(v1 + 636) - 102;
      if ( *(_DWORD *)(v1 + 636) == 102 )
      {
        if ( *(_WORD *)(v1 + 176) == 1 )
        {
          switch ( *(unsigned __int8 *)(v1 + 173) )
          {
            case 0u:
              v36 = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 10;
              LODWORD(v34) = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 30;
              goto LABEL_216;
            case 1u:
              v36 = (signed __int64)*(float *)(v1 + 120);
              LODWORD(v34) = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 30;
              goto LABEL_216;
            case 2u:
              v36 = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) - 10;
              LODWORD(v34) = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) - 30;
              goto LABEL_216;
            case 3u:
              v36 = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) - 20;
              v34 = (signed __int64)*(float *)(v1 + 112);
              goto LABEL_216;
            case 4u:
              LODWORD(v34) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) - 10;
              goto LABEL_215;
            case 5u:
              v34 = (signed __int64)*(float *)(v1 + 120);
              goto LABEL_215;
            case 6u:
              LODWORD(v34) = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 10;
LABEL_215:
              v36 = v34;
              LODWORD(v34) = (unsigned __int64)(signed __int64)*(float *)(v1 + 112) + 30;
              goto LABEL_216;
            case 7u:
              v36 = (unsigned __int64)(signed __int64)*(float *)(v1 + 120) + 20;
              v34 = (signed __int64)*(float *)(v1 + 112);
LABEL_216:
              sub_41C960(v34, v36);
              break;
            default:
              break;
          }
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1055;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(v1 + 172);
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
          v2 = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(v2 + 636) = -1;
        }
      }
      else
      {
        v2 = *(_DWORD *)(v1 + 636) - 104;
        if ( *(_DWORD *)(v1 + 636) == 104 )
        {
          LOWORD(v2) = *(_WORD *)(v1 + 176);
          if ( (_WORD)v2 )
          {
            if ( ++*(_WORD *)(v1 + 618) >= 2 )
            {
              *(_WORD *)(v1 + 618) = 0;
            }
            else
            {
              LOWORD(v2) = v2 - 1;
              *(_WORD *)(v1 + 176) = v2;
            }
          }
        }
      }
      return v2;
    case 0x14u:
    case 0x17u:
      switch ( *(_WORD *)(v1 + 176) )
      {
        case 1:
          goto LABEL_78;
        case 8:
          if ( !(dword_132258C & 1) )
            goto LABEL_89;
          v8 = *(float *)(v1 + 120);
          if ( *(_DWORD *)(v1 + 52) != dword_131D690 )
            goto LABEL_36;
          sub_416790((int *)dword_1308234, (signed __int64)*(float *)(v1 + 112), (signed __int64)v8, 0, 0);
          break;
        case 9:
          goto LABEL_184;
      }
      goto LABEL_197;
    case 0x1Au:
      switch ( *(_WORD *)(v1 + 176) )
      {
        case 1:
LABEL_78:
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu == 1 )
            {
              v11 = *(float *)(v1 + 120);
              if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
                goto LABEL_43;
              sub_416860(69, (signed __int64)*(float *)(v1 + 112), (signed __int64)v11, 0, 0);
            }
          }
          else
          {
            v12 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              goto LABEL_154;
            sub_416860(68, (signed __int64)*(float *)(v1 + 112), (signed __int64)v12, 0, 0);
          }
          break;
        case 8:
          if ( dword_132258C & 1 )
          {
            v13 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
LABEL_53:
              sub_416790((int *)dword_130824C, (signed __int64)*(float *)(v1 + 112), (signed __int64)v13, 0, 0);
            else
              sub_416860(92, (signed __int64)*(float *)(v1 + 112), (signed __int64)v13, 0, 0);
          }
          else
          {
            v15 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              sub_416790((int *)dword_1308248, (signed __int64)*(float *)(v1 + 112), (signed __int64)v15, 0, 0);
            else
              sub_416860(91, (signed __int64)*(float *)(v1 + 112), (signed __int64)v15, 0, 0);
          }
          break;
        case 9:
          goto LABEL_184;
      }
      goto LABEL_197;
    case 0x28u:
    case 0x2Bu:
      switch ( *(_WORD *)(v1 + 176) )
      {
        case 1:
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu == 1 )
            {
              v11 = *(float *)(v1 + 120);
              if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
                goto LABEL_43;
              sub_416860(73, (signed __int64)*(float *)(v1 + 112), (signed __int64)v11, 0, 0);
            }
          }
          else
          {
            v12 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              goto LABEL_154;
            sub_416860(72, (signed __int64)*(float *)(v1 + 112), (signed __int64)v12, 0, 0);
          }
          break;
        case 9:
          if ( dword_132258C & 1 )
            goto LABEL_114;
LABEL_89:
          v16 = *(float *)(v1 + 120);
          if ( *(_DWORD *)(v1 + 52) != dword_131D690 )
            goto LABEL_118;
          goto LABEL_117;
        case 0xA:
          goto LABEL_184;
      }
      goto LABEL_197;
    case 0x3Cu:
    case 0x3Fu:
      switch ( *(_WORD *)(v1 + 176) )
      {
        case 1:
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu == 1 )
            {
              v11 = *(float *)(v1 + 120);
              if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
LABEL_43:
                sub_416790((int *)dword_1308224, (signed __int64)*(float *)(v1 + 112), (signed __int64)v11, 0, 0);
              else
                sub_416860(77, (signed __int64)*(float *)(v1 + 112), (signed __int64)v11, 0, 0);
            }
          }
          else
          {
            v12 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              goto LABEL_154;
            sub_416860(76, (signed __int64)*(float *)(v1 + 112), (signed __int64)v12, 0, 0);
          }
          break;
        case 9:
          if ( !(dword_132258C & 1) )
            goto LABEL_116;
          goto LABEL_114;
        case 0xA:
          goto LABEL_184;
      }
      goto LABEL_197;
    case 0x50u:
    case 0x53u:
    case 0x56u:
      switch ( *(_WORD *)(v1 + 176) )
      {
        case 1:
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu == 1 )
            {
              v17 = *(float *)(v1 + 120);
              if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
                sub_416790((int *)dword_1308220, (signed __int64)*(float *)(v1 + 112), (signed __int64)v17, 0, 0);
              else
                sub_416860(80, (signed __int64)*(float *)(v1 + 112), (signed __int64)v17, 0, 0);
            }
          }
          else
          {
            v12 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
LABEL_154:
              sub_416790((int *)dword_1308220, (signed __int64)*(float *)(v1 + 112), (signed __int64)v12, 0, 0);
            else
              sub_416860(80, (signed __int64)*(float *)(v1 + 112), (signed __int64)v12, 0, 0);
          }
          break;
        case 7:
          if ( dword_132258C & 1 )
          {
LABEL_114:
            v8 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
              sub_416790((int *)dword_1308234, (signed __int64)*(float *)(v1 + 112), (signed __int64)v8, 0, 0);
            else
LABEL_36:
              sub_416860(86, (signed __int64)*(float *)(v1 + 112), (signed __int64)v8, 0, 0);
          }
          else
          {
LABEL_116:
            v16 = *(float *)(v1 + 120);
            if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
LABEL_117:
              sub_416790((int *)dword_1308230, (signed __int64)*(float *)(v1 + 112), (signed __int64)v16, 0, 0);
            else
LABEL_118:
              sub_416860(85, (signed __int64)*(float *)(v1 + 112), (signed __int64)v16, 0, 0);
          }
          break;
        case 9:
          goto LABEL_184;
      }
      goto LABEL_197;
    default:
      switch ( v2 )
      {
        case 0x65u:
        case 0x66u:
        case 0x67u:
        case 0x69u:
        case 0x74u:
        case 0x7Fu:
        case 0x83u:
        case 0x98u:
        case 0x9Au:
        case 0xA1u:
          v23 = 127;
          v24 = 127;
          break;
        case 0x6Au:
        case 0x6Bu:
        case 0x6Cu:
        case 0x78u:
        case 0x82u:
        case 0x84u:
          v23 = 101;
          v24 = 102;
          break;
        case 0x6Du:
        case 0x72u:
        case 0x79u:
        case 0x80u:
          v23 = 105;
          v24 = 106;
          break;
        case 0x6Eu:
          v23 = 76;
          v24 = 77;
          break;
        case 0x6Fu:
        case 0x70u:
        case 0x76u:
        case 0x7Cu:
        case 0x8Du:
        case 0x90u:
        case 0x96u:
        case 0x97u:
          v23 = 123;
          v24 = 124;
          break;
        case 0x71u:
        case 0x9Bu:
          v23 = 111;
          v24 = 112;
          break;
        case 0x73u:
        case 0x7Du:
        case 0x81u:
        case 0x91u:
        case 0x92u:
        case 0x93u:
        case 0x94u:
          v23 = 136;
          v24 = 137;
          break;
        case 0x75u:
        case 0x7Au:
        case 0x7Eu:
        case 0x8Eu:
        case 0x8Fu:
        case 0x95u:
        case 0x9Cu:
          v23 = 117;
          v24 = 118;
          break;
        case 0x77u:
        case 0x7Bu:
        case 0x99u:
          v23 = 130;
          v24 = 131;
          break;
        default:
          v23 = -1;
          v24 = -1;
          break;
      }
      if ( v2 <= 0x64 )
        goto LABEL_197;
      v25 = 5 * v2 - 500;
      v26 = dword_4850C8[v25];
      if ( v26 != -1 && v26 == *(unsigned __int16 *)(v1 + 176) && v23 != -1 )
        goto LABEL_179;
      v27 = dword_4850D0[v25];
      if ( v27 != -1 && v27 == *(unsigned __int16 *)(v1 + 176) )
      {
        switch ( dword_4850D4[v25] )
        {
          case 0:
          case 1:
            v23 = 85;
            v24 = 86;
            break;
          case 2:
            v23 = 87;
            v24 = 88;
            break;
          case 3:
            v23 = 89;
            v24 = 90;
            break;
          case 4:
            v23 = 91;
            v24 = 92;
            break;
          case 5:
            v23 = 127;
            v24 = 127;
            break;
          default:
            break;
        }
LABEL_179:
        if ( dword_132258C % 0xAu )
        {
          if ( dword_132258C % 0xAu == 1 )
            sub_416860(v24, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
        }
        else
        {
          sub_416860(v23, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
        }
      }
      if ( dword_4850D8[5 * (*(_DWORD *)(v1 + 168) - 100)] == *(unsigned __int16 *)(v1 + 176) )
      {
LABEL_184:
        if ( *(_DWORD *)(v1 + 52) == dword_131D690 && *(_BYTE *)(v1 + 104) && (&lpString)[dword_48CCE4]
          || *(_DWORD *)(v1 + 68) && *(_DWORD *)(v1 + 76) && *(_BYTE *)(v1 + 104) )
        {
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 5;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v1 + 56);
          v28 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
          LOBYTE(dword_1550B67) = BYTE1(v28);
          BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v1 + 112) * 0.025);
          v29 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
          BYTE2(dword_1550B67) = BYTE1(v29);
          HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
          if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
          {
            v30 = (&lpString)[dword_48CCE4];
            dword_1550B6B = *((_DWORD *)v30 + 14);
          }
          else
          {
            if ( *(_DWORD *)(v1 + 636) != 224 || (v30 = *(LPCSTR *)(v1 + 628)) == 0 )
              v30 = (&lpString)[dword_131D690];
            dword_1550B6B = *((_DWORD *)v30 + 14);
          }
          v31 = (signed __int64)(*((float *)v30 + 28) * 0.025);
          byte_1550B6F = BYTE1(v31);
          byte_1550B70 = (signed __int64)(*((float *)v30 + 28) * 0.025);
          v32 = (signed __int64)(*((float *)v30 + 30) * 0.050000001);
          byte_1550B71 = BYTE1(v32);
          byte_1550B72 = (signed __int64)(*((float *)v30 + 30) * 0.050000001);
          sub_42EA60((int)v30, byte_1550B78);
          sub_42EA60(v1, &byte_1550B73);
          sub_479790(29);
        }
      }
      goto LABEL_197;
  }
}
// 4850C8: using guessed type int dword_4850C8[];
// 4850D0: using guessed type int dword_4850D0[];
// 4850D4: using guessed type int dword_4850D4[];
// 48CCE4: using guessed type int dword_48CCE4;
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1308220: using guessed type int dword_1308220;
// 1308224: using guessed type int dword_1308224;
// 1308230: using guessed type int dword_1308230;
// 1308234: using guessed type int dword_1308234;
// 1308248: using guessed type int dword_1308248;
// 130824C: using guessed type int dword_130824C;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;

//----- (0040B490) --------------------------------------------------------
__int16 __cdecl sub_40B490(int a1)
{
  int v1; // eax
  double v2; // st7
  double v3; // st7
  double v4; // st7
  double v5; // st7
  double v6; // st7
  int v7; // eax
  double v8; // st7
  double v9; // st7
  double v10; // st7
  signed int v11; // edi
  signed int v12; // ebp
  signed __int64 v13; // rax
  signed __int64 v14; // rax
  LPCSTR v15; // edi
  signed __int64 v16; // rax
  signed __int64 v17; // rax
  int v18; // ecx
  unsigned __int16 v19; // ax
  int v20; // ecx
  signed __int64 v21; // rax
  signed int v23; // [esp-4h] [ebp-Ch]

  v1 = *(_DWORD *)(a1 + 168);
  if ( !*(_WORD *)(dword_8D3C24[v1] + 48) )
  {
    *(_BYTE *)(a1 + 174) = 0;
    *(_DWORD *)(a1 + 600) = 0;
    return v1;
  }
  switch ( v1 )
  {
    case 0:
    case 3:
    case 6:
      switch ( *(_WORD *)(a1 + 176) )
      {
        case 1:
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu == 1 )
            {
              v4 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v4, 0, 0);
              else
                sub_416860(65, (signed __int64)*(float *)(a1 + 112), (signed __int64)v4, 0, 0);
            }
          }
          else
          {
            v5 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
              goto LABEL_21;
            sub_416860(64, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
          }
          break;
        case 8:
          if ( !(dword_132258C & 1) )
            goto LABEL_12;
          v2 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) != dword_131D690 )
            goto LABEL_11;
          goto LABEL_10;
        case 9:
          goto LABEL_92;
      }
      break;
    case 20:
    case 23:
      switch ( *(_WORD *)(a1 + 176) )
      {
        case 1:
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu == 1 )
            {
              v6 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
              else
                sub_416860(69, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
            }
          }
          else
          {
            v5 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
              goto LABEL_21;
            sub_416860(68, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
          }
          break;
        case 8:
          if ( dword_132258C & 1 )
            goto LABEL_64;
LABEL_12:
          v3 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) != dword_131D690 )
            goto LABEL_14;
          goto LABEL_13;
        case 9:
          goto LABEL_92;
      }
      break;
    case 40:
    case 43:
      if ( *(_WORD *)(a1 + 176) != 1 )
      {
        v7 = *(unsigned __int16 *)(a1 + 176) - 9;
        if ( *(_WORD *)(a1 + 176) == 9 )
          goto LABEL_40;
        goto LABEL_38;
      }
      if ( dword_132258C % 0xAu )
      {
        if ( dword_132258C % 0xAu == 1 )
        {
          v8 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
          else
            sub_416860(73, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
        }
      }
      else
      {
        v5 = *(float *)(a1 + 120);
        if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
          goto LABEL_21;
        sub_416860(72, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
      }
      break;
    case 60:
    case 63:
      if ( *(_WORD *)(a1 + 176) == 1 )
      {
        if ( dword_132258C % 0xAu )
        {
          if ( dword_132258C % 0xAu == 1 )
          {
            v9 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
              sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v9, 0, 0);
            else
              sub_416860(77, (signed __int64)*(float *)(a1 + 112), (signed __int64)v9, 0, 0);
          }
        }
        else
        {
          v5 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_21:
            sub_416790((int *)dword_1308220, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
          else
            sub_416860(76, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
        }
      }
      else
      {
        v7 = *(unsigned __int16 *)(a1 + 176) - 9;
        if ( *(_WORD *)(a1 + 176) == 9 )
        {
LABEL_40:
          if ( !(dword_132258C & 1) )
            goto LABEL_66;
          goto LABEL_64;
        }
LABEL_38:
        if ( v7 == 1 )
          goto LABEL_92;
      }
      break;
    case 80:
    case 83:
    case 86:
      switch ( *(_WORD *)(a1 + 176) )
      {
        case 1:
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu != 1 )
              goto LABEL_104;
            v10 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            {
              sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v10, 0, 0);
              goto LABEL_104;
            }
          }
          else
          {
            v10 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            {
              sub_416790((int *)dword_1308220, (signed __int64)*(float *)(a1 + 112), (signed __int64)v10, 0, 0);
              goto LABEL_104;
            }
          }
          sub_416860(80, (signed __int64)*(float *)(a1 + 112), (signed __int64)v10, 0, 0);
          break;
        case 7:
          if ( dword_132258C & 1 )
          {
LABEL_64:
            v2 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_10:
              sub_416790((int *)dword_1308234, (signed __int64)*(float *)(a1 + 112), (signed __int64)v2, 0, 0);
            else
LABEL_11:
              sub_416860(86, (signed __int64)*(float *)(a1 + 112), (signed __int64)v2, 0, 0);
          }
          else
          {
LABEL_66:
            v3 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_13:
              sub_416790((int *)dword_1308230, (signed __int64)*(float *)(a1 + 112), (signed __int64)v3, 0, 0);
            else
LABEL_14:
              sub_416860(85, (signed __int64)*(float *)(a1 + 112), (signed __int64)v3, 0, 0);
          }
          break;
        case 9:
          goto LABEL_92;
      }
      break;
    default:
      v11 = -1;
      switch ( v1 )
      {
        case 101:
        case 102:
        case 103:
        case 105:
        case 116:
        case 127:
        case 131:
        case 152:
        case 154:
        case 161:
          v11 = 127;
          v12 = 127;
          break;
        case 106:
        case 107:
        case 108:
        case 120:
        case 130:
        case 132:
          v11 = 101;
          v12 = 102;
          break;
        case 109:
        case 114:
        case 121:
        case 128:
          v11 = 105;
          v12 = 106;
          break;
        case 110:
          v11 = 76;
          v12 = 77;
          break;
        case 111:
        case 112:
        case 118:
        case 124:
        case 141:
        case 144:
        case 150:
        case 151:
          v11 = 123;
          v12 = 124;
          break;
        case 113:
        case 155:
          v11 = 111;
          v12 = 112;
          break;
        case 115:
        case 125:
        case 129:
        case 146:
        case 147:
        case 148:
          v11 = 136;
          v12 = 137;
          break;
        case 117:
        case 122:
        case 126:
        case 142:
        case 143:
        case 149:
        case 156:
          v11 = 117;
          v12 = 118;
          break;
        case 119:
        case 123:
        case 153:
          v11 = 130;
          v12 = 131;
          break;
        default:
          v12 = a1;
          break;
      }
      if ( !*(_WORD *)(a1 + 176) )
      {
        if ( v11 != -1 )
        {
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu == 1 )
              sub_416860(v12, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          }
          else
          {
            sub_416860(v11, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          }
        }
LABEL_92:
        if ( *(_DWORD *)(a1 + 52) == dword_131D690 && *(_BYTE *)(a1 + 104) && (&lpString)[dword_48CCE4]
          || *(_DWORD *)(a1 + 68) && *(_DWORD *)(a1 + 76) && *(_BYTE *)(a1 + 104) )
        {
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 5;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
          v13 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
          LOBYTE(dword_1550B67) = BYTE1(v13);
          BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
          v14 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
          BYTE2(dword_1550B67) = BYTE1(v14);
          HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
          {
            v15 = (&lpString)[dword_48CCE4];
          }
          else if ( *(_DWORD *)(a1 + 636) != 224 || (v15 = *(LPCSTR *)(a1 + 628)) == 0 )
          {
            v15 = (&lpString)[dword_131D690];
          }
          dword_1550B6B = *((_DWORD *)v15 + 14);
          v16 = (signed __int64)(*((float *)v15 + 28) * 0.025);
          byte_1550B6F = BYTE1(v16);
          byte_1550B70 = (signed __int64)(*((float *)v15 + 28) * 0.025);
          v17 = (signed __int64)(*((float *)v15 + 30) * 0.050000001);
          byte_1550B71 = BYTE1(v17);
          byte_1550B72 = (signed __int64)(*((float *)v15 + 30) * 0.050000001);
          sub_42EA60((int)v15, byte_1550B78);
          sub_42EA60(a1, &byte_1550B73);
          sub_479790(29);
        }
      }
      break;
  }
LABEL_104:
  v18 = *(_DWORD *)(a1 + 168);
  if ( v18 == 9 )
  {
    v19 = *(_WORD *)(a1 + 176);
    if ( v19 < 0x11u || (unsigned int)dword_13211C8 > *(_DWORD *)(a1 + 640) )
    {
LABEL_113:
      *(_WORD *)(a1 + 176) = v19 + 1;
      goto LABEL_114;
    }
  }
  else
  {
    if ( v18 != 12 && v18 != 26 )
    {
      ++*(_WORD *)(a1 + 176);
      goto LABEL_114;
    }
    v19 = *(_WORD *)(a1 + 176);
    if ( v19 < 0xEu || (unsigned int)dword_13211C8 > *(_DWORD *)(a1 + 640) )
      goto LABEL_113;
  }
LABEL_114:
  if ( *(unsigned __int16 *)(a1 + 176) > *(unsigned __int16 *)(dword_8D3C24[v18] + 48) - 1 )
  {
    *(_WORD *)(a1 + 176) = 0;
    *(_DWORD *)(a1 + 108) = 0;
    *(_BYTE *)(a1 + 174) = 0;
    *(_DWORD *)(a1 + 600) = 0;
  }
  v1 = *(_DWORD *)(a1 + 636) - 102;
  if ( *(_DWORD *)(a1 + 636) == 102 )
  {
    if ( *(_WORD *)(a1 + 176) == 1 )
    {
      switch ( *(unsigned __int8 *)(a1 + 173) )
      {
        case 0u:
          v23 = (unsigned __int64)(signed __int64)*(float *)(a1 + 120) + 10;
          LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(a1 + 112) - 30;
          goto LABEL_134;
        case 1u:
          v23 = (signed __int64)*(float *)(a1 + 120);
          LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(a1 + 112) - 30;
          goto LABEL_134;
        case 2u:
          v23 = (unsigned __int64)(signed __int64)*(float *)(a1 + 120) - 10;
          LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(a1 + 112) - 30;
          goto LABEL_134;
        case 3u:
          v23 = (unsigned __int64)(signed __int64)*(float *)(a1 + 120) - 20;
          v21 = (signed __int64)*(float *)(a1 + 112);
          goto LABEL_134;
        case 4u:
          LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(a1 + 120) - 10;
          goto LABEL_133;
        case 5u:
          v21 = (signed __int64)*(float *)(a1 + 120);
          goto LABEL_133;
        case 6u:
          LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(a1 + 120) + 10;
LABEL_133:
          v23 = v21;
          LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(a1 + 112) + 30;
          goto LABEL_134;
        case 7u:
          v23 = (unsigned __int64)(signed __int64)*(float *)(a1 + 120) + 20;
          v21 = (signed __int64)*(float *)(a1 + 112);
LABEL_134:
          sub_41C960(v21, v23);
          break;
        default:
          break;
      }
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1055;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(a1 + 172);
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
      v1 = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(v1 + 636) = -1;
    }
    goto LABEL_136;
  }
  v1 = *(_DWORD *)(a1 + 636) - 104;
  if ( *(_DWORD *)(a1 + 636) != 104 || (LOWORD(v1) = *(_WORD *)(a1 + 176), !(_WORD)v1) )
  {
LABEL_136:
    *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
    return v1;
  }
  if ( ++*(_WORD *)(a1 + 618) >= 2 )
  {
    v20 = *(_DWORD *)(a1 + 120);
    *(_WORD *)(a1 + 618) = 0;
  }
  else
  {
    v20 = *(_DWORD *)(a1 + 120);
    LOWORD(v1) = v1 - 1;
    *(_WORD *)(a1 + 176) = v1;
  }
  *(_DWORD *)(a1 + 116) = v20;
  return v1;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1308220: using guessed type int dword_1308220;
// 1308224: using guessed type int dword_1308224;
// 1308230: using guessed type int dword_1308230;
// 1308234: using guessed type int dword_1308234;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 132258C: using guessed type int dword_132258C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;

//----- (0040BF70) --------------------------------------------------------
__int16 __cdecl sub_40BF70(int a1)
{
  int v1; // eax
  double v2; // st7
  double v3; // st7
  unsigned int v4; // edx
  double v5; // st7
  double v6; // st7
  double v7; // st7
  double v8; // st7
  double v9; // st7
  double v10; // st7
  int v11; // eax
  signed int v12; // edi
  signed int v13; // ebp
  double v14; // st7
  double v15; // st7
  double v16; // st7
  signed int v17; // edi
  signed int v18; // ebp
  signed __int64 v19; // rax
  signed __int64 v20; // rax
  LPCSTR v21; // edi
  signed __int64 v22; // rax
  signed __int64 v23; // rax
  int v24; // ecx
  int v25; // edx

  v1 = *(_DWORD *)(a1 + 168);
  if ( *(_WORD *)(dword_8D3C24[v1] + 56) )
  {
    switch ( v1 )
    {
      case 0:
      case 3:
      case 6:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
            v4 = dword_132258C % 0xAu;
            if ( dword_132258C % 0xAu )
              goto LABEL_16;
            v6 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
              goto LABEL_123;
            sub_416860(64, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
            break;
          case 8:
            if ( !(dword_132258C & 1) )
              goto LABEL_12;
            v2 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) != dword_131D690 )
              goto LABEL_11;
            goto LABEL_10;
          case 9:
            goto LABEL_142;
        }
        goto LABEL_154;
      case 9:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
            v4 = dword_132258C % 0xAu;
            if ( dword_132258C % 0xAu )
            {
LABEL_16:
              if ( v4 == 1 )
              {
                v5 = *(float *)(a1 + 120);
                if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                  goto LABEL_18;
                sub_416860(65, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
              }
            }
            else
            {
              v6 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                goto LABEL_123;
              sub_416860(64, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
            }
            break;
          case 5:
            if ( dword_132258C & 1 )
            {
              v7 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                sub_416790((int *)dword_130823C, (signed __int64)*(float *)(a1 + 112), (signed __int64)v7, 0, 0);
              else
                sub_416860(88, (signed __int64)*(float *)(a1 + 112), (signed __int64)v7, 0, 0);
            }
            else
            {
              v8 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                sub_416790((int *)dword_1308238, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
              else
                sub_416860(87, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
            }
            break;
          case 6:
            goto LABEL_142;
        }
        goto LABEL_154;
      case 12:
        if ( *(_BYTE *)(a1 + 42) )
        {
          if ( *(_BYTE *)(a1 + 42) == 1 )
          {
            if ( !*(_BYTE *)(a1 + 43) )
            {
              v12 = 72;
              v13 = 73;
              goto LABEL_106;
            }
            if ( *(_BYTE *)(a1 + 43) == 1 )
            {
              v12 = 76;
              v13 = 77;
              goto LABEL_106;
            }
          }
        }
        else
        {
          if ( !*(_BYTE *)(a1 + 43) )
          {
            v12 = 64;
            v13 = 65;
            goto LABEL_106;
          }
          if ( *(_BYTE *)(a1 + 43) == 1 )
          {
            v12 = 68;
            v13 = 69;
            goto LABEL_106;
          }
        }
        v12 = a1;
        v13 = a1;
LABEL_106:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
            if ( dword_132258C % 0xAu )
            {
              if ( dword_132258C % 0xAu == 1 )
              {
                v16 = *(float *)(a1 + 120);
                if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                  sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v16, 0, 0);
                else
                  sub_416860(v13, (signed __int64)*(float *)(a1 + 112), (signed __int64)v16, 0, 0);
              }
            }
            else
            {
              v6 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                goto LABEL_123;
              sub_416860(v12, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
            }
            break;
          case 5:
            if ( dword_132258C & 1 )
            {
              v14 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                sub_416790((int *)dword_130823C, (signed __int64)*(float *)(a1 + 112), (signed __int64)v14, 0, 0);
              else
                sub_416860(88, (signed __int64)*(float *)(a1 + 112), (signed __int64)v14, 0, 0);
            }
            else
            {
              v15 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                sub_416790((int *)dword_1308238, (signed __int64)*(float *)(a1 + 112), (signed __int64)v15, 0, 0);
              else
                sub_416860(87, (signed __int64)*(float *)(a1 + 112), (signed __int64)v15, 0, 0);
            }
            break;
          case 6:
            goto LABEL_142;
        }
LABEL_154:
        v24 = *(_DWORD *)(a1 + 168);
        v1 = (unsigned __int16)++*(_WORD *)(a1 + 176);
        if ( v1 > *(unsigned __int16 *)(dword_8D3C24[v24] + 56) - 1 )
        {
          *(_WORD *)(a1 + 176) = 0;
          *(_DWORD *)(a1 + 108) = 0;
          *(_BYTE *)(a1 + 174) = 0;
          *(_DWORD *)(a1 + 600) = 0;
        }
        if ( *(_DWORD *)(a1 + 636) == 104 )
        {
          LOWORD(v1) = *(_WORD *)(a1 + 176);
          if ( (_WORD)v1 )
          {
            if ( ++*(_WORD *)(a1 + 618) < 2 )
            {
              v25 = *(_DWORD *)(a1 + 120);
              LOWORD(v1) = v1 - 1;
              *(_WORD *)(a1 + 176) = v1;
              *(_DWORD *)(a1 + 116) = v25;
              return v1;
            }
            *(_WORD *)(a1 + 618) = 0;
          }
        }
        *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
        return v1;
      case 20:
      case 23:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
            goto LABEL_53;
          case 8:
            if ( dword_132258C & 1 )
              goto LABEL_85;
LABEL_12:
            v3 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) != dword_131D690 )
              goto LABEL_14;
            goto LABEL_13;
          case 9:
            goto LABEL_142;
        }
        goto LABEL_154;
      case 26:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
LABEL_53:
            if ( dword_132258C % 0xAu )
            {
              if ( dword_132258C % 0xAu == 1 )
              {
                v5 = *(float *)(a1 + 120);
                if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                  goto LABEL_18;
                sub_416860(69, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
              }
            }
            else
            {
              v6 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                goto LABEL_123;
              sub_416860(68, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
            }
            break;
          case 8:
            if ( dword_132258C & 1 )
            {
              v9 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                sub_416790((int *)dword_130823C, (signed __int64)*(float *)(a1 + 112), (signed __int64)v9, 0, 0);
              else
                sub_416860(88, (signed __int64)*(float *)(a1 + 112), (signed __int64)v9, 0, 0);
            }
            else
            {
              v10 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                sub_416790((int *)dword_1308238, (signed __int64)*(float *)(a1 + 112), (signed __int64)v10, 0, 0);
              else
                sub_416860(87, (signed __int64)*(float *)(a1 + 112), (signed __int64)v10, 0, 0);
            }
            break;
          case 9:
            goto LABEL_142;
        }
        goto LABEL_154;
      case 40:
      case 43:
        if ( *(_WORD *)(a1 + 176) != 1 )
        {
          v11 = *(unsigned __int16 *)(a1 + 176) - 9;
          if ( *(_WORD *)(a1 + 176) == 9 )
            goto LABEL_63;
          goto LABEL_61;
        }
        if ( dword_132258C % 0xAu )
        {
          if ( dword_132258C % 0xAu == 1 )
          {
            v5 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
              goto LABEL_18;
            sub_416860(73, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
          }
        }
        else
        {
          v6 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            goto LABEL_123;
          sub_416860(72, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
        }
        goto LABEL_154;
      case 60:
      case 63:
        if ( *(_WORD *)(a1 + 176) == 1 )
        {
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu == 1 )
            {
              v5 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                goto LABEL_18;
              sub_416860(77, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
            }
          }
          else
          {
            v6 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
              goto LABEL_123;
            sub_416860(76, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
          }
        }
        else
        {
          v11 = *(unsigned __int16 *)(a1 + 176) - 9;
          if ( *(_WORD *)(a1 + 176) == 9 )
          {
LABEL_63:
            if ( !(dword_132258C & 1) )
              goto LABEL_87;
            goto LABEL_85;
          }
LABEL_61:
          if ( v11 == 1 )
            goto LABEL_142;
        }
        goto LABEL_154;
      case 80:
      case 83:
      case 86:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
            if ( dword_132258C % 0xAu )
            {
              if ( dword_132258C % 0xAu == 1 )
              {
                v5 = *(float *)(a1 + 120);
                if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_18:
                  sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
                else
                  sub_416860(80, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
              }
            }
            else
            {
              v6 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_123:
                sub_416790((int *)dword_1308220, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
              else
                sub_416860(80, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
            }
            break;
          case 7:
            if ( dword_132258C & 1 )
            {
LABEL_85:
              v2 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_10:
                sub_416790((int *)dword_1308234, (signed __int64)*(float *)(a1 + 112), (signed __int64)v2, 0, 0);
              else
LABEL_11:
                sub_416860(86, (signed __int64)*(float *)(a1 + 112), (signed __int64)v2, 0, 0);
            }
            else
            {
LABEL_87:
              v3 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_13:
                sub_416790((int *)dword_1308230, (signed __int64)*(float *)(a1 + 112), (signed __int64)v3, 0, 0);
              else
LABEL_14:
                sub_416860(85, (signed __int64)*(float *)(a1 + 112), (signed __int64)v3, 0, 0);
            }
            break;
          case 9:
            goto LABEL_142;
        }
        goto LABEL_154;
      default:
        v17 = -1;
        switch ( v1 )
        {
          case 101:
          case 102:
          case 103:
          case 105:
          case 116:
          case 127:
          case 131:
          case 152:
          case 154:
          case 161:
            v17 = 127;
            v18 = 127;
            break;
          case 106:
          case 107:
          case 108:
          case 120:
          case 130:
          case 132:
            v17 = 101;
            v18 = 102;
            break;
          case 109:
          case 114:
          case 121:
          case 128:
            v17 = 105;
            v18 = 106;
            break;
          case 110:
            v17 = 76;
            v18 = 77;
            break;
          case 111:
          case 112:
          case 118:
          case 124:
          case 141:
          case 144:
          case 150:
          case 151:
            v17 = 123;
            v18 = 124;
            break;
          case 113:
          case 155:
            v17 = 111;
            v18 = 112;
            break;
          case 115:
          case 125:
          case 129:
          case 146:
          case 147:
          case 148:
            v17 = 136;
            v18 = 137;
            break;
          case 117:
          case 122:
          case 126:
          case 142:
          case 143:
          case 149:
          case 156:
            v17 = 117;
            v18 = 118;
            break;
          case 119:
          case 123:
          case 153:
            v17 = 130;
            v18 = 131;
            break;
          default:
            v18 = a1;
            break;
        }
        if ( !*(_WORD *)(a1 + 176) )
        {
          if ( v17 != -1 )
          {
            if ( dword_132258C % 0xAu )
            {
              if ( dword_132258C % 0xAu == 1 )
                sub_416860(v18, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
            }
            else
            {
              sub_416860(v17, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
            }
          }
LABEL_142:
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 && *(_BYTE *)(a1 + 104) && (&lpString)[dword_48CCE4]
            || *(_DWORD *)(a1 + 68) && *(_DWORD *)(a1 + 76) && *(_BYTE *)(a1 + 104) )
          {
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 5;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
            v19 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
            LOBYTE(dword_1550B67) = BYTE1(v19);
            BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
            v20 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
            BYTE2(dword_1550B67) = BYTE1(v20);
            HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            {
              v21 = (&lpString)[dword_48CCE4];
            }
            else if ( *(_DWORD *)(a1 + 636) != 224 || (v21 = *(LPCSTR *)(a1 + 628)) == 0 )
            {
              v21 = (&lpString)[dword_131D690];
            }
            dword_1550B6B = *((_DWORD *)v21 + 14);
            v22 = (signed __int64)(*((float *)v21 + 28) * 0.025);
            byte_1550B6F = BYTE1(v22);
            byte_1550B70 = (signed __int64)(*((float *)v21 + 28) * 0.025);
            v23 = (signed __int64)(*((float *)v21 + 30) * 0.050000001);
            byte_1550B71 = BYTE1(v23);
            byte_1550B72 = (signed __int64)(*((float *)v21 + 30) * 0.050000001);
            sub_42EA60((int)v21, byte_1550B78);
            sub_42EA60(a1, &byte_1550B73);
            sub_479790(29);
          }
        }
        goto LABEL_154;
    }
  }
  *(_BYTE *)(a1 + 174) = 0;
  *(_DWORD *)(a1 + 600) = 0;
  return v1;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 8D3C24: using guessed type int dword_8D3C24[];
// 1308220: using guessed type int dword_1308220;
// 1308224: using guessed type int dword_1308224;
// 1308230: using guessed type int dword_1308230;
// 1308234: using guessed type int dword_1308234;
// 1308238: using guessed type int dword_1308238;
// 130823C: using guessed type int dword_130823C;
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;

//----- (0040CB70) --------------------------------------------------------
int __cdecl sub_40CB70(int a1)
{
  int v1; // ecx
  int result; // eax
  int v3; // eax
  int v4; // eax
  double v5; // st7
  double v6; // st7
  double v7; // st7
  double v8; // st7
  int v9; // eax
  int v10; // eax
  double v11; // st7
  int v12; // eax
  double v13; // st7
  int v14; // eax
  int v15; // eax
  double v16; // st7
  int v17; // eax
  int v18; // edi
  __int16 v19; // bp
  signed __int64 v20; // rax
  double v21; // st7
  double v22; // st7
  LPCSTR v23; // edi
  double v24; // st7
  signed int v25; // edi
  signed int v26; // ebp
  signed __int64 v27; // rax
  signed __int64 v28; // rax
  LPCSTR v29; // edi
  signed __int64 v30; // rax
  signed __int64 v31; // rax
  __int16 v32; // ax

  v1 = *(_DWORD *)(a1 + 168);
  result = dword_8D3C24[v1];
  if ( !*(_WORD *)(result + 64) )
  {
    *(_DWORD *)(a1 + 600) = 0;
    *(_BYTE *)(a1 + 174) = 0;
    return result;
  }
  result = (unsigned __int16)++*(_WORD *)(a1 + 176);
  if ( result > *(unsigned __int16 *)(dword_8D3C24[v1] + 64) - 1 )
  {
    *(_WORD *)(a1 + 176) = 0;
    *(_DWORD *)(a1 + 108) = 0;
    *(_DWORD *)(a1 + 600) = 0;
    *(_BYTE *)(a1 + 174) = 0;
    return result;
  }
  switch ( v1 )
  {
    case 0:
    case 3:
    case 6:
      v3 = result - 1;
      if ( v3 )
      {
        v4 = v3 - 7;
        if ( v4 )
        {
          if ( v4 == 1 )
            goto LABEL_123;
        }
        else if ( dword_132258C & 1 )
        {
          v5 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) != dword_131D690 )
            goto LABEL_13;
          sub_416790((int *)dword_1308234, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
        }
        else
        {
          v6 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) != dword_131D690 )
            goto LABEL_16;
          sub_416790((int *)dword_1308230, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
        }
      }
      else if ( dword_132258C % 0xAu )
      {
        if ( dword_132258C % 0xAu == 1 )
        {
          v7 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v7, 0, 0);
          else
            sub_416860(65, (signed __int64)*(float *)(a1 + 112), (signed __int64)v7, 0, 0);
        }
      }
      else
      {
        v8 = *(float *)(a1 + 120);
        if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
          goto LABEL_23;
        sub_416860(64, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
      }
      goto LABEL_135;
    case 20:
    case 23:
      v9 = result - 1;
      if ( v9 )
      {
        v10 = v9 - 7;
        if ( !v10 )
          goto LABEL_29;
        goto LABEL_27;
      }
      if ( dword_132258C % 0xAu )
      {
        if ( dword_132258C % 0xAu == 1 )
        {
          v11 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v11, 0, 0);
          else
            sub_416860(69, (signed __int64)*(float *)(a1 + 112), (signed __int64)v11, 0, 0);
        }
      }
      else
      {
        v8 = *(float *)(a1 + 120);
        if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
          goto LABEL_23;
        sub_416860(68, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
      }
      goto LABEL_135;
    case 40:
    case 43:
      v12 = result - 1;
      if ( v12 )
      {
        v10 = v12 - 8;
        if ( !v10 )
        {
LABEL_29:
          if ( !(dword_132258C & 1) )
            goto LABEL_55;
          goto LABEL_53;
        }
LABEL_27:
        if ( v10 == 1 )
          goto LABEL_123;
      }
      else if ( dword_132258C % 0xAu )
      {
        if ( dword_132258C % 0xAu == 1 )
        {
          v13 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v13, 0, 0);
          else
            sub_416860(73, (signed __int64)*(float *)(a1 + 112), (signed __int64)v13, 0, 0);
        }
      }
      else
      {
        v8 = *(float *)(a1 + 120);
        if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
          goto LABEL_23;
        sub_416860(72, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
      }
      goto LABEL_135;
    case 60:
    case 63:
      v14 = result - 1;
      if ( v14 )
      {
        v15 = v14 - 8;
        if ( v15 )
        {
          if ( v15 == 1 )
            goto LABEL_123;
        }
        else if ( dword_132258C & 1 )
        {
LABEL_53:
          v5 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            sub_416790((int *)dword_1308234, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
          else
LABEL_13:
            sub_416860(86, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
        }
        else
        {
LABEL_55:
          v6 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            sub_416790((int *)dword_1308230, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
          else
LABEL_16:
            sub_416860(85, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
        }
      }
      else if ( dword_132258C % 0xAu )
      {
        if ( dword_132258C % 0xAu == 1 )
        {
          v16 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v16, 0, 0);
          else
            sub_416860(77, (signed __int64)*(float *)(a1 + 112), (signed __int64)v16, 0, 0);
        }
      }
      else
      {
        v8 = *(float *)(a1 + 120);
        if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_23:
          sub_416790((int *)dword_1308220, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
        else
          sub_416860(76, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
      }
      goto LABEL_135;
    case 80:
    case 83:
    case 86:
      v17 = result - 1;
      if ( !v17 )
      {
        if ( dword_132258C % 0xAu )
        {
          if ( dword_132258C % 0xAu != 1 )
            goto LABEL_135;
          v24 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
          {
            sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v24, 0, 0);
            goto LABEL_135;
          }
        }
        else
        {
          v24 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
          {
            sub_416790((int *)dword_1308220, (signed __int64)*(float *)(a1 + 112), (signed __int64)v24, 0, 0);
            goto LABEL_135;
          }
        }
        sub_416860(80, (signed __int64)*(float *)(a1 + 112), (signed __int64)v24, 0, 0);
        goto LABEL_135;
      }
      if ( v17 == 6 )
      {
        v18 = *(_DWORD *)(a1 + 628);
        v19 = (signed __int64)(*(float *)(v18 + 112) * 0.025 - *(float *)(a1 + 112) * 0.025);
        v20 = (signed __int64)(*(float *)(v18 + 120) * 0.050000001 - *(float *)(a1 + 120) * 0.050000001);
        if ( v19 )
        {
          if ( v19 >= 0 )
          {
            if ( (_WORD)v20 )
            {
              if ( (v20 & 0x8000u) == 0i64 )
              {
                *(_BYTE *)(a1 + 172) = 6;
                *(_BYTE *)(a1 + 173) = 6;
              }
              else
              {
                *(_BYTE *)(a1 + 172) = 4;
                *(_BYTE *)(a1 + 173) = 4;
              }
            }
            else
            {
              *(_BYTE *)(a1 + 172) = 5;
              *(_BYTE *)(a1 + 173) = 5;
            }
          }
          else if ( (_WORD)v20 )
          {
            if ( (v20 & 0x8000u) == 0i64 )
            {
              *(_BYTE *)(a1 + 172) = 0;
              *(_BYTE *)(a1 + 173) = 0;
            }
            else
            {
              *(_BYTE *)(a1 + 172) = 2;
              *(_BYTE *)(a1 + 173) = 2;
            }
          }
          else
          {
            *(_BYTE *)(a1 + 172) = 1;
            *(_BYTE *)(a1 + 173) = 1;
          }
        }
        else if ( (v20 & 0x8000u) == 0i64 )
        {
          *(_BYTE *)(a1 + 172) = 7;
          *(_BYTE *)(a1 + 173) = 7;
        }
        else
        {
          *(_BYTE *)(a1 + 172) = 3;
          *(_BYTE *)(a1 + 173) = 3;
        }
        sub_426260(*(_DWORD *)(a1 + 52), (signed __int64)*(float *)(v18 + 112), (signed __int64)*(float *)(v18 + 120));
        *((_BYTE *)dword_1542DA4
        + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(a1 + 120) * 0.050000001)
        + (unsigned __int16)(signed __int64)(*(float *)(a1 + 112) * 0.025)) = 0;
        sub_429CC0(
          a1,
          v18,
          (signed __int64)*(float *)(a1 + 112) / 40,
          (signed __int64)*(float *)(a1 + 120) / 20,
          *(_DWORD *)(a1 + 132) / 40,
          *(_DWORD *)(a1 + 136) / 20);
        if ( dword_132258C & 1 )
        {
          v21 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            sub_416790((int *)dword_1308234, (signed __int64)*(float *)(a1 + 112), (signed __int64)v21, 0, 0);
          else
            sub_416860(86, (signed __int64)*(float *)(a1 + 112), (signed __int64)v21, 0, 0);
        }
        else
        {
          v22 = *(float *)(a1 + 120);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            sub_416790((int *)dword_1308230, (signed __int64)*(float *)(a1 + 112), (signed __int64)v22, 0, 0);
          else
            sub_416860(85, (signed __int64)*(float *)(a1 + 112), (signed __int64)v22, 0, 0);
        }
        if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        {
          v23 = (&lpString)[dword_131D690];
          dword_154794C = 145 * (byte_1328E45 != 0) + (unsigned __int64)(signed __int64)*((float *)v23 + 28) - 400;
          dword_1547950 = (unsigned __int64)(signed __int64)*((float *)v23 + 30) - 250;
          sub_4166A0((signed __int64)*((float *)v23 + 28), (signed __int64)*((float *)v23 + 30), 0);
          if ( dword_154794C >= 0 )
          {
            if ( dword_154794C <= 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0) )
            {
              dword_1319238 = 1;
            }
            else
            {
              dword_1319238 = 0;
              dword_154794C = 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0);
            }
          }
          else
          {
            dword_1319238 = 0;
            dword_154794C = 0;
          }
          if ( dword_1547950 >= 0 )
          {
            if ( dword_1547950 <= 4 * (5 * dword_1540B50 - 125) )
            {
              dword_1319498 = 1;
            }
            else
            {
              dword_1319498 = 0;
              dword_1547950 = 4 * (5 * dword_1540B50 - 125);
            }
          }
          else
          {
            dword_1319498 = 0;
            dword_1547950 = 0;
          }
        }
      }
LABEL_135:
      if ( *(_DWORD *)(a1 + 636) == 104 )
      {
        v32 = *(_WORD *)(a1 + 176);
        if ( v32 )
        {
          if ( ++*(_WORD *)(a1 + 618) < 2 )
          {
            *(_WORD *)(a1 + 176) = v32 - 1;
            result = *(_DWORD *)(a1 + 120);
            *(_DWORD *)(a1 + 116) = result;
            return result;
          }
          *(_WORD *)(a1 + 618) = 0;
        }
      }
      result = *(_DWORD *)(a1 + 120);
      *(_DWORD *)(a1 + 116) = result;
      return result;
    default:
      v25 = -1;
      switch ( v1 )
      {
        case 101:
        case 102:
        case 103:
        case 105:
        case 116:
        case 127:
        case 131:
        case 152:
        case 154:
        case 161:
          v25 = 127;
          v26 = 127;
          break;
        case 106:
        case 107:
        case 108:
        case 120:
        case 130:
        case 132:
          v25 = 101;
          v26 = 102;
          break;
        case 109:
        case 114:
        case 121:
        case 128:
          v25 = 105;
          v26 = 106;
          break;
        case 110:
          v25 = 76;
          v26 = 77;
          break;
        case 111:
        case 112:
        case 118:
        case 124:
        case 141:
        case 144:
        case 150:
        case 151:
          v25 = 123;
          v26 = 124;
          break;
        case 113:
        case 155:
          v25 = 111;
          v26 = 112;
          break;
        case 115:
        case 125:
        case 129:
        case 146:
        case 147:
        case 148:
          v25 = 136;
          v26 = 137;
          break;
        case 117:
        case 122:
        case 126:
        case 142:
        case 143:
        case 149:
        case 156:
          v25 = 117;
          v26 = 118;
          break;
        case 119:
        case 123:
        case 153:
          v25 = 130;
          v26 = 131;
          break;
        default:
          v26 = a1;
          break;
      }
      if ( !*(_WORD *)(a1 + 176) )
      {
        if ( v25 != -1 )
        {
          if ( dword_132258C % 0xAu )
          {
            if ( dword_132258C % 0xAu == 1 )
              sub_416860(v26, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          }
          else
          {
            sub_416860(v25, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          }
        }
LABEL_123:
        if ( *(_DWORD *)(a1 + 52) == dword_131D690 && *(_BYTE *)(a1 + 104) && (&lpString)[dword_48CCE4]
          || *(_DWORD *)(a1 + 68) && *(_DWORD *)(a1 + 76) && *(_BYTE *)(a1 + 104) )
        {
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 5;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
          v27 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
          LOBYTE(dword_1550B67) = BYTE1(v27);
          BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
          v28 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
          BYTE2(dword_1550B67) = BYTE1(v28);
          HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
          {
            v29 = (&lpString)[dword_48CCE4];
          }
          else if ( *(_DWORD *)(a1 + 636) != 224 || (v29 = *(LPCSTR *)(a1 + 628)) == 0 )
          {
            v29 = (&lpString)[dword_131D690];
          }
          dword_1550B6B = *((_DWORD *)v29 + 14);
          v30 = (signed __int64)(*((float *)v29 + 28) * 0.025);
          byte_1550B6F = BYTE1(v30);
          byte_1550B70 = (signed __int64)(*((float *)v29 + 28) * 0.025);
          v31 = (signed __int64)(*((float *)v29 + 30) * 0.050000001);
          byte_1550B71 = BYTE1(v31);
          byte_1550B72 = (signed __int64)(*((float *)v29 + 30) * 0.050000001);
          sub_42EA60((int)v29, byte_1550B78);
          sub_42EA60(a1, &byte_1550B73);
          sub_479790(29);
        }
      }
      goto LABEL_135;
  }
}
// 48CCE4: using guessed type int dword_48CCE4;
// 8D3C24: using guessed type int dword_8D3C24[];
// 1308220: using guessed type int dword_1308220;
// 1308224: using guessed type int dword_1308224;
// 1308230: using guessed type int dword_1308230;
// 1308234: using guessed type int dword_1308234;
// 1319238: using guessed type int dword_1319238;
// 1319498: using guessed type int dword_1319498;
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1328E45: using guessed type char byte_1328E45;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;

//----- (0040D7A0) --------------------------------------------------------
__int16 __cdecl sub_40D7A0(int a1)
{
  int v1; // ecx
  __int16 v2; // dx
  __int16 v3; // ax
  int v4; // eax
  int v5; // edi
  __int16 v6; // bp
  signed __int64 v7; // rax
  __int16 v8; // di
  signed int v9; // ecx
  signed int v10; // eax
  double v11; // st7
  double v12; // st7
  signed __int64 v13; // rax
  int v14; // eax
  __int16 v15; // dx
  __int16 v16; // ax
  __int16 v17; // ax
  int v18; // eax
  signed int v20; // [esp+Ch] [ebp-Ch]
  signed int v21; // [esp+10h] [ebp-8h]

  v1 = *(_DWORD *)(a1 + 168);
  if ( (unsigned __int16)++*(_WORD *)(a1 + 176) > *(unsigned __int16 *)(dword_8D3C24[v1] + 72) - 1 )
  {
    *(_BYTE *)(a1 + 174) = 0;
    *(_WORD *)(a1 + 176) = 0;
    *(_DWORD *)(a1 + 600) = 0;
  }
  v2 = *(_WORD *)(a1 + 606);
  if ( *(unsigned __int16 *)(a1 + 176) == *(unsigned __int16 *)(dword_8D3C24[v1] + 72) + 3 * (v2 - 2) )
  {
    v3 = *(_WORD *)(a1 + 604);
    if ( v3 )
    {
      *(_WORD *)(a1 + 604) = v3 - 1;
      *(_WORD *)(a1 + 606) = v2 + 1;
    }
    sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = *(_DWORD *)(a1 + 628);
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
    v4 = *(_DWORD *)(a1 + 168);
    if ( v4 == 80 || v4 == 83 || v4 == 86 )
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1054;
    else
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1034;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 4;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 620) = -4;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 7;
    *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
    v5 = *(_DWORD *)(a1 + 628);
    if ( !v5 )
      v5 = a1;
    v6 = (signed __int64)(*(float *)(v5 + 112) * 0.025 - *(float *)(a1 + 112) * 0.025);
    v7 = (signed __int64)(*(float *)(v5 + 120) * 0.050000001 - *(float *)(a1 + 120) * 0.050000001);
    v8 = v7;
    if ( v6 )
    {
      if ( v6 >= 0 )
      {
        if ( (_WORD)v7 )
        {
          if ( (v7 & 0x8000u) == 0i64 )
          {
            *(_BYTE *)(a1 + 172) = 6;
            *(_BYTE *)(a1 + 173) = 6;
          }
          else
          {
            *(_BYTE *)(a1 + 172) = 4;
            *(_BYTE *)(a1 + 173) = 4;
          }
        }
        else
        {
          *(_BYTE *)(a1 + 172) = 5;
          *(_BYTE *)(a1 + 173) = 5;
        }
      }
      else if ( (_WORD)v7 )
      {
        if ( (v7 & 0x8000u) == 0i64 )
        {
          *(_BYTE *)(a1 + 172) = 0;
          *(_BYTE *)(a1 + 173) = 0;
        }
        else
        {
          *(_BYTE *)(a1 + 172) = 2;
          *(_BYTE *)(a1 + 173) = 2;
        }
      }
      else
      {
        *(_BYTE *)(a1 + 172) = 1;
        *(_BYTE *)(a1 + 173) = 1;
      }
    }
    else if ( (v7 & 0x8000u) == 0i64 )
    {
      *(_BYTE *)(a1 + 172) = 7;
      *(_BYTE *)(a1 + 173) = 7;
    }
    else
    {
      *(_BYTE *)(a1 + 172) = 3;
      *(_BYTE *)(a1 + 173) = 3;
    }
    v20 = (signed __int16)v7;
    v9 = abs((signed __int16)v7);
    v10 = abs(v6);
    v21 = v10;
    if ( v10 > v9 )
    {
      if ( v6 )
      {
        v11 = (double)v10;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v6 / v11 * 1000.0);
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v20 / v11 * 1000.0);
      }
      else
      {
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v20 * 1000.0);
      }
      goto LABEL_41;
    }
    if ( v10 >= v9 )
    {
      LOWORD(v13) = 0;
      if ( v8 && v6 )
      {
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v6 / (double)v21 * 1000.0);
        v13 = (signed __int64)((double)v20 / (double)v9 * 1000.0);
      }
      else
      {
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
      }
    }
    else
    {
      if ( !v8 )
      {
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v6 * 1000.0);
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
LABEL_41:
        v14 = dword_49DA1C[dword_1317E74];
        v15 = *(_WORD *)(v14 + 612);
        v16 = *(_WORD *)(v14 + 614);
        switch ( *(unsigned __int8 *)(a1 + 172) )
        {
          case 0u:
            if ( v15 != -1000 || v16 >= 500 )
            {
              if ( v16 == 1000 && v15 > -250 )
              {
                *(_BYTE *)(a1 + 172) = 7;
                *(_BYTE *)(a1 + 173) = 7;
              }
            }
            else
            {
              *(_BYTE *)(a1 + 172) = 1;
              *(_BYTE *)(a1 + 173) = 1;
            }
            break;
          case 2u:
            if ( v15 != -1000 || v16 <= -500 )
            {
              if ( v16 == -1000 && v15 > -250 )
                goto LABEL_65;
            }
            else
            {
              *(_BYTE *)(a1 + 172) = 1;
              *(_BYTE *)(a1 + 173) = 1;
            }
            break;
          case 4u:
            if ( v15 != 1000 || v16 <= -500 )
            {
              if ( v16 == -1000 && v15 < 250 )
              {
LABEL_65:
                *(_BYTE *)(a1 + 172) = 3;
                *(_BYTE *)(a1 + 173) = 3;
              }
            }
            else
            {
              *(_BYTE *)(a1 + 172) = 5;
              *(_BYTE *)(a1 + 173) = 5;
            }
            break;
          case 6u:
            if ( v15 != 1000 || v16 >= 500 )
            {
              if ( v16 == 1000 && v15 < 250 )
              {
                *(_BYTE *)(a1 + 172) = 7;
                *(_BYTE *)(a1 + 173) = 7;
              }
            }
            else
            {
              *(_BYTE *)(a1 + 172) = 5;
              *(_BYTE *)(a1 + 173) = 5;
            }
            break;
          default:
            break;
        }
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(a1 + 172);
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
        goto LABEL_67;
      }
      v12 = (double)v9;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v6 / v12 * 1000.0);
      v13 = (signed __int64)((double)v20 / v12 * 1000.0);
    }
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = v13;
    goto LABEL_41;
  }
LABEL_67:
  if ( *(_DWORD *)(a1 + 636) == 104 )
  {
    v17 = *(_WORD *)(a1 + 176);
    if ( v17 )
    {
      if ( ++*(_WORD *)(a1 + 618) >= 2 )
        *(_WORD *)(a1 + 618) = 0;
      else
        *(_WORD *)(a1 + 176) = v17 - 1;
    }
  }
  LOWORD(v18) = *(_WORD *)(a1 + 176);
  if ( (_WORD)v18 != 9 || *(_DWORD *)(a1 + 168) <= 0x64u )
  {
    if ( (_WORD)v18 != 18 )
    {
      v18 = *(_DWORD *)(a1 + 120);
      *(_DWORD *)(a1 + 116) = v18;
      return v18;
    }
    if ( *(_DWORD *)(a1 + 168) >= 0x64u )
    {
      *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
      return v18;
    }
  }
  LOWORD(v18) = sub_416860(99, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
  *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
  return v18;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1317E74: using guessed type int dword_1317E74;

//----- (0040DE40) --------------------------------------------------------
__int16 __cdecl sub_40DE40(int a1)
{
  int v1; // eax
  double v2; // st7
  double v3; // st7
  double v4; // st7
  double v5; // st7
  double v6; // st7
  double v7; // st7
  double v8; // st7
  double v9; // st7
  double v10; // st7
  double v11; // st7
  signed __int64 v12; // rax
  signed __int64 v13; // rax
  LPCSTR v14; // edi
  signed __int64 v15; // rax
  signed __int64 v16; // rax
  int v17; // ecx
  int v18; // edx

  v1 = *(_DWORD *)(a1 + 168);
  if ( *(_WORD *)(dword_8D3C24[v1] + 120) )
  {
    switch ( v1 )
    {
      case 0:
      case 3:
      case 6:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
            if ( dword_132258C % 0xAu )
            {
              if ( dword_132258C % 0xAu == 1 )
              {
                v4 = *(float *)(a1 + 120);
                if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                  sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v4, 0, 0);
                else
                  sub_416860(65, (signed __int64)*(float *)(a1 + 112), (signed __int64)v4, 0, 0);
              }
            }
            else
            {
              v5 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                goto LABEL_81;
              sub_416860(64, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
            }
            break;
          case 8:
            if ( !(dword_132258C & 1) )
              goto LABEL_12;
            v2 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) != dword_131D690 )
              goto LABEL_11;
            goto LABEL_10;
          case 9:
            goto LABEL_84;
        }
        break;
      case 20:
      case 23:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
            if ( dword_132258C % 0xAu )
            {
              if ( dword_132258C % 0xAu == 1 )
              {
                v6 = *(float *)(a1 + 120);
                if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                  sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
                else
                  sub_416860(69, (signed __int64)*(float *)(a1 + 112), (signed __int64)v6, 0, 0);
              }
            }
            else
            {
              v5 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                goto LABEL_81;
              sub_416860(68, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
            }
            break;
          case 8:
            if ( dword_132258C & 1 )
              goto LABEL_53;
LABEL_12:
            v3 = *(float *)(a1 + 120);
            if ( *(_DWORD *)(a1 + 52) != dword_131D690 )
              goto LABEL_14;
            goto LABEL_13;
          case 9:
            goto LABEL_84;
        }
        break;
      case 40:
      case 43:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
            if ( dword_132258C % 0xAu )
            {
              if ( dword_132258C % 0xAu == 1 )
              {
                v7 = *(float *)(a1 + 120);
                if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                  sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v7, 0, 0);
                else
                  sub_416860(73, (signed __int64)*(float *)(a1 + 112), (signed __int64)v7, 0, 0);
              }
            }
            else
            {
              v5 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                goto LABEL_81;
              sub_416860(72, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
            }
            break;
          case 9:
            if ( !(dword_132258C & 1) )
              goto LABEL_55;
            goto LABEL_53;
          case 0xA:
            goto LABEL_84;
        }
        break;
      case 60:
      case 63:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
            if ( dword_132258C % 0xAu )
            {
              if ( dword_132258C % 0xAu == 1 )
              {
                v8 = *(float *)(a1 + 120);
                if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                  sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
                else
                  sub_416860(77, (signed __int64)*(float *)(a1 + 112), (signed __int64)v8, 0, 0);
              }
            }
            else
            {
              v5 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                goto LABEL_81;
              sub_416860(76, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
            }
            break;
          case 9:
            if ( dword_132258C & 1 )
            {
LABEL_53:
              v2 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_10:
                sub_416790((int *)dword_1308234, (signed __int64)*(float *)(a1 + 112), (signed __int64)v2, 0, 0);
              else
LABEL_11:
                sub_416860(86, (signed __int64)*(float *)(a1 + 112), (signed __int64)v2, 0, 0);
            }
            else
            {
LABEL_55:
              v3 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_13:
                sub_416790((int *)dword_1308230, (signed __int64)*(float *)(a1 + 112), (signed __int64)v3, 0, 0);
              else
LABEL_14:
                sub_416860(85, (signed __int64)*(float *)(a1 + 112), (signed __int64)v3, 0, 0);
            }
            break;
          case 0xA:
            goto LABEL_84;
        }
        break;
      case 80:
      case 83:
      case 86:
        switch ( *(_WORD *)(a1 + 176) )
        {
          case 1:
            if ( dword_132258C % 0xAu )
            {
              if ( dword_132258C % 0xAu == 1 )
              {
                v11 = *(float *)(a1 + 120);
                if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                  sub_416790((int *)dword_1308224, (signed __int64)*(float *)(a1 + 112), (signed __int64)v11, 0, 0);
                else
                  sub_416860(81, (signed __int64)*(float *)(a1 + 112), (signed __int64)v11, 0, 0);
              }
            }
            else
            {
              v5 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
LABEL_81:
                sub_416790((int *)dword_1308220, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
              else
                sub_416860(80, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
            }
            break;
          case 7:
            if ( dword_132258C & 1 )
            {
              v9 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                sub_416790((int *)dword_1308234, (signed __int64)*(float *)(a1 + 112), (signed __int64)v9, 0, 0);
              else
                sub_416860(86, (signed __int64)*(float *)(a1 + 112), (signed __int64)v9, 0, 0);
            }
            else
            {
              v10 = *(float *)(a1 + 120);
              if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
                sub_416790((int *)dword_1308230, (signed __int64)*(float *)(a1 + 112), (signed __int64)v10, 0, 0);
              else
                sub_416860(85, (signed __int64)*(float *)(a1 + 112), (signed __int64)v10, 0, 0);
            }
            break;
          case 9:
            goto LABEL_84;
        }
        break;
      default:
        if ( !*(_WORD *)(a1 + 176) )
        {
LABEL_84:
          if ( *(_DWORD *)(a1 + 52) == dword_131D690 && *(_BYTE *)(a1 + 104) && (&lpString)[dword_48CCE4]
            || *(_DWORD *)(a1 + 68) && *(_DWORD *)(a1 + 76) && *(_BYTE *)(a1 + 104) )
          {
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 5;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
            v12 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
            LOBYTE(dword_1550B67) = BYTE1(v12);
            BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
            v13 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
            BYTE2(dword_1550B67) = BYTE1(v13);
            HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
            if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
            {
              v14 = (&lpString)[dword_48CCE4];
            }
            else if ( *(_DWORD *)(a1 + 636) != 224 || (v14 = *(LPCSTR *)(a1 + 628)) == 0 )
            {
              v14 = (&lpString)[dword_131D690];
            }
            dword_1550B6B = *((_DWORD *)v14 + 14);
            v15 = (signed __int64)(*((float *)v14 + 28) * 0.025);
            byte_1550B6F = BYTE1(v15);
            byte_1550B70 = (signed __int64)(*((float *)v14 + 28) * 0.025);
            v16 = (signed __int64)(*((float *)v14 + 30) * 0.050000001);
            byte_1550B71 = BYTE1(v16);
            byte_1550B72 = (signed __int64)(*((float *)v14 + 30) * 0.050000001);
            sub_42EA60((int)v14, byte_1550B78);
            sub_42EA60(a1, &byte_1550B73);
            sub_479790(29);
          }
        }
        break;
    }
    v17 = *(_DWORD *)(a1 + 168);
    v1 = (unsigned __int16)++*(_WORD *)(a1 + 176);
    if ( v1 > *(unsigned __int16 *)(dword_8D3C24[v17] + 120) - 1 )
    {
      *(_WORD *)(a1 + 176) = 0;
      *(_DWORD *)(a1 + 108) = 0;
      *(_BYTE *)(a1 + 174) = 0;
      *(_DWORD *)(a1 + 600) = 0;
    }
    if ( *(_DWORD *)(a1 + 636) == 104 )
    {
      LOWORD(v1) = *(_WORD *)(a1 + 176);
      if ( (_WORD)v1 )
      {
        if ( ++*(_WORD *)(a1 + 618) < 2 )
        {
          v18 = *(_DWORD *)(a1 + 120);
          LOWORD(v1) = v1 - 1;
          *(_WORD *)(a1 + 176) = v1;
          *(_DWORD *)(a1 + 116) = v18;
          return v1;
        }
        *(_WORD *)(a1 + 618) = 0;
      }
    }
    *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
    return v1;
  }
  *(_BYTE *)(a1 + 174) = 0;
  *(_DWORD *)(a1 + 600) = 0;
  return v1;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 8D3C24: using guessed type int dword_8D3C24[];
// 1308220: using guessed type int dword_1308220;
// 1308224: using guessed type int dword_1308224;
// 1308230: using guessed type int dword_1308230;
// 1308234: using guessed type int dword_1308234;
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;

//----- (0040E670) --------------------------------------------------------
__int16 __cdecl sub_40E670(int a1)
{
  int v1; // esi
  int v2; // ecx
  bool v3; // zf
  int v4; // eax
  double v5; // st7
  int v6; // eax
  signed __int64 v7; // rax
  signed __int64 v8; // rax
  int v9; // ebx
  char *v10; // ebp
  int v11; // edi
  signed __int64 v12; // rax
  signed __int64 v13; // rax
  bool v14; // sf
  unsigned __int8 v15; // of
  int v17; // [esp+8h] [ebp-4h]
  int *v18; // [esp+10h] [ebp+4h]

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 168);
  if ( *(_WORD *)(dword_8D3C24[v2] + 32) )
  {
    switch ( ++*(_WORD *)(a1 + 608) )
    {
      case 0:
      case 8:
        *(_WORD *)(a1 + 610) = -30;
        break;
      case 1:
      case 7:
        *(_WORD *)(a1 + 610) = -33;
        break;
      case 2:
      case 6:
        *(_WORD *)(a1 + 610) = -35;
        break;
      case 3:
      case 5:
        *(_WORD *)(a1 + 610) = -36;
        break;
      case 4:
        *(_WORD *)(a1 + 610) = -37;
        break;
      case 9:
      case 13:
        *(_WORD *)(a1 + 610) = -28;
        break;
      case 10:
      case 12:
        *(_WORD *)(a1 + 610) = -27;
        break;
      case 11:
        *(_WORD *)(a1 + 610) = -26;
        break;
      default:
        *(_WORD *)(a1 + 610) = -30;
        *(_WORD *)(a1 + 608) = 0;
        break;
    }
    *(float *)(a1 + 116) = (double)*(signed __int16 *)(a1 + 610) + *(float *)(a1 + 120);
  }
  else
  {
    *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
  }
  switch ( v2 )
  {
    case 0:
    case 3:
    case 6:
      if ( *(_WORD *)(a1 + 176) != 9 )
        goto LABEL_34;
      goto LABEL_23;
    case 9:
      v3 = *(_WORD *)(a1 + 176) == 14;
      goto LABEL_22;
    case 12:
    case 26:
    case 40:
    case 43:
      v3 = *(_WORD *)(a1 + 176) == 17;
LABEL_22:
      if ( v3 )
        goto LABEL_23;
      goto LABEL_34;
    case 20:
    case 23:
      if ( *(_WORD *)(a1 + 176) == 18 )
        goto LABEL_23;
      goto LABEL_34;
    case 60:
    case 63:
      if ( *(_WORD *)(a1 + 176) == 25 )
        goto LABEL_23;
      goto LABEL_34;
    case 80:
    case 83:
    case 86:
      if ( *(_WORD *)(a1 + 176) == 1 )
      {
        v5 = *(float *)(a1 + 120);
        if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
          sub_416790((int *)dword_1308230, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
        else
          sub_416860(85, (signed __int64)*(float *)(a1 + 112), (signed __int64)v5, 0, 0);
        goto LABEL_34;
      }
      if ( *(_WORD *)(a1 + 176) != 27 )
      {
LABEL_34:
        ++*(_WORD *)(a1 + 176);
        goto LABEL_35;
      }
      sub_416860(182, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1061;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
LABEL_23:
      v4 = *(_DWORD *)(a1 + 168);
      if ( v4 != 80 && v4 != 83 && v4 != 86 )
      {
        if ( (unsigned int)dword_13211C8 <= *(_DWORD *)(a1 + 640) )
          goto LABEL_35;
        goto LABEL_34;
      }
      dword_13225F0 = 8;
      dword_13225EC = 1;
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 24;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
        v7 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v7);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        v8 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v8);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        sub_42EA60(a1, &dword_1550B6B);
        byte_1550B72 = 1;
        v9 = 0;
        byte_1550B70 = 0;
        byte_1550B71 = 0;
        byte_1550B73 = 45;
        v17 = 0;
        if ( dword_1317E74 > 0 )
        {
          v10 = &byte_1550B7A;
          v18 = (int *)&lpString;
          do
          {
            v11 = *v18;
            if ( (signed int)v10 < (signed int)&unk_1550BC8
              && *(_BYTE *)(v11 + 48) == 2
              && *(_DWORD *)(v11 + 52) != dword_131D690
              && !*(_DWORD *)(v11 + 92)
              && (byte_1330125 || *(_DWORD *)(v11 + 68))
              && *(float *)(v11 + 112) + 400.0 > *(float *)(v1 + 112)
              && *(float *)(v11 + 112) - 400.0 < *(float *)(v1 + 112)
              && *(float *)(v11 + 120) + 200.0 > *(float *)(v1 + 120)
              && *(float *)(v11 + 120) - 200.0 < *(float *)(v1 + 120) )
            {
              *((_DWORD *)v10 - 1) = *(_DWORD *)(v11 + 56);
              v12 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
              *v10 = BYTE1(v12);
              v10[1] = (signed __int64)(*(float *)(v11 + 112) * 0.025);
              v13 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
              v10[2] = BYTE1(v13);
              v10[3] = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
              sub_42EA60(v11, v10 + 4);
              ++v9;
              v10 += 13;
            }
            v15 = __OFSUB__(v17 + 1, dword_1317E74);
            v14 = v17++ + 1 - dword_1317E74 < 0;
            ++v18;
          }
          while ( v14 ^ v15 );
        }
        byte_1550B74 = BYTE1(v9);
        byte_1550B75[0] = v9;
        sub_479790(13 * v9 + 22);
      }
      ++*(_WORD *)(v1 + 176);
LABEL_35:
      v6 = *(unsigned __int16 *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 80) - 1;
      if ( *(unsigned __int16 *)(v1 + 176) > v6 )
      {
        *(_WORD *)(v1 + 176) = 0;
        *(_BYTE *)(v1 + 174) = 0;
        *(_DWORD *)(v1 + 600) = 0;
      }
      if ( *(_DWORD *)(v1 + 636) == 104 )
      {
        LOWORD(v6) = *(_WORD *)(v1 + 176);
        if ( (_WORD)v6 )
        {
          if ( ++*(_WORD *)(v1 + 618) >= 2 )
          {
            *(_WORD *)(v1 + 618) = 0;
          }
          else
          {
            LOWORD(v6) = v6 - 1;
            *(_WORD *)(v1 + 176) = v6;
          }
        }
      }
      return v6;
    default:
      goto LABEL_34;
  }
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1308230: using guessed type int dword_1308230;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13225EC: using guessed type int dword_13225EC;
// 13225F0: using guessed type int dword_13225F0;
// 1330125: using guessed type char byte_1330125;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;
// 1550B7A: using guessed type char byte_1550B7A;

//----- (0040ECA0) --------------------------------------------------------
int __cdecl sub_40ECA0(int a1)
{
  int v1; // esi
  int v2; // edx
  unsigned __int16 v3; // cx
  int v4; // eax
  __int16 v5; // ax
  int result; // eax
  int v7; // edi
  int v8; // edi
  int v9; // eax
  bool v10; // zf
  int v11; // edi
  int v12; // edi
  int v13; // eax
  signed int v14; // edi
  double v15; // st7
  signed int v16; // [esp+14h] [ebp+4h]
  signed int v17; // [esp+14h] [ebp+4h]

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 168);
  ++*(_WORD *)(v1 + 176);
  v3 = *(_WORD *)(a1 + 176);
  if ( *(_WORD *)(dword_8D3C24[v2] + 32) )
  {
    switch ( *(signed __int16 *)(a1 + 608) )
    {
      case 0:
      case 8:
        *(_WORD *)(a1 + 610) = -30;
        break;
      case 1:
      case 7:
        *(_WORD *)(a1 + 610) = -33;
        break;
      case 2:
      case 6:
        *(_WORD *)(a1 + 610) = -35;
        break;
      case 3:
      case 5:
        *(_WORD *)(a1 + 610) = -36;
        break;
      case 4:
        *(_WORD *)(a1 + 610) = -37;
        break;
      case 9:
      case 13:
        *(_WORD *)(a1 + 610) = -28;
        break;
      case 10:
      case 12:
        *(_WORD *)(a1 + 610) = -27;
        break;
      case 11:
        *(_WORD *)(a1 + 610) = -26;
        break;
      default:
        *(_WORD *)(a1 + 610) = -30;
        *(_WORD *)(a1 + 608) = 0;
        break;
    }
    *(float *)(a1 + 116) = (double)*(signed __int16 *)(a1 + 610) + *(float *)(a1 + 120);
  }
  else
  {
    *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
  }
  if ( *(_BYTE *)(a1 + 104) )
    ++*(_DWORD *)(a1 + 108);
  if ( v3 > *(unsigned __int16 *)(dword_8D3C24[v2] + 88) - 1 )
  {
    v4 = *(_DWORD *)(a1 + 72);
    *(_WORD *)(a1 + 176) = 0;
    *(_DWORD *)(a1 + 600) = 0;
    if ( v4 )
      *(_BYTE *)(a1 + 174) = 2;
    else
      *(_BYTE *)(a1 + 174) = 0;
  }
  if ( *(_DWORD *)(a1 + 636) == 104 )
  {
    v5 = *(_WORD *)(a1 + 176);
    if ( v5 )
    {
      if ( ++*(_WORD *)(a1 + 618) >= 2 )
        *(_WORD *)(a1 + 618) = 0;
      else
        *(_WORD *)(a1 + 176) = v5 - 1;
    }
  }
  result = *(unsigned __int16 *)(a1 + 176) - 1;
  if ( *(_WORD *)(a1 + 176) == 1 )
  {
    switch ( v2 )
    {
      case 111:
      case 125:
      case 129:
      case 133:
      case 141:
      case 145:
      case 157:
      case 158:
      case 159:
      case 160:
        v16 = 3;
        do
        {
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1062;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
          v7 = dword_49DA1C[dword_1317E74];
          *(float *)(v7 + 112) = (double)(rand() % 40 - 20) + *(float *)(v7 + 112);
          v8 = dword_49DA1C[dword_1317E74];
          v9 = rand();
          v10 = v16-- == 1;
          *(float *)(v8 + 116) = (double)(v9 % 20 - 10) + *(float *)(v8 + 116);
        }
        while ( !v10 );
        break;
      default:
        v17 = 3;
        do
        {
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1058;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
          v11 = dword_49DA1C[dword_1317E74];
          *(float *)(v11 + 112) = (double)(rand() % 40 - 20) + *(float *)(v11 + 112);
          v12 = dword_49DA1C[dword_1317E74];
          v13 = rand();
          v10 = v17-- == 1;
          *(float *)(v12 + 116) = (double)(v13 % 10 - 5) + *(float *)(v12 + 116);
        }
        while ( !v10 );
        break;
    }
    switch ( *(_DWORD *)(v1 + 168) )
    {
      case 0:
      case 3:
      case 6:
        v14 = 66;
        goto LABEL_45;
      case 0x14:
      case 0x17:
        v14 = 70;
        goto LABEL_45;
      case 0x28:
      case 0x2B:
        v14 = 74;
        goto LABEL_45;
      case 0x3C:
      case 0x3F:
      case 0x6E:
        v14 = 78;
        goto LABEL_45;
      case 0x50:
      case 0x53:
      case 0x56:
        v14 = 82;
        goto LABEL_45;
      case 0x6A:
      case 0x6B:
      case 0x6C:
      case 0x78:
      case 0x82:
      case 0x84:
        v14 = 103;
        goto LABEL_45;
      case 0x6D:
      case 0x72:
      case 0x79:
      case 0x80:
        v14 = 107;
        goto LABEL_45;
      case 0x6F:
      case 0x70:
      case 0x76:
      case 0x7C:
      case 0x8D:
      case 0x90:
      case 0x96:
      case 0x97:
        v14 = 125;
        goto LABEL_45;
      case 0x71:
      case 0x9B:
        v14 = 113;
        goto LABEL_45;
      case 0x73:
      case 0x7D:
      case 0x81:
      case 0x92:
      case 0x93:
      case 0x94:
        v14 = 138;
        goto LABEL_45;
      case 0x75:
      case 0x7A:
      case 0x7E:
      case 0x8E:
      case 0x8F:
      case 0x95:
      case 0x9C:
        v14 = 119;
        goto LABEL_45;
      case 0x77:
      case 0x7B:
      case 0x99:
        v14 = 132;
LABEL_45:
        sub_416860(v14, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
        break;
      default:
        break;
    }
    v15 = *(float *)(v1 + 120);
    if ( *(_DWORD *)(v1 + 52) == dword_131D690 )
      result = sub_416790((int *)dword_1308250, (signed __int64)*(float *)(v1 + 112), (signed __int64)v15, 0, 0);
    else
      result = sub_416860(93, (signed __int64)*(float *)(v1 + 112), (signed __int64)v15, 0, 0);
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1308250: using guessed type int dword_1308250;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;

//----- (0040F300) --------------------------------------------------------
__int16 __cdecl sub_40F300(int a1)
{
  double v1; // st7
  double v2; // st7
  double v3; // st7
  int v4; // ecx
  char v5; // dl
  int v6; // eax
  double v7; // st7

  if ( !*(_WORD *)(a1 + 176) )
  {
    sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1039;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
    switch ( *(unsigned __int8 *)(a1 + 172) )
    {
      case 0u:
        v2 = *(float *)(a1 + 112) - 15.0;
        goto LABEL_9;
      case 1u:
        *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(float *)(a1 + 112) - 20.0;
        v1 = *(float *)(a1 + 120) - 30.0;
        goto LABEL_13;
      case 2u:
        v3 = *(float *)(a1 + 112) - 15.0;
        goto LABEL_12;
      case 3u:
        *(float *)(dword_49DA1C[dword_1317E74] + 120) = *(float *)(a1 + 120) - 20.0;
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(a1 + 120) - 50.0;
        break;
      case 4u:
        v3 = *(float *)(a1 + 112) + 15.0;
LABEL_12:
        *(float *)(dword_49DA1C[dword_1317E74] + 112) = v3;
        *(float *)(dword_49DA1C[dword_1317E74] + 120) = *(float *)(a1 + 120) - 20.0;
        v1 = *(float *)(a1 + 120) - 50.0;
        goto LABEL_13;
      case 5u:
        *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(float *)(a1 + 112) + 20.0;
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(a1 + 120) - 30.0;
        break;
      case 6u:
        v2 = *(float *)(a1 + 112) + 15.0;
LABEL_9:
        *(float *)(dword_49DA1C[dword_1317E74] + 112) = v2;
        goto LABEL_10;
      case 7u:
LABEL_10:
        *(float *)(dword_49DA1C[dword_1317E74] + 120) = *(float *)(a1 + 120) + 20.0;
        v1 = *(float *)(a1 + 120) - 20.0;
LABEL_13:
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = v1;
        break;
      default:
        break;
    }
  }
  v4 = *(_DWORD *)(a1 + 168);
  if ( *(_WORD *)(dword_8D3C24[v4] + 32) )
  {
    switch ( *(signed __int16 *)(a1 + 608) )
    {
      case 0:
      case 8:
        *(_WORD *)(a1 + 610) = -30;
        break;
      case 1:
      case 7:
        *(_WORD *)(a1 + 610) = -33;
        break;
      case 2:
      case 6:
        *(_WORD *)(a1 + 610) = -35;
        break;
      case 3:
      case 5:
        *(_WORD *)(a1 + 610) = -36;
        break;
      case 4:
        *(_WORD *)(a1 + 610) = -37;
        break;
      case 9:
      case 13:
        *(_WORD *)(a1 + 610) = -28;
        break;
      case 10:
      case 12:
        *(_WORD *)(a1 + 610) = -27;
        break;
      case 11:
        *(_WORD *)(a1 + 610) = -26;
        break;
      default:
        *(_WORD *)(a1 + 610) = -30;
        *(_WORD *)(a1 + 608) = 0;
        break;
    }
    *(float *)(a1 + 116) = (double)*(signed __int16 *)(a1 + 610) + *(float *)(a1 + 120);
  }
  else
  {
    *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
  }
  v5 = *(_BYTE *)(a1 + 104);
  LOWORD(v6) = ++*(_WORD *)(a1 + 176);
  if ( v5 )
    ++*(_DWORD *)(a1 + 108);
  if ( (unsigned __int16)v6 > *(unsigned __int16 *)(dword_8D3C24[v4] + 96) - 1 )
  {
    v6 = *(_DWORD *)(a1 + 72);
    *(_WORD *)(a1 + 176) = 0;
    *(_DWORD *)(a1 + 600) = 0;
    if ( v6 )
      *(_BYTE *)(a1 + 174) = 2;
    else
      *(_BYTE *)(a1 + 174) = 0;
  }
  if ( *(_DWORD *)(a1 + 636) == 104 )
  {
    LOWORD(v6) = *(_WORD *)(a1 + 176);
    if ( (_WORD)v6 )
    {
      if ( ++*(_WORD *)(a1 + 618) >= 2 )
      {
        *(_WORD *)(a1 + 618) = 0;
      }
      else
      {
        LOWORD(v6) = v6 - 1;
        *(_WORD *)(a1 + 176) = v6;
      }
    }
  }
  if ( *(_WORD *)(a1 + 176) == 1 )
  {
    v7 = *(float *)(a1 + 120);
    if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      LOWORD(v6) = sub_416790((int *)dword_1308260, (signed __int64)*(float *)(a1 + 112), (signed __int64)v7, 0, 0);
    else
      LOWORD(v6) = sub_416860(97, (signed __int64)*(float *)(a1 + 112), (signed __int64)v7, 0, 0);
  }
  return v6;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1308260: using guessed type int dword_1308260;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;

//----- (0040F720) --------------------------------------------------------
__int16 __cdecl sub_40F720(int a1)
{
  double v1; // st7
  double v2; // st7
  double v3; // st7
  int v4; // ecx
  char v5; // dl
  int v6; // eax
  double v7; // st7

  if ( !*(_WORD *)(a1 + 176) )
  {
    sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1039;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
    switch ( *(unsigned __int8 *)(a1 + 172) )
    {
      case 0u:
        v2 = *(float *)(a1 + 112) - 15.0;
        goto LABEL_9;
      case 1u:
        *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(float *)(a1 + 112) - 20.0;
        v1 = *(float *)(a1 + 120) - 30.0;
        goto LABEL_13;
      case 2u:
        v3 = *(float *)(a1 + 112) - 15.0;
        goto LABEL_12;
      case 3u:
        *(float *)(dword_49DA1C[dword_1317E74] + 120) = *(float *)(a1 + 120) - 20.0;
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(a1 + 120) - 50.0;
        break;
      case 4u:
        v3 = *(float *)(a1 + 112) + 15.0;
LABEL_12:
        *(float *)(dword_49DA1C[dword_1317E74] + 112) = v3;
        *(float *)(dword_49DA1C[dword_1317E74] + 120) = *(float *)(a1 + 120) - 20.0;
        v1 = *(float *)(a1 + 120) - 50.0;
        goto LABEL_13;
      case 5u:
        *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(float *)(a1 + 112) + 20.0;
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(a1 + 120) - 30.0;
        break;
      case 6u:
        v2 = *(float *)(a1 + 112) + 15.0;
LABEL_9:
        *(float *)(dword_49DA1C[dword_1317E74] + 112) = v2;
        goto LABEL_10;
      case 7u:
LABEL_10:
        *(float *)(dword_49DA1C[dword_1317E74] + 120) = *(float *)(a1 + 120) + 20.0;
        v1 = *(float *)(a1 + 120) - 20.0;
LABEL_13:
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = v1;
        break;
      default:
        break;
    }
  }
  v4 = *(_DWORD *)(a1 + 168);
  if ( *(_WORD *)(dword_8D3C24[v4] + 32) )
  {
    switch ( *(signed __int16 *)(a1 + 608) )
    {
      case 0:
      case 8:
        *(_WORD *)(a1 + 610) = -30;
        break;
      case 1:
      case 7:
        *(_WORD *)(a1 + 610) = -33;
        break;
      case 2:
      case 6:
        *(_WORD *)(a1 + 610) = -35;
        break;
      case 3:
      case 5:
        *(_WORD *)(a1 + 610) = -36;
        break;
      case 4:
        *(_WORD *)(a1 + 610) = -37;
        break;
      case 9:
      case 13:
        *(_WORD *)(a1 + 610) = -28;
        break;
      case 10:
      case 12:
        *(_WORD *)(a1 + 610) = -27;
        break;
      case 11:
        *(_WORD *)(a1 + 610) = -26;
        break;
      default:
        *(_WORD *)(a1 + 610) = -30;
        *(_WORD *)(a1 + 608) = 0;
        break;
    }
    *(float *)(a1 + 116) = (double)*(signed __int16 *)(a1 + 610) + *(float *)(a1 + 120);
  }
  else
  {
    *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
  }
  v5 = *(_BYTE *)(a1 + 104);
  LOWORD(v6) = ++*(_WORD *)(a1 + 176);
  if ( v5 )
    ++*(_DWORD *)(a1 + 108);
  if ( (unsigned __int16)v6 > *(unsigned __int16 *)(dword_8D3C24[v4] + 104) - 1 )
  {
    v6 = *(_DWORD *)(a1 + 72);
    *(_WORD *)(a1 + 176) = 0;
    *(_DWORD *)(a1 + 600) = 0;
    if ( v6 )
      *(_BYTE *)(a1 + 174) = 2;
    else
      *(_BYTE *)(a1 + 174) = 0;
  }
  if ( *(_DWORD *)(a1 + 636) == 104 )
  {
    LOWORD(v6) = *(_WORD *)(a1 + 176);
    if ( (_WORD)v6 )
    {
      if ( ++*(_WORD *)(a1 + 618) >= 2 )
      {
        *(_WORD *)(a1 + 618) = 0;
      }
      else
      {
        LOWORD(v6) = v6 - 1;
        *(_WORD *)(a1 + 176) = v6;
      }
    }
  }
  if ( *(_WORD *)(a1 + 176) == 1 )
  {
    v7 = *(float *)(a1 + 120);
    if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      LOWORD(v6) = sub_416790((int *)dword_130825C, (signed __int64)*(float *)(a1 + 112), (signed __int64)v7, 0, 0);
    else
      LOWORD(v6) = sub_416860(96, (signed __int64)*(float *)(a1 + 112), (signed __int64)v7, 0, 0);
  }
  return v6;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 130825C: using guessed type int dword_130825C;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;

//----- (0040FB40) --------------------------------------------------------
__int16 __cdecl sub_40FB40(int a1)
{
  int v1; // ecx
  signed int v2; // esi
  unsigned int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // ecx

  if ( ++*(_WORD *)(a1 + 608) > 1 )
  {
    ++*(_WORD *)(a1 + 176);
    *(_WORD *)(a1 + 608) = 0;
  }
  if ( *(unsigned __int16 *)(a1 + 176) > *(unsigned __int16 *)(dword_8D3C24[*(_DWORD *)(a1 + 168)] + 112) - 1 )
  {
    v1 = *(_DWORD *)(a1 + 52);
    *(_WORD *)(a1 + 176) = 0;
    *(_DWORD *)(a1 + 600) = 0;
    *(_BYTE *)(a1 + 174) = 0;
    if ( v1 == dword_131D690 )
    {
      v2 = 0;
      do
      {
        v3 = *((_DWORD *)dword_1330790
             + 2
             * (v2 % 3
              + (signed __int64)*(float *)(a1 + 112) / 40
              + dword_1540B4C * (v2 / 3 - (unsigned __int64)(signed __int64)(*(float *)(a1 + 120) * -0.050000001) - 1))
             - 1);
        if ( v3 == -1 || v3 <= 0xFFFF )
          goto LABEL_13;
        v4 = (signed int)v3 / 128 - 512;
        switch ( v4 )
        {
          case 61:
            goto LABEL_25;
          case 62:
            LOBYTE(v4) = 1;
            break;
          case 68:
LABEL_25:
            LOBYTE(v4) = 2;
            break;
        }
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        dword_1550B62 = 282;
        byte_1550B66 = 0;
        dword_1550B67 = (unsigned __int8)v4;
        LOBYTE(dword_1550B6B) = 0;
        sub_479790(12);
        v2 = 9;
LABEL_13:
        ++v2;
      }
      while ( v2 < 9 );
    }
  }
  if ( *(_DWORD *)(a1 + 636) == 104 )
  {
    LOWORD(v5) = *(_WORD *)(a1 + 176);
    if ( (_WORD)v5 )
    {
      if ( ++*(_WORD *)(a1 + 618) >= 2 )
      {
        v6 = *(_DWORD *)(a1 + 120);
        *(_WORD *)(a1 + 618) = 0;
        *(_DWORD *)(a1 + 116) = v6;
      }
      else
      {
        *(_WORD *)(a1 + 176) = v5 - 1;
        v5 = *(_DWORD *)(a1 + 120);
        *(_DWORD *)(a1 + 116) = v5;
      }
    }
    else
    {
      *(_DWORD *)(a1 + 116) = *(_DWORD *)(a1 + 120);
    }
  }
  else
  {
    v5 = *(_DWORD *)(a1 + 120);
    *(_DWORD *)(a1 + 116) = v5;
  }
  return v5;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 1540B4C: using guessed type int dword_1540B4C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;

//----- (0040FD20) --------------------------------------------------------
int __cdecl sub_40FD20(int a1)
{
  int result; // eax
  signed int v2; // ebp
  int v3; // edi
  int v4; // edi
  signed int v5; // ebp
  int v6; // edi
  int v7; // edi
  signed int v8; // edi
  char v9; // al
  int v10; // ecx
  int v11; // eax
  __int16 v12; // ax

  result = *(_DWORD *)(a1 + 168);
  if ( *(_WORD *)(dword_8D3C24[result] + 136) )
  {
    if ( !*(_WORD *)(a1 + 176) )
    {
      *(_BYTE *)(a1 + 99) = 0;
      switch ( result )
      {
        case 111:
        case 125:
        case 129:
        case 133:
        case 141:
        case 145:
        case 157:
        case 158:
        case 159:
        case 160:
          v2 = 3;
          do
          {
            sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1062;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
            v3 = dword_49DA1C[dword_1317E74];
            *(float *)(v3 + 112) = (double)(rand() % 40 - 20) + *(float *)(v3 + 112);
            v4 = dword_49DA1C[dword_1317E74];
            --v2;
            *(float *)(v4 + 116) = (double)(rand() % 20 - 10) + *(float *)(v4 + 116);
          }
          while ( v2 );
          break;
        default:
          v5 = 3;
          do
          {
            sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1058;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
            v6 = dword_49DA1C[dword_1317E74];
            *(float *)(v6 + 112) = (double)(rand() % 40 - 20) + *(float *)(v6 + 112);
            v7 = dword_49DA1C[dword_1317E74];
            --v5;
            *(float *)(v7 + 116) = (double)(rand() % 10 - 5) + *(float *)(v7 + 116);
          }
          while ( v5 );
          break;
      }
      sub_416860(93, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
      switch ( *(_DWORD *)(a1 + 168) )
      {
        case 0:
        case 3:
        case 6:
          v8 = 67;
          goto LABEL_23;
        case 0x14:
        case 0x17:
          v8 = 71;
          goto LABEL_23;
        case 0x28:
        case 0x2B:
          v8 = 75;
          goto LABEL_23;
        case 0x3C:
        case 0x3F:
        case 0x6E:
          v8 = 79;
          goto LABEL_23;
        case 0x50:
        case 0x53:
        case 0x56:
          v8 = 83;
          goto LABEL_23;
        case 0x6A:
        case 0x6B:
        case 0x6C:
        case 0x78:
        case 0x82:
        case 0x84:
          v8 = 104;
          goto LABEL_23;
        case 0x6D:
        case 0x72:
        case 0x79:
        case 0x80:
          v8 = 108;
          goto LABEL_23;
        case 0x6F:
        case 0x70:
        case 0x76:
        case 0x7C:
        case 0x8D:
        case 0x90:
        case 0x96:
        case 0x97:
          v8 = 126;
          goto LABEL_23;
        case 0x71:
        case 0x9B:
          v8 = 114;
          goto LABEL_23;
        case 0x73:
        case 0x7D:
        case 0x81:
        case 0x92:
        case 0x93:
        case 0x94:
          v8 = 139;
          goto LABEL_23;
        case 0x75:
        case 0x7A:
        case 0x7E:
        case 0x8E:
        case 0x8F:
        case 0x95:
        case 0x9C:
          v8 = 120;
          goto LABEL_23;
        case 0x77:
        case 0x7B:
        case 0x99:
          v8 = 133;
          goto LABEL_23;
        case 0x85:
        case 0x91:
        case 0x9D:
        case 0x9E:
        case 0x9F:
        case 0xA0:
          v8 = 140;
LABEL_23:
          sub_416860(v8, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          break;
        default:
          break;
      }
    }
    v9 = *(_BYTE *)(a1 + 99);
    if ( v9 )
      *(_WORD *)(a1 + 176) = *(_WORD *)(dword_8D3C24[*(_DWORD *)(a1 + 168)] + 136) - 1;
    else
      ++*(_WORD *)(a1 + 176);
    v10 = *(_DWORD *)(a1 + 168);
    if ( *(unsigned __int16 *)(a1 + 176) > *(unsigned __int16 *)(dword_8D3C24[v10] + 136) - 1
      && !v9
      && (double)dword_154794C < *(float *)(a1 + 112)
      && (double)(dword_154794C + 840) > *(float *)(a1 + 112)
      && (double)dword_1547950 < *(float *)(a1 + 116)
      && (double)(dword_1547950 + 600) > *(float *)(a1 + 116) )
    {
      *(_BYTE *)(a1 + 99) = 1;
      *(_WORD *)(a1 + 176) = *(_WORD *)(dword_8D3C24[v10] + 136) - 1;
      switch ( v10 )
      {
        case 101:
        case 102:
        case 103:
        case 105:
        case 123:
        case 131:
        case 152:
        case 155:
          sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1050;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 6;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          v11 = dword_49DA1C[dword_1317E74];
          goto LABEL_48;
        case 111:
        case 141:
        case 145:
        case 158:
        case 160:
          sub_416860(140, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1043;
          goto LABEL_38;
        case 112:
        case 124:
        case 157:
          sub_416860(178, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1044;
          goto LABEL_40;
        case 113:
        case 132:
        case 159:
          sub_416860(179, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1047;
LABEL_40:
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          break;
        case 114:
        case 156:
          sub_416860(181, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
          goto LABEL_42;
        case 115:
        case 129:
        case 133:
        case 147:
          sub_416860(179, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1045;
LABEL_42:
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          break;
        case 118:
          break;
        case 121:
        case 128:
        case 142:
        case 161:
          sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1049;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 6;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          v11 = dword_49DA1C[dword_1317E74];
          goto LABEL_48;
        case 122:
        case 126:
        case 127:
        case 150:
        case 151:
        case 153:
        case 154:
          sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1048;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
          goto LABEL_47;
        case 125:
        case 146:
        case 148:
          sub_416860(179, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1046;
LABEL_38:
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          break;
        default:
          sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1040;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
LABEL_47:
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 6;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          v11 = dword_49DA1C[dword_1317E74];
LABEL_48:
          *(float *)(v11 + 120) = *(float *)(v11 + 120) - 20.0;
          sub_416860(84, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          break;
      }
    }
    if ( *(_DWORD *)(a1 + 636) == 104 )
    {
      v12 = *(_WORD *)(a1 + 176);
      if ( v12 )
      {
        if ( ++*(_WORD *)(a1 + 618) < 2 )
        {
          *(_WORD *)(a1 + 176) = v12 - 1;
          result = *(_DWORD *)(a1 + 120);
          *(_DWORD *)(a1 + 116) = result;
          return result;
        }
        *(_WORD *)(a1 + 618) = 0;
      }
    }
    result = *(_DWORD *)(a1 + 120);
    *(_DWORD *)(a1 + 116) = result;
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1317E74: using guessed type int dword_1317E74;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;

//----- (00410B90) --------------------------------------------------------
char __cdecl sub_410B90(int a1)
{
  int v1; // eax
  unsigned __int8 v2; // dl
  int v3; // edi
  signed __int64 v4; // rax
  signed __int64 v5; // rax
  signed __int64 v6; // rax
  signed __int64 v7; // rax
  unsigned __int16 v8; // di
  int v9; // ecx

  LOBYTE(v1) = 4;
  v2 = *(_BYTE *)(a1 + 184) + 4;
  *(_BYTE *)(a1 + 184) = v2;
  if ( v2 > 0x1Fu )
  {
    ++*(_WORD *)(a1 + 610);
    *(_BYTE *)(a1 + 184) = 4;
    if ( *(_WORD *)(a1 + 610) <= *(_WORD *)(a1 + 612) )
    {
      v1 = *(_DWORD *)(a1 + 624);
      if ( v1 )
      {
        *(_DWORD *)(a1 + 168) = *(_DWORD *)(v1 + 168);
        *(_WORD *)(a1 + 604) = *(unsigned __int8 *)(v1 + 174);
        *(_BYTE *)(a1 + 172) = *(_BYTE *)(v1 + 172);
        *(_BYTE *)(a1 + 173) = *(_BYTE *)(v1 + 173);
        *(_WORD *)(a1 + 176) = *(_WORD *)(v1 + 176);
        *(_DWORD *)(a1 + 112) = *(_DWORD *)(v1 + 112);
        v8 = *(_WORD *)(a1 + 176);
        *(_DWORD *)(a1 + 120) = *(_DWORD *)(v1 + 120);
        v9 = *(_DWORD *)(a1 + 168);
        *(_DWORD *)(a1 + 116) = *(_DWORD *)(v1 + 116);
        if ( v8 >= *(_WORD *)(dword_8D3C24[v9] + 8 * *(signed __int16 *)(a1 + 604)) )
          *(_WORD *)(a1 + 176) = 0;
        if ( *(_DWORD *)(v1 + 156) )
          *(float *)(a1 + 116) = *(float *)(a1 + 116) + 12.0;
      }
    }
    else
    {
      v3 = *(_DWORD *)(a1 + 624);
      if ( v3 )
      {
        if ( *(_DWORD *)(v3 + 636) != -1 )
        {
          *(_DWORD *)(v3 + 636) = -1;
          if ( *(_DWORD *)(v3 + 52) == dword_131D690 || *(_DWORD *)(v3 + 68) && *(_DWORD *)(v3 + 76) )
          {
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 113;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v3 + 56);
            v4 = (signed __int64)(*(float *)(v3 + 112) * 0.025);
            LOBYTE(dword_1550B67) = BYTE1(v4);
            BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v3 + 112) * 0.025);
            v5 = (signed __int64)(*(float *)(v3 + 120) * 0.050000001);
            BYTE2(dword_1550B67) = BYTE1(v5);
            HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v3 + 120) * 0.050000001);
            dword_1550B6B = *(_DWORD *)(v3 + 56);
            v6 = (signed __int64)(*(float *)(v3 + 112) * 0.025);
            byte_1550B6F = BYTE1(v6);
            byte_1550B70 = (signed __int64)(*(float *)(v3 + 112) * 0.025);
            v7 = (signed __int64)(*(float *)(v3 + 120) * 0.050000001);
            byte_1550B71 = BYTE1(v7);
            byte_1550B72 = (signed __int64)(*(float *)(v3 + 120) * 0.050000001);
            sub_42EA60(v3, &byte_1550B73);
            byte_1550B78[0] = *(_DWORD *)(a1 + 636) >> 24;
            byte_1550B79 = *(_DWORD *)(a1 + 636) >> 16;
            byte_1550B7A = *(_WORD *)(a1 + 636) >> 8;
            byte_1550B7B = *(_BYTE *)(a1 + 636);
            sub_479790(28);
          }
        }
        *(_DWORD *)(v3 + 624) = 0;
      }
      LOBYTE(v1) = sub_41CE40(a1);
    }
  }
  return v1;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;

//----- (00410DF0) --------------------------------------------------------
__int16 __cdecl sub_410DF0(int a1)
{
  signed int v1; // edi
  signed int v2; // edi
  int v3; // ebp
  unsigned __int16 v4; // di
  double v5; // st7
  int v6; // eax
  unsigned __int8 v7; // al
  bool v8; // zf
  bool v9; // sf
  unsigned __int8 v10; // of
  int v11; // eax
  unsigned __int8 v12; // al
  unsigned __int16 v13; // di
  __int64 v14; // rt2
  __int16 v15; // dx
  unsigned __int8 v16; // al
  int v17; // ecx
  int v18; // edi
  signed __int64 v19; // rax
  signed __int64 v20; // rax
  signed __int64 v21; // rax
  signed __int64 v22; // rax
  __int16 v23; // dx
  unsigned __int8 v24; // al
  int v25; // ecx
  int v26; // edi
  signed __int64 v27; // rax
  signed __int64 v28; // rax
  signed __int64 v29; // rax
  signed __int64 v30; // rax
  int v31; // eax
  __int64 v32; // rtt
  double v33; // st7
  int v34; // eax
  __int64 v35; // rtt
  double v36; // st7

  if ( *(_DWORD *)(a1 + 168) == 1012 && *(_WORD *)(a1 + 176) == 60 )
  {
    sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
    v1 = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1008;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 7;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 3;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
    do
    {
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      v1 += 32;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1011;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 16;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(double *)(v1 + 9243008) * 40.0 + *(float *)(a1 + 112);
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(double *)(v1 + 18864840) * 20.0 + *(float *)(a1 + 116);
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 120) = *(_DWORD *)(dword_49DA1C[dword_1317E74] + 116);
    }
    while ( v1 < 320 );
    v2 = 0;
    do
    {
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      v2 += 16;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1011;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 16;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(double *)(v2 + 9243024) * 80.0 + *(float *)(a1 + 112);
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(double *)(v2 + 18864856) * 40.0 + *(float *)(a1 + 116);
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 120) = *(_DWORD *)(dword_49DA1C[dword_1317E74] + 116);
    }
    while ( v2 < 320 );
  }
  v3 = *(_DWORD *)(a1 + 624);
  v4 = ++*(_WORD *)(a1 + 176);
  if ( v3 && *(_WORD *)(a1 + 612) < 100 )
  {
    v5 = *(float *)(a1 + 116) - *(float *)(a1 + 120);
    *(_DWORD *)(a1 + 112) = *(_DWORD *)(v3 + 112);
    *(_DWORD *)(a1 + 120) = *(_DWORD *)(v3 + 120);
    *(float *)(a1 + 116) = (double)(signed int)(signed __int64)v5 + *(float *)(v3 + 120);
  }
  v6 = *(signed __int16 *)(a1 + 606);
  switch ( v6 )
  {
    case 0:
      v7 = *(_BYTE *)(a1 + 64);
      if ( v7 > 0u )
        *(_BYTE *)(a1 + 64) = v7 - 1;
      v6 = *(_DWORD *)(a1 + 168);
      if ( v6 != 1070 || v4 != *(unsigned __int16 *)(dword_8D4CDC + 8 * *(signed __int16 *)(a1 + 604)) - 10 )
      {
        v6 = *(unsigned __int16 *)(dword_8D3C24[v6] + 8 * *(signed __int16 *)(a1 + 604)) - 1;
        v10 = __OFSUB__(v4, v6);
        v8 = v4 == v6;
        v9 = v4 - v6 < 0;
        goto LABEL_17;
      }
      *(_WORD *)(a1 + 176) = v4 + 5;
      return v6;
    case 1:
      v15 = *(_WORD *)(a1 + 604);
      if ( v15 == 2 )
      {
        v16 = *(_BYTE *)(a1 + 64);
        if ( v16 > 0u )
          *(_BYTE *)(a1 + 64) = v16 - 1;
      }
      v17 = *(_DWORD *)(a1 + 168);
      LOWORD(v6) = v15;
      if ( v4 > *(unsigned __int16 *)(dword_8D3C24[v17] + 8 * v15) - 1 )
      {
        *(_WORD *)(a1 + 176) = 0;
        if ( v15 )
        {
          LOWORD(v6) = v15 - 2;
          if ( v15 == 2 )
            LOWORD(v6) = sub_41CE40(a1);
        }
        else
        {
          *(_WORD *)(a1 + 604) = 2;
          if ( v17 == 1015 )
            LOWORD(v6) = sub_416860(
                           155,
                           (signed __int64)*(float *)(a1 + 112),
                           (signed __int64)*(float *)(a1 + 120),
                           0,
                           0);
          v18 = *(_DWORD *)(a1 + 628);
          if ( v18 )
          {
            LOWORD(v6) = -1;
            if ( *(_DWORD *)(v18 + 636) != -1 && *(_DWORD *)(a1 + 636) != -1 )
            {
              *(_DWORD *)(v18 + 636) = -1;
              v6 = *(_DWORD *)(v18 + 52);
              if ( v6 == dword_131D690 || *(_DWORD *)(v18 + 68) && *(_DWORD *)(v18 + 76) )
              {
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 113;
                *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v18 + 56);
                v19 = (signed __int64)(*(float *)(v18 + 112) * 0.025);
                LOBYTE(dword_1550B67) = BYTE1(v19);
                BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v18 + 112) * 0.025);
                v20 = (signed __int64)(*(float *)(v18 + 120) * 0.050000001);
                BYTE2(dword_1550B67) = BYTE1(v20);
                HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v18 + 120) * 0.050000001);
                dword_1550B6B = *(_DWORD *)(v18 + 56);
                v21 = (signed __int64)(*(float *)(v18 + 112) * 0.025);
                byte_1550B6F = BYTE1(v21);
                byte_1550B70 = (signed __int64)(*(float *)(v18 + 112) * 0.025);
                v22 = (signed __int64)(*(float *)(v18 + 120) * 0.050000001);
                byte_1550B71 = BYTE1(v22);
                byte_1550B72 = (signed __int64)(*(float *)(v18 + 120) * 0.050000001);
                sub_42EA60(v18, &byte_1550B73);
                byte_1550B78[0] = *(_DWORD *)(a1 + 636) >> 24;
                byte_1550B79 = *(_DWORD *)(a1 + 636) >> 16;
                byte_1550B7A = *(_WORD *)(a1 + 636) >> 8;
                byte_1550B7B = *(_BYTE *)(a1 + 636);
                LOWORD(v6) = sub_479790(28);
              }
              *(_DWORD *)(v18 + 624) = 0;
              *(_DWORD *)(v18 + 628) = 0;
            }
          }
        }
      }
      return v6;
    case 2:
      v23 = *(_WORD *)(a1 + 604);
      if ( !v23 && (v24 = *(_BYTE *)(a1 + 64), (signed __int16)*(unsigned __int8 *)(a1 + 64) > *(_WORD *)(a1 + 616))
        || v23 == 2 && (v24 = *(_BYTE *)(a1 + 64), v24 > 0u) )
      {
        *(_BYTE *)(a1 + 64) = v24 - 1;
      }
      v25 = *(_DWORD *)(a1 + 168);
      LOWORD(v6) = v23;
      if ( v4 <= *(unsigned __int16 *)(dword_8D3C24[v25] + 8 * v23) - 1 )
        return v6;
      *(_WORD *)(a1 + 176) = 0;
      if ( !v23 )
      {
        *(_WORD *)(a1 + 604) = 1;
        if ( *(_WORD *)(dword_8D3C24[v25] + 8) )
        {
LABEL_75:
          *(_WORD *)(a1 + 610) = 0;
          return v6;
        }
        v6 = *(signed __int16 *)(a1 + 612);
        *(_WORD *)(a1 + 604) = 0;
        switch ( v6 )
        {
          case 50:
            *(_WORD *)(a1 + 612) = 51;
            goto LABEL_75;
          case 51:
            LOWORD(v6) = ++*(_WORD *)(a1 + 610);
            if ( (signed __int16)v6 <= *(_WORD *)(a1 + 608) )
              return v6;
            *(_WORD *)(a1 + 612) = 52;
            goto LABEL_78;
          case 52:
          case 102:
            goto LABEL_93;
          case 100:
            *(_WORD *)(a1 + 612) = 101;
            *(_WORD *)(a1 + 610) = 0;
            if ( v3 )
            {
              *(float *)(a1 + 112) = (double)(rand() % 40) + *(float *)(v3 + 112) - 20.0;
              v31 = rand();
              v32 = v31;
              v6 = v31 / 30;
              v33 = (double)(v32 % 30) + *(float *)(v3 + 116) - 15.0;
              *(float *)(a1 + 116) = v33;
              *(float *)(a1 + 120) = v33;
            }
            return v6;
          case 101:
            LOWORD(v6) = ++*(_WORD *)(a1 + 610);
            if ( (signed __int16)v6 <= *(_WORD *)(a1 + 608) )
            {
              if ( v3 )
              {
                *(float *)(a1 + 112) = (double)(rand() % 40) + *(float *)(v3 + 112) - 20.0;
                v34 = rand();
                v35 = v34;
                v6 = v34 / 30;
                v36 = (double)(v35 % 30) + *(float *)(v3 + 116) - 15.0;
                *(float *)(a1 + 116) = v36;
                *(float *)(a1 + 120) = v36;
              }
              return v6;
            }
            *(_WORD *)(a1 + 612) = 102;
LABEL_78:
            v26 = *(_DWORD *)(a1 + 628);
            if ( !v26 )
              return v6;
            v6 = *(_DWORD *)(v26 + 636);
            if ( v6 == -1 || *(_DWORD *)(a1 + 636) == -1 )
              return v6;
            *(_DWORD *)(a1 + 636) = -1;
            if ( *(_DWORD *)(v26 + 52) == dword_131D690 || *(_DWORD *)(v26 + 68) && *(_DWORD *)(v26 + 76) )
            {
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 113;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v26 + 56);
              goto LABEL_64;
            }
            break;
          default:
            return v6;
        }
LABEL_65:
        *(_DWORD *)(v26 + 624) = 0;
        *(_DWORD *)(v26 + 628) = 0;
        *(_DWORD *)(v26 + 636) = -1;
        return v6;
      }
      if ( v23 != 1 )
      {
        LOWORD(v6) = v23 - 2;
        if ( v23 == 2 )
          LOWORD(v6) = sub_41CE40(a1);
        return v6;
      }
      ++*(_WORD *)(a1 + 610);
      if ( v25 == 1068 )
        sub_416860(167, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
      LOWORD(v6) = *(_WORD *)(a1 + 610);
      if ( (signed __int16)v6 > *(_WORD *)(a1 + 608) )
      {
        if ( *(_DWORD *)(a1 + 168) == 1035 )
        {
          sub_416860(163, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          LOWORD(v6) = sub_416990(162);
        }
        else
        {
          v6 = *(_DWORD *)(a1 + 168) - 1068;
          if ( *(_DWORD *)(a1 + 168) == 1068 )
            LOWORD(v6) = sub_416860(
                           160,
                           (signed __int64)*(float *)(a1 + 112),
                           (signed __int64)*(float *)(a1 + 120),
                           0,
                           0);
        }
        v26 = *(_DWORD *)(a1 + 628);
        *(_WORD *)(a1 + 604) = 2;
        if ( v26 )
        {
          v6 = *(_DWORD *)(v26 + 636);
          if ( v6 != -1 && *(_DWORD *)(a1 + 636) != -1 )
          {
            *(_DWORD *)(a1 + 636) = -1;
            if ( *(_DWORD *)(v26 + 52) == dword_131D690 || *(_DWORD *)(v26 + 68) && *(_DWORD *)(v26 + 76) )
            {
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 113;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v26 + 56);
LABEL_64:
              v27 = (signed __int64)(*(float *)(v26 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v27);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v26 + 112) * 0.025);
              v28 = (signed __int64)(*(float *)(v26 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v28);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v26 + 120) * 0.050000001);
              dword_1550B6B = *(_DWORD *)(v26 + 56);
              v29 = (signed __int64)(*(float *)(v26 + 112) * 0.025);
              byte_1550B6F = BYTE1(v29);
              byte_1550B70 = (signed __int64)(*(float *)(v26 + 112) * 0.025);
              v30 = (signed __int64)(*(float *)(v26 + 120) * 0.050000001);
              byte_1550B71 = BYTE1(v30);
              byte_1550B72 = (signed __int64)(*(float *)(v26 + 120) * 0.050000001);
              sub_42EA60(v26, &byte_1550B73);
              byte_1550B78[0] = *(_DWORD *)(v26 + 636) >> 24;
              byte_1550B79 = *(_DWORD *)(v26 + 636) >> 16;
              byte_1550B7A = *(_WORD *)(v26 + 636) >> 8;
              byte_1550B7B = *(_BYTE *)(v26 + 636);
              LOWORD(v6) = sub_479790(28);
            }
            goto LABEL_65;
          }
        }
      }
      return v6;
    case 6:
      LOWORD(v6) = *(_WORD *)(dword_8D3C24[*(_DWORD *)(a1 + 168)] + 8 * *(signed __int16 *)(a1 + 604));
      if ( v4 > (unsigned __int16)v6 - 1 )
      {
        v8 = *(_WORD *)(a1 + 608) == 0;
        *(_WORD *)(a1 + 176) = v6 - 1;
        if ( v8 && *(_WORD *)(a1 + 610) > 90 )
          *(_WORD *)(a1 + 608) = 1;
        else
          ++*(_WORD *)(a1 + 610);
        LOWORD(v6) = *(_WORD *)(a1 + 608);
        if ( (signed __int16)v6 < 31 )
        {
          LOWORD(v6) = v6 + 1;
          *(_WORD *)(a1 + 608) = v6;
        }
        if ( *(_WORD *)(a1 + 608) == 31 )
          goto LABEL_93;
      }
      return v6;
    case 7:
      v12 = *(_BYTE *)(a1 + 64);
      if ( v12 > 0u )
        *(_BYTE *)(a1 + 64) = v12 - 1;
      v6 = rand();
      v13 = *(_WORD *)(dword_8D3C24[*(_DWORD *)(a1 + 168)] + 8 * *(signed __int16 *)(a1 + 604));
      v14 = v6;
      LOWORD(v6) = ++*(_WORD *)(a1 + 610);
      v10 = __OFSUB__((_WORD)v6, *(_WORD *)(a1 + 608));
      v8 = (_WORD)v6 == *(_WORD *)(a1 + 608);
      v9 = (signed __int16)(v6 - *(_WORD *)(a1 + 608)) < 0;
      *(_WORD *)(a1 + 176) = v14 % v13;
LABEL_17:
      if ( !((unsigned __int8)(v9 ^ v10) | v8) )
      {
        v11 = *(_DWORD *)(a1 + 628);
        *(_WORD *)(a1 + 176) = 0;
        if ( v11 )
        {
          *(_DWORD *)(v11 + 624) = 0;
          *(_DWORD *)(v11 + 628) = 0;
          LOWORD(v6) = sub_41CE40(a1);
        }
        else
        {
LABEL_93:
          LOWORD(v6) = sub_41CE40(a1);
        }
      }
      return v6;
    default:
      return v6;
  }
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 8D4CDC: using guessed type int dword_8D4CDC;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;

//----- (00411AF0) --------------------------------------------------------
signed int __cdecl sub_411AF0(int a1)
{
  int v1; // esi
  int v2; // ecx
  int v3; // edi
  unsigned __int16 v4; // ax
  char v5; // cl
  int v6; // eax
  __int16 v7; // dx
  char v8; // cl
  int v9; // edi
  signed __int64 v10; // rax
  signed __int64 v11; // rax
  signed __int64 v12; // rax
  signed __int64 v13; // rax
  __int16 v14; // cx
  char v15; // al
  signed __int64 v16; // rax
  int v17; // ebp
  int v18; // ebx
  LPCSTR v19; // edi
  __int16 v20; // ax
  int v21; // ebp
  LPCSTR v22; // edi
  signed __int64 v23; // rax
  signed __int64 v24; // rax
  signed __int64 v25; // rax
  signed __int64 v26; // rax
  int v27; // eax
  int v28; // eax
  __int16 v29; // ax
  unsigned __int16 v30; // cx
  bool v31; // zf
  __int16 v32; // ax
  signed int result; // eax
  int v34; // [esp+Ch] [ebp-8h]
  int v35; // [esp+10h] [ebp-4h]
  LPCSTR *v36; // [esp+18h] [ebp+4h]

  v1 = a1;
  v2 = *(signed __int16 *)(a1 + 606);
  ++*(_WORD *)(v1 + 176);
  v3 = *(_DWORD *)(a1 + 168);
  v4 = *(_WORD *)(a1 + 176);
  switch ( v2 )
  {
    case 0:
      v5 = *(_BYTE *)(a1 + 64);
      if ( v5 )
        *(_BYTE *)(a1 + 64) = v5 - 1;
      if ( v4 > *(unsigned __int16 *)(dword_8D3C24[v3] + 8 * *(signed __int16 *)(a1 + 604)) - 1 )
      {
        v6 = *(_DWORD *)(a1 + 624);
        *(_WORD *)(a1 + 176) = 0;
        if ( v6 )
          *(_DWORD *)(v6 + 624) = 0;
        goto LABEL_71;
      }
      goto LABEL_72;
    case 1:
      v7 = *(_WORD *)(a1 + 604);
      if ( v7 == 2 )
      {
        v8 = *(_BYTE *)(a1 + 64);
        if ( v8 )
          *(_BYTE *)(a1 + 64) = v8 - 1;
      }
      if ( v4 > *(unsigned __int16 *)(dword_8D3C24[v3] + 8 * v7) - 1 )
      {
        *(_WORD *)(a1 + 176) = 0;
        if ( v7 )
        {
          if ( v7 == 2 )
            goto LABEL_71;
        }
        else
        {
          *(_WORD *)(a1 + 604) = 2;
          if ( v3 == 1015 )
            sub_416860(155, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
          v9 = *(_DWORD *)(a1 + 624);
          if ( v9 && *(_DWORD *)(v9 + 636) != -1 && *(_DWORD *)(a1 + 636) != -1 )
          {
            *(_DWORD *)(v9 + 636) = -1;
            if ( *(_DWORD *)(v9 + 52) == dword_131D690 || *(_DWORD *)(v9 + 68) && *(_DWORD *)(v9 + 76) )
            {
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 113;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v9 + 56);
              v10 = (signed __int64)(*(float *)(v9 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v10);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v9 + 112) * 0.025);
              v11 = (signed __int64)(*(float *)(v9 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v11);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v9 + 120) * 0.050000001);
              dword_1550B6B = *(_DWORD *)(v9 + 56);
              v12 = (signed __int64)(*(float *)(v9 + 112) * 0.025);
              byte_1550B6F = BYTE1(v12);
              byte_1550B70 = (signed __int64)(*(float *)(v9 + 112) * 0.025);
              v13 = (signed __int64)(*(float *)(v9 + 120) * 0.050000001);
              byte_1550B71 = BYTE1(v13);
              byte_1550B72 = (signed __int64)(*(float *)(v9 + 120) * 0.050000001);
              sub_42EA60(v9, &byte_1550B73);
              byte_1550B78[0] = *(_DWORD *)(a1 + 636) >> 24;
              byte_1550B79 = *(_DWORD *)(a1 + 636) >> 16;
              byte_1550B7A = *(_WORD *)(a1 + 636) >> 8;
              byte_1550B7B = *(_BYTE *)(a1 + 636);
              sub_479790(28);
            }
            *(_DWORD *)(v9 + 624) = 0;
          }
        }
      }
      goto LABEL_72;
    case 2:
      v14 = *(_WORD *)(a1 + 604);
      if ( !v14 && (v15 = *(_BYTE *)(a1 + 64), (signed __int16)*(unsigned __int8 *)(a1 + 64) > *(_WORD *)(a1 + 616))
        || v14 == 2 && (v15 = *(_BYTE *)(a1 + 64)) != 0 )
      {
        *(_BYTE *)(a1 + 64) = v15 - 1;
      }
      if ( v14 != 1 )
        goto LABEL_57;
      v16 = (signed __int64)*(float *)(a1 + 120);
      HIDWORD(v16) = (signed int)((unsigned __int64)(1717986919i64 * (signed int)v16) >> 32) >> 3;
      LODWORD(v16) = (unsigned int)((unsigned __int64)(1717986919i64 * (signed int)v16) >> 32) >> 31;
      v17 = v16 + HIDWORD(v16);
      v35 = v16 + HIDWORD(v16);
      v34 = (signed __int64)*(float *)(a1 + 112) / 40;
      if ( *((_BYTE *)dword_1542DA4 + v34 + dword_1540B4C * (v16 + HIDWORD(v16))) != 1 )
        goto LABEL_57;
      v18 = 0;
      if ( dword_1317E74 <= 0 )
        goto LABEL_57;
      v36 = &lpString;
      break;
    case 6:
      v30 = *(_WORD *)(dword_8D3C24[v3] + 8 * *(signed __int16 *)(a1 + 604));
      if ( *(unsigned __int16 *)(a1 + 176) > v30 - 1 )
      {
        ++*(_WORD *)(a1 + 610);
        v31 = *(_WORD *)(a1 + 608) == 0;
        v32 = *(_WORD *)(a1 + 610);
        *(_WORD *)(a1 + 176) = v30 - 1;
        if ( v31 && v32 > 90 )
          *(_WORD *)(a1 + 608) = 1;
        if ( *(_WORD *)(a1 + 608) == 31 )
LABEL_71:
          sub_41CE40(v1);
      }
      goto LABEL_72;
    default:
      goto LABEL_72;
  }
  while ( 1 )
  {
    if ( v18 == *(_DWORD *)(v1 + 52) )
      goto LABEL_44;
    v19 = *v36;
    if ( (*v36)[48] != 2 )
      goto LABEL_44;
    if ( *((_DWORD *)v19 + 23) )
      goto LABEL_44;
    v20 = *(_WORD *)(v1 + 608);
    if ( v20 != 100 && (v20 || !*((_DWORD *)v19 + 17)) )
      goto LABEL_44;
    if ( (signed __int64)*((float *)v19 + 28) / 40 != v34 || (signed __int64)*((float *)v19 + 30) / 20 != v17 )
      goto LABEL_44;
    v21 = *(_DWORD *)(v1 + 624);
    if ( v21 )
    {
      if ( *(_DWORD *)(v21 + 52) != v18 )
        break;
    }
    v17 = v35;
LABEL_44:
    ++v18;
    ++v36;
    if ( v18 >= dword_1317E74 )
      goto LABEL_57;
  }
  v22 = (&lpString)[v18];
  if ( v22 && *(_DWORD *)(v1 + 636) != -1 && *(_DWORD *)(v21 + 52) == dword_131D690 )
  {
    if ( *((_DWORD *)v22 + 17)
      && !*((_DWORD *)v22 + 20)
      && !*((_DWORD *)v22 + 19)
      && !*((_DWORD *)v22 + 23)
      && *((_DWORD *)v22 + 42) < 0xDCu )
    {
      sub_46FC00((int)v22, (int)(&lpString)[dword_131D690]);
    }
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 21;
    *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v21 + 56);
    v23 = (signed __int64)(*(float *)(v21 + 112) * 0.025);
    LOBYTE(dword_1550B67) = BYTE1(v23);
    BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v21 + 112) * 0.025);
    v24 = (signed __int64)(*(float *)(v21 + 120) * 0.050000001);
    BYTE2(dword_1550B67) = BYTE1(v24);
    HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v21 + 120) * 0.050000001);
    dword_1550B6B = *((_DWORD *)v22 + 14);
    v25 = (signed __int64)(*((float *)v22 + 28) * 0.025);
    byte_1550B6F = BYTE1(v25);
    byte_1550B70 = (signed __int64)(*((float *)v22 + 28) * 0.025);
    v26 = (signed __int64)(*((float *)v22 + 30) * 0.050000001);
    byte_1550B71 = BYTE1(v26);
    byte_1550B72 = (signed __int64)(*((float *)v22 + 30) * 0.050000001);
    sub_42EA60(v21, &byte_1550B73);
    sub_42EA60((int)v22, byte_1550B78);
    BYTE1(dword_1550B7C) = *(_DWORD *)(v1 + 636) >> 24;
    BYTE2(dword_1550B7C) = *(_DWORD *)(v1 + 636) >> 16;
    HIBYTE(dword_1550B7C) = *(_WORD *)(v1 + 636) >> 8;
    byte_1550B80 = *(_BYTE *)(v1 + 636);
    sub_479790(33);
    sub_464F70((int)v22, *(_DWORD *)(v1 + 636));
  }
  sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
  *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
  *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
  *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1008;
  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
  *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
  *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
  *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
  sub_416860(
    168,
    (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
    (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
    0,
    0);
  *(_WORD *)(v1 + 604) = 2;
  *(_WORD *)(v1 + 176) = 0;
LABEL_57:
  v27 = *(signed __int16 *)(v1 + 604);
  if ( *(unsigned __int16 *)(v1 + 176) > *(unsigned __int16 *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 8 * v27) - 1 )
  {
    *(_WORD *)(v1 + 176) = 0;
    if ( v27 )
    {
      v28 = v27 - 1;
      if ( v28 )
      {
        if ( v28 == 1 )
          goto LABEL_71;
      }
      else
      {
        v29 = *(_WORD *)(v1 + 610);
        if ( v29 )
        {
          if ( ++*(_WORD *)(v1 + 612) > v29 )
            *(_WORD *)(v1 + 604) = 2;
        }
      }
    }
    else
    {
      *(_WORD *)(v1 + 604) = 1;
    }
  }
LABEL_72:
  result = *(_DWORD *)(v1 + 168);
  if ( result == 1009 )
  {
    result = *(signed __int16 *)(v1 + 604);
    if ( *(_WORD *)(v1 + 604) )
    {
      if ( result > 0 && result <= 2 && !*(_WORD *)(v1 + 176) )
        *(_WORD *)(v1 + 176) = 1;
    }
    else if ( *(_WORD *)(v1 + 176) == 26 )
    {
      *(_WORD *)(v1 + 176) = 27;
    }
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1540B4C: using guessed type int dword_1540B4C;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;
// 1550B81: using guessed type char byte_1550B81;

//----- (004122D0) --------------------------------------------------------
int __cdecl sub_4122D0(int a1)
{
  int result; // eax
  double v2; // st7
  int v3; // edx
  int v4; // ecx
  bool v5; // zf
  signed int v6; // [esp+8h] [ebp+4h]
  signed int v7; // [esp+8h] [ebp+4h]

  result = a1;
  v6 = *(signed __int16 *)(a1 + 604);
  ++*(_WORD *)(result + 176);
  v2 = (double)v6 + *(float *)(result + 112);
  v7 = *(signed __int16 *)(result + 606);
  v3 = *(_DWORD *)(result + 168);
  v4 = *(unsigned __int16 *)(result + 176);
  *(float *)(result + 112) = v2;
  *(float *)(result + 116) = (double)v7 + *(float *)(result + 116);
  if ( v4 > *(unsigned __int16 *)dword_8D3C24[v3] - 1 )
  {
    v5 = ++*(_WORD *)(result + 608) == *(_WORD *)(result + 610);
    *(_WORD *)(result + 176) = 0;
    if ( v5 )
      result = sub_41CE40(result);
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];

//----- (00412360) --------------------------------------------------------
void __cdecl sub_412360(int a1)
{
  int v1; // esi
  int v2; // ecx
  __int16 v3; // ax
  signed int v4; // edx
  double v5; // st7
  signed int v6; // edi
  int v7; // edi
  int v8; // ebp
  unsigned int v9; // edx
  int v10; // edx
  int v11; // ebp
  signed __int64 v12; // rax
  signed __int64 v13; // rax
  signed __int64 v14; // rax
  signed __int64 v15; // rax
  signed __int64 v16; // rax
  signed __int64 v17; // rax
  int v18; // [esp+Ch] [ebp-4h]
  float v19; // [esp+14h] [ebp+4h]
  int v20; // [esp+14h] [ebp+4h]

  v1 = a1;
  ++*(_WORD *)(v1 + 614);
  if ( *(_WORD *)(a1 + 614) >= *(_WORD *)(a1 + 612) )
  {
    v2 = *(_DWORD *)(a1 + 168);
    if ( (unsigned __int16)++*(_WORD *)(a1 + 176) > *(unsigned __int16 *)(dword_8D3C24[v2] + 8) - 1 )
      *(_WORD *)(a1 + 176) = 0;
    ++*(_WORD *)(a1 + 606);
    v3 = *(_WORD *)(a1 + 608);
    if ( *(_WORD *)(a1 + 606) > v3 )
    {
      *(_WORD *)(a1 + 606) = 0;
      *(_WORD *)(a1 + 608) = v3 + 20;
    }
    v4 = *(signed __int16 *)(a1 + 608);
    v19 = *(float *)(a1 + 112) - 20.0;
    *(float *)(v1 + 112) = v19;
    v5 = (double)v4 + *(float *)(v1 + 116);
    *(float *)(v1 + 116) = v5;
    if ( v5 >= *(float *)(v1 + 120) )
    {
      switch ( 0 )
      {
        case 1004:
          dword_13225EC = 1;
          dword_13225F0 = 8;
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1061;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            182,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          break;
        case 1010:
          sub_41C960((signed __int64)v19, (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1011;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1010;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1008;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            168,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          if ( *(_DWORD *)(v1 + 636) == 232 )
          {
            v6 = 0;
            do
            {
              sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1009;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 17;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 10;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = rand() % 20;
              if ( byte_1330125 )
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 100;
              else
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
              v6 += 16;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 1;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
              *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(double *)(v6 + 9243024) * 80.0 + *(float *)(v1 + 112);
              *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(double *)(v6 + 18864856) * 40.0 + *(float *)(v1 + 116);
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 120) = *(_DWORD *)(dword_49DA1C[dword_1317E74] + 116);
            }
            while ( v6 < 320 );
          }
          break;
        case 1028:
          dword_13225EC = 1;
          dword_13225F0 = 8;
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1008;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1028;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            182,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          break;
        case 1036:
          dword_13225EC = 1;
          dword_13225F0 = 8;
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1008;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1036;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            182,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          sub_41C960((signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1061;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          break;
        default:
          break;
      }
      v7 = *(_DWORD *)(v1 + 628);
      if ( !v7 )
        goto LABEL_40;
      v8 = (signed __int64)*(float *)(v7 + 112) / 40;
      v18 = (signed __int64)*(float *)(v7 + 120) / 20;
      v20 = (signed __int64)*(float *)(v1 + 112) / 40;
      v9 = (unsigned __int64)(1717986919i64 * (signed int)(signed __int64)*(float *)(v1 + 120)) >> 32;
      v10 = (v9 >> 31) + ((signed int)v9 >> 3);
      if ( v8 <= v20 - 3 || v8 >= v20 + 3 || v18 <= v10 - 3 || v18 >= v10 + 3 )
        goto LABEL_40;
      if ( *(_WORD *)(v1 + 618) != 100 || (++*(_WORD *)(v1 + 610), *(_WORD *)(v1 + 610) > 3) )
      {
        *(_DWORD *)(v1 + 600) = 1;
        *(_WORD *)(v1 + 176) = 0;
        *(_WORD *)(v1 + 604) = 2;
      }
      v11 = *(_DWORD *)(v1 + 624);
      if ( !v11 )
        goto LABEL_40;
      if ( *(_DWORD *)(v11 + 52) == dword_131D690 )
      {
        if ( *(_DWORD *)(v7 + 68)
          && !*(_DWORD *)(v7 + 80)
          && !*(_DWORD *)(v7 + 76)
          && !*(_DWORD *)(v7 + 92)
          && *(_DWORD *)(v7 + 168) < 0xDCu )
        {
          sub_46FC00(v7, (int)(&lpString)[dword_131D690]);
        }
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 21;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v11 + 56);
        v12 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v12);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v11 + 112) * 0.025);
        v13 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v13);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
        dword_1550B6B = *(_DWORD *)(v7 + 56);
      }
      else
      {
        if ( !*(_DWORD *)(v11 + 68) || !*(_DWORD *)(v11 + 76) )
          goto LABEL_39;
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 21;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v11 + 56);
        v14 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v14);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v11 + 112) * 0.025);
        v15 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v15);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
        dword_1550B6B = *(_DWORD *)(v7 + 56);
      }
      v16 = (signed __int64)(*(float *)(v7 + 112) * 0.025);
      byte_1550B6F = BYTE1(v16);
      byte_1550B70 = (signed __int64)(*(float *)(v7 + 112) * 0.025);
      v17 = (signed __int64)(*(float *)(v7 + 120) * 0.050000001);
      byte_1550B71 = BYTE1(v17);
      byte_1550B72 = (signed __int64)(*(float *)(v7 + 120) * 0.050000001);
      sub_42EA60(v11, &byte_1550B73);
      sub_42EA60(v7, byte_1550B78);
      BYTE1(dword_1550B7C) = *(_DWORD *)(v1 + 636) >> 24;
      BYTE2(dword_1550B7C) = *(_DWORD *)(v1 + 636) >> 16;
      HIBYTE(dword_1550B7C) = *(_WORD *)(v1 + 636) >> 8;
      byte_1550B80 = *(_BYTE *)(v1 + 636);
      sub_479790(33);
LABEL_39:
      sub_464F70(v7, *(_DWORD *)(v1 + 636));
LABEL_40:
      sub_41CE40(v1);
      return;
    }
  }
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 13225EC: using guessed type int dword_13225EC;
// 13225F0: using guessed type int dword_13225F0;
// 1330125: using guessed type char byte_1330125;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;
// 1550B81: using guessed type char byte_1550B81;

//----- (004132E0) --------------------------------------------------------
signed int __cdecl sub_4132E0(int a1)
{
  signed int result; // eax
  unsigned __int16 v2; // cx
  int v3; // edx
  int v4; // edi
  __int16 v5; // cx
  bool v6; // sf
  unsigned __int8 v7; // of

  result = a1;
  ++*(_WORD *)(result + 176);
  ++*(_WORD *)(result + 614);
  v2 = *(_WORD *)(a1 + 176);
  if ( *(_WORD *)(a1 + 614) > *(_WORD *)(a1 + 612) )
  {
    --*(_WORD *)(a1 + 610);
    *(_WORD *)(a1 + 614) = 0;
  }
  v3 = *(_DWORD *)(a1 + 168);
  v4 = *(signed __int16 *)(a1 + 604);
  *(float *)(a1 + 116) = (double)*(signed __int16 *)(a1 + 610) + *(float *)(a1 + 116);
  if ( v2 > *(unsigned __int16 *)(dword_8D3C24[v3] + 8 * v4) - 1 )
  {
    v5 = ++*(_WORD *)(a1 + 608);
    v7 = __OFSUB__(v5, *(_WORD *)(a1 + 606));
    v6 = (signed __int16)(v5 - *(_WORD *)(a1 + 606)) < 0;
    *(_WORD *)(a1 + 176) = 0;
    if ( !(v6 ^ v7) )
      result = sub_41CE40(a1);
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];

//----- (00413380) --------------------------------------------------------
__int16 __cdecl sub_413380(int a1)
{
  int v1; // esi
  int v2; // ecx
  signed __int64 v3; // rax
  double v4; // st7
  double v5; // st6
  double v6; // st5
  int v7; // edi
  int v8; // edx
  int v9; // eax
  int v10; // edi
  int v11; // esi
  signed __int64 v12; // rax
  signed __int64 v13; // rax
  signed __int64 v14; // rax
  signed __int64 v15; // rax
  signed __int64 v16; // rax
  signed __int64 v17; // rax
  signed int v19; // [esp+18h] [ebp+4h]

  v1 = a1;
  if ( *(_DWORD *)(a1 + 600) )
  {
    LOWORD(v3) = ++*(_WORD *)(a1 + 608);
    *(_WORD *)(a1 + 176) = 0;
    if ( (signed __int16)v3 > 40 )
      LOWORD(v3) = sub_41CE40(a1);
  }
  else
  {
    v2 = *(_DWORD *)(a1 + 168);
    if ( (unsigned __int16)++*(_WORD *)(a1 + 176) > *(unsigned __int16 *)(dword_8D3C24[v2]
                                                                        + 8 * *(signed __int16 *)(a1 + 604))
                                                  - 1 )
      *(_WORD *)(a1 + 176) = 0;
    if ( *(float *)(a1 + 116) >= (double)*(float *)(a1 + 120) )
    {
      LODWORD(v3) = *(_DWORD *)(a1 + 120);
      *(_DWORD *)(a1 + 600) = 1;
      *(_DWORD *)(a1 + 116) = v3;
      *(_WORD *)(a1 + 608) = 0;
      return v3;
    }
    if ( ++*(_WORD *)(a1 + 616) > *(_WORD *)(a1 + 606) )
    {
      ++*(_WORD *)(a1 + 620);
      *(_WORD *)(a1 + 616) = 0;
    }
    LOWORD(v3) = ++*(_WORD *)(a1 + 618);
    if ( (signed __int16)v3 > *(_WORD *)(a1 + 610) )
    {
      LOWORD(v3) = *(_WORD *)(a1 + 608);
      *(_WORD *)(a1 + 618) = 0;
      if ( (_WORD)v3 )
      {
        LOWORD(v3) = v3 - 1;
        *(_WORD *)(a1 + 608) = v3;
      }
    }
    v19 = 0;
    if ( *(_WORD *)(v1 + 608) > 0 )
    {
      v4 = (double)*(signed __int16 *)(v1 + 612) * 0.001;
      do
      {
        v5 = v4 + *(float *)(v1 + 112);
        *(float *)(v1 + 112) = v5;
        if ( v19 & 1 )
        {
          v6 = (double)*(signed __int16 *)(v1 + 614) * 0.001;
          *(float *)(v1 + 116) = v6 + *(float *)(v1 + 116);
          *(float *)(v1 + 120) = v6 + *(float *)(v1 + 120);
        }
        v7 = (unsigned __int16)(signed __int64)v5 / 40;
        v8 = (unsigned __int16)(signed __int64)*(float *)(v1 + 120) / 20;
        if ( v7 < 0
          || v7 > dword_1540B4C - 1
          || v8 < 0
          || v8 > dword_1540B50 - 1
          || (v9 = v7 + v8 * dword_1540B4C, *((_DWORD *)dword_1330790 + 2 * v9 + 1) != -1)
          && (*((_BYTE *)dword_1547440 + 2 * v9) & 1) == 1 )
        {
          *(_DWORD *)(v1 + 600) = 1;
          *(_WORD *)(v1 + 608) = 0;
        }
        LOWORD(v3) = v19++ + 1;
      }
      while ( v19 < *(signed __int16 *)(v1 + 608) );
    }
    v10 = *(_DWORD *)(v1 + 628);
    *(float *)(v1 + 116) = (double)*(signed __int16 *)(v1 + 620) + *(float *)(v1 + 116);
    if ( v10 )
    {
      v3 = (signed __int64)(*(float *)(v1 + 112) * 0.025);
      if ( (unsigned int)(signed __int64)(*(float *)(v10 + 112) * 0.025) == (_DWORD)v3 )
      {
        v3 = (signed __int64)(*(float *)(v1 + 120) * 0.050000001);
        if ( (unsigned int)(signed __int64)(*(float *)(v10 + 120) * 0.050000001) == (_DWORD)v3 )
        {
          if ( *(_WORD *)(v10 + 86) )
            LOWORD(v3) = sub_416860(
                           94,
                           (signed __int64)*(float *)(v1 + 112),
                           (signed __int64)*(float *)(v1 + 120),
                           0,
                           0);
          *(_DWORD *)(v1 + 600) = 1;
          *(_WORD *)(v1 + 608) = 60;
          v11 = *(_DWORD *)(v1 + 624);
          if ( v11 )
          {
            LOWORD(v3) = dword_131D690;
            if ( *(_DWORD *)(v11 + 52) == dword_131D690 )
            {
              if ( !*(_DWORD *)(v11 + 92)
                && *(_DWORD *)(v10 + 68)
                && !*(_DWORD *)(v10 + 80)
                && !*(_DWORD *)(v10 + 76)
                && !*(_DWORD *)(v10 + 92)
                && *(_DWORD *)(v10 + 168) < 0xDCu )
              {
                sub_46FC00(v10, (int)(&lpString)[dword_131D690]);
              }
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 21;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v11 + 56);
              v12 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v12);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v11 + 112) * 0.025);
              v13 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v13);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
              dword_1550B6B = *(_DWORD *)(v10 + 56);
              goto LABEL_40;
            }
            if ( *(_DWORD *)(v11 + 68) && *(_DWORD *)(v11 + 76) )
            {
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 21;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v11 + 56);
              v14 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v14);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v11 + 112) * 0.025);
              v15 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v15);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
              dword_1550B6B = *(_DWORD *)(v10 + 56);
LABEL_40:
              v16 = (signed __int64)(*(float *)(v10 + 112) * 0.025);
              byte_1550B6F = BYTE1(v16);
              byte_1550B70 = (signed __int64)(*(float *)(v10 + 112) * 0.025);
              v17 = (signed __int64)(*(float *)(v10 + 120) * 0.050000001);
              byte_1550B71 = BYTE1(v17);
              byte_1550B72 = (signed __int64)(*(float *)(v10 + 120) * 0.050000001);
              sub_42EA60(v11, &byte_1550B73);
              sub_42EA60(v10, byte_1550B78);
              *(_WORD *)((char *)&dword_1550B7C + 1) = 0;
              HIBYTE(dword_1550B7C) = 1;
              byte_1550B80 = 46;
              LOWORD(v3) = sub_479790(33);
              return v3;
            }
          }
        }
      }
    }
  }
  return v3;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;

//----- (00413830) --------------------------------------------------------
signed int __cdecl sub_413830(int a1)
{
  int v1; // esi
  int v2; // edx
  __int16 v3; // cx
  signed int result; // eax
  int v5; // ebp
  double v6; // st7
  double v7; // st6
  int v8; // edi
  int v9; // edx
  int v10; // edi
  signed __int64 v11; // rax
  signed __int64 v12; // rax
  signed __int64 v13; // rax
  signed __int64 v14; // rax
  signed __int64 v15; // rax
  signed __int64 v16; // rax
  double v17; // st7
  double v18; // st6
  int v19; // ecx
  float v20; // [esp+10h] [ebp-Ch]
  int v21; // [esp+18h] [ebp-4h]
  int v22; // [esp+20h] [ebp+4h]

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 168);
  if ( !dword_13083B0[8 * *(_DWORD *)(a1 + 168)] )
  {
    *(_BYTE *)(a1 + 172) = 0;
    *(_BYTE *)(a1 + 173) = 0;
  }
  if ( *(_DWORD *)(a1 + 600) )
  {
    v19 = *(signed __int16 *)(a1 + 604);
    result = (unsigned __int16)++*(_WORD *)(a1 + 176);
    if ( result > *(unsigned __int16 *)(dword_8D3C24[v2] + 8 * v19) - 1 )
      result = sub_41CE40(a1);
  }
  else
  {
    v3 = *(_WORD *)(a1 + 604);
    if ( (unsigned __int16)++*(_WORD *)(a1 + 176) > *(unsigned __int16 *)(dword_8D3C24[v2] + 8 * v3) - 1 )
    {
      if ( !v3 )
        *(_WORD *)(a1 + 604) = 1;
      *(_WORD *)(a1 + 176) = 0;
    }
    result = *(signed __int16 *)(a1 + 604);
    if ( *(_WORD *)(a1 + 604) )
    {
      if ( !--result )
      {
        *(_WORD *)(a1 + 608) += 2;
        result = *(signed __int16 *)(a1 + 608);
        v22 = 0;
        v21 = *(signed __int16 *)(v1 + 608);
        if ( result > 0 )
        {
          v5 = *(_DWORD *)(v1 + 628);
          v20 = (double)*(signed __int16 *)(v1 + 612) * 0.001;
          while ( 1 )
          {
            v6 = v20 + *(float *)(v1 + 112);
            *(float *)(v1 + 112) = v6;
            if ( v22 & 1 )
            {
              v7 = (double)*(signed __int16 *)(v1 + 614) * 0.001;
              *(float *)(v1 + 116) = v7 + *(float *)(v1 + 116);
              *(float *)(v1 + 120) = v7 + *(float *)(v1 + 120);
            }
            v8 = (unsigned __int16)(signed __int64)v6 / 40;
            v9 = (unsigned __int16)(signed __int64)*(float *)(v1 + 120) / 20;
            if ( v8 < 0 || v8 > dword_1540B4C - 1 || v9 < 0 || v9 > dword_1540B50 - 1 || *(_WORD *)(v1 + 608) > 70 )
            {
              *(_DWORD *)(v1 + 600) = 1;
              *(_WORD *)(v1 + 176) = 0;
              *(_WORD *)(v1 + 604) = 2;
            }
            if ( v5
              && (unsigned int)(signed __int64)(*(float *)(v5 + 112) * 0.025) == (unsigned int)(signed __int64)(v6 * 0.025)
              && (unsigned int)(signed __int64)(*(float *)(v5 + 120) * 0.050000001) == (unsigned int)(signed __int64)(*(float *)(v1 + 120) * 0.050000001) )
            {
              break;
            }
            result = v22++ + 1;
            if ( v22 >= v21 )
              return result;
          }
          if ( *(_WORD *)(v1 + 618) != 100 || (++*(_WORD *)(v1 + 610), *(_WORD *)(v1 + 610) > 3) )
          {
            *(_DWORD *)(v1 + 600) = 1;
            *(_WORD *)(v1 + 176) = 0;
            *(_WORD *)(v1 + 604) = 2;
          }
          v10 = *(_DWORD *)(v1 + 624);
          if ( !v10 )
            return sub_464F70(v5, *(_DWORD *)(v1 + 636));
          if ( *(_DWORD *)(v10 + 52) == dword_131D690 )
          {
            if ( *(_DWORD *)(v5 + 68)
              && !*(_DWORD *)(v5 + 80)
              && !*(_DWORD *)(v5 + 76)
              && !*(_DWORD *)(v5 + 92)
              && *(_DWORD *)(v5 + 168) < 0xDCu )
            {
              sub_46FC00(v5, (int)(&lpString)[dword_131D690]);
            }
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 21;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v10 + 56);
            v11 = (signed __int64)(*(float *)(v10 + 112) * 0.025);
            LOBYTE(dword_1550B67) = BYTE1(v11);
            BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v10 + 112) * 0.025);
            v12 = (signed __int64)(*(float *)(v10 + 120) * 0.050000001);
            BYTE2(dword_1550B67) = BYTE1(v12);
            HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v10 + 120) * 0.050000001);
            dword_1550B6B = *(_DWORD *)(v5 + 56);
          }
          else
          {
            if ( !*(_DWORD *)(v10 + 68) || !*(_DWORD *)(v10 + 76) )
              return sub_464F70(v5, *(_DWORD *)(v1 + 636));
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 21;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v10 + 56);
            v13 = (signed __int64)(*(float *)(v10 + 112) * 0.025);
            LOBYTE(dword_1550B67) = BYTE1(v13);
            BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v10 + 112) * 0.025);
            v14 = (signed __int64)(*(float *)(v10 + 120) * 0.050000001);
            BYTE2(dword_1550B67) = BYTE1(v14);
            HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v10 + 120) * 0.050000001);
            dword_1550B6B = *(_DWORD *)(v5 + 56);
          }
          v15 = (signed __int64)(*(float *)(v5 + 112) * 0.025);
          byte_1550B6F = BYTE1(v15);
          byte_1550B70 = (signed __int64)(*(float *)(v5 + 112) * 0.025);
          v16 = (signed __int64)(*(float *)(v5 + 120) * 0.050000001);
          byte_1550B71 = BYTE1(v16);
          byte_1550B72 = (signed __int64)(*(float *)(v5 + 120) * 0.050000001);
          sub_42EA60(v10, &byte_1550B73);
          sub_42EA60(v5, byte_1550B78);
          BYTE1(dword_1550B7C) = *(_DWORD *)(v1 + 636) >> 24;
          BYTE2(dword_1550B7C) = *(_DWORD *)(v1 + 636) >> 16;
          HIBYTE(dword_1550B7C) = *(_WORD *)(v1 + 636) >> 8;
          byte_1550B80 = *(_BYTE *)(v1 + 636);
          sub_479790(33);
          return sub_464F70(v5, *(_DWORD *)(v1 + 636));
        }
      }
    }
    else if ( *(_WORD *)(a1 + 176) == 1 )
    {
      result = 0;
      v17 = (double)*(signed __int16 *)(a1 + 612) * 0.001;
      do
      {
        *(float *)(a1 + 112) = v17 + *(float *)(a1 + 112);
        if ( result & 1 )
        {
          v18 = (double)*(signed __int16 *)(a1 + 614) * 0.001;
          *(float *)(a1 + 116) = v18 + *(float *)(a1 + 116);
          *(float *)(a1 + 120) = v18 + *(float *)(a1 + 120);
        }
        ++result;
      }
      while ( result < 20 );
    }
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 13083B0: using guessed type int dword_13083B0[];
// 131D690: using guessed type int dword_131D690;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;
// 1550B81: using guessed type char byte_1550B81;

//----- (00413D20) --------------------------------------------------------
signed int __cdecl sub_413D20(int a1)
{
  signed int result; // eax
  int v2; // esi
  __int16 v3; // cx
  double v4; // st7
  __int16 v5; // cx
  bool v6; // zf
  bool v7; // sf
  unsigned __int8 v8; // of
  int v9; // edx
  int v10; // [esp+Ch] [ebp+4h]

  result = a1;
  if ( *(_DWORD *)(a1 + 600) )
  {
    v9 = *(_DWORD *)(a1 + 168);
    if ( (unsigned __int16)++*(_WORD *)(a1 + 176) > *(unsigned __int16 *)(dword_8D3C24[v9]
                                                                        + 8 * *(signed __int16 *)(a1 + 604))
                                                  - 1 )
      result = sub_41CE40(a1);
  }
  else
  {
    v2 = *(_DWORD *)(a1 + 168);
    if ( (unsigned __int16)++*(_WORD *)(a1 + 176) > *(unsigned __int16 *)(dword_8D3C24[v2]
                                                                        + 8 * *(signed __int16 *)(a1 + 604))
                                                  - 1 )
      *(_WORD *)(a1 + 176) = 0;
    if ( *(_WORD *)(a1 + 618) )
    {
      if ( *(_WORD *)(a1 + 618) == 1 )
      {
        v3 = --*(_WORD *)(a1 + 608);
        if ( v3 < 3 )
          *(_DWORD *)(a1 + 600) = 1;
        v10 = v3 * *(signed __int16 *)(a1 + 614);
        *(float *)(result + 112) = (double)(v3 * (signed int)*(signed __int16 *)(result + 612)) * 0.001
                                 + *(float *)(result + 112);
        v4 = (double)v10 * 0.001;
        *(float *)(result + 116) = v4 + *(float *)(result + 116);
        *(float *)(result + 120) = v4 + *(float *)(result + 120);
      }
    }
    else
    {
      v5 = *(_WORD *)(a1 + 610);
      *(_WORD *)(a1 + 176) = 0;
      v8 = __OFSUB__(v5, *(_WORD *)(a1 + 606));
      v6 = v5 == *(_WORD *)(a1 + 606);
      v7 = (signed __int16)(v5 - *(_WORD *)(a1 + 606)) < 0;
      *(_BYTE *)(a1 + 64) = 0;
      *(_WORD *)(a1 + 610) = v5 + 1;
      if ( !((unsigned __int8)(v7 ^ v8) | v6) )
      {
        *(_WORD *)(a1 + 618) = 1;
        *(_BYTE *)(a1 + 64) = 3;
      }
    }
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];

//----- (00413E60) --------------------------------------------------------
__int16 __cdecl sub_413E60(int a1)
{
  int v1; // esi
  __int16 v2; // dx
  unsigned __int16 v3; // di
  char v4; // cl
  int v5; // eax
  double v6; // st7
  signed int v7; // eax
  double v8; // st6
  signed int v9; // ecx
  signed int v10; // eax
  signed int v11; // eax
  signed int v12; // ecx
  signed int v13; // eax
  signed int v14; // ecx
  signed int v15; // eax
  unsigned __int8 v16; // al
  int v17; // ecx
  int v18; // eax
  int v19; // edi
  int v20; // edi
  signed __int64 v21; // rax
  signed __int64 v22; // rax
  signed __int64 v23; // rax
  signed __int64 v24; // rax
  int v25; // esi

  v1 = a1;
  ++*(_WORD *)(v1 + 176);
  v2 = *(_WORD *)(a1 + 604);
  ++*(_WORD *)(v1 + 612);
  v3 = *(_WORD *)(a1 + 176);
  if ( v2 == 1 && *(_WORD *)(a1 + 612) > 0 )
  {
    v4 = *(_BYTE *)(a1 + 173);
    *(_WORD *)(a1 + 612) = 0;
    *(_BYTE *)(a1 + 173) = v4 + 1;
    if ( (unsigned __int8)(v4 + 1) > 7u )
      *(_BYTE *)(a1 + 173) = 0;
  }
  v5 = *(_DWORD *)(a1 + 624);
  if ( v5 )
  {
    switch ( *(unsigned __int8 *)(a1 + 173) )
    {
      case 0u:
        v12 = *(signed __int16 *)(a1 + 614);
        *(float *)(a1 + 112) = *(float *)(v5 + 112) - 25.0;
        v6 = *(float *)(v5 + 120) + 10.0;
        *(float *)(a1 + 120) = v6;
        v8 = (double)v12;
        goto LABEL_15;
      case 1u:
        *(float *)(a1 + 112) = *(float *)(v5 + 112) - 30.0;
        v6 = *(float *)(v5 + 120);
        v7 = *(signed __int16 *)(a1 + 614);
        *(float *)(a1 + 120) = v6;
        v8 = (double)v7;
        goto LABEL_15;
      case 2u:
        *(float *)(a1 + 112) = *(float *)(v5 + 112) - 25.0;
        v6 = *(float *)(v5 + 120) - 10.0;
        v13 = *(signed __int16 *)(a1 + 614);
        *(float *)(a1 + 120) = v6;
        v8 = (double)v13;
        goto LABEL_15;
      case 3u:
        *(_DWORD *)(a1 + 112) = *(_DWORD *)(v5 + 112);
        v6 = *(float *)(v5 + 120) - 20.0;
        v10 = *(signed __int16 *)(a1 + 614);
        *(float *)(a1 + 120) = v6;
        v8 = (double)v10;
        goto LABEL_15;
      case 4u:
        *(float *)(a1 + 112) = *(float *)(v5 + 112) + 25.0;
        v6 = *(float *)(v5 + 120) - 10.0;
        v15 = *(signed __int16 *)(a1 + 614);
        *(float *)(a1 + 120) = v6;
        v8 = (double)v15;
        goto LABEL_15;
      case 5u:
        v9 = *(signed __int16 *)(a1 + 614);
        *(float *)(a1 + 112) = *(float *)(v5 + 112) + 30.0;
        v6 = *(float *)(v5 + 120);
        *(float *)(a1 + 120) = *(float *)(v5 + 120);
        v8 = (double)v9;
        goto LABEL_15;
      case 6u:
        v14 = *(signed __int16 *)(a1 + 614);
        *(float *)(a1 + 112) = *(float *)(v5 + 112) + 25.0;
        v6 = *(float *)(v5 + 120) + 10.0;
        *(float *)(a1 + 120) = v6;
        v8 = (double)v14;
        goto LABEL_15;
      case 7u:
        *(_DWORD *)(a1 + 112) = *(_DWORD *)(v5 + 112);
        v6 = *(float *)(v5 + 120) + 20.0;
        v11 = *(signed __int16 *)(a1 + 614);
        *(float *)(a1 + 120) = v6;
        v8 = (double)v11;
LABEL_15:
        *(float *)(a1 + 116) = v8 + v6;
        break;
      default:
        break;
    }
  }
  if ( !v2 && (v16 = *(_BYTE *)(a1 + 64), (signed __int16)*(unsigned __int8 *)(a1 + 64) > *(_WORD *)(a1 + 616))
    || v2 == 2 && (v16 = *(_BYTE *)(a1 + 64), v16 > 0u) )
  {
    *(_BYTE *)(a1 + 64) = v16 - 1;
  }
  v17 = *(_DWORD *)(a1 + 168);
  LOWORD(v18) = v2;
  if ( v3 > *(unsigned __int16 *)(dword_8D3C24[v17] + 8 * v2) - 1 )
  {
    *(_WORD *)(a1 + 176) = 0;
    if ( v2 )
    {
      if ( v2 == 1 )
      {
        LOWORD(v18) = ++*(_WORD *)(a1 + 610);
        if ( (signed __int16)v18 > *(_WORD *)(a1 + 608) )
        {
          *(_WORD *)(a1 + 604) = 2;
          if ( v17 == 1031 )
          {
            v19 = *(_DWORD *)(a1 + 628);
            if ( v19 )
            {
              sub_416860(160, (signed __int64)*(float *)(v19 + 112), (signed __int64)*(float *)(v19 + 120), 0, 0);
              LOWORD(v18) = sub_416990(159);
            }
          }
          v20 = *(_DWORD *)(a1 + 624);
          if ( v20 )
          {
            if ( *(_DWORD *)(v20 + 636) != -1 )
              *(_DWORD *)(v20 + 636) = -1;
            v18 = *(_DWORD *)(v20 + 52);
            if ( v18 == dword_131D690 || *(_DWORD *)(v20 + 68) && *(_DWORD *)(v20 + 76) )
            {
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 113;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v20 + 56);
              v21 = (signed __int64)(*(float *)(v20 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v21);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v20 + 112) * 0.025);
              v22 = (signed __int64)(*(float *)(v20 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v22);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v20 + 120) * 0.050000001);
              dword_1550B6B = *(_DWORD *)(v20 + 56);
              v23 = (signed __int64)(*(float *)(v20 + 112) * 0.025);
              byte_1550B6F = BYTE1(v23);
              byte_1550B70 = (signed __int64)(*(float *)(v20 + 112) * 0.025);
              v24 = (signed __int64)(*(float *)(v20 + 120) * 0.050000001);
              byte_1550B71 = BYTE1(v24);
              byte_1550B72 = (signed __int64)(*(float *)(v20 + 120) * 0.050000001);
              sub_42EA60(v20, &byte_1550B73);
              byte_1550B78[0] = *(_DWORD *)(a1 + 636) >> 24;
              byte_1550B79 = *(_DWORD *)(a1 + 636) >> 16;
              byte_1550B7A = *(_WORD *)(a1 + 636) >> 8;
              byte_1550B7B = *(_BYTE *)(a1 + 636);
              LOWORD(v18) = sub_479790(28);
            }
            *(_DWORD *)(v20 + 624) = 0;
          }
        }
      }
      else
      {
        LOWORD(v18) = v2 - 2;
        if ( v2 == 2 )
          LOWORD(v18) = sub_41CE40(a1);
      }
    }
    else
    {
      *(_WORD *)(a1 + 604) = 1;
      *(_WORD *)(a1 + 610) = 0;
      if ( v17 == 1031 )
      {
        v25 = *(_DWORD *)(a1 + 628);
        if ( v25 )
          LOWORD(v18) = sub_416860(
                          159,
                          (signed __int64)*(float *)(v25 + 112),
                          (signed __int64)*(float *)(v25 + 120),
                          0,
                          1);
      }
    }
  }
  return v18;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;

//----- (004142D0) --------------------------------------------------------
__int16 __cdecl sub_4142D0(int a1)
{
  int v1; // esi
  unsigned __int16 v2; // bp
  int v3; // eax
  int v4; // edi
  double v5; // st7
  __int16 v6; // cx
  unsigned __int8 v7; // al
  __int16 result; // ax
  signed __int64 v9; // rax
  signed __int64 v10; // rax
  signed __int64 v11; // rax
  signed __int64 v12; // rax
  float v13; // [esp+18h] [ebp+4h]

  v1 = a1;
  ++*(_WORD *)(v1 + 176);
  ++*(_WORD *)(v1 + 620);
  v2 = *(_WORD *)(a1 + 176);
  if ( *(_WORD *)(a1 + 620) > 0 )
  {
    v3 = *(signed __int16 *)(a1 + 612);
    *(_WORD *)(a1 + 620) = 0;
    if ( v3 )
    {
      if ( v3 == 1 && ++*(_WORD *)(a1 + 618) > *(_WORD *)(a1 + 606) )
        *(_WORD *)(a1 + 612) = 0;
    }
    else if ( (signed __int16)--*(_WORD *)(a1 + 618) < -*(signed __int16 *)(a1 + 606) )
    {
      *(_WORD *)(a1 + 612) = 1;
    }
  }
  v4 = *(_DWORD *)(a1 + 624);
  v13 = (double)*(signed __int16 *)(a1 + 618) + *(float *)(a1 + 116);
  *(float *)(v1 + 116) = v13;
  if ( v4 )
  {
    v5 = *(float *)(v1 + 120);
    *(_DWORD *)(v1 + 112) = *(_DWORD *)(v4 + 112);
    if ( v5 != *(float *)(v4 + 120) )
    {
      *(float *)(v1 + 116) = (double)(signed int)(signed __int64)(*(float *)(v4 + 120) - *(float *)(v1 + 120)) + v13;
      *(_DWORD *)(v1 + 120) = *(_DWORD *)(v4 + 120);
    }
  }
  v6 = *(_WORD *)(v1 + 604);
  if ( !v6 && (v7 = *(_BYTE *)(v1 + 64), (signed __int16)*(unsigned __int8 *)(v1 + 64) > *(_WORD *)(v1 + 616))
    || v6 == 2 && (v7 = *(_BYTE *)(v1 + 64), v7 > 0u) )
  {
    *(_BYTE *)(v1 + 64) = v7 - 1;
  }
  result = v6;
  if ( v2 > *(unsigned __int16 *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 8 * v6) - 1 )
  {
    *(_WORD *)(v1 + 176) = 0;
    if ( v6 )
    {
      if ( v6 == 1 )
      {
        result = ++*(_WORD *)(v1 + 610);
        if ( result > *(_WORD *)(v1 + 608) )
        {
          *(_WORD *)(v1 + 604) = 2;
          if ( v4 )
          {
            if ( *(_DWORD *)(v4 + 636) != -1 )
              *(_DWORD *)(v4 + 636) = -1;
            result = dword_131D690;
            if ( *(_DWORD *)(v4 + 52) == dword_131D690 || *(_DWORD *)(v4 + 68) && *(_DWORD *)(v4 + 76) )
            {
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 113;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v4 + 56);
              v9 = (signed __int64)(*(float *)(v4 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v9);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v4 + 112) * 0.025);
              v10 = (signed __int64)(*(float *)(v4 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v10);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v4 + 120) * 0.050000001);
              dword_1550B6B = *(_DWORD *)(v4 + 56);
              v11 = (signed __int64)(*(float *)(v4 + 112) * 0.025);
              byte_1550B6F = BYTE1(v11);
              byte_1550B70 = (signed __int64)(*(float *)(v4 + 112) * 0.025);
              v12 = (signed __int64)(*(float *)(v4 + 120) * 0.050000001);
              byte_1550B71 = BYTE1(v12);
              byte_1550B72 = (signed __int64)(*(float *)(v4 + 120) * 0.050000001);
              sub_42EA60(v4, &byte_1550B73);
              byte_1550B78[0] = *(_DWORD *)(v1 + 636) >> 24;
              byte_1550B79 = *(_DWORD *)(v1 + 636) >> 16;
              byte_1550B7A = *(_WORD *)(v1 + 636) >> 8;
              byte_1550B7B = *(_BYTE *)(v1 + 636);
              result = sub_479790(28);
            }
            *(_DWORD *)(v4 + 624) = 0;
          }
        }
      }
      else
      {
        result = v6 - 2;
        if ( v6 == 2 )
          result = sub_41CE40(v1);
      }
    }
    else
    {
      *(_WORD *)(v1 + 604) = 1;
      *(_WORD *)(v1 + 610) = 0;
    }
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;

//----- (004145D0) --------------------------------------------------------
signed int __cdecl sub_4145D0(int a1)
{
  int v1; // edx
  signed int result; // eax
  __int16 v3; // cx
  __int16 v4; // cx
  bool v5; // zf
  bool v6; // sf
  unsigned __int8 v7; // of
  int *v8; // esi
  int v9; // ebp
  signed int v10; // [esp+0h] [ebp-4h]

  v1 = rand() % 10;
  result = a1;
  LOWORD(v1) = *(_WORD *)(a1 + 612) + v1;
  ++*(_WORD *)(result + 608);
  v3 = *(_WORD *)(a1 + 608);
  *(_WORD *)(a1 + 176) = v1;
  if ( v3 <= 9 )
  {
    if ( v3 == 1 )
    {
      v10 = 1;
      if ( dword_1317E74 - 1 > 1 )
      {
        v8 = &dword_49DA24;
        do
        {
          v9 = *v8;
          if ( *(_BYTE *)(*v8 + 48) == 2
            && (signed __int64)*(float *)(v9 + 112) / 40 == (signed __int64)*(float *)(a1 + 112) / 40
            && (signed __int64)*(float *)(v9 + 120) / 20 == (signed __int64)*(float *)(a1 + 120) / 20 )
          {
            sub_423330(*v8);
            *(_BYTE *)(*v8 + 174) = 11;
            *(_DWORD *)(*v8 + 600) = 1;
            *(_WORD *)(*v8 + 176) = 0;
            sub_41C960((signed __int64)*(float *)(*v8 + 112), (signed __int64)*(float *)(*v8 + 120));
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = *v8;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1022;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            sub_416860(
              175,
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
              0,
              0);
          }
          result = v10 + 1;
          ++v8;
          v10 = result;
        }
        while ( result < dword_1317E74 - 1 );
      }
    }
  }
  else
  {
    v4 = ++*(_WORD *)(a1 + 606);
    v7 = __OFSUB__(v4, *(_WORD *)(a1 + 610));
    v5 = v4 == *(_WORD *)(a1 + 610);
    v6 = (signed __int16)(v4 - *(_WORD *)(a1 + 610)) < 0;
    *(_WORD *)(a1 + 608) = 0;
    if ( !((unsigned __int8)(v6 ^ v7) | v5) )
      result = sub_41CE40(a1);
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 49DA24: using guessed type int dword_49DA24;
// 1317E74: using guessed type int dword_1317E74;

//----- (00414850) --------------------------------------------------------
signed int __cdecl sub_414850(int a1)
{
  signed int result; // eax
  unsigned __int8 v2; // dl
  int v3; // edx

  result = a1;
  if ( *(_WORD *)(a1 + 610) )
  {
    if ( *(_WORD *)(a1 + 610) == 1 )
    {
      v2 = *(_BYTE *)(a1 + 184) + 1;
      *(_BYTE *)(a1 + 184) = v2;
      if ( v2 > 0x1Eu )
        result = sub_41CE40(a1);
    }
  }
  else
  {
    v3 = *(_DWORD *)(a1 + 168);
    if ( (unsigned __int16)++*(_WORD *)(a1 + 176) >= *(unsigned __int16 *)(dword_8D3C24[v3]
                                                                         + 8 * *(signed __int16 *)(a1 + 604))
                                                   - 1 )
      *(_WORD *)(a1 + 610) = 1;
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];

//----- (004148D0) --------------------------------------------------------
signed int __cdecl sub_4148D0(int a1)
{
  int v1; // edi
  double v2; // st7
  signed int result; // eax
  int v4; // ecx

  v1 = *(_DWORD *)(a1 + 624);
  if ( v1 )
  {
    v2 = *(float *)(a1 + 116) - *(float *)(a1 + 120);
    *(_DWORD *)(a1 + 112) = *(_DWORD *)(v1 + 112);
    *(_DWORD *)(a1 + 120) = *(_DWORD *)(v1 + 120);
    *(float *)(a1 + 116) = (double)(signed int)(signed __int64)v2 + *(float *)(v1 + 120);
  }
  result = byte_13225E8;
  switch ( byte_13225E8 )
  {
    case 0:
      goto LABEL_14;
    case 1:
      result = -1005191168;
      *(_DWORD *)(a1 + 112) = -1001914368;
      *(_DWORD *)(a1 + 120) = -1005191168;
      *(_DWORD *)(a1 + 116) = -1005191168;
      break;
    case 2:
      *(_WORD *)(a1 + 604) = 1;
      if ( *((_BYTE *)dword_13307A0
           + (signed __int64)(*((float *)(&lpString)[dword_131D690] + 28) * 0.025)
           - dword_1540B4C
           * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_131D690] + 30) * -0.050000001)) )
        *(_WORD *)(a1 + 176) += 3;
      else
        ++*(_WORD *)(a1 + 176);
      result = dword_8D3C24[*(_DWORD *)(a1 + 168)];
      if ( *(unsigned __int16 *)(a1 + 176) > *(unsigned __int16 *)(result + 8) - 1 )
        *(_WORD *)(a1 + 176) = 0;
      break;
    case 3:
      if ( *(_WORD *)(a1 + 604) == 1 )
        *(_WORD *)(a1 + 176) = 0;
      v4 = *(_DWORD *)(a1 + 168);
      LOWORD(result) = ++*(_WORD *)(a1 + 176);
      *(_WORD *)(a1 + 604) = 2;
      result = (unsigned __int16)result;
      if ( (unsigned __int16)result > *(unsigned __int16 *)(dword_8D3C24[v4] + 16) - 1 )
      {
        byte_13225E8 = 0;
LABEL_14:
        result = sub_41CE40(a1);
      }
      break;
    default:
      return result;
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 13225E8: using guessed type char byte_13225E8;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (00414A30) --------------------------------------------------------
void __cdecl sub_414A30(int a1)
{
  int v1; // esi
  double v2; // st7
  double v3; // st7
  int v4; // edi
  int v5; // ebx
  signed __int64 v6; // rax
  signed __int64 v7; // rax
  signed __int64 v8; // rax
  signed __int64 v9; // rax
  __int16 v10; // ax
  float v11; // [esp+18h] [ebp+4h]

  v1 = a1;
  if ( *(_DWORD *)(a1 + 600) )
  {
    v10 = *(_WORD *)(a1 + 606);
    *(_WORD *)(a1 + 606) = v10 + 1;
    if ( v10 > 20 )
      sub_41CE40(a1);
  }
  else
  {
    if ( *(unsigned __int16 *)(a1 + 176) < *(unsigned __int16 *)dword_8D3C24[*(_DWORD *)(a1 + 168)] - 1 )
      ++*(_WORD *)(a1 + 176);
    if ( ++*(_WORD *)(a1 + 606) > *(_WORD *)(a1 + 608) )
    {
      *(_WORD *)(a1 + 614) += 2;
      *(_WORD *)(a1 + 606) = 0;
    }
    v11 = (double)*(signed __int16 *)(a1 + 610) + *(float *)(a1 + 112);
    v2 = (double)*(signed __int16 *)(v1 + 614);
    *(float *)(v1 + 112) = v11;
    v3 = v2 + *(float *)(v1 + 116);
    *(float *)(v1 + 116) = v3;
    if ( v3 >= *(float *)(v1 + 120) - 10.0 )
    {
      v4 = *(_DWORD *)(v1 + 628);
      *(_DWORD *)(v1 + 600) = 1;
      *(_WORD *)(v1 + 606) = 0;
      if ( v4 )
      {
        if ( (unsigned int)(signed __int64)(*(float *)(v4 + 112) * 0.025) == (unsigned int)(signed __int64)(v11 * 0.025)
          && (unsigned int)(signed __int64)(*(float *)(v4 + 120) * 0.050000001) == (unsigned int)(signed __int64)(*(float *)(v1 + 120) * 0.050000001)
          && *(_WORD *)(v1 + 618) == 1 )
        {
          v5 = *(_DWORD *)(v1 + 624);
          if ( v5 )
          {
            if ( *(_DWORD *)(v5 + 52) == dword_131D690 )
            {
              if ( *(_DWORD *)(v4 + 68)
                && !*(_DWORD *)(v4 + 80)
                && !*(_DWORD *)(v4 + 76)
                && !*(_DWORD *)(v4 + 92)
                && *(_DWORD *)(v4 + 168) < 0xDCu )
              {
                sub_46FC00(v4, (int)(&lpString)[dword_131D690]);
              }
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 21;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v5 + 56);
              v6 = (signed __int64)(*(float *)(v5 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v6);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v5 + 112) * 0.025);
              v7 = (signed __int64)(*(float *)(v5 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v7);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v5 + 120) * 0.050000001);
              dword_1550B6B = *(_DWORD *)(v4 + 56);
              v8 = (signed __int64)(*(float *)(v4 + 112) * 0.025);
              byte_1550B6F = BYTE1(v8);
              byte_1550B70 = (signed __int64)(*(float *)(v4 + 112) * 0.025);
              v9 = (signed __int64)(*(float *)(v4 + 120) * 0.050000001);
              byte_1550B71 = BYTE1(v9);
              byte_1550B72 = (signed __int64)(*(float *)(v4 + 120) * 0.050000001);
              sub_42EA60(v5, &byte_1550B73);
              sub_42EA60(v4, byte_1550B78);
              BYTE1(dword_1550B7C) = *(_DWORD *)(v1 + 636) >> 24;
              BYTE2(dword_1550B7C) = *(_DWORD *)(v1 + 636) >> 16;
              HIBYTE(dword_1550B7C) = *(_WORD *)(v1 + 636) >> 8;
              byte_1550B80 = *(_BYTE *)(v1 + 636);
              sub_479790(33);
              sub_464F70(v4, *(_DWORD *)(v1 + 636));
            }
          }
        }
      }
    }
  }
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;
// 1550B81: using guessed type char byte_1550B81;

//----- (00414D20) --------------------------------------------------------
void __cdecl sub_414D20(int a1)
{
  int v1; // esi
  int v2; // ebp
  unsigned __int16 v3; // bx
  __int16 v4; // ax
  double v5; // st7
  int v6; // edi
  __int16 v7; // cx
  double v8; // st7
  char v9; // al
  int v10; // edx
  int v11; // edi
  signed __int64 v12; // rax
  signed __int64 v13; // rax
  signed __int64 v14; // rax
  signed __int64 v15; // rax
  signed int v16; // [esp+14h] [ebp+4h]

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 624);
  if ( v2 )
  {
    v3 = ++*(_WORD *)(a1 + 176);
    if ( v2 )
    {
      *(_WORD *)(a1 + 612) += *(_WORD *)(a1 + 618);
      v4 = *(_WORD *)(a1 + 612);
      if ( v4 > 39 )
        *(_WORD *)(a1 + 612) = v4 - 40;
      v5 = (double)*(signed __int16 *)(a1 + 614);
      v6 = 8 * *(signed __int16 *)(a1 + 612);
      *(float *)(a1 + 112) = (double)(signed int)(signed __int64)(v5 * dbl_8D09A0[*(signed __int16 *)(a1 + 612)])
                           + *(float *)(v2 + 112);
      v7 = *(_WORD *)(a1 + 604);
      v16 = *(signed __int16 *)(a1 + 620);
      v8 = (double)(signed int)(signed __int64)(v5 * *(double *)(v6 + 18864872) * 0.5) + *(float *)(v2 + 120);
      *(float *)(v1 + 120) = v8;
      *(float *)(v1 + 116) = (double)v16 + v8;
      if ( !v7 && (v9 = *(_BYTE *)(v1 + 64), (signed __int16)*(unsigned __int8 *)(v1 + 64) > *(_WORD *)(v1 + 616))
        || v7 == 2 && (v9 = *(_BYTE *)(v1 + 64)) != 0 )
      {
        *(_BYTE *)(v1 + 64) = v9 - 1;
      }
      v10 = *(_DWORD *)(v1 + 168);
      if ( v3 > *(unsigned __int16 *)(dword_8D3C24[v10] + 8 * v7) - 1 )
      {
        *(_WORD *)(v1 + 176) = 0;
        if ( v7 )
        {
          if ( v7 == 1 )
          {
            ++*(_WORD *)(v1 + 610);
            if ( v10 == 1068 )
              sub_416860(167, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
            if ( *(_WORD *)(v1 + 610) > *(_WORD *)(v1 + 608) )
            {
              if ( *(_DWORD *)(v1 + 168) == 1035 )
              {
                sub_416860(163, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
                sub_416990(162);
              }
              else if ( *(_DWORD *)(v1 + 168) == 1068 )
              {
                sub_416860(160, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
              }
              v11 = *(_DWORD *)(v1 + 624);
              *(_WORD *)(v1 + 604) = 2;
              if ( v11 && *(_DWORD *)(v11 + 636) != -1 && *(_DWORD *)(v1 + 636) != -1 )
              {
                *(_DWORD *)(v1 + 636) = -1;
                if ( *(_DWORD *)(v11 + 52) == dword_131D690 || *(_DWORD *)(v11 + 68) && *(_DWORD *)(v11 + 76) )
                {
                  byte_1550B60[0] = -9;
                  byte_1550B61[0] = 113;
                  LOBYTE(dword_1550B62) = 113;
                  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v11 + 56);
                  v12 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
                  LOBYTE(dword_1550B67) = BYTE1(v12);
                  BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v11 + 112) * 0.025);
                  v13 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
                  BYTE2(dword_1550B67) = BYTE1(v13);
                  HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
                  dword_1550B6B = *(_DWORD *)(v11 + 56);
                  v14 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
                  byte_1550B6F = BYTE1(v14);
                  byte_1550B70 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
                  v15 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
                  byte_1550B71 = BYTE1(v15);
                  byte_1550B72 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
                  sub_42EA60(v11, &byte_1550B73);
                  byte_1550B78[0] = *(_DWORD *)(v11 + 636) >> 24;
                  byte_1550B79 = *(_DWORD *)(v11 + 636) >> 16;
                  byte_1550B7A = *(_WORD *)(v11 + 636) >> 8;
                  byte_1550B7B = *(_BYTE *)(v11 + 636);
                  sub_479790(28);
                }
                *(_DWORD *)(v11 + 624) = 0;
                *(_DWORD *)(v11 + 636) = -1;
              }
            }
          }
          else if ( v7 == 2 )
          {
            sub_41CE40(v1);
          }
        }
        else
        {
          *(_WORD *)(v1 + 604) = 1;
          *(_WORD *)(v1 + 610) = 0;
          if ( v10 == 1035 )
            sub_416860(162, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 1);
        }
      }
    }
  }
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;

//----- (004150C0) --------------------------------------------------------
void __cdecl sub_4150C0(int a1)
{
  int v1; // esi
  int v2; // ebp
  unsigned __int16 v3; // bx
  __int16 v4; // ax
  double v5; // st7
  int v6; // edi
  signed __int64 v7; // rax
  __int16 v8; // dx
  double v9; // st7
  char v10; // al
  int v11; // ecx
  int v12; // edi
  signed __int64 v13; // rax
  signed __int64 v14; // rax
  signed __int64 v15; // rax
  signed __int64 v16; // rax
  signed int v17; // [esp+14h] [ebp+4h]

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 624);
  if ( v2 )
  {
    v3 = ++*(_WORD *)(a1 + 176);
    if ( v2 )
    {
      *(_WORD *)(a1 + 612) += *(_WORD *)(a1 + 618);
      v4 = *(_WORD *)(a1 + 612);
      if ( v4 > 39 )
        *(_WORD *)(a1 + 612) = v4 - 40;
      if ( *(_BYTE *)(a1 + 97) )
      {
        *(_WORD *)(a1 + 606) -= 2;
        if ( *(_WORD *)(a1 + 606) < *(_WORD *)(a1 + 620) )
          *(_BYTE *)(a1 + 97) = 0;
      }
      else
      {
        *(_WORD *)(a1 + 606) += 2;
        if ( *(_WORD *)(a1 + 606) > 0 )
        {
          *(_WORD *)(a1 + 606) = 0;
          *(_BYTE *)(a1 + 97) = 1;
        }
      }
      v5 = (double)*(signed __int16 *)(a1 + 614);
      v6 = 8 * *(signed __int16 *)(a1 + 612);
      *(float *)(a1 + 112) = (double)(signed int)(signed __int64)(v5 * dbl_8D09A0[*(signed __int16 *)(a1 + 612)])
                           + *(float *)(v2 + 112);
      v7 = (signed __int64)(v5 * *(double *)(v6 + 18864872) * 0.5);
      v17 = *(signed __int16 *)(a1 + 606);
      v8 = *(_WORD *)(v1 + 604);
      v9 = (double)(signed int)v7 + *(float *)(v2 + 120);
      *(float *)(v1 + 120) = v9;
      *(float *)(v1 + 116) = (double)v17 + v9;
      if ( !v8 && (v10 = *(_BYTE *)(v1 + 64), (signed __int16)*(unsigned __int8 *)(v1 + 64) > *(_WORD *)(v1 + 616))
        || v8 == 2 && (v10 = *(_BYTE *)(v1 + 64)) != 0 )
      {
        *(_BYTE *)(v1 + 64) = v10 - 1;
      }
      v11 = *(_DWORD *)(v1 + 168);
      if ( v3 > *(unsigned __int16 *)(dword_8D3C24[v11] + 8 * v8) - 1 )
      {
        *(_WORD *)(v1 + 176) = 0;
        if ( v8 )
        {
          if ( v8 == 1 )
          {
            ++*(_WORD *)(v1 + 610);
            if ( v11 == 1068 )
              sub_416860(167, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
            if ( *(_WORD *)(v1 + 610) > *(_WORD *)(v1 + 608) )
            {
              if ( *(_DWORD *)(v1 + 168) == 1035 )
              {
                sub_416860(163, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
                sub_416990(162);
              }
              else if ( *(_DWORD *)(v1 + 168) == 1068 )
              {
                sub_416860(160, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
              }
              v12 = *(_DWORD *)(v1 + 624);
              *(_WORD *)(v1 + 604) = 2;
              if ( v12 && *(_DWORD *)(v12 + 636) != -1 && *(_DWORD *)(v1 + 636) != -1 )
              {
                *(_DWORD *)(v1 + 636) = -1;
                if ( *(_DWORD *)(v12 + 52) == dword_131D690 || *(_DWORD *)(v12 + 68) && *(_DWORD *)(v12 + 76) )
                {
                  byte_1550B60[0] = -9;
                  byte_1550B61[0] = 113;
                  LOBYTE(dword_1550B62) = 113;
                  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v12 + 56);
                  v13 = (signed __int64)(*(float *)(v12 + 112) * 0.025);
                  LOBYTE(dword_1550B67) = BYTE1(v13);
                  BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v12 + 112) * 0.025);
                  v14 = (signed __int64)(*(float *)(v12 + 120) * 0.050000001);
                  BYTE2(dword_1550B67) = BYTE1(v14);
                  HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v12 + 120) * 0.050000001);
                  dword_1550B6B = *(_DWORD *)(v12 + 56);
                  v15 = (signed __int64)(*(float *)(v12 + 112) * 0.025);
                  byte_1550B6F = BYTE1(v15);
                  byte_1550B70 = (signed __int64)(*(float *)(v12 + 112) * 0.025);
                  v16 = (signed __int64)(*(float *)(v12 + 120) * 0.050000001);
                  byte_1550B71 = BYTE1(v16);
                  byte_1550B72 = (signed __int64)(*(float *)(v12 + 120) * 0.050000001);
                  sub_42EA60(v12, &byte_1550B73);
                  byte_1550B78[0] = *(_DWORD *)(v12 + 636) >> 24;
                  byte_1550B79 = *(_DWORD *)(v12 + 636) >> 16;
                  byte_1550B7A = *(_WORD *)(v12 + 636) >> 8;
                  byte_1550B7B = *(_BYTE *)(v12 + 636);
                  sub_479790(28);
                }
                *(_DWORD *)(v12 + 624) = 0;
                *(_DWORD *)(v12 + 636) = -1;
              }
            }
          }
          else if ( v8 == 2 )
          {
            sub_41CE40(v1);
          }
        }
        else
        {
          *(_WORD *)(v1 + 604) = 1;
          *(_WORD *)(v1 + 610) = 0;
          if ( v11 == 1035 )
            sub_416860(162, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 1);
        }
      }
    }
  }
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;

//----- (004154B0) --------------------------------------------------------
void __cdecl sub_4154B0(int a1)
{
  int v1; // esi
  int v2; // ebp
  unsigned __int16 v3; // bx
  __int16 v4; // ax
  double v5; // st7
  int v6; // edi
  __int16 v7; // cx
  double v8; // st7
  char v9; // al
  int v10; // eax
  int v11; // edi
  signed __int64 v12; // rax
  signed __int64 v13; // rax
  signed __int64 v14; // rax
  signed __int64 v15; // rax
  signed int v16; // [esp+14h] [ebp+4h]

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 624);
  if ( v2 )
  {
    v3 = ++*(_WORD *)(a1 + 176);
    if ( v2 )
    {
      *(_WORD *)(a1 + 612) += *(_WORD *)(a1 + 618);
      v4 = *(_WORD *)(a1 + 612);
      if ( v4 > 39 )
        *(_WORD *)(a1 + 612) = v4 - 40;
      if ( *(_BYTE *)(a1 + 97) )
      {
        if ( --*(_WORD *)(a1 + 606) < 30 )
          *(_BYTE *)(a1 + 97) = 0;
      }
      else if ( ++*(_WORD *)(a1 + 606) > *(_WORD *)(a1 + 614) )
      {
        *(_BYTE *)(a1 + 97) = 1;
      }
      v5 = (double)*(signed __int16 *)(a1 + 606);
      v6 = 8 * *(signed __int16 *)(a1 + 612);
      *(float *)(a1 + 112) = (double)(signed int)(signed __int64)(v5 * dbl_8D09A0[*(signed __int16 *)(a1 + 612)])
                           + *(float *)(v2 + 112);
      v7 = *(_WORD *)(a1 + 604);
      v16 = *(signed __int16 *)(a1 + 620);
      v8 = (double)(signed int)(signed __int64)(v5 * *(double *)(v6 + 18864872) * 0.5) + *(float *)(v2 + 120);
      *(float *)(v1 + 120) = v8;
      *(float *)(v1 + 116) = (double)v16 + v8;
      if ( !v7 && (v9 = *(_BYTE *)(v1 + 64), (signed __int16)*(unsigned __int8 *)(v1 + 64) > *(_WORD *)(v1 + 616))
        || v7 == 2 && (v9 = *(_BYTE *)(v1 + 64)) != 0 )
      {
        *(_BYTE *)(v1 + 64) = v9 - 1;
      }
      v10 = *(_DWORD *)(v1 + 168);
      if ( v3 > *(unsigned __int16 *)(dword_8D3C24[v10] + 8 * v7) - 1 )
      {
        *(_WORD *)(v1 + 176) = 0;
        if ( *(_BYTE *)(v1 + 98) )
        {
          if ( *(_BYTE *)(v1 + 98) == 1 )
          {
            ++*(_WORD *)(v1 + 610);
            if ( v10 == 1068 )
              sub_416860(167, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
            if ( *(_WORD *)(v1 + 610) > *(_WORD *)(v1 + 608) )
            {
              if ( *(_DWORD *)(v1 + 168) == 1035 )
              {
                sub_416860(163, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
                sub_416990(162);
              }
              else if ( *(_DWORD *)(v1 + 168) == 1068 )
              {
                sub_416860(160, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 0);
              }
              if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(v1 + 168)] + 8) )
                *(_WORD *)(v1 + 604) = 2;
              v11 = *(_DWORD *)(v1 + 624);
              *(_BYTE *)(v1 + 98) = 2;
              if ( v11 && *(_DWORD *)(v11 + 636) != -1 && *(_DWORD *)(v1 + 636) != -1 )
              {
                *(_DWORD *)(v1 + 636) = -1;
                if ( *(_DWORD *)(v11 + 52) == dword_131D690 || *(_DWORD *)(v11 + 68) && *(_DWORD *)(v11 + 76) )
                {
                  byte_1550B60[0] = -9;
                  byte_1550B61[0] = 113;
                  LOBYTE(dword_1550B62) = 113;
                  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v11 + 56);
                  v12 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
                  LOBYTE(dword_1550B67) = BYTE1(v12);
                  BYTE1(dword_1550B67) = (signed __int64)(*(float *)(v11 + 112) * 0.025);
                  v13 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
                  BYTE2(dword_1550B67) = BYTE1(v13);
                  HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
                  dword_1550B6B = *(_DWORD *)(v11 + 56);
                  v14 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
                  byte_1550B6F = BYTE1(v14);
                  byte_1550B70 = (signed __int64)(*(float *)(v11 + 112) * 0.025);
                  v15 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
                  byte_1550B71 = BYTE1(v15);
                  byte_1550B72 = (signed __int64)(*(float *)(v11 + 120) * 0.050000001);
                  sub_42EA60(v11, &byte_1550B73);
                  byte_1550B78[0] = *(_DWORD *)(v11 + 636) >> 24;
                  byte_1550B79 = *(_DWORD *)(v11 + 636) >> 16;
                  byte_1550B7A = *(_WORD *)(v11 + 636) >> 8;
                  byte_1550B7B = *(_BYTE *)(v11 + 636);
                  sub_479790(28);
                }
                *(_DWORD *)(v11 + 624) = 0;
                *(_DWORD *)(v11 + 636) = -1;
              }
            }
          }
          else if ( *(_BYTE *)(v1 + 98) == 2 )
          {
            sub_41CE40(v1);
          }
        }
        else
        {
          if ( *(_WORD *)(dword_8D3C24[v10] + 8) )
            *(_WORD *)(v1 + 604) = 1;
          *(_BYTE *)(v1 + 98) = 1;
          *(_WORD *)(v1 + 610) = 0;
          if ( v10 == 1035 )
            sub_416860(162, (signed __int64)*(float *)(v1 + 112), (signed __int64)*(float *)(v1 + 120), 0, 1);
        }
      }
    }
  }
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;

//----- (004158C0) --------------------------------------------------------
signed int __cdecl sub_4158C0(HWND a1)
{
  signed int result; // eax

  if ( sub_415940(a1) )
  {
    if ( sub_415C70() )
    {
      result = 1;
      dword_49CFE0 = 1;
    }
    else
    {
      sub_415B40();
      dword_49CFE0 = 0;
      result = 1;
    }
  }
  else
  {
    sub_415B40();
    dword_49CFE0 = 0;
    result = 0;
  }
  return result;
}
// 49CFE0: using guessed type int dword_49CFE0;

//----- (00415920) --------------------------------------------------------
void sub_415920()
{
  if ( dword_49CFE0 )
  {
    sub_416950();
    sub_415D80();
    sub_415B40();
    CoUninitialize();
  }
}
// 49CFE0: using guessed type int dword_49CFE0;

//----- (00415940) --------------------------------------------------------
signed int __cdecl sub_415940(HWND a1)
{
  int v2; // [esp+30h] [ebp-28h]
  int v3; // [esp+34h] [ebp-24h]
  int v4; // [esp+38h] [ebp-20h]
  int v5; // [esp+3Ch] [ebp-1Ch]
  int v6; // [esp+40h] [ebp-18h]
  int v7; // [esp+44h] [ebp-14h]
  int v8; // [esp+48h] [ebp-10h]
  int v9; // [esp+4Ch] [ebp-Ch]
  int v10; // [esp+50h] [ebp-8h]
  int v11; // [esp+54h] [ebp-4h]

  if ( DirectSoundCreate(0, &dword_48FE2C, 0) < 0 )
    return 0;
  if ( dword_48FE2C->lpVtbl->SetCooperativeLevel(dword_48FE2C, a1, 2) < 0 )
    return 0;
  v7 = 20;
  v9 = 0;
  v8 = 131089;
  v10 = 0;
  v11 = 0;
  if ( dword_48FE2C->lpVtbl->CreateSoundBuffer(
         dword_48FE2C,
         (LPCDSBUFFERDESC)&v7,
         (LPDIRECTSOUNDBUFFER *)&dword_48FE7C,
         0) < 0 )
    return 0;
  if ( (**(int (__stdcall ***)(int, void *, int *))dword_48FE7C)(dword_48FE7C, &unk_4833A0, &dword_48FE30) < 0 )
    return 0;
  dword_48FE38 = 64;
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)dword_48FE30 + 12))(dword_48FE30, &dword_48FE38);
  v2 = 131073;
  v3 = 44100;
  LOWORD(v6) = 0;
  v5 = 1048580;
  v4 = 176400;
  if ( (*(int (__stdcall **)(int, int *))(*(_DWORD *)dword_48FE7C + 56))(dword_48FE7C, &v2) < 0 )
    return 0;
  if ( dword_48FE7C )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_48FE7C + 8))(dword_48FE7C);
  if ( (*(int (__stdcall **)(int, signed int, signed int))(*(_DWORD *)dword_48FE30 + 48))(dword_48FE30, 1065353216, 1) )
    sub_4169B0(aDirectsoundSet, Caption, 0x40000);
  if ( (*(int (__stdcall **)(int, _DWORD, _DWORD, _DWORD, signed int))(*(_DWORD *)dword_48FE30 + 56))(
         dword_48FE30,
         0,
         0,
         0,
         1) )
  {
    sub_4169B0(aDirectsoundSet_0, Caption, 0x40000);
  }
  if ( (*(int (__stdcall **)(int, signed int, signed int))(*(_DWORD *)dword_48FE30 + 60))(dword_48FE30, 1065353216, 1) )
    sub_4169B0(aDirectsoundSet_0, Caption, 0x40000);
  if ( (*(int (__stdcall **)(int))(*(_DWORD *)dword_48FE30 + 68))(dword_48FE30) )
    sub_4169B0(aDirectsoundSet_0, Caption, 0x40000);
  return 1;
}
// 48FE30: using guessed type int dword_48FE30;
// 48FE38: using guessed type int dword_48FE38;
// 48FE7C: using guessed type int dword_48FE7C;

//----- (00415B40) --------------------------------------------------------
LPDIRECTSOUND sub_415B40()
{
  LPDIRECTSOUND result; // eax

  if ( dword_48FE30 )
    (*(void (__stdcall **)(int))(*(_DWORD *)dword_48FE30 + 8))(dword_48FE30);
  result = dword_48FE2C;
  if ( dword_48FE2C )
    result = (LPDIRECTSOUND)dword_48FE2C->lpVtbl->Release(dword_48FE2C);
  return result;
}
// 48FE30: using guessed type int dword_48FE30;

//----- (00415B60) --------------------------------------------------------
signed int __cdecl sub_415B60(signed int a1)
{
  _DWORD *v2; // edi
  signed int v3; // eax

  if ( a1 >= 64 )
  {
    if ( !sub_415DB0((void **)(4 * a1 + 4784544), (int *)dword_48FE2C, (const char *)(260 * a1 + 4785344)) )
    {
      dword_4901A0[a1] = 0;
      sub_415D80();
      return 0;
    }
    v2 = (_DWORD *)(4 * a1 + 4782792);
    if ( !sub_416090((_DWORD *)dword_4901A0[a1], v2, (int *)(4 * a1 + 4783744)) )
    {
      sub_415D80();
      return 0;
    }
  }
  else
  {
    if ( !sub_415F20((void **)(4 * a1 + 4784544), (int *)dword_48FE2C, (const char *)(260 * a1 + 4785344)) )
    {
      dword_4901A0[a1] = 0;
      sub_415D80();
      return 0;
    }
    v2 = (_DWORD *)(4 * a1 + 4782792);
    if ( !sub_4160E0((_DWORD *)dword_4901A0[a1], v2) )
    {
      sub_415D80();
      return 0;
    }
  }
  (*(void (__stdcall **)(_DWORD, _DWORD))(*(_DWORD *)*v2 + 60))(*v2, 0);
  v3 = dword_48FE28;
  if ( dword_48FE28 < a1 )
  {
    v3 = a1;
    dword_48FE28 = a1;
  }
  if ( v3 > 200 )
    sub_4169B0(&byte_486284, aDirectSound, 0);
  return 1;
}
// 48FE28: using guessed type int dword_48FE28;

//----- (00415C70) --------------------------------------------------------
signed int sub_415C70()
{
  FILE *v0; // esi
  FILE *file1; // ebx
  int file1exist; // eax
  int v3; // edi
  int v4; // esi
  char *v5; // ebp
  signed int v6; // esi
  signed int result; // eax
  char v8; // [esp+8h] [ebp-104h]

  dword_48FE28 = 0;
  v0 = sub_41BC40(aWorkdataDat);
  file1 = fopen(aWorksDat, aRb);
  file1exist = sub_41BD00(aWaveNam, (int)v0);
  if ( file1exist == -1 )
  {
    fclose(file1);
    result = 0;
  }
  else
  {
    fseek(file1, *((_DWORD *)dword_8D0AE0[file1exist] + 13), 0);
    fscanf(file1, aS_8, &v8);
    v3 = atoi(&v8);
    v4 = 0;
    if ( v3 > 0 )
    {
      v5 = byte_4904C0;
      do
      {
        if ( fscanf(file1, aS_8, &v8) == -1 )
          break;
        sprintf(v5, aSoundsS, &v8);
        ++v4;
        v5 += 260;
      }
      while ( v4 < v3 );
    }
    fclose(file1);
    dword_48FE78 = v3;
    v6 = 24;
    do
    {
      if ( v6 < 32 || v6 > 35 )
        sub_416700(v6, 50);
      ++v6;
    }
    while ( v6 < 56 );
    result = 1;
  }
  return result;
}
// 48FE28: using guessed type int dword_48FE28;
// 48FE78: using guessed type int dword_48FE78;

//----- (00415D80) --------------------------------------------------------
void sub_415D80()
{
  void **v0; // esi

  v0 = (void **)dword_4901A0;
  do
  {
    if ( *v0 )
      sub_416100(*v0);
    ++v0;
  }
  while ( (signed int)v0 < (signed int)byte_4904C0 );
}

//----- (00415DB0) --------------------------------------------------------
signed int __cdecl sub_415DB0(void **a1, int *a2, const char *a3)
{
  unsigned int *v3; // ebx
  char *v4; // edx
  int v5; // edx
  HMMIO__ hmmio; // [esp+10h] [ebp-18h]
  int v8; // [esp+14h] [ebp-14h]
  int v9; // [esp+18h] [ebp-10h]
  int v10; // [esp+1Ch] [ebp-Ch]
  int v11; // [esp+20h] [ebp-8h]
  char v12[4]; // [esp+24h] [ebp-4h]

  v9 = 0;
  v10 = 0;
  v11 = 0;
  v8 = 0;
  *(_DWORD *)v12 = 0;
  strcpy(byte_6BE2A0, (const char *)&unk_4862D8);
  hmmio.unused = 0;
  v3 = (unsigned int *)sub_41BAF0(0xCu);
  *a1 = v3;
  *v3 = 0;
  v3[1] = 0;
  v3[2] = 0;
  v4 = (char *)sub_41BAF0(strlen(a3) + 1);
  v3[1] = (unsigned int)v4;
  if ( !v4 )
    goto LABEL_12;
  strcpy(v4, a3);
  if ( sub_4165B0((LPSTR)v3[1], (int)&v10, (unsigned int)v12, &hmmio)
    || (v5 = *a2,
        v8 = 20,
        v9 = 65682,
        (*(int (__stdcall **)(int *, int *, unsigned int *, _DWORD))(v5 + 12))(a2, &v8, v3, 0)) )
  {
LABEL_11:
    sub_41BB80((void *)v3[1]);
    v3[1] = 0;
LABEL_12:
    sub_41BB80(*a1);
    *a1 = 0;
    return 0;
  }
  if ( !sub_416190(*v3, (char *)hmmio.unused, v10) )
  {
    if ( hmmio.unused )
    {
      sub_41BB80((void *)hmmio.unused);
      hmmio.unused = 0;
    }
    (*(void (__stdcall **)(unsigned int))(*(_DWORD *)*v3 + 8))(*v3);
    *v3 = 0;
    goto LABEL_11;
  }
  v3[2] = (unsigned int)a2;
  if ( hmmio.unused )
    sub_41BB80((void *)hmmio.unused);
  return 1;
}

//----- (00415F20) --------------------------------------------------------
signed int __cdecl sub_415F20(void **a1, int *a2, const char *a3)
{
  unsigned int *v3; // ebx
  char *v4; // edx
  int v5; // edx
  HMMIO__ hmmio; // [esp+10h] [ebp-18h]
  int v8; // [esp+14h] [ebp-14h]
  int v9; // [esp+18h] [ebp-10h]
  int v10; // [esp+1Ch] [ebp-Ch]
  int v11; // [esp+20h] [ebp-8h]
  char v12[4]; // [esp+24h] [ebp-4h]

  v9 = 0;
  v10 = 0;
  v11 = 0;
  v8 = 0;
  *(_DWORD *)v12 = 0;
  strcpy(byte_6BE2A0, (const char *)&unk_4862D8);
  hmmio.unused = 0;
  v3 = (unsigned int *)sub_41BAF0(0xCu);
  *a1 = v3;
  *v3 = 0;
  v3[1] = 0;
  v3[2] = 0;
  v4 = (char *)sub_41BAF0(strlen(a3) + 1);
  v3[1] = (unsigned int)v4;
  if ( !v4 )
    goto LABEL_12;
  strcpy(v4, a3);
  if ( sub_4165B0((LPSTR)v3[1], (int)&v10, (unsigned int)v12, &hmmio)
    || (v5 = *a2,
        v8 = 20,
        v9 = 65666,
        (*(int (__stdcall **)(int *, int *, unsigned int *, _DWORD))(v5 + 12))(a2, &v8, v3, 0)) )
  {
LABEL_11:
    sub_41BB80((void *)v3[1]);
    v3[1] = 0;
LABEL_12:
    sub_41BB80(*a1);
    *a1 = 0;
    return 0;
  }
  if ( !sub_416190(*v3, (char *)hmmio.unused, v10) )
  {
    if ( hmmio.unused )
    {
      sub_41BB80((void *)hmmio.unused);
      hmmio.unused = 0;
    }
    (*(void (__stdcall **)(unsigned int))(*(_DWORD *)*v3 + 8))(*v3);
    *v3 = 0;
    goto LABEL_11;
  }
  v3[2] = (unsigned int)a2;
  if ( hmmio.unused )
    sub_41BB80((void *)hmmio.unused);
  return 1;
}

//----- (00416090) --------------------------------------------------------
signed int __cdecl sub_416090(_DWORD *a1, _DWORD *a2, int *a3)
{
  *a2 = 0;
  *a3 = 0;
  *a2 = *a1;
  if ( !(**(int (__stdcall ***)(_DWORD, void *, int *))*a1)(*a1, &unk_4833B0, a3) )
    return 1;
  sub_416140(a2, a3);
  return 0;
}

//----- (004160E0) --------------------------------------------------------
signed int __cdecl sub_4160E0(_DWORD *a1, _DWORD *a2)
{
  *a2 = 0;
  *a2 = *a1;
  return 1;
}

//----- (00416100) --------------------------------------------------------
void __cdecl sub_416100(void *a1)
{
  if ( a1 )
  {
    if ( *(_DWORD *)a1 )
    {
      (*(void (__stdcall **)(_DWORD))(**(_DWORD **)a1 + 8))(*(_DWORD *)a1);
      *(_DWORD *)a1 = 0;
    }
    if ( *((_DWORD *)a1 + 1) )
    {
      sub_41BB80(*((void **)a1 + 1));
      *((_DWORD *)a1 + 1) = 0;
    }
    sub_41BB80(a1);
  }
}

//----- (00416140) --------------------------------------------------------
int __cdecl sub_416140(_DWORD *a1, int *a2)
{
  int result; // eax

  if ( *a1 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*a1 + 8))(*a1);
    *a1 = 0;
  }
  result = *a2;
  if ( *a2 )
  {
    result = (*(int (__stdcall **)(int))(*(_DWORD *)result + 8))(*a2);
    *a2 = 0;
  }
  return result;
}

//----- (00416170) --------------------------------------------------------
int __cdecl sub_416170(int a1)
{
  return sub_416260(*(_DWORD *)a1, *(LPSTR *)(a1 + 4));
}

//----- (00416190) --------------------------------------------------------
signed int __cdecl sub_416190(unsigned int a1, char *a2, unsigned int a3)
{
  unsigned int v3; // ebp
  char *v4; // ebx
  unsigned int v5; // ecx
  char *v7; // [esp+20h] [ebp-4h]

  v3 = a1;
  if ( !a1 )
    return 0;
  v4 = a2;
  if ( !a2
    || !a3
    || (*(int (__stdcall **)(unsigned int, _DWORD, unsigned int, char **, unsigned int *, char **, unsigned int *, _DWORD))(*(_DWORD *)a1 + 44))(
         a1,
         0,
         a3,
         &a2,
         &a1,
         &v7,
         &a3,
         0) < 0 )
  {
    return 0;
  }
  memset(a2, 0, a1);
  qmemcpy(a2, v4, a1);
  v5 = a3;
  if ( a3 )
  {
    qmemcpy(v7, &v4[a1], a3);
    v5 = a3;
  }
  (*(void (__stdcall **)(unsigned int, char *, unsigned int, char *, unsigned int))(*(_DWORD *)v3 + 76))(
    v3,
    a2,
    a1,
    v7,
    v5);
  return 1;
}

//----- (00416260) --------------------------------------------------------
int __cdecl sub_416260(int a1, LPSTR pszFileName)
{
  bool v2; // zf
  int result; // eax
  HMMIO__ hmmio; // [esp+8h] [ebp-4h]

  if ( sub_4165B0(pszFileName, (int)&pszFileName, 0, &hmmio)
    || (*(int (__stdcall **)(int))(*(_DWORD *)a1 + 80))(a1) < 0
    || (v2 = sub_416190(a1, (char *)hmmio.unused, (unsigned int)pszFileName) == 0, result = 1, v2) )
  {
    result = 0;
  }
  return result;
}

//----- (004162C0) --------------------------------------------------------
int __cdecl sub_4162C0(HMMIO hmmio, LPMMCKINFO pmmcki, char a3)
{
  void **v3; // esi
  _DWORD *v4; // eax
  _DWORD *v6; // eax
  LONG v7; // eax
  char pch[4]; // [esp+10h] [ebp-24h]
  int v9; // [esp+14h] [ebp-20h]
  int v10; // [esp+18h] [ebp-1Ch]
  int v11; // [esp+1Ch] [ebp-18h]
  struct _MMCKINFO v12; // [esp+20h] [ebp-14h]

  v3 = (void **)a3;
  *(_DWORD *)a3 = 0;
  if ( mmioDescend(hmmio, pmmcki, 0, 0) )
    return -2147467259;
  v12.ckid = 544501094;
  if ( mmioDescend(hmmio, &v12, pmmcki, 0x10u) || v12.cksize < 0x10 || mmioRead(hmmio, pch, 16) != 16 )
    return -2147467259;
  if ( *(_WORD *)pch == 1 )
  {
    v4 = operator new(0x12u);
    *v3 = v4;
    if ( !v4 )
      return -2147467259;
    *v4 = *(_DWORD *)pch;
    v4[1] = v9;
    v4[2] = v10;
    v4[3] = v11;
    *((_WORD *)*v3 + 8) = 0;
  }
  else
  {
    *(_DWORD *)&a3 = 0;
    if ( mmioRead(hmmio, &a3, 2) != 2 )
      return -2147467259;
    v6 = operator new((unsigned __int16)a3 + 18);
    *v3 = v6;
    if ( !v6 )
      return -2147467259;
    *v6 = *(_DWORD *)pch;
    v6[1] = v9;
    v6[2] = v10;
    v6[3] = v11;
    *((_WORD *)*v3 + 8) = a3;
    v7 = mmioRead(hmmio, (HPSTR)*v3 + 18, (unsigned __int16)a3);
    if ( v7 != (unsigned __int16)a3 )
    {
      operator delete(*v3);
      goto LABEL_10;
    }
  }
  if ( mmioAscend(hmmio, &v12, 0) )
  {
    operator delete(*v3);
LABEL_10:
    *v3 = 0;
    return -2147467259;
  }
  return 0;
}

//----- (00416430) --------------------------------------------------------
int __cdecl sub_416430(LPSTR pszFileName, int a2, char a3, LPMMCKINFO pmmcki)
{
  HMMIO v4; // eax
  HMMIO v5; // esi
  int result; // eax
  int v7; // edi

  v4 = mmioOpenA(pszFileName, 0, 0x10000u);
  v5 = v4;
  if ( !v4 )
    return -2147467259;
  v7 = sub_4162C0(v4, pmmcki, a3);
  if ( v7 >= 0 )
  {
    *(_DWORD *)a2 = v5;
    result = 0;
  }
  else
  {
    mmioClose(v5, 0);
    result = v7;
  }
  return result;
}

//----- (00416490) --------------------------------------------------------
int __cdecl sub_416490(int a1, LPMMCKINFO pmmcki, MMCKINFO *pmmckiParent)
{
  if ( mmioSeek(*(HMMIO *)a1, pmmckiParent->dwDataOffset + 4, 0) == -1 )
    return -2147467259;
  pmmcki->ckid = 1635017060;
  return mmioDescend(*(HMMIO *)a1, pmmcki, pmmckiParent, 0x10u) != 0 ? 0x80004005 : 0;
}

//----- (004164E0) --------------------------------------------------------
int __cdecl sub_4164E0(HMMIO hmmio, int a2, int a3, int a4, int a5)
{
  int result; // eax
  unsigned int v6; // edi
  unsigned int v7; // eax
  unsigned int v8; // esi
  HPSTR v9; // ecx
  char *v10; // eax
  char v11; // dl
  struct _MMIOINFO pmmioinfo; // [esp+10h] [ebp-48h]

  *(_DWORD *)a5 = 0;
  if ( mmioGetInfo(hmmio, &pmmioinfo, 0) )
    return -2147467259;
  v6 = a2;
  v7 = *(_DWORD *)(a4 + 4);
  if ( a2 > v7 )
    v6 = *(_DWORD *)(a4 + 4);
  v8 = 0;
  *(_DWORD *)(a4 + 4) = v7 - v6;
  if ( v6 )
  {
    v9 = pmmioinfo.pchEndRead;
    v10 = pmmioinfo.pchNext;
    do
    {
      if ( v10 == v9 )
      {
        if ( mmioAdvance(hmmio, &pmmioinfo, 0) )
          return -2147467259;
        v10 = pmmioinfo.pchNext;
        v9 = pmmioinfo.pchEndRead;
        if ( pmmioinfo.pchNext == pmmioinfo.pchEndRead )
          return -2147467259;
      }
      v11 = *v10++;
      *(_BYTE *)(v8++ + a3) = v11;
      pmmioinfo.pchNext = v10;
    }
    while ( v8 < v6 );
  }
  if ( mmioSetInfo(hmmio, &pmmioinfo, 0) )
    return -2147467259;
  result = 0;
  *(_DWORD *)a5 = v6;
  return result;
}

//----- (004165B0) --------------------------------------------------------
int __cdecl sub_4165B0(LPSTR pszFileName, int a2, char a3, HMMIO hmmio)
{
  void **v4; // ebx
  void **v5; // edi
  char v6; // ST0C_1
  int v7; // esi
  void *v8; // eax
  struct _MMCKINFO pmmcki; // [esp+10h] [ebp-28h]
  MMCKINFO pmmckiParent; // [esp+24h] [ebp-14h]

  v4 = (void **)a3;
  v5 = (void **)hmmio;
  v6 = a3;
  *(_DWORD *)hmmio = 0;
  *v4 = 0;
  *(_DWORD *)a2 = 0;
  v7 = sub_416430(pszFileName, (int)&hmmio, v6, &pmmckiParent);
  if ( !v7 )
  {
    v7 = sub_416490((int)&hmmio, &pmmcki, &pmmckiParent);
    if ( !v7 )
    {
      v8 = malloc(pmmcki.cksize);
      *v5 = v8;
      if ( v8 )
      {
        v7 = sub_4164E0(hmmio, pmmcki.cksize, (int)v8, (int)&pmmcki, (int)&a3);
        if ( !v7 )
        {
          *(_DWORD *)a2 = a3;
          goto LABEL_11;
        }
      }
      else
      {
        v7 = 57344;
      }
    }
  }
  if ( *v5 )
  {
    sub_41BB80(*v5);
    *v5 = 0;
  }
  if ( *v4 )
  {
    sub_41BB80(*v4);
    *v4 = 0;
  }
LABEL_11:
  if ( hmmio )
    mmioClose(hmmio, 0);
  return v7;
}

//----- (004166A0) --------------------------------------------------------
int __cdecl sub_4166A0(int a1, int a2, int a3)
{
  int result; // eax
  float v4; // ST0C_4
  float v5; // ST08_4
  float v6; // ST04_4

  result = dword_49CFE0;
  if ( dword_49CFE0 )
  {
    v4 = (double)(a3 >> 1) * 0.0099999998;
    v5 = (double)(a2 >> 1) * 0.0099999998;
    v6 = (double)(a1 >> 1) * 0.0099999998;
    result = (*(int (__stdcall **)(int, _DWORD, _DWORD, _DWORD, _DWORD))(*(_DWORD *)dword_48FE30 + 56))(
               dword_48FE30,
               LODWORD(v6),
               LODWORD(v5),
               LODWORD(v4),
               0);
  }
  return result;
}
// 48FE30: using guessed type int dword_48FE30;
// 49CFE0: using guessed type int dword_49CFE0;

//----- (00416700) --------------------------------------------------------
signed int __cdecl sub_416700(signed int a1, int a2)
{
  signed int result; // eax

  result = dword_49CFE0;
  if ( dword_49CFE0 )
  {
    if ( dword_48FAC8[a1] || (result = sub_415B60(a1)) != 0 )
      result = (*(int (__stdcall **)(int, int))(*(_DWORD *)dword_48FAC8[a1] + 60))(
                 dword_48FAC8[a1],
                 10 * (3 * a2 - 300));
    else
      dword_49CFE0 = 0;
  }
  return result;
}
// 49CFE0: using guessed type int dword_49CFE0;

//----- (00416750) --------------------------------------------------------
signed int __cdecl sub_416750(signed int a1, LPDIRECTSOUNDBUFFER *a2)
{
  signed int result; // eax

  if ( dword_48FAC8[a1] )
    return dword_48FE2C->lpVtbl->DuplicateSoundBuffer(dword_48FE2C, (LPDIRECTSOUNDBUFFER)dword_48FAC8[a1], a2);
  result = sub_415B60(a1);
  if ( result )
    return dword_48FE2C->lpVtbl->DuplicateSoundBuffer(dword_48FE2C, (LPDIRECTSOUNDBUFFER)dword_48FAC8[a1], a2);
  dword_49CFE0 = 0;
  return result;
}
// 49CFE0: using guessed type int dword_49CFE0;

//----- (00416790) --------------------------------------------------------
int __cdecl sub_416790(int *a1, int a2, int a3, signed int a4, int a5)
{
  int result; // eax
  int *v6; // esi
  int v7; // ecx
  float v8; // ST30_4
  float v9; // ST2C_4
  float v10; // ST28_4

  result = dword_49CFE0;
  if ( dword_49CFE0 )
  {
    v6 = a1;
    if ( a1 )
    {
      (*(void (__stdcall **)(int *))(*a1 + 72))(a1);
      result = (*(int (__stdcall **)(int *, void *, int **))*v6)(v6, &unk_4833B0, &a1);
      if ( result >= 0 )
      {
        v7 = *a1;
        a4 >>= 1;
        v8 = (double)a4 * 0.0099999998;
        a4 = a2 >> 1;
        v9 = (double)(a3 >> 1) * 0.0099999998;
        v10 = (double)(a2 >> 1) * 0.0099999998;
        if ( !(*(int (__stdcall **)(int *, _DWORD, _DWORD, _DWORD, signed int))(v7 + 76))(
                a1,
                LODWORD(v10),
                LODWORD(v9),
                LODWORD(v8),
                1)
          && !(*(int (__stdcall **)(int))(*(_DWORD *)dword_48FE30 + 68))(dword_48FE30)
          && !(*(int (__stdcall **)(int *, _DWORD))(*v6 + 52))(v6, 0) )
        {
          (*(void (__stdcall **)(int *, _DWORD, _DWORD, int))(*v6 + 48))(v6, 0, 0, a5);
        }
        result = (*(int (__stdcall **)(int *))(*a1 + 8))(a1);
      }
    }
  }
  return result;
}
// 48FE30: using guessed type int dword_48FE30;
// 49CFE0: using guessed type int dword_49CFE0;

//----- (00416860) --------------------------------------------------------
int __cdecl sub_416860(signed int a1, int a2, int a3, int a4, int a5)
{
  int result; // eax
  float v6; // ST0C_4
  float v7; // ST08_4
  float v8; // ST04_4

  result = dword_49CFE0;
  if ( dword_49CFE0 )
  {
    if ( dword_48FAC8[a1] || (result = sub_415B60(a1)) != 0 )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)dword_48FAC8[a1] + 72))(dword_48FAC8[a1]);
      if ( a1 < 64
        || (v6 = (double)(a4 >> 1) * 0.0099999998,
            v7 = (double)(a3 >> 1) * 0.0099999998,
            v8 = (double)(a2 >> 1) * 0.0099999998,
            (result = (*(int (__stdcall **)(int, _DWORD, _DWORD, _DWORD, signed int))(*(_DWORD *)dword_48FE80[a1] + 76))(
                        dword_48FE80[a1],
                        LODWORD(v8),
                        LODWORD(v7),
                        LODWORD(v6),
                        1)) == 0)
        && (result = (*(int (__stdcall **)(int))(*(_DWORD *)dword_48FE30 + 68))(dword_48FE30)) == 0 )
      {
        result = (*(int (__stdcall **)(int, _DWORD))(*(_DWORD *)dword_48FAC8[a1] + 52))(dword_48FAC8[a1], 0);
        if ( !result )
        {
          result = (*(int (__stdcall **)(int, _DWORD, _DWORD, int))(*(_DWORD *)dword_48FAC8[a1] + 48))(
                     dword_48FAC8[a1],
                     0,
                     0,
                     a5);
          if ( result == -2005401450 )
            result = sub_416170(dword_4901A0[a1]);
        }
      }
    }
    else
    {
      dword_49CFE0 = 0;
    }
  }
  return result;
}
// 48FE30: using guessed type int dword_48FE30;
// 49CFE0: using guessed type int dword_49CFE0;

//----- (00416950) --------------------------------------------------------
int sub_416950()
{
  int result; // eax
  int v1; // esi
  int *v2; // edi

  result = dword_49CFE0;
  if ( dword_49CFE0 )
  {
    result = dword_48FE28;
    v1 = 0;
    if ( dword_48FE28 > 0 )
    {
      v2 = dword_48FAC8;
      do
      {
        if ( *v2 )
          (*(void (__stdcall **)(int))(*(_DWORD *)*v2 + 72))(*v2);
        result = dword_48FE28;
        ++v1;
        ++v2;
      }
      while ( v1 < dword_48FE28 );
    }
  }
  return result;
}
// 48FE28: using guessed type int dword_48FE28;
// 49CFE0: using guessed type int dword_49CFE0;

//----- (00416990) --------------------------------------------------------
int __cdecl sub_416990(int a1)
{
  int result; // eax

  result = dword_49CFE0;
  if ( dword_49CFE0 )
  {
    result = dword_48FAC8[a1];
    if ( result )
      result = (*(int (__stdcall **)(int))(*(_DWORD *)result + 72))(dword_48FAC8[a1]);
  }
  return result;
}
// 49CFE0: using guessed type int dword_49CFE0;

//----- (004169B0) --------------------------------------------------------
void __cdecl __noreturn sub_4169B0(LPCSTR lpText, LPCSTR lpCaption, int a3)
{
  sub_4169E0();
  MessageBoxA(0, lpText, lpCaption, a3 | 0x40000);
  exit(0);
}

//----- (004169E0) --------------------------------------------------------
DWORD sub_4169E0()
{
  DWORD result; // eax

  result = dword_49D96C;
  if ( !dword_49D96C )
  {
    if ( hObject )
    {
      dword_13300BC = 100;
      SetEvent(hEvent);
      WaitForSingleObject(hObject, 0xFFFFFFFF);
      CloseHandle(hObject);
      hObject = 0;
    }
    dword_49D968 = 1;
    CloseClipboard();
    if ( hhk )
      UnhookWindowsHookEx(hhk);
    sub_443E30();
    sub_443C90();
    if ( hWnd )
      DestroyWindow(hWnd);
    if ( dword_49D020 )
      DestroyWindow(dword_49D020);
    if ( dword_49D028 )
      DestroyWindow(dword_49D028);
    if ( dword_49D030 )
      DestroyWindow(dword_49D030);
    if ( dword_49D01C )
      DestroyWindow(dword_49D01C);
    sub_479C50();
    SetWindowPos(hWndParent, 0, 0, 0, 0, 0, 0x80u);
    if ( dword_49CFF8 )
    {
      sub_41BB80(dword_49CFF8);
      dword_49CFF8 = 0;
    }
    sub_42DEC0();
    sub_466670();
    sub_415920();
    sub_41CFA0();
    sub_41BC00();
    sub_41C0E0();
    sub_41C100();
    _ioterm_0();
    sub_479290();
    sub_422E30();
    sub_422850();
    sub_420C50();
    sub_420590();
    _ioterm_1();
    sub_41F400();
    sub_41ED20();
    sub_41EB70();
    sub_41E980();
    sub_41E750();
    sub_41E430();
    if ( dword_49D898 )
      fclose(dword_49D898);
    _ioterm();
    dword_49D02C = GetTickCount();
    for ( result = GetTickCount() - dword_49D02C; result < 0x7D0; result = GetTickCount() - dword_49D02C )
      ;
    dword_49D96C = 1;
  }
  return result;
}
// 41BBD0: using guessed type int _ioterm(void);
// 41C120: using guessed type int _ioterm_0(void);
// 41F600: using guessed type int _ioterm_1(void);
// 49D02C: using guessed type int dword_49D02C;
// 49D968: using guessed type int dword_49D968;
// 49D96C: using guessed type int dword_49D96C;
// 13300BC: using guessed type int dword_13300BC;

//----- (00416B90) --------------------------------------------------------
int __cdecl sub_416B90(const char *a1)
{
  char v2; // [esp+Ch] [ebp-104h]
  char v3; // [esp+11h] [ebp-FFh]
  char v4; // [esp+27h] [ebp-E9h]

  strcpy(&v2, a1);
  v3 = 0;
  if ( _strcmpi(&v2, asc_48691C) )
    return -1;
  strcpy(&v2, a1);
  v4 = 0;
  return 3 - (_strcmpi(&v2, asc_486908) != 0);
}

//----- (00416C40) --------------------------------------------------------
int __cdecl sub_416C40(const char *a1)
{
  int result; // eax
  int v2; // eax
  char v3; // [esp+10h] [ebp-104h]
  char v4; // [esp+15h] [ebp-FFh]

  strcpy(&v3, a1);
  v4 = 0;
  if ( _strcmpi(&v3, asc_486950) )
  {
    if ( _strcmpi(&v3, asc_48691C) )
    {
      if ( !byte_132259C || _strcmpi(&v3, aGama) )
      {
        v2 = -(_strcmpi(&v3, asc_486924) != 0);
        LOBYTE(v2) = v2 & 0xFB;
        result = v2 + 4;
      }
      else
      {
        *((_DWORD *)(&lpString)[dword_131D690] + 42) = 237;
        *((_BYTE *)(&lpString)[dword_131D690] + 174) = 0;
        *((_DWORD *)(&lpString)[dword_131D690] + 150) = 0;
        *((_WORD *)(&lpString)[dword_131D690] + 88) = 0;
        *((_DWORD *)(&lpString)[dword_131D690] + 23) = 0;
        *((_WORD *)(&lpString)[dword_131D690] + 43) = 100;
        if ( !dword_130A14C )
          sub_4221A0((int)a237Ani, 237);
        byte_132259C = 2;
        result = 3;
      }
    }
    else
    {
      result = 2;
    }
  }
  else
  {
    sprintf(&v3, aS_1, a1 + 5);
    sub_422E80(&v3, 3);
    result = 1;
  }
  return result;
}
// 130A14C: using guessed type int dword_130A14C;
// 131D690: using guessed type int dword_131D690;
// 132259C: using guessed type char byte_132259C;

//----- (00416DE0) --------------------------------------------------------
LRESULT __stdcall sub_416DE0(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam)
{
  char v4; // cl
  signed int v5; // eax
  signed int v7; // edx
  int v8; // esi
  int v9; // ebx
  const char *v10; // ebp
  signed int j; // edx
  char v12; // al
  unsigned int v13; // ecx
  char v14; // al
  char *v15; // edi
  char *v16; // esi
  char v17; // cl
  unsigned int v18; // ebp
  char *v19; // edi
  int v20; // edx
  int v21; // edx
  unsigned int v22; // edx
  char v23; // bl
  LPCSTR v24; // ST0C_4
  int v25; // ebp
  int v26; // esi
  int v27; // ebx
  const char *v28; // ebp
  signed int l; // edx
  char v30; // al
  const char *v31; // edi
  unsigned int v32; // ecx
  char v33; // al
  char *v34; // edi
  CHAR *v35; // esi
  char v36; // cl
  CHAR *v37; // edi
  unsigned int v38; // ecx
  char v39; // al
  char *v40; // edi
  char *v41; // esi
  char v42; // cl
  unsigned int v43; // ebx
  char *v44; // edi
  CHAR *v45; // esi
  unsigned int v46; // ebx
  char *v47; // edi
  int v48; // eax
  char v49; // bl
  int v50; // edx
  int v51; // edx
  unsigned int v52; // edx
  int v53; // ebp
  void *v54; // [esp-14h] [ebp-1B4h]
  const char **v55; // [esp+0h] [ebp-1A0h]
  const char **v56; // [esp+0h] [ebp-1A0h]
  signed int i; // [esp+4h] [ebp-19Ch]
  signed int k; // [esp+4h] [ebp-19Ch]
  CHAR String; // [esp+8h] [ebp-198h]
  char v60; // [esp+9h] [ebp-197h]
  char v61; // [esp+Ah] [ebp-196h]
  char v62; // [esp+Bh] [ebp-195h]
  char v63; // [esp+Ch] [ebp-194h]
  char v64; // [esp+Dh] [ebp-193h]
  char v65; // [esp+Eh] [ebp-192h]
  char v66[20]; // [esp+88h] [ebp-118h]
  char v67; // [esp+9Ch] [ebp-104h]
  char v68[5]; // [esp+A0h] [ebp-100h]
  char v69; // [esp+A5h] [ebp-FBh]
  char v70[128]; // [esp+120h] [ebp-80h]

  v4 = byte_49D88C;
  v5 = 0;
  do
  {
    v66[v5] = v4 ^ byte_1324688[v5];
    ++v5;
  }
  while ( v5 < 21 );
  v67 = 0;
  switch ( Msg )
  {
    case 0x7Bu:
      return 0;
    case 0x100u:
      switch ( wParam )
      {
        case 0xDu:
        case 0x1Bu:
        case 0x23u:
        case 0x24u:
        case 0x25u:
        case 0x26u:
        case 0x28u:
        case 0x2Du:
        case 0x2Eu:
          return 0;
        default:
          sub_416860(11, 0, 0, 0, 0);
          break;
      }
LABEL_6:
      GetWindowTextA(::hWnd, &::String, 80);
      return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
    case 0x101u:
      switch ( wParam )
      {
        case 9u:
        case 0xDu:
          if ( dword_49D958 )
          {
            sub_416860(10, 0, 0, 0, 0);
          }
          else
          {
            if ( !byte_49D964 )
              dword_49D960 = dword_13211C8;
            if ( (unsigned __int8)++byte_49D964 >= 5u )
            {
              byte_49D964 = 0;
              if ( (unsigned int)(dword_13211C8 - dword_49D960) < 0x1388 )
              {
                dword_49D958 = 1;
                dword_49D95C = dword_13211C8 + 60000;
                sub_422E80((const char *)&unk_4869B4, 3);
              }
            }
            sub_416860(10, 0, 0, 0, 0);
            GetWindowTextA(::hWnd, &String, 70);
            if ( strcmp(&String, byte_49D994) )
            {
              sub_45E680();
              dword_133003C = 0;
              switch ( sub_416C40(&String) )
              {
                case 1:
                  v7 = dword_49D970;
                  strcpy((char *)(20 * dword_49D970 + 4837536), &v65);
                  if ( v7 < 100 )
                    dword_49D970 = v7 + 1;
                  SetFocus(hWndParent);
                  return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
                case 2:
                  v55 = (const char **)&off_486310;
                  do
                  {
                    for ( i = 0; i < (signed int)strlen(&String); ++i )
                    {
                      v8 = 0;
                      v9 = 0;
                      v10 = *v55;
                      for ( j = 0; j < (signed int)strlen(v10); ++j )
                      {
                        v12 = *(&String + i + j + v8);
                        if ( !v12 )
                          break;
                        if ( (v12 < 97 || v12 > 122) && (v12 < 65 || v12 > 90) && (v12 < 48 || v12 > 57) && v12 >= 0 )
                        {
                          ++v8;
                          --j;
                        }
                        else
                        {
                          v70[v9++] = v12;
                        }
                      }
                      v70[v9] = 0;
                      if ( !_strcmpi(v10, v70) )
                      {
                        switch ( rand() % 4 )
                        {
                          case 0:
                            v54 = &unk_4869A8;
                            goto LABEL_47;
                          case 1:
                            sprintf(&String, aS, &unk_48699C);
                            break;
                          case 2:
                            sprintf(&String, aS, &unk_486988);
                            break;
                          case 3:
                            v54 = &unk_486970;
LABEL_47:
                            sprintf(&String, aS, v54);
                            break;
                          default:
                            continue;
                        }
                      }
                    }
                    ++v55;
                  }
                  while ( (signed int)v55 < (signed int)&unk_486538 );
                  if ( byte_132259C == 2 )
                  {
                    v13 = strlen(asc_486908) + 1;
                    v14 = v13;
                    v13 >>= 2;
                    qmemcpy(v68, asc_486908, 4 * v13);
                    v16 = &asc_486908[4 * v13];
                    v15 = &v68[4 * v13];
                    v17 = v14;
                  }
                  else
                  {
                    strcpy(v68, asc_48691C);
                    strcat(v68, v66);
                    v18 = strlen(asc_48696C) + 1;
                    v19 = &v68[strlen(v68)];
                    qmemcpy(v19, asc_48696C, 4 * (v18 >> 2));
                    v16 = &asc_48696C[4 * (v18 >> 2)];
                    v15 = &v19[4 * (v18 >> 2)];
                    v17 = v18;
                  }
                  qmemcpy(v15, v16, v17 & 3);
                  strcat(v68, &v64);
                  strcpy((char *)(&lpString)[dword_131D690] + 644, &v64);
                  *((_DWORD *)(&lpString)[dword_131D690] + 186) = GetTickCount();
                  v20 = dword_133004C;
                  if ( (unsigned int)dword_133004C < 0x62 )
                  {
                    v25 = 9 * dword_133004C;
                    strcpy(&byte_13226E1[81 * dword_133004C], &v69);
                    v22 = v20 + 1;
                    byte_13226E0[9 * v25] = 0;
                    dword_133004C = v22;
                    if ( v22 < 5 )
                    {
                      dword_1330054 = 0;
LABEL_56:
                      SetFocus(hWndParent);
                      v23 = byte_1330030;
                      v24 = (&lpString)[dword_131D690];
                      byte_1330030 = 0;
                      sub_46F400((int)v24, v68);
                      byte_1330030 = v23;
                      return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
                    }
                  }
                  else
                  {
                    v21 = 9 * dword_133004C;
                    strcpy(&byte_13226E1[81 * dword_133004C], &v69);
                    byte_13226E0[9 * v21] = 0;
                    qmemcpy(byte_13226E0, &unk_1322731, 0x1F52u);
                    v22 = 98;
                    byte_13226E0[8018] = *((_BYTE *)&unk_1322731 + 8018);
                    dword_133004C = 98;
                  }
                  dword_1330054 = v22 - 5;
                  goto LABEL_56;
                case 3:
                  goto LABEL_11;
                case 4:
                  sub_423010();
                  goto LABEL_11;
                default:
                  v56 = (const char **)&off_486310;
                  do
                  {
                    for ( k = 0; k < (signed int)strlen(&String); ++k )
                    {
                      v26 = 0;
                      v27 = 0;
                      v28 = *v56;
                      for ( l = 0; l < (signed int)strlen(v28); ++l )
                      {
                        v30 = *(&String + k + l + v26);
                        if ( !v30 )
                          break;
                        if ( (v30 < 97 || v30 > 122) && (v30 < 65 || v30 > 90) && (v30 < 48 || v30 > 57) && v30 >= 0 )
                        {
                          ++v26;
                          --l;
                        }
                        else
                        {
                          v70[v27++] = v30;
                        }
                      }
                      v70[v27] = 0;
                      if ( !_strcmpi(v28, v70) )
                      {
                        switch ( rand() % 4 )
                        {
                          case 0:
                            v31 = (const char *)&unk_4869A8;
                            goto LABEL_79;
                          case 1:
                            v31 = (const char *)&unk_48699C;
                            goto LABEL_79;
                          case 2:
                            v31 = (const char *)&unk_486988;
                            goto LABEL_79;
                          case 3:
                            v31 = (const char *)&unk_486970;
LABEL_79:
                            strcpy(&String, v31);
                            break;
                          default:
                            continue;
                        }
                      }
                    }
                    ++v56;
                  }
                  while ( (signed int)v56 < (signed int)&unk_486538 );
                  if ( String != 47 || v60 != 99 || v61 != 35 || v62 != 90 || v63 != 96 )
                  {
                    if ( byte_132259C == 2 )
                    {
                      v38 = strlen(byte_486958) + 1;
                      v39 = v38;
                      v38 >>= 2;
                      qmemcpy(v68, byte_486958, 4 * v38);
                      v41 = &byte_486958[4 * v38];
                      v40 = &v68[4 * v38];
                      v42 = v39;
                    }
                    else
                    {
                      strcpy(v68, v66);
                      v43 = strlen(asc_48696C) + 1;
                      v44 = &v68[strlen(v68)];
                      qmemcpy(v44, asc_48696C, 4 * (v43 >> 2));
                      v41 = &asc_48696C[4 * (v43 >> 2)];
                      v40 = &v44[4 * (v43 >> 2)];
                      v42 = v43;
                    }
                    qmemcpy(v40, v41, v42 & 3);
                    v37 = &String;
                  }
                  else
                  {
                    if ( byte_1330030 != 2 && byte_1330030 != 1 )
                    {
                      v32 = strlen(&String) + 1;
                      v33 = v32;
                      v32 >>= 2;
                      qmemcpy(v68, &String, 4 * v32);
                      v35 = &String + 4 * v32;
                      v34 = &v68[4 * v32];
                      v36 = v33;
                      goto LABEL_96;
                    }
                    strcpy(v68, v66);
                    strcat(v68, asc_48696C);
                    v37 = &v62;
                  }
                  v45 = v37;
                  v46 = strlen(v37) + 1;
                  v47 = &v68[strlen(v68)];
                  qmemcpy(v47, v45, 4 * (v46 >> 2));
                  v35 = &v45[4 * (v46 >> 2)];
                  v34 = &v47[4 * (v46 >> 2)];
                  v36 = v46;
LABEL_96:
                  v48 = dword_131D690;
                  qmemcpy(v34, v35, v36 & 3);
                  strcpy((char *)(&lpString)[v48] + 644, &String);
                  *((_DWORD *)(&lpString)[dword_131D690] + 186) = GetTickCount();
                  v49 = byte_1330030;
                  if ( !byte_1330030 )
                    goto LABEL_100;
                  v50 = dword_1330050;
                  if ( (unsigned int)dword_1330050 < 0x62 )
                  {
                    v53 = 9 * dword_1330050;
                    strcpy(&byte_132DFD9[81 * dword_1330050], v68);
                    v52 = v50 + 1;
                    byte_132DFD8[9 * v53] = v49;
                    dword_1330050 = v52;
                    if ( v52 < 0xE )
                    {
                      dword_1330058 = 0;
LABEL_100:
                      SetFocus(hWndParent);
                      sub_46F400((int)(&lpString)[dword_131D690], v68);
                      return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
                    }
                  }
                  else
                  {
                    v51 = 9 * dword_1330050;
                    strcpy(&byte_132DFD9[81 * dword_1330050], v68);
                    byte_132DFD8[9 * v51] = v49;
                    qmemcpy(byte_132DFD8, byte_132E029, 0x1F52u);
                    v52 = 98;
                    byte_132DFD8[8018] = byte_132E029[8018];
                    dword_1330050 = 98;
                  }
                  dword_1330058 = v52 - 14;
                  goto LABEL_100;
              }
            }
          }
          sub_45E680();
          dword_133003C = 0;
          SetFocus(hWndParent);
          return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
        case 0x1Bu:
          sub_416860(10, 0, 0, 0, 0);
          sub_45E680();
          dword_133003C = 0;
LABEL_11:
          SetFocus(hWndParent);
          return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
        case 0x23u:
        case 0x24u:
        case 0x25u:
        case 0x26u:
        case 0x28u:
        case 0x2Du:
        case 0x2Eu:
        case 0x74u:
          return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
        case 0x5Du:
          sub_479930();
          return 0;
        default:
          goto LABEL_6;
      }
    case 0x102u:
      GetWindowTextA(::hWnd, &::String, 80);
      return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
    default:
      return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
  }
}
// 486310: using guessed type void *off_486310;
// 49D88C: using guessed type char byte_49D88C;
// 49D958: using guessed type int dword_49D958;
// 49D95C: using guessed type int dword_49D95C;
// 49D960: using guessed type int dword_49D960;
// 49D964: using guessed type char byte_49D964;
// 49D970: using guessed type int dword_49D970;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 132259C: using guessed type char byte_132259C;
// 1330030: using guessed type char byte_1330030;
// 133003C: using guessed type int dword_133003C;
// 133004C: using guessed type int dword_133004C;
// 1330050: using guessed type int dword_1330050;
// 1330054: using guessed type int dword_1330054;
// 1330058: using guessed type int dword_1330058;
// 416DE0: using guessed type char var_118[20];
// 416DE0: using guessed type char var_80[128];
// 416DE0: using guessed type char var_100[5];

//----- (00417AD0) --------------------------------------------------------
LRESULT __stdcall sub_417AD0(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam)
{
  switch ( Msg )
  {
    case 0x7Bu:
      return 0;
    case 0x100u:
      switch ( wParam )
      {
        case 9u:
          sub_416860(10, 0, 0, 0, 0);
          SetFocus(dword_49D028);
          dword_1330110 = 1;
          byte_13300E4 = 9;
          return 0;
        case 0xDu:
          sub_416860(10, 0, 0, 0, 0);
          SetFocus(dword_49D028);
          dword_1330110 = 1;
          byte_13300E4 = 13;
          return 0;
        case 0x1Bu:
        case 0x23u:
        case 0x24u:
        case 0x25u:
        case 0x26u:
        case 0x28u:
        case 0x2Du:
          return 0;
        default:
          sub_416860(11, 0, 0, 0, 0);
          GetWindowTextA(dword_49D030, byte_13246BC, 11);
          break;
      }
      break;
    case 0x101u:
      GetWindowTextA(dword_49D030, byte_13246BC, 11);
      if ( wParam == 27 )
      {
        LOBYTE(dword_132A268) = 0;
        dword_1330090 = 0;
        dword_49D97C = 0;
        SetFocus(hWndParent);
      }
      break;
  }
  return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
}
// 49D97C: using guessed type int dword_49D97C;
// 132A268: using guessed type int dword_132A268;
// 1330090: using guessed type int dword_1330090;
// 13300E4: using guessed type char byte_13300E4;
// 1330110: using guessed type int dword_1330110;

//----- (00417C40) --------------------------------------------------------
LRESULT __stdcall sub_417C40(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam)
{
  switch ( Msg )
  {
    case 0x7Bu:
      return 0;
    case 0x100u:
      switch ( wParam )
      {
        case 9u:
          sub_416860(10, 0, 0, 0, 0);
          SetFocus(hWndParent);
          dword_1330110 = 1;
          byte_13300E4 = 9;
          return 0;
        case 0xDu:
          sub_416860(10, 0, 0, 0, 0);
          SetFocus(hWndParent);
          dword_1330110 = 1;
          byte_13300E4 = 13;
          return 0;
        case 0x23u:
        case 0x24u:
        case 0x25u:
        case 0x26u:
        case 0x28u:
        case 0x2Du:
          return 0;
        default:
          sub_416860(11, 0, 0, 0, 0);
          GetWindowTextA(dword_49D01C, byte_1330000, 11);
          break;
      }
      break;
    case 0x101u:
      GetWindowTextA(dword_49D01C, byte_1330000, 11);
      break;
  }
  return CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
}
// 13300E4: using guessed type char byte_13300E4;
// 1330110: using guessed type int dword_1330110;

//----- (00417D80) --------------------------------------------------------
LRESULT __stdcall sub_417D80(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam)
{
  LRESULT result; // eax
  LPSTR v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // ecx
  signed int v9; // ecx
  int v10; // eax
  int v11; // eax
  int v12; // eax
  signed int v13; // ecx
  int v14; // eax
  int v15; // edx
  int v16; // ecx
  int v17; // eax

  switch ( Msg )
  {
    case 7u:
      dword_49D980 = 0;
      dword_49D978 = 0;
      dword_49D974 = 0;
      dword_49D97C = 0;
      goto LABEL_3;
    case 0x7Bu:
      return 0;
    case 0x100u:
      sub_416860(11, 0, 0, 0, 0);
      switch ( wParam )
      {
        case 9u:
          sub_416860(10, 0, 0, 0, 0);
          SetFocus(hWndParent);
          dword_1330110 = 1;
          byte_13300E4 = 9;
          return 0;
        case 0x21u:
          dword_49D97C = 0;
          goto LABEL_7;
        case 0x22u:
          dword_49D978 = 13;
          dword_49D97C = 13;
          return 0;
        case 0x23u:
          dword_49D974 = 35;
          return 0;
        case 0x24u:
          goto LABEL_31;
        case 0x25u:
          if ( dword_49D974 <= 0 )
          {
            if ( dword_49D978 <= 0 )
            {
LABEL_7:
              dword_49D978 = 0;
              return 0;
            }
            dword_49D974 = 35;
            dword_49D978 = dword_49D978 - 1 <= 0 ? 0 : dword_49D978 - 1;
            if ( dword_49D978 < dword_49D97C )
              --dword_49D97C;
            v5 = CharPrevA(&byte_1329F74 + 36 * dword_49D978, &byte_1329F97[36 * dword_49D978]);
          }
          else
          {
            v5 = CharPrevA(&byte_1329F74 + 36 * dword_49D978, &byte_1329F74 + 36 * dword_49D978 + dword_49D974);
          }
          goto LABEL_17;
        case 0x26u:
          dword_49D978 = dword_49D978 - 1 <= 0 ? 0 : dword_49D978 - 1;
          v7 = dword_49D978;
          if ( dword_49D978 >= dword_49D97C )
            goto LABEL_30;
          v8 = dword_49D97C - 1;
          goto LABEL_29;
        case 0x27u:
          if ( dword_49D974 < 34 )
          {
            v5 = CharNextA(&byte_1329F74 + 36 * dword_49D978 + dword_49D974);
LABEL_17:
            dword_49D974 = &v5[-36 * dword_49D978] - &byte_1329F74;
            return 0;
          }
          v6 = dword_49D978 + 1;
          dword_49D978 = v6;
          if ( v6 == 20 )
          {
            v6 = 19;
            dword_49D974 = 34;
            dword_49D978 = 19;
          }
          else
          {
            dword_49D974 = 0;
          }
          if ( v6 > dword_49D97C + 7 )
          {
            ++dword_49D97C;
            return 0;
          }
          break;
        case 0x28u:
          v7 = dword_49D978 + 1;
          if ( dword_49D978 + 1 >= 19 )
            v7 = 19;
          dword_49D978 = v7;
          if ( v7 > dword_49D97C + 7 )
          {
            v8 = dword_49D97C + 1;
LABEL_29:
            dword_49D97C = v8;
          }
LABEL_30:
          dword_49D974 = &CharPrevA(&byte_1329F74 + 36 * v7, &byte_1329F74 + 36 * v7 + dword_49D974)[-36 * dword_49D978]
                       - &byte_1329F74;
          if ( dword_49D974 >= 0 )
            return 0;
LABEL_31:
          dword_49D974 = 0;
          return 0;
        case 0x2Eu:
          v9 = dword_49D974;
          v10 = 36 * dword_49D978;
          if ( *(&byte_1329F74 + 36 * dword_49D978 + dword_49D974) >= 0 )
          {
            if ( dword_49D974 < 34 )
            {
              do
              {
                *((_BYTE *)&byte_1329F74 + v10 + v9) = byte_1329F75[v10 + v9];
                ++v9;
              }
              while ( v9 < 34 );
            }
            byte_1329F96[v10] = 32;
            result = 0;
          }
          else
          {
            if ( dword_49D974 < 33 )
            {
              do
              {
                *((_BYTE *)&byte_1329F74 + v10 + v9) = byte_1329F76[v10 + v9];
                ++v9;
              }
              while ( v9 < 33 );
            }
            byte_1329F96[v10] = 32;
            byte_1329F95[v10] = 32;
            result = 0;
          }
          return result;
        default:
          return 0;
      }
      return 0;
    case 0x101u:
      if ( wParam == 27 )
      {
        LOBYTE(dword_132A268) = 0;
        dword_1330090 = 0;
        dword_49D97C = 0;
        SetFocus(hWndParent);
      }
      goto LABEL_3;
    case 0x102u:
      switch ( wParam )
      {
        case 8u:
          SendMessageA(hWnd, 0x100u, 0x25u, 1);
          SendMessageA(hWnd, 0x100u, 0x2Eu, 1);
          return 0;
        case 0xAu:
          v11 = dword_49D978++ + 1;
          if ( dword_49D978 != 20 )
            goto LABEL_56;
          goto LABEL_55;
        case 0xDu:
          dword_49D974 = 0;
          v12 = dword_49D978++ + 1;
          if ( dword_49D978 == 20 )
          {
            v12 = 19;
            dword_49D978 = 19;
          }
          if ( v12 <= dword_49D97C + 7 )
            goto LABEL_74;
          ++dword_49D97C;
          return 0;
        case 0x1Bu:
          goto LABEL_74;
        default:
          v13 = dword_49D974;
          v14 = dword_49D978;
          if ( wParam != 32 || (v15 = dword_49D974 + 36 * dword_49D978, *(&byte_1329F74 + v15) >= 0) )
          {
            if ( !dword_49D980 && dword_49D974 >= 34 && (wParam & 0x80u) != 0 )
            {
              v14 = dword_49D978 + 1;
              dword_49D978 = v14;
              if ( v14 == 20 )
              {
                v14 = 19;
                v13 = 34;
                dword_49D978 = 19;
              }
              else
              {
                v13 = 0;
              }
              if ( v14 > dword_49D97C + 7 )
                ++dword_49D97C;
            }
            *((_BYTE *)&byte_1329F74 + 36 * v14 + v13) = wParam;
            if ( (wParam & 0x80u) != 0 )
              dword_49D980 ^= 1u;
            dword_49D974 = v13 + 1;
            if ( v13 + 1 >= 35 )
            {
              v17 = v14 + 1;
              dword_49D978 = v17;
              if ( v17 == 20 )
              {
                v17 = 19;
                dword_49D974 = 34;
                dword_49D978 = 19;
              }
              else
              {
                dword_49D974 = 0;
              }
              if ( v17 > dword_49D97C + 7 )
                ++dword_49D97C;
            }
          }
          else
          {
            v16 = dword_49D974 + 2;
            *((_BYTE *)&byte_1329F74 + v15) = 32;
            byte_1329F75[v15] = 32;
            dword_49D974 = v16;
            if ( v16 >= 35 )
            {
              v11 = v14 + 1;
              dword_49D974 = 0;
              dword_49D978 = v11;
              if ( v11 == 20 )
              {
LABEL_55:
                v11 = 19;
                dword_49D978 = 19;
              }
LABEL_56:
              if ( v11 > dword_49D97C + 7 )
              {
                ++dword_49D97C;
                return 0;
              }
            }
          }
LABEL_74:
          result = 0;
          break;
      }
      break;
    default:
LABEL_3:
      result = CallWindowProcA(lpPrevWndFunc, hWnd, Msg, wParam, lParam);
      break;
  }
  return result;
}
// 49D974: using guessed type int dword_49D974;
// 49D978: using guessed type int dword_49D978;
// 49D97C: using guessed type int dword_49D97C;
// 49D980: using guessed type int dword_49D980;
// 132A268: using guessed type int dword_132A268;
// 1330090: using guessed type int dword_1330090;
// 13300E4: using guessed type char byte_13300E4;
// 1330110: using guessed type int dword_1330110;

//----- (00418420) --------------------------------------------------------
void __stdcall __noreturn StartAddress(LPVOID lpThreadParameter)
{
  DWORD v1; // esi
  DWORD v2; // eax

  v1 = GetTickCount();
  while ( dword_13300BC < 100 )
  {
    v2 = GetTickCount();
    if ( v2 - v1 > 0x64 )
    {
      v1 = v2;
      sub_456570();
    }
    sub_479930();
  }
  ExitThread(0);
}
// 13300BC: using guessed type int dword_13300BC;

//----- (00418470) --------------------------------------------------------
LRESULT __stdcall sub_418470(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam)
{
  HWND v4; // eax
  HWND v5; // ecx
  int v6; // esi
  LPCSTR *v7; // edi
  int v8; // eax
  int v9; // esi
  LPCSTR *v10; // edi
  int v11; // eax
  LRESULT result; // eax
  char v13; // al
  signed int v14; // ebx
  char v15; // cl
  int v16; // esi
  int *v17; // edi
  int v18; // edx
  char v19; // al
  int v20; // esi
  int *v21; // edi
  int v22; // edx
  signed int v23; // eax
  char v24; // cl
  signed int v25; // esi
  LPCSTR v26; // eax
  LPCSTR v27; // ST38_4
  int v28; // eax
  HWND v29; // eax
  signed int i; // esi
  signed int j; // esi
  int v32; // eax
  signed int k; // esi
  bool v34; // zf
  bool v35; // sf
  unsigned __int8 v36; // of
  int v37; // eax

  if ( (unsigned __int8)dword_49D8F8 == 1 )
  {
    if ( Msg > 0x102 )
    {
      switch ( Msg )
      {
        case 0x200u:
          v37 = dword_154744C;
          dword_1542DA8[dword_154744C] = (unsigned int)lParam >> 16;
          dword_1541BE0[v37] = (unsigned __int16)lParam;
          dword_1547910[v37] = 0;
          dword_49D8A0 = (unsigned int)lParam >> 16;
          dword_49D89C = (unsigned __int16)lParam;
          dword_154744C = v37 + 1;
          if ( v37 + 1 > 11 )
LABEL_503:
            dword_154744C = 0;
          goto LABEL_504;
        case 0x201u:
          dword_49D890 = 1;
          return 0;
        case 0x202u:
          dword_49D890 = 0;
          switch ( byte_1330049 )
          {
            case 1:
              if ( dword_49D89C > 169
                && dword_49D89C < (unsigned __int16)dword_11FDD50 + 169
                && dword_49D8A0 > 535
                && dword_49D8A0 < HIWORD(dword_11FDD50) + 535
                && dword_1322624 == 2 )
              {
                byte_133004A = 1;
                byte_1330049 = 2;
                sub_416860(20, 0, 0, 0, 0);
                sub_416860(12, 0, 0, 0, 0);
                return 0;
              }
              if ( dword_49D89C > 290
                && dword_49D89C < (unsigned __int16)dword_11FDD5C + 290
                && dword_49D8A0 > 535
                && dword_49D8A0 < HIWORD(dword_11FDD5C) + 535 )
              {
                SetFocus(hWndParent);
                sub_416860(20, 0, 0, 0, 0);
                sub_416860(12, 0, 0, 0, 0);
                byte_133004A = 1;
                byte_1330049 = 3;
                return 0;
              }
              if ( dword_49D89C <= 410
                || dword_49D89C >= (unsigned __int16)dword_11FDD68 + 410
                || dword_49D8A0 <= 535
                || dword_49D8A0 >= HIWORD(dword_11FDD68) + 535 )
              {
                return 0;
              }
              sub_416860(18, 0, 0, 0, 0);
              dword_49D00C = 1;
              return 0;
            case 2:
              if ( byte_133004A )
                return 0;
              if ( dword_49D89C > 417 && dword_49D89C < 467 && dword_49D8A0 > 378 && dword_49D8A0 < 399 )
              {
                sub_416860(22, 0, 0, 0, 0);
                SetFocus(hWndParent);
                byte_133004A = 7;
                return 0;
              }
              if ( dword_49D89C > 474 && dword_49D89C < 547 && dword_49D8A0 > 378 && dword_49D8A0 < 399 )
              {
                sub_416860(22, 0, 0, 0, 0);
                byte_133004A = 8;
                SetFocus(hWndParent);
                return 0;
              }
              if ( dword_49D89C <= 355 || dword_49D89C >= 546 )
                return 0;
              if ( dword_49D8A0 > 220 && dword_49D8A0 < 241 )
              {
                byte_133004A = 1;
                SetFocus(hWndParent);
                return 0;
              }
              if ( dword_49D89C >= 546 )
                return 0;
              if ( dword_49D8A0 > 245 && dword_49D8A0 < 266 )
              {
                byte_133004A = 2;
                SetFocus(hWndParent);
                return 0;
              }
              if ( dword_49D89C >= 546 )
                return 0;
              if ( dword_49D8A0 > 270 && dword_49D8A0 < 291 )
              {
                byte_133004A = 3;
                SetFocus(hWndParent);
                return 0;
              }
              if ( dword_49D89C >= 546 )
                return 0;
              if ( dword_49D8A0 > 295 && dword_49D8A0 < 316 )
              {
                SetWindowPos(dword_49D020, 0, 0, 0, 80, 1, 0);
                SetWindowTextA(dword_49D020, dword_1324F5C);
                SetFocus(dword_49D020);
                GetWindowTextA(dword_49D020, byte_13226B0, 25);
                for ( i = 0; i < (signed int)strlen(dword_1324F5C); ++i )
                  SendMessageA(dword_49D020, 0x100u, 0x27u, 1);
                byte_133004A = 4;
                return 0;
              }
              if ( dword_49D89C >= 546 )
                return 0;
              if ( dword_49D8A0 > 320 && dword_49D8A0 < 341 )
              {
                byte_133004A = 5;
                SetFocus(hWndParent);
                return 0;
              }
              if ( dword_49D89C >= 546 || dword_49D8A0 <= 345 || dword_49D8A0 >= 366 )
                return 0;
              SetWindowPos(dword_49D020, 0, 0, 0, 230, 1, 0);
              SetWindowTextA(dword_49D020, &byte_1322688);
              SetFocus(dword_49D020);
              GetWindowTextA(dword_49D020, byte_13226B0, 25);
              for ( j = 0; j < (signed int)strlen(&byte_1322688); ++j )
                SendMessageA(dword_49D020, 0x100u, 0x27u, 1);
              byte_133004A = 6;
              return 0;
            case 3:
              if ( byte_133004A )
                return 0;
              if ( dword_49D89C > 416 && dword_49D89C < 466 && dword_49D8A0 > 328 && dword_49D8A0 < 349 )
              {
                sub_416860(22, 0, 0, 0, 0);
                sub_416860(12, 0, 0, 0, 0);
                byte_133004A = 3;
                return 0;
              }
              if ( dword_49D89C > 473 && dword_49D89C < 546 && dword_49D8A0 > 328 && dword_49D8A0 < 349 )
              {
                byte_133004A = 4;
                sub_416860(22, 0, 0, 0, 0);
                sub_416860(12, 0, 0, 0, 0);
                return 0;
              }
              if ( dword_49D89C <= 355 || dword_49D89C >= 545 )
                return 0;
              if ( dword_49D8A0 > 270 && dword_49D8A0 < 290 )
              {
                byte_133004A = 1;
                return 0;
              }
              if ( dword_49D89C >= 545 || dword_49D8A0 <= 295 || dword_49D8A0 >= 315 )
                return 0;
              byte_133004A = 2;
              return 0;
            case 5:
              if ( byte_133004A )
                return 0;
              if ( dword_49D89C > 121 && dword_49D89C < 224 && dword_49D8A0 > 124 && dword_49D8A0 < 405 )
              {
                byte_133004A = 1;
                return 0;
              }
              if ( dword_49D89C > 236 && dword_49D89C < 339 && dword_49D8A0 > 124 && dword_49D8A0 < 405 )
              {
                byte_133004A = 2;
                return 0;
              }
              if ( dword_49D89C > 350 && dword_49D89C < 453 && dword_49D8A0 > 124 && dword_49D8A0 < 405 )
              {
                byte_133004A = 3;
                return 0;
              }
              if ( dword_49D89C > 465 && dword_49D89C < 568 && dword_49D8A0 > 124 && dword_49D8A0 < 405 )
              {
                byte_133004A = 4;
                return 0;
              }
              if ( dword_49D89C > 580 && dword_49D89C < 683 && dword_49D8A0 > 124 && dword_49D8A0 < 405 )
              {
                byte_133004A = 5;
                return 0;
              }
              if ( dword_49D89C > 118
                && dword_49D89C < 208
                && dword_49D8A0 > 451
                && dword_49D8A0 < 476
                && (unsigned __int8)dword_132A2BC < 5u )
              {
                byte_1330049 = 6;
                byte_133004A = 0;
                sub_416860(12, 0, 0, 0, 0);
                v32 = 0;
                while ( (unsigned __int8)byte_1328EC2[0] == v32
                     || (unsigned __int8)byte_1328FDE == v32
                     || (unsigned __int8)byte_13290FA == v32
                     || (unsigned __int8)byte_1329216 == v32
                     || (unsigned __int8)byte_1329332 == v32 )
                {
                  if ( ++v32 >= 5 )
                    return 0;
                }
                byte_13226A8 = v32;
                return 0;
              }
              if ( dword_49D89C > 250
                && dword_49D89C < 340
                && dword_49D8A0 > 451
                && dword_49D8A0 < 476
                && byte_1329448 != -1 )
              {
                byte_133004A = 7;
                return 0;
              }
              if ( dword_49D89C > 463
                && dword_49D89C < 545
                && dword_49D8A0 > 451
                && dword_49D8A0 < 476
                && byte_1329448 != -1 )
              {
                byte_133004A = 8;
                return 0;
              }
              if ( dword_49D89C > 591 && dword_49D89C < 681 && dword_49D8A0 > 451 && dword_49D8A0 < 476 )
              {
                byte_133004A = 9;
                return 0;
              }
              return 0;
            case 7:
              if ( byte_133004A )
                return 0;
              SetFocus(hWndParent);
              if ( dword_133006C )
              {
                if ( dword_133006C != 1 )
                  return 0;
                if ( dword_49D89C > 285 && dword_49D89C < 353 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
                {
                  sub_416860(12, 0, 0, 0, 0);
                  byte_133004A = 1;
                  return 0;
                }
                if ( dword_49D89C > 446 && dword_49D89C < 514 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
                {
                  byte_133004A = 2;
                  return 0;
                }
                if ( dword_49D89C > 362 && dword_49D89C < 372 && dword_49D8A0 > 257 && dword_49D8A0 < 267 )
                {
                  byte_133004A = 3;
                  return 0;
                }
                if ( dword_49D89C > 429 && dword_49D89C < 439 && dword_49D8A0 > 257 && dword_49D8A0 < 267 )
                {
                  byte_133004A = 4;
                  return 0;
                }
                return 0;
              }
              if ( dword_49D89C > 285 && dword_49D89C < 353 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
              {
                byte_133004A = 1;
                return 0;
              }
              if ( dword_49D89C > 446 && dword_49D89C < 514 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
              {
                sub_416860(12, 0, 0, 0, 0);
                byte_133004A = 2;
                return 0;
              }
              if ( dword_49D89C > 347 && dword_49D89C < 357 && dword_49D8A0 > 114 && dword_49D8A0 < 124 )
              {
                byte_133004A = 3;
                return 0;
              }
              if ( dword_49D89C > 494 && dword_49D89C < 504 && dword_49D8A0 > 114 && dword_49D8A0 < 124 )
              {
                byte_133004A = 17;
                return 0;
              }
              if ( dword_49D89C > 347 && dword_49D89C < 357 && dword_49D8A0 > 141 && dword_49D8A0 < 151 )
              {
                byte_133004A = 4;
                return 0;
              }
              if ( dword_49D89C > 494 && dword_49D89C < 504 && dword_49D8A0 > 141 && dword_49D8A0 < 151 )
              {
                byte_133004A = 18;
                return 0;
              }
              if ( dword_49D89C > 332 && dword_49D89C < 514 && dword_49D8A0 > 190 && dword_49D8A0 < 208 )
              {
                SetWindowPos(dword_49D020, 0, 0, 0, 80, 1, 0);
                SetWindowTextA(dword_49D020, &byte_132942C);
                SetFocus(dword_49D020);
                GetWindowTextA(dword_49D020, byte_13226B0, 25);
                for ( k = 0; k < (signed int)strlen(&byte_132942C); ++k )
                  SendMessageA(dword_49D020, 0x100u, 0x27u, 1);
                byte_133004A = 5;
                return 0;
              }
              if ( dword_49D89C > 347 && dword_49D89C < 357 && dword_49D8A0 > 167 && dword_49D8A0 < 177 )
              {
                byte_133004A = 6;
                return 0;
              }
              if ( dword_49D89C <= 494 )
                goto LABEL_420;
              v36 = __OFSUB__(dword_49D89C, 504);
              v34 = dword_49D89C == 504;
              v35 = dword_49D89C - 504 < 0;
              if ( dword_49D89C < 504 )
              {
                if ( dword_49D8A0 > 167 && dword_49D8A0 < 177 )
                {
                  byte_133004A = 6;
                  return 0;
                }
LABEL_420:
                v36 = __OFSUB__(dword_49D89C, 504);
                v34 = dword_49D89C == 504;
                v35 = dword_49D89C - 504 < 0;
              }
              if ( !((unsigned __int8)(v35 ^ v36) | v34) && dword_49D89C < 513 )
              {
                if ( dword_49D8A0 > 246 && dword_49D8A0 < 255 )
                {
                  byte_133004A = 11;
                  return 0;
                }
                if ( dword_49D89C < 513 )
                {
                  if ( dword_49D8A0 > 271 && dword_49D8A0 < 280 )
                  {
                    byte_133004A = 12;
                    return 0;
                  }
                  if ( dword_49D89C < 513 )
                  {
                    if ( dword_49D8A0 > 295 && dword_49D8A0 < 304 )
                    {
                      byte_133004A = 13;
                      return 0;
                    }
                    if ( dword_49D89C < 513 )
                    {
                      if ( dword_49D8A0 > 319 && dword_49D8A0 < 328 )
                      {
                        byte_133004A = 14;
                        return 0;
                      }
                      if ( dword_49D89C < 513 )
                      {
                        if ( dword_49D8A0 > 371 && dword_49D8A0 < 380 )
                        {
                          byte_133004A = 15;
                          return 0;
                        }
                        if ( dword_49D89C < 513 )
                        {
                          if ( dword_49D8A0 > 396 && dword_49D8A0 < 405 )
                          {
                            byte_133004A = 16;
                            return 0;
                          }
                          if ( dword_49D89C < 513 )
                          {
                            if ( dword_49D8A0 > 255 && dword_49D8A0 < 264 )
                            {
                              byte_133004A = 20;
                              return 0;
                            }
                            if ( dword_49D89C < 513 )
                            {
                              if ( dword_49D8A0 > 280 && dword_49D8A0 < 289 )
                              {
                                byte_133004A = 21;
                                return 0;
                              }
                              if ( dword_49D89C < 513 )
                              {
                                if ( dword_49D8A0 > 304 && dword_49D8A0 < 313 )
                                {
                                  byte_133004A = 22;
                                  return 0;
                                }
                                if ( dword_49D89C < 513 )
                                {
                                  if ( dword_49D8A0 > 328 && dword_49D8A0 < 337 )
                                  {
                                    byte_133004A = 23;
                                    return 0;
                                  }
                                  if ( dword_49D89C < 513 )
                                  {
                                    if ( dword_49D8A0 > 380 && dword_49D8A0 < 389 )
                                    {
                                      byte_133004A = 24;
                                      return 0;
                                    }
                                    if ( dword_49D89C < 513 && dword_49D8A0 > 405 && dword_49D8A0 < 414 )
                                    {
                                      byte_133004A = 25;
                                      return 0;
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
              break;
            default:
              return 0;
          }
          return 0;
        case 0x204u:
          return 0;
        case 0x205u:
          if ( byte_1330049 != 7 || byte_133004A )
            return 0;
          if ( dword_49D89C <= 423 )
            goto LABEL_485;
          if ( dword_49D89C < 557 && dword_49D8A0 > 118 && dword_49D8A0 < 139 )
          {
            byte_133004A = 17;
            return 0;
          }
          if ( dword_49D89C >= 606 )
            goto LABEL_485;
          if ( dword_49D8A0 > 145 && dword_49D8A0 < 164 )
          {
            byte_133004A = 18;
            return 0;
          }
          if ( dword_49D89C < 606 && dword_49D8A0 > 172 && dword_49D8A0 < 191 )
          {
            byte_133004A = 6;
            return 0;
          }
LABEL_485:
          if ( dword_49D89C <= 451 || dword_49D89C >= 460 )
            return 0;
          if ( dword_49D8A0 > 254 && dword_49D8A0 < 263 )
          {
            byte_133004A = 20;
            return 0;
          }
          if ( dword_49D89C >= 460 )
            return 0;
          if ( dword_49D8A0 > 279 && dword_49D8A0 < 288 )
          {
            byte_133004A = 21;
            return 0;
          }
          if ( dword_49D89C >= 460 )
            return 0;
          if ( dword_49D8A0 > 303 && dword_49D8A0 < 312 )
          {
            byte_133004A = 22;
            return 0;
          }
          if ( dword_49D89C >= 460 || dword_49D8A0 <= 328 || dword_49D8A0 >= 337 )
            return 0;
          byte_133004A = 23;
          result = 0;
          break;
        default:
          goto LABEL_504;
      }
      return result;
    }
    if ( Msg == 258 )
    {
      byte_13300E4 = wParam;
      return 0;
    }
    if ( Msg > 0x7B )
    {
      if ( Msg == 256 )
      {
        if ( wParam != 9 && wParam == 44 )
          return 0;
        dword_1330110 = 1;
        byte_1330114[wParam] = 1;
        if ( wParam == 93 )
          SetFocus(hWndParent);
        goto LABEL_504;
      }
      if ( Msg != 257 )
        goto LABEL_504;
      if ( wParam == 93 )
        SetFocus(hWndParent);
      if ( byte_1330049 == 2 )
      {
        if ( !byte_133004A )
        {
          if ( wParam == 13 )
          {
            SetFocus(hWndParent);
            byte_1330114[13] = 0;
            byte_133004A = 7;
            return 0;
          }
          if ( wParam == 27 )
          {
            byte_133004A = 8;
            SetFocus(hWndParent);
          }
        }
      }
      else if ( byte_1330049 == 3 )
      {
        if ( !byte_133004A )
        {
          if ( wParam == 13 )
          {
            byte_1330114[13] = 0;
            byte_133004A = 3;
            return 0;
          }
          if ( wParam == 27 )
          {
            byte_1330114[27] = 0;
            byte_133004A = 4;
            return 0;
          }
        }
      }
      else if ( byte_1330049 == 7 && wParam == 27 )
      {
        byte_1330114[27] = 0;
        byte_1330049 = 5;
        return 0;
      }
      byte_1330114[wParam] = 0;
      return 0;
    }
    switch ( Msg )
    {
      case 0x7Bu:
        return 0;
      case 2u:
        if ( !dword_49D968 )
        {
          sub_46F4A0((int)(&lpString)[dword_131D690]);
          sub_4169E0();
          PostQuitMessage(0);
        }
        return 0;
      case 0x10u:
        if ( !dword_49D968 )
        {
          if ( byte_1330126 || byte_1330187 )
            return 0;
          sub_4169E0();
        }
        exit(0);
        break;
    }
    if ( Msg != 28 )
      goto LABEL_504;
    if ( !dword_1322620 )
      goto LABEL_168;
    if ( wParam )
    {
      v29 = GetForegroundWindow();
      v5 = hWndParent;
      if ( v29 == hWndParent )
      {
LABEL_175:
        if ( !dword_49D968 )
        {
LABEL_176:
          if ( !dword_4862F0 )
          {
            dword_4862F0 = 1;
            ShowWindow(v5, 1);
            SetFocus(hWndParent);
            sub_479C90(hWndParent, 0x320u, 0x258u, 0x10u);
            sub_4770A0();
          }
          dword_4862F0 = 1;
          return 0;
        }
        return 0;
      }
    }
    else
    {
      v5 = hWndParent;
    }
    if ( byte_1330049 == 1 )
      goto LABEL_174;
    goto LABEL_175;
  }
  if ( (unsigned __int8)dword_49D8F8 != 2 )
    goto LABEL_504;
  if ( Msg > 0x102 )
  {
    switch ( Msg )
    {
      case 0x111u:
        return 0;
      case 0x200u:
        v28 = dword_154744C;
        dword_1542DA8[dword_154744C] = (unsigned int)lParam >> 16;
        dword_1541BE0[v28] = (unsigned __int16)lParam;
        dword_1547910[v28] = 10;
        dword_49D8A0 = (unsigned int)lParam >> 16;
        dword_49D89C = (unsigned __int16)lParam;
        dword_154744C = v28 + 1;
        if ( v28 + 1 > 5 )
          goto LABEL_503;
        goto LABEL_504;
      case 0x201u:
        if ( dword_13225DC )
          return 0;
        if ( (dword_49D890 = 1, dword_49D8A0 <= 454) && dword_49D8A0 >= 43 && (!byte_1328E45 || dword_49D89C <= 504)
          || (_BYTE)dword_13246D8 )
        {
          if ( !byte_1330094 )
            return 0;
        }
        sub_444350();
        return 0;
      case 0x202u:
        if ( dword_13225DC )
          return 0;
        v23 = dword_49D8A0;
        dword_49D890 = 0;
        if ( dword_49D8A0 > 454
          || (v24 = byte_1328E45, v25 = dword_49D89C, byte_1328E45) && dword_49D89C > 504
          || byte_1330094 )
        {
          sub_446640();
          v25 = dword_49D89C;
          v23 = dword_49D8A0;
          v24 = byte_1328E45;
        }
        if ( dword_48EC4C == 6 )
          goto LABEL_149;
        if ( v23 >= 454 )
          return 0;
        if ( (!v24 || v25 < 504) && !(_BYTE)dword_13246D8 && !byte_1330094 )
        {
          sub_4419E0();
          return 0;
        }
LABEL_149:
        if ( v23 >= 454 || v24 != 3 || v25 >= 504 || (_BYTE)dword_13246D8 != 2 )
          return 0;
        if ( dword_48CCE4 == -1
          || (v26 = (&lpString)[dword_48CCE4], *((_DWORD *)v26 + 17))
          || !_strcmpi(v26, byte_49D994) )
        {
          LOBYTE(dword_13246D8) = 0;
          result = 0;
        }
        else
        {
          LOBYTE(dword_13246D8) = 19;
          v27 = (&lpString)[dword_48CCE4];
          dword_13194B4 = *((_DWORD *)v27 + 14);
          byte_1330080 = 1;
          sprintf(byte_1324784, aS_2, v27);
          dword_1330084 = 2;
          HIBYTE(dword_13246DC) = 0;
          strcpy((char *)&unk_13247E8, (const char *)&unk_4869E0);
          SetFocus(hWndParent);
          _itoa(dword_13246D4, byte_1328DC0, 10);
          dword_1329428 = 1;
          byte_13300E4 = 0;
          result = 0;
        }
        return result;
      case 0x204u:
        if ( dword_13225DC )
          return 0;
        v19 = byte_1328E45;
        if ( (_BYTE)dword_13246D8
          || (unsigned __int8)byte_1328E45 < 3u
          || (unsigned __int8)byte_1328E45 > 4u && byte_1328E45 != 12
          || dword_49D8A0 <= 284 )
        {
          goto LABEL_119;
        }
        v20 = 0;
        v21 = dword_48CEC8;
        do
        {
          x = 47 * (v20 % 5) + 537;
          v34 = *v21 == -1;
          y = 47 * (v20 / 5) + 284;
          if ( !v34
            && dword_49D89C > 47 * (v20 % 5) + 537
            && dword_49D89C < 47 * (v20 % 5) + 577
            && dword_49D8A0 > 47 * (v20 / 5) + 284
            && dword_49D8A0 < 47 * (v20 / 5) + 324 )
          {
            v22 = dword_48CECC[2 * v20];
            dword_13246D0 = dword_48CEC8[2 * v20];
            dword_13246D4 = v22;
            LOBYTE(dword_13246D8) = 29;
            sub_416860(16, 0, 0, 0, 0);
            return 0;
          }
          v21 += 2;
          ++v20;
        }
        while ( (signed int)v21 < (signed int)&unk_48CF40 );
        v19 = byte_1328E45;
LABEL_119:
        if ( !v19
          || v19 == 12
          || dword_49D89C <= 504
          || dword_49D8A0 >= 452
          || (_BYTE)dword_13246D8
          || dword_133007C
          || byte_1330080 )
        {
          sub_433D80();
          return 0;
        }
        return 0;
      case 0x205u:
        if ( dword_13225DC )
          return 0;
        v13 = dword_13246D8;
        v14 = dword_49D8A0;
        v15 = byte_1328E45;
        if ( (_BYTE)dword_13246D8 != 29 )
          goto LABEL_95;
        if ( (unsigned __int8)byte_1328E45 < 3u
          || (unsigned __int8)byte_1328E45 > 4u && byte_1328E45 != 12
          || dword_49D8A0 <= 284 )
        {
          goto LABEL_94;
        }
        v16 = 0;
        v17 = dword_48CEC8;
        break;
      default:
        goto LABEL_504;
    }
    do
    {
      x = 47 * (v16 % 5) + 537;
      v18 = *v17;
      v34 = *v17 == -1;
      y = 47 * (v16 / 5) + 284;
      if ( !v34 )
      {
        if ( dword_49D89C <= 47 * (v16 % 5) + 537 || dword_49D89C >= 47 * (v16 % 5) + 577 )
        {
          v14 = dword_49D8A0;
        }
        else
        {
          v14 = dword_49D8A0;
          if ( dword_49D8A0 > 47 * (v16 / 5) + 284 && dword_49D8A0 < 47 * (v16 / 5) + 324 && v18 == dword_13246D0 )
          {
            sub_4442B0();
            dword_13246D0 = -1;
            dword_13246D4 = 0;
            sub_416860(16, 0, 0, 0, 0);
            dword_49D870 = 0;
            return 0;
          }
        }
      }
      v17 += 2;
      ++v16;
    }
    while ( (signed int)v17 < (signed int)&unk_48CF40 );
    v15 = byte_1328E45;
LABEL_94:
    v13 = 0;
    LOBYTE(dword_13246D8) = 0;
LABEL_95:
    if ( v15 && v15 != 12 && dword_49D89C > 504 && v14 < 452 && !v13 && !dword_133007C && !byte_1330080 )
    {
      byte_1328E45 = 0;
      LOBYTE(dword_13246D8) = 0;
      dword_1330064 = 0;
    }
    dword_49D870 = 0;
    result = 0;
  }
  else
  {
    if ( Msg == 258 )
    {
      if ( !dword_132261C )
      {
        byte_13300E4 = wParam;
        return 0;
      }
      return 0;
    }
    if ( Msg <= 0x7B )
    {
      if ( Msg != 123 )
      {
        if ( Msg == 2 )
        {
          if ( !dword_49D968 )
          {
            v9 = 0;
            if ( dword_1317E74 > 0 )
            {
              v10 = &lpString;
              do
              {
                v11 = (int)*v10;
                if ( *((_DWORD *)*v10 + 17) && *(_DWORD *)(v11 + 76) )
                  sub_46F5D0(v11, (int)(&lpString)[dword_131D690]);
                ++v9;
                ++v10;
              }
              while ( v9 < dword_1317E74 );
            }
            sub_46F4A0((int)(&lpString)[dword_131D690]);
            sub_4169E0();
          }
          exit(0);
        }
        if ( Msg != 16 )
        {
          if ( Msg == 28 )
          {
            if ( dword_1322620 )
            {
              if ( wParam )
              {
                v4 = GetForegroundWindow();
                v5 = hWndParent;
                if ( v4 != hWndParent )
                  goto LABEL_174;
                if ( dword_49D968 )
                  return 0;
                goto LABEL_176;
              }
              v5 = hWndParent;
LABEL_174:
              ShowWindow(v5, 2);
              dword_4862F0 = 0;
              return 0;
            }
LABEL_168:
            dword_4862F0 = 1;
            ShowWindow(hWndParent, 1);
            SetFocus(hWndParent);
            sub_479C90(hWndParent, 0x320u, 0x258u, 0x10u);
            sub_4770A0();
            return 0;
          }
          goto LABEL_504;
        }
        if ( dword_49D968 )
LABEL_27:
          exit(0);
        if ( !byte_1330126 && !byte_1330187 )
        {
          v6 = 0;
          if ( dword_1317E74 > 0 )
          {
            v7 = &lpString;
            do
            {
              v8 = (int)*v7;
              if ( *((_DWORD *)*v7 + 17) && *(_DWORD *)(v8 + 76) )
                sub_46F5D0(v8, (int)(&lpString)[dword_131D690]);
              ++v6;
              ++v7;
            }
            while ( v6 < dword_1317E74 );
          }
          sub_46F4A0((int)(&lpString)[dword_131D690]);
          sub_4169E0();
          goto LABEL_27;
        }
      }
      return 0;
    }
    if ( Msg != 256 )
    {
      if ( Msg == 257 )
      {
        byte_1330114[wParam] = 0;
        switch ( wParam )
        {
          case 0x2Cu:
            byte_1317E78 = 1;
            break;
          case 9u:
            if ( (_BYTE)dword_48CFC8 )
            {
              if ( (unsigned __int8)dword_48CFC8 == 2 )
              {
                sub_416860(10, 0, 0, 0, 0);
                sub_416860(12, 0, 0, 0, 0);
                sub_416860(14, 0, 0, 0, 0);
                LOBYTE(dword_48CFC8) = 3;
                dword_13246A0 = 0;
                dword_132FFCC = -20;
              }
            }
            else
            {
              sub_416860(10, 0, 0, 0, 0);
              sub_416860(12, 0, 0, 0, 0);
              sub_416860(14, 0, 0, 0, 0);
              LOBYTE(dword_48CFC8) = 1;
              dword_13246A0 = -50;
              dword_132FFCC = 0;
            }
            break;
          case 0xDu:
            if ( dword_1329428 )
            {
              dword_1329428 = 0;
              break;
            }
            if ( dword_1322680 == 1 || dword_1322680 == 4 )
            {
              if ( (unsigned __int8)dword_13246D8 == 11 )
              {
                byte_1550B60[0] = -9;
                byte_1550B61 = 113;
                dword_1550B62 = 72;
                byte_1550B66 = dword_489040;
              }
              else
              {
                if ( (unsigned __int8)dword_13246D8 != 12 )
                  break;
                byte_1550B60[0] = -9;
                byte_1550B61 = 113;
                dword_1550B62 = 83;
                byte_1550B66 = dword_489040;
              }
              LOBYTE(dword_1550B67) = HIBYTE(dword_13246D0);
              BYTE1(dword_1550B67) = BYTE2(dword_13246D0);
              BYTE2(dword_1550B67) = BYTE1(dword_13246D0);
              HIBYTE(dword_1550B67) = dword_13246D0;
              sub_479790(11);
              break;
            }
            if ( (unsigned __int8)dword_13246D8 < 9u && GetFocus() != ::hWnd )
            {
              String = 0;
              SetWindowTextA(::hWnd, byte_49D994);
              SetFocus(::hWnd);
              dword_133003C = 1;
            }
            break;
          case 0x73u:
            dword_48CFA0 ^= 1u;
            break;
        }
        if ( !(_BYTE)dword_13246D8 && !dword_133007C && !byte_1330080 )
        {
          sub_45E3C0(wParam);
          return 0;
        }
        return 0;
      }
LABEL_504:
      if ( dword_49D930 )
        result = sub_433AC0(hWnd, Msg, wParam, lParam);
      else
        result = sub_42EDB0(hWnd, Msg, wParam, lParam);
      return result;
    }
    dword_1330110 = 1;
    byte_1330114[wParam] = 1;
    switch ( wParam )
    {
      case 8u:
      case 9u:
      case 0xDu:
      case 0x10u:
        return 0;
      case 0x1Bu:
        if ( dword_133002C >= dword_1330020 )
          return 0;
        dword_133002C = dword_1330020;
        return 0;
      case 0x20u:
        if ( dword_133002C >= dword_1330020 )
          return 0;
        ++dword_133002C;
        return 0;
      case 0x70u:
      case 0x71u:
      case 0x72u:
      case 0x73u:
      case 0x74u:
      case 0x75u:
      case 0x76u:
      case 0x77u:
      case 0x78u:
      case 0x79u:
        if ( byte_1324782 == 2 )
          return 0;
        sub_45DEE0(wParam);
        return 0;
      default:
        if ( !dword_1322624 )
          return 0;
        byte_1330125 = 0;
        result = 0;
        break;
    }
  }
  return result;
}
// 4862F0: using guessed type int dword_4862F0;
// 489040: using guessed type int dword_489040;
// 48CCE4: using guessed type int dword_48CCE4;
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CFA0: using guessed type int dword_48CFA0;
// 48CFC8: using guessed type int dword_48CFC8;
// 48EC4C: using guessed type int dword_48EC4C;
// 49D00C: using guessed type int dword_49D00C;
// 49D870: using guessed type int dword_49D870;
// 49D890: using guessed type int dword_49D890;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 49D8F8: using guessed type int dword_49D8F8;
// 49D930: using guessed type int dword_49D930;
// 49D968: using guessed type int dword_49D968;
// 11FDD50: using guessed type int dword_11FDD50;
// 11FDD5C: using guessed type int dword_11FDD5C;
// 11FDD68: using guessed type int dword_11FDD68;
// 1317E74: using guessed type int dword_1317E74;
// 1317E78: using guessed type char byte_1317E78;
// 13194B4: using guessed type int dword_13194B4;
// 131D690: using guessed type int dword_131D690;
// 13225DC: using guessed type int dword_13225DC;
// 132261C: using guessed type int dword_132261C;
// 1322620: using guessed type int dword_1322620;
// 1322624: using guessed type int dword_1322624;
// 1322680: using guessed type int dword_1322680;
// 13226A8: using guessed type char byte_13226A8;
// 13246A0: using guessed type int dword_13246A0;
// 13246D0: using guessed type int dword_13246D0;
// 13246D8: using guessed type int dword_13246D8;
// 13246DC: using guessed type int dword_13246DC;
// 1324782: using guessed type char byte_1324782;
// 1328E45: using guessed type char byte_1328E45;
// 1328FDE: using guessed type char byte_1328FDE;
// 13290FA: using guessed type char byte_13290FA;
// 1329216: using guessed type char byte_1329216;
// 1329332: using guessed type char byte_1329332;
// 1329428: using guessed type int dword_1329428;
// 1329448: using guessed type char byte_1329448;
// 132A2BC: using guessed type int dword_132A2BC;
// 132FFCC: using guessed type int dword_132FFCC;
// 1330020: using guessed type int dword_1330020;
// 133002C: using guessed type int dword_133002C;
// 133003C: using guessed type int dword_133003C;
// 1330049: using guessed type char byte_1330049;
// 133004A: using guessed type char byte_133004A;
// 1330064: using guessed type int dword_1330064;
// 133006C: using guessed type int dword_133006C;
// 133007C: using guessed type int dword_133007C;
// 1330080: using guessed type char byte_1330080;
// 1330084: using guessed type int dword_1330084;
// 1330094: using guessed type char byte_1330094;
// 13300E4: using guessed type char byte_13300E4;
// 1330110: using guessed type int dword_1330110;
// 1330125: using guessed type char byte_1330125;
// 1330126: using guessed type char byte_1330126;
// 1330187: using guessed type char byte_1330187;
// 154744C: using guessed type int dword_154744C;
// 1550B61: using guessed type char byte_1550B61;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;
// 1550B67: using guessed type int dword_1550B67;

//----- (0041A2C0) --------------------------------------------------------
signed int sub_41A2C0()
{
  dword_132264C = 0;
  *(_DWORD *)&hostshort = 7129;
  sub_479300((int)&hWndParent, cp);
  while ( 1 )
  {
    if ( dword_4862F0 )
    {
      sub_4773E0();
      dword_1547438 = (int)dword_6BDF00;
      sub_4562F0();
      sub_4564F0();
      sub_443E60();
      sub_443C70(255, 0, 0);
      sub_443FC0(402, 302, &byte_486A44);
      sub_443FC0(402, 322, &byte_486A24);
      sub_443C70(255, 255, 255);
      sub_443FC0(400, 300, &byte_486A44);
      sub_443FC0(400, 320, &byte_486A24);
      sub_443EA0();
      nullsub_1();
      sub_479E60();
    }
    sub_479930();
    if ( dword_48EC4C == 5 )
      break;
    if ( byte_133012F )
      return 0;
  }
  byte_49CFF0 = 16;
  LOBYTE(dword_1550B62) = 16;
  BYTE1(dword_1550B62) = (char)dword_4862EC / 100;
  byte_1550B60[0] = 113;
  byte_1550B61[0] = -9;
  BYTE2(dword_1550B62) = (unsigned __int16)dword_4862EC % 100;
  sub_479790(5);
  return 1;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862EC: using guessed type int dword_4862EC;
// 4862F0: using guessed type int dword_4862F0;
// 48EC4C: using guessed type int dword_48EC4C;
// 49CFF0: using guessed type char byte_49CFF0;
// 132264C: using guessed type int dword_132264C;
// 133012F: using guessed type char byte_133012F;
// 1547438: using guessed type int dword_1547438;
// 1550B62: using guessed type int dword_1550B62;

//----- (0041A410) --------------------------------------------------------
signed int sub_41A410()
{
  char v1; // bl

  dword_132264C = 0;
  sub_479300((int)&hWndParent, a20324812915);
  while ( 1 )
  {
    if ( dword_4862F0 )
    {
      sub_4773E0();
      dword_1547438 = (int)dword_6BDF00;
      sub_4562F0();
      sub_4564F0();
      sub_443E60();
      sub_443C70(255, 0, 0);
      sub_443FC0(402, 302, &byte_486AA4);
      sub_443C70(255, 255, 255);
      sub_443FC0(400, 300, &byte_486AA4);
      sub_443EA0();
      nullsub_1();
      sub_479E60();
    }
    sub_479930();
    if ( dword_48EC4C == 5 )
      break;
    if ( byte_133012F )
      return 0;
  }
  v1 = byte_49D950;
  if ( !byte_49D950 )
  {
    v1 = 1;
    byte_49D950 = 1;
  }
  byte_49CFF0 = 16;
  LOBYTE(dword_1550B62) = 16;
  BYTE1(dword_1550B62) = (char)dword_4862EC / 100;
  byte_1550B60[0] = 113;
  byte_1550B61[0] = -9;
  HIBYTE(dword_1550B62) = v1;
  BYTE2(dword_1550B62) = (unsigned __int16)dword_4862EC % 100;
  sub_479790(6);
  return 1;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862EC: using guessed type int dword_4862EC;
// 4862F0: using guessed type int dword_4862F0;
// 48EC4C: using guessed type int dword_48EC4C;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D950: using guessed type char byte_49D950;
// 132264C: using guessed type int dword_132264C;
// 133012F: using guessed type char byte_133012F;
// 1547438: using guessed type int dword_1547438;
// 1550B62: using guessed type int dword_1550B62;

//----- (0041A550) --------------------------------------------------------
signed int sub_41A550()
{
  dword_132264C = 0;
  sub_479300((int)&hWndParent, a20324812915);
  while ( 1 )
  {
    if ( dword_4862F0 )
    {
      sub_4773E0();
      dword_1547438 = (int)dword_6BDF00;
      sub_4562F0();
      sub_4564F0();
      sub_443E60();
      sub_443C70(255, 0, 0);
      sub_443FC0(402, 302, &byte_486AA4);
      sub_443C70(255, 255, 255);
      sub_443FC0(400, 300, &byte_486AA4);
      sub_443EA0();
      nullsub_1();
      sub_479E60();
    }
    sub_479930();
    if ( dword_48EC4C == 5 )
      break;
    if ( byte_133012F )
      return 0;
  }
  byte_49CFF0 = 5;
  byte_1550B60[0] = 113;
  byte_1550B61[0] = -9;
  dword_1550B62 = 80;
  sub_479790(6);
  return 1;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862F0: using guessed type int dword_4862F0;
// 48EC4C: using guessed type int dword_48EC4C;
// 49CFF0: using guessed type char byte_49CFF0;
// 132264C: using guessed type int dword_132264C;
// 133012F: using guessed type char byte_133012F;
// 1547438: using guessed type int dword_1547438;
// 1550B62: using guessed type int dword_1550B62;

//----- (0041A650) --------------------------------------------------------
signed int sub_41A650()
{
  char v0; // cl
  signed int v1; // eax
  char v3[24]; // [esp+Ch] [ebp-18h]

  sub_479360((int)&hWndParent, byte_1551F14);
  dword_49D900 = GetTickCount();
  while ( dword_48EC4C != 5 )
    sub_479930();
  v0 = byte_49D88C;
  v1 = 0;
  do
  {
    v3[v1] = v0 ^ byte_1324688[v1];
    ++v1;
  }
  while ( v1 < 21 );
  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  dword_1550B62 = dword_1551738;
  byte_1550B66 = 0;
  LOWORD(dword_1550B67) = 0;
  BYTE2(dword_1550B67) = 0;
  qmemcpy((char *)&dword_1550B67 + 3, v3, 0x14u);
  byte_49CFF0 = 48;
  sub_479790(30);
  dword_49D900 = GetTickCount();
  do
  {
    if ( dword_4862F0 )
    {
      sub_4773E0();
      dword_1547438 = (int)dword_6BDF00;
      sub_4562F0();
      x = word_1317E58;
      y = word_1317E5A;
      dword_1547438 = dword_1317E60;
      sub_4705B0();
      sub_4564F0();
      sub_443E60();
      sub_443C70(255, 0, 0);
      sub_443FC0(402, 302, &byte_486AF4);
      sub_443C70(255, 255, 255);
      sub_443FC0(400, 300, &byte_486AF4);
      sub_443EA0();
      nullsub_1();
      sub_479E60();
    }
    sub_479930();
    if ( byte_49CFF0 == 64 )
      return 1;
  }
  while ( GetTickCount() - dword_49D900 <= 0x4E20 );
  sub_456CE0(&byte_486AD4, byte_49D994);
  byte_133004A = 0;
  byte_49CFF0 = 0;
  byte_13225C0 = 0;
  byte_1330049 = 1;
  return 0;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862F0: using guessed type int dword_4862F0;
// 48EC4C: using guessed type int dword_48EC4C;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D88C: using guessed type char byte_49D88C;
// 49D900: using guessed type int dword_49D900;
// 1317E58: using guessed type __int16 word_1317E58;
// 1317E5A: using guessed type __int16 word_1317E5A;
// 13225C0: using guessed type char byte_13225C0;
// 1330049: using guessed type char byte_1330049;
// 133004A: using guessed type char byte_133004A;
// 1547438: using guessed type int dword_1547438;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;
// 1550B67: using guessed type int dword_1550B67;
// 1551738: using guessed type int dword_1551738;
// 41A650: using guessed type char var_18[24];

//----- (0041A820) --------------------------------------------------------
signed int __cdecl sub_41A820(__int16 a1, __int16 a2)
{
  char v2; // cl
  signed int v3; // eax
  char v5[24]; // [esp+0h] [ebp-18h]

  if ( s )
  {
    closesocket(s);
    s = 0;
  }
  sub_479360((int)&hWndParent, byte_1551F14);
  dword_49D000 = GetTickCount();
  while ( dword_48EC4C != 5 )
    sub_479930();
  v2 = byte_49D88C;
  v3 = 0;
  do
  {
    v5[v3] = v2 ^ byte_1324688[v3];
    ++v3;
  }
  while ( v3 < 21 );
  dword_1550B62 = dword_1551738;
  byte_1550B66 = HIBYTE(a1);
  LOBYTE(dword_1550B67) = a1;
  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  BYTE1(dword_1550B67) = HIBYTE(a2);
  BYTE2(dword_1550B67) = a2;
  qmemcpy((char *)&dword_1550B67 + 3, v5, 0x14u);
  byte_49CFF0 = 48;
  sub_479790(30);
  dword_49D000 = GetTickCount();
  do
  {
    sub_479930();
    if ( byte_49CFF0 == 64 )
      return 1;
  }
  while ( GetTickCount() - dword_49D000 <= 0x4E20 );
  sub_456CE0(&byte_486AD4, byte_49D994);
  byte_1330049 = 1;
  byte_133004A = 0;
  byte_49CFF0 = 0;
  byte_13225C0 = 0;
  return 0;
}
// 48EC4C: using guessed type int dword_48EC4C;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D000: using guessed type int dword_49D000;
// 49D88C: using guessed type char byte_49D88C;
// 13225C0: using guessed type char byte_13225C0;
// 1330049: using guessed type char byte_1330049;
// 133004A: using guessed type char byte_133004A;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;
// 1550B67: using guessed type int dword_1550B67;
// 1551738: using guessed type int dword_1551738;
// 41A820: using guessed type char var_18[24];

//----- (0041A960) --------------------------------------------------------
LRESULT __stdcall fn(int code, WPARAM wParam, LPARAM lParam)
{
  return 0;
}

//----- (0041A970) --------------------------------------------------------
int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd)
{
  FILE *file1; // eax
  int v5; // edi
  int v6; // esi
  DWORD v7; // ebp
  FILE *file2; // esi
  FILE *file3; // eax
  int v11; // ecx
  int v12; // edx
  LPCSTR *v13; // edi
  LPCSTR v14; // esi
  double v15; // st7
  double v16; // st7
  LPCSTR v17; // eax
  LPCSTR v18; // eax
  int v19; // ecx
  time_t v20; // [esp+10h] [ebp-48h]
  int v21; // [esp+14h] [ebp-44h]
  int v22; // [esp+18h] [ebp-40h]
  struct tagMSG Msg; // [esp+1Ch] [ebp-3Ch]
  struct _MEMORYSTATUS Buffer; // [esp+38h] [ebp-20h]
  HINSTANCE hInstancea; // [esp+5Ch] [ebp+4h]
  int nShowCmda; // [esp+68h] [ebp+10h]

  file1 = fopen(CmdLine, aRb);
  if ( !file1 )
    sub_4169B0(&byte_486B7C, Caption, 0x40000);
  fclose(file1);
  GlobalMemoryStatus(&Buffer);
  if ( Buffer.dwAvailVirtual < 0x1DCD6500 )
    sub_4169B0(&byte_486B3C, Caption, 0);
  time(&v20);
  v5 = localtime(&v20)->tm_sec;
  do
  {
    time(&v20);
    v6 = localtime(&v20)->tm_sec;
  }
  while ( v6 == v5 );
  v7 = GetTickCount();
  do
    time(&v20);
  while ( localtime(&v20)->tm_sec == v6 );
  BYTE2(dword_48EB10) = (GetTickCount() - v7) / 0x1E;
  if ( dword_1322624 == 1 )
  {
    LOWORD(dword_4862EC) = 253;
  }
  else
  {
    LOWORD(dword_4862EC) = 248;
    v21 = 2;
    v22 = 48;
    file2 = fopen(aVerBin, aWb);
    fwrite(&v21, 4u, 1u, file2);
    fwrite(&v22, 4u, 1u, file2);
    fclose(file2);
  }
  if ( byte_1330214 == 1 )
  {
    file3 = fopen(aKeydataDat, aWb);
    goto LABEL_16;
  }
  if ( byte_1330214 == 2 )
  {
    file3 = fopen(aKeydataDat, aRb);
LABEL_16:
    dword_49D898 = file3;
  }
  remove(aErrorlogTxt);
  if ( sub_41AF90(hInstance, nShowCmd) )
    return 0;
LABEL_19:
  sub_423DF0();
  while ( 1 )
  {
    while ( !PeekMessageA(&Msg, 0, 0, 0, 0) )
    {
      if ( !byte_1330214 )
        goto LABEL_54;
      sub_45E6A0();
      if ( byte_1330214 != 2 )
        goto LABEL_54;
      if ( dword_49D890 != 1 )
      {
        if ( dword_49D890 != 2 )
          goto LABEL_54;
        sub_446640();
        if ( dword_48EC4C == 6 || dword_49D8A0 >= 470 || dword_49D8A0 <= 30 )
          goto LABEL_54;
        nShowCmda = dword_154794C + dword_49D89C;
        hInstancea = (HINSTANCE)(dword_49D8A0 + dword_1547950);
        v11 = 0;
        *((_DWORD *)(&lpString)[dword_131D690] + 25) = -1;
        v12 = dword_131D690;
        if ( dword_1317E74 > 0 )
        {
          v13 = &lpString;
          while ( 1 )
          {
            if ( v11 != dword_131D690 )
            {
              v14 = *v13;
              v15 = (double)nShowCmda;
              if ( v15 > *((float *)*v13 + 28) - 20.0 && v15 < *((float *)v14 + 28) + 20.0 )
              {
                v16 = (double)(signed int)hInstancea;
                if ( v16 > *((float *)v14 + 30) - 50.0 && v16 < *((float *)v14 + 30) + 10.0 )
                  break;
              }
            }
            ++v11;
            ++v13;
            if ( v11 >= dword_1317E74 )
              goto LABEL_43;
          }
          if ( v11 == dword_48CCE4 )
          {
            *((_DWORD *)(&lpString)[dword_131D690] + 25) = v11;
LABEL_44:
            v12 = dword_131D690;
          }
          else
          {
            dword_48CCE4 = v11;
          }
          v18 = (&lpString)[v12];
          v19 = *((_DWORD *)v18 + 25);
          if ( v19 != -1 && (&lpString)[v19] )
          {
            *((_DWORD *)v18 + 150) = 0;
            *((_BYTE *)(&lpString)[dword_131D690] + 174) = 2;
            *((_DWORD *)(&lpString)[dword_131D690] + 47) = 1;
            *((_DWORD *)(&lpString)[dword_131D690] + 33) = 20
                                                         - 40
                                                         * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[*((_DWORD *)(&lpString)[dword_131D690] + 25)]
                                                                                              + 28)
                                                                                            * -0.025);
            *((_DWORD *)(&lpString)[dword_131D690] + 34) = 10
                                                         - 20
                                                         * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[*((_DWORD *)(&lpString)[dword_131D690] + 25)]
                                                                                              + 30)
                                                                                            * -0.050000001);
          }
          goto LABEL_54;
        }
LABEL_43:
        v17 = (&lpString)[dword_131D690];
        dword_48CCE4 = -1;
        *((_DWORD *)v17 + 150) = 0;
        *((_BYTE *)(&lpString)[dword_131D690] + 174) = 2;
        *((_DWORD *)(&lpString)[dword_131D690] + 47) = 1;
        *((_DWORD *)(&lpString)[dword_131D690] + 33) = 40 * ((dword_49D89C + dword_154794C) / 40) + 20;
        *((_DWORD *)(&lpString)[dword_131D690] + 34) = 20 * ((dword_49D8A0 + dword_1547950) / 20) + 10;
        goto LABEL_44;
      }
      if ( dword_49D8A0 > 470 || dword_49D8A0 < 30 )
        sub_444350();
LABEL_54:
      if ( dword_49D92C )
      {
        if ( dword_1308220 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308220 + 8))(dword_1308220);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308224 + 8))(dword_1308224);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308228 + 8))(dword_1308228);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_130822C + 8))(dword_130822C);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308230 + 8))(dword_1308230);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308234 + 8))(dword_1308234);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308238 + 8))(dword_1308238);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_130823C + 8))(dword_130823C);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308240 + 8))(dword_1308240);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308244 + 8))(dword_1308244);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308248 + 8))(dword_1308248);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_130824C + 8))(dword_130824C);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308250 + 8))(dword_1308250);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308254 + 8))(dword_1308254);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308258 + 8))(dword_1308258);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_130825C + 8))(dword_130825C);
          (*(void (__stdcall **)(int))(*(_DWORD *)dword_1308260 + 8))(dword_1308260);
        }
        if ( s )
        {
          closesocket(s);
          s = 0;
        }
        dword_49D92C = 0;
        goto LABEL_19;
      }
      sub_42BFC0();
      if ( dword_49D890 )
        dword_49D890 = 0;
      if ( dword_49D870 )
        dword_49D870 = 0;
    }
    if ( !GetMessageA(&Msg, 0, 0, 0) )
      return Msg.wParam;
    if ( TranslateAcceleratorA(hWndParent, hAccTable, &Msg) )
    {
      byte_1330214 = 0;
    }
    else
    {
      TranslateMessage(&Msg);
      if ( Msg.message != 260 && (Msg.message != 261 || dword_1322620) )
        DispatchMessageA(&Msg);
    }
  }
}
// 4862EC: using guessed type int dword_4862EC;
// 48CCE4: using guessed type int dword_48CCE4;
// 48EB10: using guessed type int dword_48EB10;
// 48EC4C: using guessed type int dword_48EC4C;
// 49D870: using guessed type int dword_49D870;
// 49D890: using guessed type int dword_49D890;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 49D92C: using guessed type int dword_49D92C;
// 1308220: using guessed type int dword_1308220;
// 1308224: using guessed type int dword_1308224;
// 1308228: using guessed type int dword_1308228;
// 130822C: using guessed type int dword_130822C;
// 1308230: using guessed type int dword_1308230;
// 1308234: using guessed type int dword_1308234;
// 1308238: using guessed type int dword_1308238;
// 130823C: using guessed type int dword_130823C;
// 1308240: using guessed type int dword_1308240;
// 1308244: using guessed type int dword_1308244;
// 1308248: using guessed type int dword_1308248;
// 130824C: using guessed type int dword_130824C;
// 1308250: using guessed type int dword_1308250;
// 1308254: using guessed type int dword_1308254;
// 1308258: using guessed type int dword_1308258;
// 130825C: using guessed type int dword_130825C;
// 1308260: using guessed type int dword_1308260;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1322620: using guessed type int dword_1322620;
// 1322624: using guessed type int dword_1322624;
// 1330214: using guessed type char byte_1330214;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;

//----- (0041AF90) --------------------------------------------------------
int __cdecl sub_41AF90(HINSTANCE hInstance, int nCmdShow)
{
  HWND v2; // eax
  HWND v3; // ebp
  int result; // eax
  LPCSTR *v5; // esi
  HKEY phkResult; // [esp+10h] [ebp-138h]
  WNDCLASSEXA v7; // [esp+14h] [ebp-134h]
  CHAR Buffer[260]; // [esp+44h] [ebp-104h]

  GetFullPathNameA(FileName, 0x104u, Buffer, 0);
  Buffer[strlen(Buffer) - 1 - strlen(FileName)] = 0;
  if ( RegOpenKeyExA(HKEY_LOCAL_MACHINE, SubKey, 0, 0xF003Fu, &phkResult) )
  {
    if ( !RegCreateKeyExA(HKEY_LOCAL_MACHINE, SubKey, 0, 0, 0, 0xF003Fu, 0, &phkResult, 0)
      && !RegOpenKeyExA(HKEY_LOCAL_MACHINE, SubKey, 0, 0xF003Fu, &phkResult)
      && !RegSetValueExA(phkResult, ValueName, 0, 1u, (const BYTE *)Buffer, strlen(Buffer)) )
    {
      RegCloseKey(phkResult);
    }
  }
  else if ( !RegSetValueExA(phkResult, ValueName, 0, 1u, (const BYTE *)Buffer, strlen(Buffer)) )
  {
    RegCloseKey(phkResult);
  }
  v7.cbSize = 48;
  v7.style = 3;
  v7.lpfnWndProc = sub_418470;
  v7.cbClsExtra = 0;
  v7.cbWndExtra = 0;
  v7.hInstance = hInstance;
  v7.hIcon = LoadIconA(hInstance, (LPCSTR)0x6A);
  v7.hCursor = LoadCursorA(hInstance, (LPCSTR)0x7F00);
  v7.hbrBackground = 0;
  v7.lpszMenuName = 0;
  v7.lpszClassName = &WindowName;
  v7.hIconSm = LoadIconA(hInstance, (LPCSTR)0x6A);
  RegisterClassExA(&v7);
  if ( dword_1322620 )
    v2 = CreateWindowExA(0, &WindowName, &WindowName, 0x80000000, 0, 0, 800, 600, 0, 0, hInstance, 0);
  else
    v2 = CreateWindowExA(8u, &WindowName, &WindowName, 0x80000000, 0, 0, 800, 600, 0, 0, hInstance, 0);
  v3 = v2;
  if ( v2 )
  {
    hhk = SetWindowsHookExA(2, fn, 0, 0);
    hAccTable = LoadAcceleratorsA(hInstance, (LPCSTR)0x6C);
    hWndParent = v3;
    ::hInstance = hInstance;
    ShowCursor(0);
    ShowWindow(v3, nCmdShow);
    UpdateWindow(v3);
    if ( !sub_4799A0(v3, 0x320u, 0x258u, 0x10u) )
      DestroyWindow(v3);
    CoInitialize(0);
    sub_4665C0();
    sub_466730((int)hWndParent, aTheme02);
    if ( sub_4665A0() )
      byte_13225C1 = 2;
    else
      byte_13225C1 = sub_42DB50() != 0;
    if ( !dword_1322620 )
      OpenClipboard(hWndParent);
    sub_4158C0(hWndParent);
    hWnd = CreateWindowExA(0, ClassName, 0, 0x40000000u, 0, 0, 340, 1, hWndParent, (HMENU)0x64, ::hInstance, 0);
    dword_49D020 = CreateWindowExA(0, ClassName, 0, 0x40000002u, 0, 0, 50, 1, hWndParent, (HMENU)0x65, ::hInstance, 0);
    dword_49D028 = CreateWindowExA(
                     0,
                     ClassName,
                     0,
                     0x40800004u,
                     0,
                     0,
                     200,
                     200,
                     hWndParent,
                     (HMENU)0x66,
                     ::hInstance,
                     0);
    dword_49D030 = CreateWindowExA(0, ClassName, 0, 0x40000000u, 0, 0, 80, 1, hWndParent, (HMENU)0x67, ::hInstance, 0);
    dword_49D01C = CreateWindowExA(0, ClassName, 0, 0x40000000u, 0, 0, 80, 1, hWndParent, (HMENU)0x68, ::hInstance, 0);
    lpPrevWndFunc = (WNDPROC)SetWindowLongA(hWnd, -4, (LONG)sub_416DE0);
    SetWindowLongA(dword_49D020, -4, (LONG)sub_417990);
    SetWindowLongA(dword_49D028, -4, (LONG)sub_417D80);
    SetWindowLongA(dword_49D030, -4, (LONG)sub_417AD0);
    SetWindowLongA(dword_49D01C, -4, (LONG)sub_417C40);
    sprintf(byte_6BE2A0, aChrMemAllocPro);
    v5 = &lpString;
    do
    {
      *v5 = (LPCSTR)sub_41BAF0(0x318u);
      ++v5;
    }
    while ( (signed int)v5 < (signed int)word_4BAEE0 );
    sprintf(byte_6BE2A0, aMapMemAllocPro);
    dword_1330790 = sub_41BAF0(0x64000u);
    dword_1547440 = sub_41BAF0(0x19000u);
    dword_1542DA4 = sub_41BAF0(0xC800u);
    dword_13307A0 = sub_41BAF0(0xC800u);
    sub_443CC0();
    LOBYTE(dword_132FFF0) = 0;
    sub_45E2F0();
    sub_443DD0();
    sub_41D130();
    sub_41D6C0();
    sub_420690();
    LOBYTE(dword_49D8F8) = 1;
    sub_4566F0();
    if ( !sub_479270() )
      sub_4169B0(aSocketInitialE, Caption, 0x40000);
    byte_1330049 = 0;
    dword_132264C = 0;
    sub_457260();
    sub_421E60((int)aEff998Ani, 1998);
    sub_421E60((int)aEff999Ani, 1999);
    sub_41EBA0(aLoading1Int, 54);
    sub_41EBA0(aLoading2Int, 55);
    hObject = CreateThread(0, 0, (LPTHREAD_START_ROUTINE)StartAddress, 0, 0, &ThreadId);
    if ( !hObject )
      hObject = 0;
    sub_456530(30);
    sub_420D60();
    sub_456530(32);
    sub_41E9C0();
    sub_456530(36);
    sub_41C150();
    sub_41C4C0();
    sub_41C7F0();
    sub_456530(38);
    sub_41E530();
    sub_41E7A0();
    sub_456530(40);
    sub_41F630();
    sub_456530(42);
    sub_41ED50();
    sub_41F440();
    sub_456530(44);
    sub_421AE0();
    sub_456530(80);
    sub_4221A0((int)a000Ani, 0);
    sub_4221A0((int)a001Ani, 1);
    sub_4221A0((int)a003Ani, 3);
    sub_4221A0((int)a004Ani, 4);
    sub_456530(81);
    sub_4221A0((int)a006Ani, 6);
    sub_4221A0((int)a007Ani, 7);
    sub_4221A0((int)a009Ani, 9);
    sub_4221A0((int)a010Ani, 10);
    sub_456530(82);
    sub_4221A0((int)a012Ani, 12);
    sub_4221A0((int)a013Ani, 13);
    sub_4221A0((int)a020Ani, 20);
    sub_4221A0((int)a021Ani, 21);
    sub_456530(83);
    sub_4221A0((int)a023Ani, 23);
    sub_4221A0((int)a024Ani, 24);
    sub_4221A0((int)a026Ani, 26);
    sub_4221A0((int)a027Ani, 27);
    sub_456530(84);
    sub_4221A0((int)a040Ani, 40);
    sub_4221A0((int)a041Ani, 41);
    sub_4221A0((int)a043Ani, 43);
    sub_4221A0((int)a044Ani, 44);
    sub_456530(85);
    sub_4221A0((int)a060Ani, 60);
    sub_4221A0((int)a061Ani, 61);
    sub_4221A0((int)a063Ani, 63);
    sub_4221A0((int)a064Ani, 64);
    sub_456530(86);
    sub_4221A0((int)a080Ani, 80);
    sub_4221A0((int)a081Ani, 81);
    sub_456530(87);
    sub_4221A0((int)a083Ani, 83);
    sub_4221A0((int)a084Ani, 84);
    sub_456530(88);
    sub_4221A0((int)a086Ani, 86);
    sub_4221A0((int)a087Ani, 87);
    sub_456530(96);
    sub_422500((int)a090Ani, 90);
    sub_422500((int)a090Ani, 93);
    sub_422500((int)a090Ani, 96);
    sub_422500((int)a243Ani, 243);
    sub_422500((int)a244Ani, 244);
    sub_456530(97);
    sub_41DF10();
    sub_456530(98);
    sub_41EBA0(aHpbarInt, 0);
    sub_41EBA0(aMpbarInt, 1);
    sub_41EBA0(aWpbarInt, 2);
    sub_41EBA0(aInterupstatusI, 3);
    sub_41EBA0(aInterupitemInt, 4);
    sub_41EBA0(aInterupmagicIn, 5);
    sub_41EBA0(aInterupguildIn, 6);
    sub_41EBA0(aInterupnewsInt, 7);
    sub_41EBA0(aMenulightmidIn, 8);
    sub_41EBA0(aMenulightsmall, 29);
    sub_41EBA0(aScrollInt, 9);
    sub_41EBA0(aInterupInt, 10);
    sub_41EBA0(aSendmoneyInt, 32);
    sub_41EBA0(aBuildbuttonInt, 33);
    sub_41EBA0(aUpgradebuttonI, 57);
    sub_41EBA0(aEmployeeInt, 58);
    sub_41EBA0(aLevelupInt, 59);
    sub_41EBA0(aBarrackiconInt, 60);
    sub_41EBA0(aGuardiconInt, 61);
    sub_41EBA0(aGuildchatInt, 37);
    sub_41EBA0(aOneononechatIn, 38);
    sub_41EBA0(aSkillnaturalIn, 39);
    sub_41EBA0(aSkillunnatural, 40);
    sub_41EBA0(aSkillogreInt, 41);
    sub_41EBA0(aSkillogrepushI, 42);
    sub_41EBA0(aHolyicon1Int, 43);
    sub_41EBA0(aHolyicon2Int, 44);
    sub_41EBA0(aHolyicon3Int, 45);
    sub_41EBA0(aHolyicon4Int, 46);
    sub_41EBA0(aHolyicon5Int, 47);
    sub_41EBA0(aHolyicon6Int, 48);
    sub_41EBA0(aDarkicon1Int, 49);
    sub_41EBA0(aDarkicon2Int, 50);
    sub_41EBA0(aDarkicon3Int, 51);
    sub_41EBA0(aDarkicon4Int, 52);
    sub_41EBA0(aDarkicon5Int, 53);
    sub_41EBA0(aEnemyhpInt, 28);
    sub_456530(99);
    sub_41EBA0(aStatusmenuInt, 11);
    sub_41EBA0(aSkillmenuInt, 12);
    sub_41EBA0(aItemmenuInt, 13);
    sub_41EBA0(aLootmenuInt, 14);
    sub_41EBA0(aHmagicmenuInt, 15);
    sub_41EBA0(aDmagicmenuInt, 16);
    sub_41EBA0(aGuildmenuInt, 17);
    sub_41EBA0(aGuildbankmenuI, 24);
    sub_41EBA0(aBuildmenuInt, 18);
    sub_41EBA0(aNewsmenuInt, 19);
    sub_41EBA0(aMsgmenuInt, 20);
    sub_41EBA0(aBankmenuInt, 21);
    sub_41EBA0(aSellmenuInt, 22);
    sub_41EBA0(aBuymenuInt, 23);
    sub_41EBA0(aGivemenuInt, 56);
    sub_41EBA0(aTrademenuInt, 25);
    sub_41EBA0(aPlusbuttonInt, 26);
    sub_41EBA0(aPluspushInt, 27);
    sub_41EBA0(aMsgnewbuttonIn, 34);
    sub_41EBA0(aMsgsendbuttonI, 35);
    sub_41EBA0(aMsgselectInt, 36);
    sub_41EBA0(aWorldmap0Int, 62);
    sub_41EBA0(aWorldmap1Int, 63);
    sub_41EBA0(aWorldmap2Int, 64);
    sub_41EBA0(aWorldmap3Int, 65);
    sub_41EBA0(aWorldmap4Int, 66);
    sub_41EBA0(aWorldmap5Int, 67);
    sub_41EBA0(aRain1Int, 68);
    sub_41EBA0(aRain2Int, 69);
    sub_41EBA0(aPaletteInt, 30);
    sub_41EBA0(aTimeInt, 31);
    sub_456530(100);
    if ( hObject )
    {
      SetEvent(hEvent);
      WaitForSingleObject(hObject, 0xFFFFFFFF);
      CloseHandle(hObject);
      hObject = 0;
    }
    sub_41BB80(dword_13081F0);
    dword_13081F0 = 0;
    sub_41BB80(dword_8C87B4);
    dword_8C87B4 = 0;
    sub_41BB80(dword_12081F8);
    dword_12081F8 = 0;
    result = 0;
  }
  else
  {
    MessageBoxA(0, &Text, Caption, 0);
    result = 0;
  }
  return result;
}
// 417990: using guessed type int __stdcall sub_417990(int, int, int, int);
// 49D8F8: using guessed type int dword_49D8F8;
// 13225C1: using guessed type char byte_13225C1;
// 1322620: using guessed type int dword_1322620;
// 132264C: using guessed type int dword_132264C;
// 132FFF0: using guessed type int dword_132FFF0;
// 1330049: using guessed type char byte_1330049;
// 41AF90: using guessed type CHAR Buffer[260];

//----- (0041BAF0) --------------------------------------------------------
void *__cdecl sub_41BAF0(size_t a1)
{
  void *result; // eax
  int v2; // edx
  int *v3; // ecx

  result = malloc(a1);
  if ( !result )
  {
    UnhookWindowsHookEx(hhk);
    sub_443E30();
    sub_443C90();
    sub_479C50();
    SetWindowPos(hWndParent, 0, 0, 0, 0, 0, 0x80u);
    sub_4169B0(byte_6BE2A0, aMemoryAllocati, 0);
  }
  v2 = 0;
  v3 = dword_6BE520;
  while ( *v3 )
  {
    ++v3;
    ++v2;
    if ( (signed int)v3 >= (signed int)&unk_6C8160 )
      return result;
  }
  dword_6BE520[v2] = (int)result;
  return result;
}
// 6BE520: using guessed type int dword_6BE520[];

//----- (0041BB80) --------------------------------------------------------
void __cdecl sub_41BB80(void *a1)
{
  int v1; // edx
  int *v2; // eax

  if ( a1 )
  {
    v1 = 0;
    v2 = dword_6BE520;
    while ( !*v2 || (void *)*v2 != a1 )
    {
      ++v2;
      ++v1;
      if ( (signed int)v2 >= (signed int)&unk_6C8160 )
      {
        free(a1);
        _heapmin();
        return;
      }
    }
    dword_6BE520[v1] = 0;
    free(a1);
    _heapmin();
  }
}
// 6BE520: using guessed type int dword_6BE520[];

//----- (0041BC00) --------------------------------------------------------
void *sub_41BC00()
{
  void **i; // esi
  void *result; // eax

  if ( dword_11FDD3C )
  {
    sub_41BB80(dword_11FDD3C);
    dword_11FDD3C = 0;
  }
  for ( i = (void **)dword_8D0AE0; ; ++i )
  {
    result = *i;
    if ( !*i )
      break;
    sub_41BB80(*i);
    *i = 0;
  }
  return result;
}

//----- (0041BC40) --------------------------------------------------------
FILE *__cdecl sub_41BC40(char *a1)
{
  FILE *result; // eax
  FILE *v2; // ebp
  void **v3; // ebx
  FILE *v4; // [esp+4h] [ebp-4h]

  v4 = 0;
  result = fopen(a1, aRb);
  v2 = result;
  if ( result )
  {
    v3 = (void **)dword_8D0AE0;
    while ( 1 )
    {
      if ( !*v3 )
      {
        strcpy(byte_6BE2A0, aBindInfoProces);
        *v3 = sub_41BAF0(0x3Cu);
      }
      if ( fread(*v3, 0x32u, 1u, v2) != 1 )
        break;
      fread((char *)*v3 + 52, 4u, 1u, v2);
      fread((char *)*v3 + 56, 4u, 1u, v2);
      ++v3;
      v4 = (FILE *)((char *)v4 + 1);
    }
    fclose(v2);
    result = v4;
  }
  return result;
}

//----- (0041BD00) --------------------------------------------------------
int __cdecl sub_41BD00(char *a1, int a2)
{
  unsigned __int16 v2; // si
  int v3; // eax
  const char *v4; // eax

  v2 = 0;
  if ( !a2 )
    return -1;
  v3 = 0;
  while ( 1 )
  {
    v4 = dword_8D0AE0[v3];
    if ( v4 )
    {
      if ( !_strcmpi(v4, a1) )
        break;
    }
    v3 = ++v2;
    if ( v2 >= (unsigned int)a2 )
      return -1;
  }
  return v2;
}

//----- (0041BD50) --------------------------------------------------------
int __cdecl sub_41BD50(FILE *a1)
{
  int v1; // esi
  int v2; // edi
  int v3; // ebx
  int v4; // ebp
  unsigned int v5; // ecx
  char v6; // al
  char *v7; // edi
  char *v8; // esi
  void *v9; // eax
  bool v10; // zf
  int result; // eax
  char v12; // bl
  char v13; // cl
  char v14; // cl
  int v15; // [esp+10h] [ebp-4h]

  v15 = 0;
  v1 = fgetc(a1) << 24;
  v2 = fgetc(a1) << 16;
  v3 = fgetc(a1) << 8;
  v4 = v1 | v2 | v3 | fgetc(a1);
  v5 = strlen(aFileUnlockProc) + 1;
  v6 = v5;
  v5 >>= 2;
  qmemcpy(byte_6BE2A0, aFileUnlockProc, 4 * v5);
  v8 = &aFileUnlockProc[4 * v5];
  v7 = &byte_6BE2A0[4 * v5];
  LOBYTE(v5) = v6;
  v9 = dword_11FDD3C;
  v10 = dword_11FDD3C == 0;
  qmemcpy(v7, v8, v5 & 3);
  if ( !v10 )
  {
    sub_41BB80(v9);
    dword_11FDD3C = 0;
  }
  result = (int)sub_41BAF0(v4);
  dword_11FDD3C = (void *)result;
  if ( v4 > 0 )
  {
    v12 = (char)a1;
    do
    {
      v13 = fgetc(a1);
      result = v15 / 36;
      switch ( v15 % 36 )
      {
        case 0:
        case 5:
          v14 = v13 ^ 0x44;
          goto LABEL_21;
        case 1:
        case 14:
        case 15:
        case 30:
        case 31:
          v14 = v13 ^ 0x31;
          goto LABEL_21;
        case 2:
        case 12:
        case 22:
          v14 = v13 ^ 0x33;
          goto LABEL_21;
        case 3:
          v14 = v13 ^ 0x39;
          goto LABEL_21;
        case 4:
        case 7:
          v14 = v13 ^ 0x38;
          goto LABEL_21;
        case 6:
        case 9:
        case 11:
        case 17:
        case 21:
        case 35:
          v14 = v13 ^ 0x34;
          goto LABEL_21;
        case 8:
        case 13:
        case 18:
        case 23:
          v14 = v13 ^ 0x2D;
          goto LABEL_21;
        case 10:
          v14 = v13 ^ 0x46;
          goto LABEL_21;
        case 16:
          v14 = v13 ^ 0x64;
          goto LABEL_21;
        case 19:
          v14 = v13 ^ 0x41;
          goto LABEL_21;
        case 20:
        case 34:
          v14 = v13 ^ 0x42;
          goto LABEL_21;
        case 24:
        case 25:
        case 27:
          v14 = v13 ^ 0x30;
          goto LABEL_21;
        case 26:
        case 33:
          v14 = v13 ^ 0x43;
          goto LABEL_21;
        case 28:
          v14 = v13 ^ 0x32;
          goto LABEL_21;
        case 29:
        case 32:
          v14 = v13 ^ 0x36;
LABEL_21:
          v12 = v14;
          break;
        default:
          break;
      }
      *((char *)dword_11FDD3C + ++v15 - 1) = v12;
    }
    while ( v15 < v4 );
  }
  return result;
}

//----- (0041BF80) --------------------------------------------------------
int __cdecl sub_41BF80(int *a1, int a2)
{
  int result; // eax
  int v3; // edx
  char v4; // cl

  result = 0;
  v3 = *a1;
  do
  {
    do
    {
      v4 = *((char *)dword_11FDD3C + ++v3 - 1);
      *a1 = v3;
    }
    while ( v4 == 32 );
  }
  while ( v4 == 10 || v4 == 13 || v4 == 9 );
  for ( ; v4 != 32; v4 = *((_BYTE *)dword_11FDD3C + (*a1)++) )
  {
    if ( v4 == 10 )
      break;
    if ( v4 == 13 )
      break;
    if ( v4 == 9 )
      break;
    *(_BYTE *)(result++ + a2) = v4;
  }
  --*a1;
  *(_BYTE *)(result + a2) = 0;
  return result;
}

//----- (0041BFF0) --------------------------------------------------------
int __cdecl sub_41BFF0(FILE *a1, int a2)
{
  int v2; // esi
  char v3; // al
  int result; // eax

  v2 = 0;
  v3 = fgetc(a1);
  if ( v3 == -1 )
  {
    *(_BYTE *)a2 = 0;
    result = 0;
  }
  else
  {
    while ( v3 == 32 || v3 == 10 || v3 == 13 || v3 == 9 )
    {
      v3 = fgetc(a1);
      if ( v3 == -1 )
      {
        result = 0;
        *(_BYTE *)a2 = 0;
        return result;
      }
    }
    while ( v3 != 32 )
    {
      if ( v3 == 10 || v3 == 13 || v3 == 9 )
        break;
      *(_BYTE *)(v2 + a2) = v3;
      v3 = fgetc(a1);
      ++v2;
      if ( v3 == -1 )
        goto LABEL_15;
    }
    fseek(a1, -1, 1);
LABEL_15:
    *(_BYTE *)(v2 + a2) = 0;
    result = v2;
  }
  return result;
}

//----- (0041C090) --------------------------------------------------------
int __cdecl sub_41C090(const char *a1)
{
  int result; // eax
  unsigned __int16 v2; // bp
  int v3; // edx

  result = 0;
  v2 = 0;
  if ( strlen(a1) != 0 )
  {
    v3 = 0;
    do
    {
      if ( a1[v3] == 95 && (!v2 || a1[v3 - 1] != -66) )
        a1[v3] = 32;
      ++v2;
      result = 0;
      v3 = v2;
    }
    while ( v2 < strlen(a1) );
  }
  return result;
}

//----- (0041C0E0) --------------------------------------------------------
void sub_41C0E0()
{
  if ( dword_1308324 )
  {
    sub_41BB80(dword_1308324);
    dword_1308324 = 0;
  }
}

//----- (0041C100) --------------------------------------------------------
void sub_41C100()
{
  if ( dword_8D5EC8 )
  {
    free(dword_8D5EC8);
    dword_8D5EC8 = 0;
  }
}

//----- (0041C150) --------------------------------------------------------
int sub_41C150()
{
  FILE *v0; // edi
  FILE *v1; // eax
  FILE *v2; // esi
  int v3; // eax
  int v4; // ebp
  int v5; // eax
  int v6; // ebx
  __int16 v7; // ax
  char v8; // al
  char v9; // al
  __int16 v10; // ax
  __int16 v11; // ax
  __int16 v12; // ax
  __int16 v13; // ax
  __int16 v14; // ax
  __int16 v15; // ax
  __int16 v16; // ax
  __int16 v17; // ax
  int v19; // [esp+Ch] [ebp-10Ch]
  FILE *v20; // [esp+10h] [ebp-108h]
  char v21; // [esp+14h] [ebp-104h]

  strcpy(byte_6BE2A0, aItemInfoFile);
  v0 = sub_41BC40(aWorkdataDat);
  v19 = 0;
  v1 = fopen(aWorksDat, aRb);
  v2 = v1;
  v20 = v1;
  v3 = sub_41BD00(aItemsDat, (int)v0);
  if ( v3 != -1 )
  {
    fseek(v2, *((_DWORD *)dword_8D0AE0[v3] + 13), 0);
    sub_41BD50(v2);
    sub_41BF80(&v19, (int)&v21);
    sub_41BF80(&v19, (int)&v21);
    sub_41BF80(&v19, (int)&v21);
    v4 = atoi(&v21);
    dword_1308324 = sub_41BAF0(0x33770u);
    if ( v4 > 0 )
    {
      do
      {
        sub_41BF80(&v19, (int)&v21);
        v5 = atoi(&v21);
        v6 = 68 * v5;
        *((_WORD *)dword_1308324 + 34 * v5 + 1) = v5;
        sub_41BF80(&v19, (int)&v21);
        strcpy((char *)dword_1308324 + v6 + 4, &v21);
        sub_41C090((const char *)dword_1308324 + v6 + 4);
        sub_41BF80(&v19, (int)&v21);
        v7 = atoi(&v21);
        *(_WORD *)((char *)dword_1308324 + v6 + 40) = v7;
        sub_41BF80(&v19, (int)&v21);
        v8 = atoi(&v21);
        *((_BYTE *)dword_1308324 + v6 + 42) = v8;
        sub_41BF80(&v19, (int)&v21);
        v9 = atoi(&v21);
        *((_BYTE *)dword_1308324 + v6 + 43) = v9;
        sub_41BF80(&v19, (int)&v21);
        v10 = atoi(&v21);
        *(_WORD *)((char *)dword_1308324 + v6 + 44) = v10;
        sub_41BF80(&v19, (int)&v21);
        v11 = atoi(&v21);
        *(_WORD *)((char *)dword_1308324 + v6 + 46) = v11;
        sub_41BF80(&v19, (int)&v21);
        v12 = atoi(&v21);
        *(_WORD *)((char *)dword_1308324 + v6 + 48) = v12;
        sub_41BF80(&v19, (int)&v21);
        v13 = atoi(&v21);
        *(_WORD *)((char *)dword_1308324 + v6 + 50) = v13;
        sub_41BF80(&v19, (int)&v21);
        v14 = atoi(&v21);
        *(_WORD *)((char *)dword_1308324 + v6 + 52) = v14;
        sub_41BF80(&v19, (int)&v21);
        v15 = atoi(&v21);
        *(_WORD *)((char *)dword_1308324 + v6 + 54) = v15;
        sub_41BF80(&v19, (int)&v21);
        v16 = atoi(&v21);
        *(_WORD *)((char *)dword_1308324 + v6 + 56) = v16;
        sub_41BF80(&v19, (int)&v21);
        v17 = atoi(&v21);
        *(_WORD *)((char *)dword_1308324 + v6 + 58) = v17;
        sub_41BF80(&v19, (int)&v21);
        *(_DWORD *)((char *)dword_1308324 + v6 + 60) = atoi(&v21);
        sub_41BF80(&v19, (int)&v21);
        *(_DWORD *)((char *)dword_1308324 + v6 + 64) = atoi(&v21);
        sub_41BF80(&v19, (int)&v21);
        --v4;
        *((_BYTE *)dword_1308324 + v6) = atoi(&v21);
      }
      while ( v4 );
      v2 = v20;
    }
  }
  return fclose(v2);
}

//----- (0041C4C0) --------------------------------------------------------
int sub_41C4C0()
{
  FILE *v0; // edi
  FILE *v1; // esi
  int v2; // eax
  int v3; // edi
  int v4; // ebp
  __int16 v5; // ax
  __int16 v6; // ax
  __int16 v7; // ax
  char *v8; // esi
  int v9; // ebx
  char *v10; // edx
  char v11; // al
  unsigned int v12; // ecx
  char v13; // al
  char *v14; // edi
  char *v15; // edi
  char *v16; // esi
  int v17; // eax
  int v18; // ST50_4
  char *v19; // eax
  int v20; // ebx
  int v21; // edx
  int v22; // ebp
  char *v23; // ebx
  char *v25; // [esp+8h] [ebp-11Ch]
  int v26; // [esp+Ch] [ebp-118h]
  char *v27; // [esp+10h] [ebp-114h]
  int v28; // [esp+14h] [ebp-110h]
  int v29; // [esp+18h] [ebp-10Ch]
  FILE *v30; // [esp+1Ch] [ebp-108h]
  char v31; // [esp+20h] [ebp-104h]

  strcpy(byte_6BE2A0, aIconInfo);
  v0 = sub_41BC40(aWorkdataDat);
  v26 = 0;
  v1 = fopen(aWorksDat, aRb);
  v30 = v1;
  if ( dword_1322624 )
    v2 = sub_41BD00(aTesticoninfoDa, (int)v0);
  else
    v2 = sub_41BD00(aIconinfoDat, (int)v0);
  if ( v2 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v2] + 13), 0);
    sub_41BD50(v1);
    sub_41BF80(&v26, (int)&v31);
    v3 = atoi(&v31);
    dword_8D5EC8 = sub_41BAF0(0x2D690u);
    if ( v3 > 0 )
    {
      v29 = v3;
      while ( 1 )
      {
        sub_41BF80(&v26, (int)&v31);
        v4 = 186 * atoi(&v31);
        v5 = atoi(&v31);
        *(_WORD *)((char *)dword_8D5EC8 + v4) = v5;
        sub_41BF80(&v26, (int)&v31);
        strcpy((char *)dword_8D5EC8 + v4 + 2, &v31);
        sub_41C090((const char *)dword_8D5EC8 + v4 + 2);
        sub_41BF80(&v26, (int)&v31);
        v6 = atoi(&v31);
        *(_WORD *)((char *)dword_8D5EC8 + v4 + 32) = v6;
        sub_41BF80(&v26, (int)&v31);
        v7 = atoi(&v31);
        v8 = 0;
        v9 = 0;
        *(_WORD *)((char *)dword_8D5EC8 + v4 + 34) = v7;
        v27 = 0;
        v25 = 0;
        sub_41BF80(&v26, (int)&v31);
        sub_41C090(&v31);
        v10 = &v31;
        v28 = v4;
        while ( 1 )
        {
          v11 = v8[(_DWORD)v10];
          if ( v11 != 32 && v11 )
            goto LABEL_16;
          if ( !v11 )
            break;
          if ( (signed int)v8 >= 16 )
          {
            if ( !v25 )
              v25 = v8;
            v27 = (char *)dword_8D5EC8 + v28 + 36;
            v12 = strlen(v10) + 1;
            v13 = v12;
            v14 = (char *)dword_8D5EC8 + v28 + 36;
            v12 >>= 2;
            qmemcpy(v27, v10, 4 * v12);
            v16 = &v10[4 * v12];
            v15 = &v14[4 * v12];
            LOBYTE(v12) = v13;
            v17 = v28;
            ++v9;
            qmemcpy(v15, v16, v12 & 3);
            v10 = &v10[(_DWORD)v25];
            v28 = v17 + 30;
            v25[(_DWORD)dword_8D5EC8 + v17 + 36] = 0;
            v27 = 0;
            v25 = 0;
            v8 = 0;
LABEL_16:
            v27 = ++v8;
          }
          else
          {
            v25 = v8++;
            v27 = v8;
          }
        }
        v18 = v4 + 30 * v9;
        v19 = v27;
        strcpy((char *)dword_8D5EC8 + v18 + 36, v10);
        v20 = v9 + 1;
        v19[(_DWORD)dword_8D5EC8 + v18 + 36] = 0;
        if ( v20 < 5 )
        {
          v21 = 5 - v20;
          v22 = v4 + 30 * v20;
          do
          {
            v23 = (char *)dword_8D5EC8 + v22 + 36;
            v22 += 30;
            strcpy(v23, asc_485098);
            --v21;
          }
          while ( v21 );
        }
        if ( !--v29 )
        {
          v1 = v30;
          return fclose(v1);
        }
      }
    }
  }
  return fclose(v1);
}
// 1322624: using guessed type int dword_1322624;

//----- (0041C7F0) --------------------------------------------------------
int sub_41C7F0()
{
  FILE *v0; // esi
  FILE *v1; // ebx
  int v2; // eax
  int v3; // eax
  char *v4; // esi
  int v5; // edi
  __int16 v6; // ax
  int v7; // edx
  int v9; // [esp+Ch] [ebp-108h]
  char v10; // [esp+10h] [ebp-104h]

  strcpy(byte_6BE2A0, aMakeItemInfo);
  v0 = sub_41BC40(aWorkdataDat);
  v9 = 0;
  v1 = fopen(aWorksDat, aRb);
  v2 = sub_41BD00(aMakeitemsDat, (int)v0);
  if ( v2 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v2] + 13), 0);
    sub_41BD50(v1);
    sub_41BF80(&v9, (int)&v10);
    sub_41BF80(&v9, (int)&v10);
    sub_41BF80(&v9, (int)&v10);
    v3 = atoi(&v10);
    if ( v3 > 0 )
    {
      v4 = (char *)&unk_8D39F8;
      v5 = v3;
      do
      {
        *(_DWORD *)v4 = sub_41BAF0(8u);
        sub_41BF80(&v9, (int)&v10);
        **(_WORD **)v4 = atoi(&v10);
        sub_41BF80(&v9, (int)&v10);
        *(_WORD *)(*(_DWORD *)v4 + 2) = atoi(&v10);
        sub_41BF80(&v9, (int)&v10);
        *(_WORD *)(*(_DWORD *)v4 + 4) = atoi(&v10);
        sub_41BF80(&v9, (int)&v10);
        v6 = atoi(&v10);
        v7 = *(_DWORD *)v4;
        v4 += 4;
        --v5;
        *(_WORD *)(v7 + 6) = v6;
      }
      while ( v5 );
    }
  }
  return fclose(v1);
}

//----- (0041C960) --------------------------------------------------------
int __cdecl sub_41C960(signed int a1, signed int a2)
{
  memset((void *)(&lpString)[dword_1317E74], 0, 0x318u);
  *((_BYTE *)(&lpString)[dword_1317E74] + 48) = 5;
  *((_DWORD *)(&lpString)[dword_1317E74] + 13) = dword_1317E74;
  *((_DWORD *)(&lpString)[dword_1317E74] + 14) = -1;
  *((_DWORD *)(&lpString)[dword_1317E74] + 20) = 0;
  *((_DWORD *)(&lpString)[dword_1317E74] + 19) = 0;
  *((_DWORD *)(&lpString)[dword_1317E74] + 17) = 0;
  *((_DWORD *)(&lpString)[dword_1317E74] + 35) = a1;
  *((_DWORD *)(&lpString)[dword_1317E74] + 33) = a1;
  *((_DWORD *)(&lpString)[dword_1317E74] + 36) = a2;
  *((_DWORD *)(&lpString)[dword_1317E74] + 34) = a2;
  *((float *)(&lpString)[dword_1317E74] + 28) = (double)a1;
  *((float *)(&lpString)[dword_1317E74] + 29) = (double)a2;
  *((_DWORD *)(&lpString)[dword_1317E74] + 30) = *((_DWORD *)(&lpString)[dword_1317E74] + 29);
  *((_DWORD *)(&lpString)[dword_1317E74] + 37) = a1 / 40;
  *((_DWORD *)(&lpString)[dword_1317E74] + 38) = a2 / 20;
  *((_DWORD *)(&lpString)[dword_1317E74] + 159) = -1;
  *((_BYTE *)(&lpString)[dword_1317E74] + 172) = 0;
  *((_BYTE *)(&lpString)[dword_1317E74] + 173) = 0;
  return dword_1317E74++ + 1;
}
// 1317E74: using guessed type int dword_1317E74;

//----- (0041CB10) --------------------------------------------------------
int __cdecl sub_41CB10(signed int a1, signed int a2, int a3)
{
  int v3; // edx
  unsigned __int16 v4; // ax
  unsigned int v5; // eax

  v3 = dword_1317E74;
  if ( !dword_1317E74 )
  {
    v3 = 0;
    dword_1317E74 = 0;
  }
  memset((void *)(&lpString)[v3], 0, 0x318u);
  *((_WORD *)(&lpString)[dword_1317E74] + 42) = 100;
  *((_WORD *)(&lpString)[dword_1317E74] + 43) = 100;
  *((_BYTE *)(&lpString)[dword_1317E74] + 48) = 2;
  *((_DWORD *)(&lpString)[dword_1317E74] + 13) = dword_1317E74;
  *((_DWORD *)(&lpString)[dword_1317E74] + 14) = *(_DWORD *)a3;
  strcpy((char *)(&lpString)[dword_1317E74], byte_49D994);
  *((_DWORD *)(&lpString)[dword_1317E74] + 20) = 0;
  *((_DWORD *)(&lpString)[dword_1317E74] + 19) = 0;
  *((_DWORD *)(&lpString)[dword_1317E74] + 17) = 0;
  HIBYTE(v4) = *(_BYTE *)a3;
  LOBYTE(v4) = *(_BYTE *)(a3 + 1);
  v5 = *(unsigned __int8 *)(a3 + 3) | ((*(unsigned __int8 *)(a3 + 2) | (v4 << 8)) << 8);
  *((_DWORD *)(&lpString)[dword_1317E74] + 42) = *((_DWORD *)(&lpString)[dword_131D690] + 42);
  if ( v5 >= 0x13880 )
  {
    if ( v5 >= 0x14C08 )
    {
      if ( v5 >= 0x15BA8 )
      {
        if ( v5 >= 0x15F90 )
        {
          if ( v5 < 0x186A0 )
            *((_BYTE *)(&lpString)[dword_1317E74] + 48) = 3;
        }
        else
        {
          *((_BYTE *)(&lpString)[dword_1317E74] + 48) = 4;
          *((_DWORD *)(&lpString)[dword_1317E74] + 42) = 0;
        }
      }
      else
      {
        *((_BYTE *)(&lpString)[dword_1317E74] + 48) = 1;
        *((_DWORD *)(&lpString)[dword_1317E74] + 42) = 1067;
      }
    }
    else
    {
      *((_BYTE *)(&lpString)[dword_1317E74] + 48) = 1;
      *((_DWORD *)(&lpString)[dword_1317E74] + 42) = 1024;
    }
  }
  else
  {
    *((_DWORD *)(&lpString)[dword_1317E74] + 17) = 1;
  }
  *((_BYTE *)(&lpString)[dword_1317E74] + 64) = 0;
  *((_BYTE *)(&lpString)[dword_1317E74] + 184) = 0;
  *((_DWORD *)(&lpString)[dword_1317E74] + 35) = a1;
  *((_DWORD *)(&lpString)[dword_1317E74] + 33) = a1;
  *((_DWORD *)(&lpString)[dword_1317E74] + 36) = a2;
  *((_DWORD *)(&lpString)[dword_1317E74] + 34) = a2;
  *((float *)(&lpString)[dword_1317E74] + 28) = (double)a1;
  *((float *)(&lpString)[dword_1317E74] + 29) = (double)a2;
  *((_DWORD *)(&lpString)[dword_1317E74] + 30) = *((_DWORD *)(&lpString)[dword_1317E74] + 29);
  *((_DWORD *)(&lpString)[dword_1317E74] + 37) = a1 / 40;
  *((_DWORD *)(&lpString)[dword_1317E74] + 38) = a2 / 20;
  *((_DWORD *)(&lpString)[dword_1317E74] + 25) = -1;
  *((_BYTE *)(&lpString)[dword_1317E74] + 105) = 15;
  *((_DWORD *)(&lpString)[dword_1317E74] + 159) = -1;
  return dword_1317E74++ + 1;
}
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;

//----- (0041CE40) --------------------------------------------------------
signed int __cdecl sub_41CE40(int a1)
{
  int v1; // edx
  signed int result; // eax
  signed int v3; // esi
  LPCSTR *v4; // edi
  CHAR *v5; // edi
  int v6; // ecx
  LPCSTR v7; // ecx

  v1 = *(_DWORD *)(a1 + 52);
  result = dword_1317E74;
  if ( v1 == dword_1317E74 - 1 )
  {
    v3 = 0;
    if ( dword_1317E74 > 0 )
    {
      v4 = &lpString;
      do
      {
        if ( *((_DWORD *)*v4 + 156) == dword_49DA1C[result] )
        {
          *((_DWORD *)*v4 + 156) = 0;
          result = dword_1317E74;
        }
        ++v3;
        ++v4;
      }
      while ( v3 < result );
    }
    if ( v1 == dword_48CCE4 )
    {
      dword_48CCE4 = -1;
      *((_DWORD *)(&lpString)[dword_131D690] + 25) = -1;
    }
    v5 = (CHAR *)(&lpString)[v1];
LABEL_21:
    memset(v5, 0, 0x318u);
    --dword_1317E74;
    result = 1;
    if ( dword_1317E74 < 1 )
      dword_1317E74 = 1;
    ++byte_49D965;
    return result;
  }
  v6 = 0;
  if ( dword_1317E74 > 0 )
  {
    do
    {
      if ( *((_DWORD *)(&lpString)[v6] + 156) == dword_49DA1C[result] )
      {
        if ( v6 == dword_131D690 )
          v6 = dword_131D690;
        *((_DWORD *)(&lpString)[v6] + 156) = (&lpString)[v1];
        result = dword_1317E74;
      }
      ++v6;
    }
    while ( v6 < result );
  }
  if ( v1 != dword_131D690 )
  {
    qmemcpy((void *)(&lpString)[v1], (const void *)dword_49DA1C[result], 0x318u);
    *((_DWORD *)(&lpString)[v1] + 13) = v1;
    if ( dword_1317E74 - 1 == dword_48CCE4 )
    {
      dword_48CCE4 = v1;
      v7 = (&lpString)[dword_131D690];
      if ( *((_DWORD *)v7 + 25) == dword_1317E74 - 1 )
        *((_DWORD *)v7 + 25) = v1;
    }
    v5 = (CHAR *)dword_49DA1C[dword_1317E74];
    goto LABEL_21;
  }
  return result;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 49D965: using guessed type char byte_49D965;
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;

//----- (0041CFA0) --------------------------------------------------------
void sub_41CFA0()
{
  void **v0; // esi
  signed int v1; // edi

  v0 = (void **)&lpString;
  v1 = 30000;
  do
  {
    if ( *v0 )
    {
      sub_41BB80(*v0);
      *v0 = 0;
    }
    ++v0;
    --v1;
  }
  while ( v1 );
}

//----- (0041CFD0) --------------------------------------------------------
unsigned int __cdecl sub_41CFD0(unsigned __int16 a1)
{
  int v1; // edi
  int v2; // esi
  int v3; // ecx
  _WORD *v4; // ebx
  unsigned int result; // eax
  unsigned int v6; // [esp+10h] [ebp-8h]
  int v7; // [esp+14h] [ebp-4h]
  unsigned int v8; // [esp+1Ch] [ebp+4h]

  v7 = a1 & 0x1F;
  v1 = 0;
  v2 = 0;
  v3 = 0;
  v4 = &unk_4BDF3E;
  v6 = (unsigned int)a1 >> 11;
  v8 = ((unsigned int)a1 >> 6) & 0x1F;
  do
  {
    v4 += 0x10000;
    result = v6;
    *(v4 - 0x10000) = (((unsigned int)(v1 + ((unsigned __int64)(-2004318071i64 * v1) >> 32)) >> 31)
                     + ((signed int)(v1 + ((unsigned __int64)(-2004318071i64 * v1) >> 32)) >> 3)) | (((unsigned __int16)(((unsigned int)(v3 + ((unsigned __int64)(-2004318071i64 * v3) >> 32)) >> 31) + ((signed int)(v3 + ((unsigned __int64)(-2004318071i64 * v3) >> 32)) >> 3)) | (unsigned __int16)(32 * (((unsigned int)(v2 + ((unsigned __int64)(-2004318071i64 * v2) >> 32)) >> 31) + ((signed int)(v2 + ((unsigned __int64)(-2004318071i64 * v2) >> 32)) >> 3)))) << 6);
    v3 += v8;
    v2 += v6;
    v1 += v7;
  }
  while ( (signed int)v4 < (signed int)&unk_6BDF3E );
  return result;
}

//----- (0041D080) --------------------------------------------------------
unsigned int __cdecl sub_41D080(unsigned __int16 a1)
{
  int v1; // edi
  int v2; // esi
  int v3; // ecx
  _WORD *v4; // ebx
  unsigned int result; // eax
  unsigned int v6; // [esp+10h] [ebp-8h]
  int v7; // [esp+14h] [ebp-4h]
  unsigned int v8; // [esp+1Ch] [ebp+4h]

  v7 = a1 & 0x1F;
  v1 = 0;
  v2 = 0;
  v3 = 0;
  v6 = ((unsigned int)a1 >> 5) & 0x1F;
  v8 = ((unsigned int)a1 >> 10) & 0x1F;
  v4 = &unk_4BDF3E;
  do
  {
    v4 += 0x10000;
    result = v6;
    *(v4 - 0x10000) = (((unsigned int)(v1 + ((unsigned __int64)(-2004318071i64 * v1) >> 32)) >> 31)
                     + ((signed int)(v1 + ((unsigned __int64)(-2004318071i64 * v1) >> 32)) >> 3)) | 32 * ((((unsigned int)(v2 + ((unsigned __int64)(-2004318071i64 * v2) >> 32)) >> 31) + ((signed int)(v2 + ((unsigned __int64)(-2004318071i64 * v2) >> 32)) >> 3)) | 32 * (((unsigned int)(v3 + ((unsigned __int64)(-2004318071i64 * v3) >> 32)) >> 31) + ((signed int)(v3 + ((unsigned __int64)(-2004318071i64 * v3) >> 32)) >> 3)));
    v3 += v8;
    v2 += v6;
    v1 += v7;
  }
  while ( (signed int)v4 < (signed int)&unk_6BDF3E );
  return result;
}

//----- (0041D130) --------------------------------------------------------
unsigned int sub_41D130()
{
  char *v0; // ebp
  int v1; // esi
  signed int v2; // edi
  unsigned int *v3; // ebx
  char *v4; // eax
  signed int v5; // ebx
  signed int v6; // edi
  char *v7; // esi
  signed __int64 v8; // rax
  char v9; // al
  int v10; // eax
  int v11; // edi
  int *v12; // esi
  long double v13; // st7
  signed int v14; // eax
  char v15; // cl
  char *v16; // esi
  signed int v17; // edx
  int v18; // ebp
  signed int v19; // eax
  int v20; // ecx
  int v21; // ebx
  signed int v22; // eax
  double v23; // st7
  long double v24; // st7
  signed int v25; // ebp
  signed int v26; // edi
  signed int v27; // ebx
  int v28; // esi
  unsigned int result; // eax
  int v30; // ecx
  signed int v31; // ebp
  signed int v32; // edi
  signed int v33; // ebx
  int v34; // esi
  int v35; // ecx
  int v36; // [esp+10h] [ebp-28h]
  signed int v37; // [esp+10h] [ebp-28h]
  signed int v38; // [esp+10h] [ebp-28h]
  signed int v39; // [esp+14h] [ebp-24h]
  signed int v40; // [esp+14h] [ebp-24h]
  unsigned int v41; // [esp+1Ch] [ebp-1Ch]
  unsigned int v42; // [esp+20h] [ebp-18h]
  unsigned int v43; // [esp+24h] [ebp-14h]
  unsigned int v44; // [esp+28h] [ebp-10h]
  unsigned int v45; // [esp+2Ch] [ebp-Ch]
  unsigned int v46; // [esp+30h] [ebp-8h]
  unsigned int v47; // [esp+34h] [ebp-4h]

  v36 = 0;
  v0 = (char *)&unk_8D5ECC;
  do
  {
    v1 = 0;
    v2 = 6;
    v3 = &v47;
    do
    {
      --v3;
      v1 += 40 * v36 * byte_487550[v2] / 100;
      v3[1] = v1 * v1;
      --v2;
    }
    while ( v2 > -1 );
    v4 = v0;
    v5 = 0;
    do
    {
      v6 = 0;
      v39 = 0;
      v7 = v4;
      do
      {
        v8 = (signed __int64)((double)v39 * 2.4 * ((double)v39 * 2.4) + (double)(v5 * v5));
        if ( (unsigned int)v8 >= v47 )
        {
          if ( (unsigned int)v8 >= v46 )
          {
            if ( (unsigned int)v8 >= v45 )
            {
              if ( (unsigned int)v8 >= v44 )
              {
                if ( (unsigned int)v8 >= v43 )
                {
                  if ( (unsigned int)v8 >= v42 )
                    v9 = (unsigned int)v8 < v41;
                  else
                    v9 = 2;
                }
                else
                {
                  v9 = 3;
                }
              }
              else
              {
                v9 = 4;
              }
            }
            else
            {
              v9 = 5;
            }
          }
          else
          {
            v9 = 6;
          }
        }
        else
        {
          v9 = 7;
        }
        *v7 = v9;
        ++v6;
        ++v7;
        v39 = v6;
      }
      while ( v6 < 600 );
      ++v5;
      v4 = v7;
    }
    while ( v5 < 800 );
    v0 = v7;
    ++v36;
  }
  while ( (signed int)v7 < (signed int)&dword_11FDACC );
  v10 = GetTickCount();
  sub_479FCB(v10);
  v11 = 0;
  v37 = 0;
  v12 = dword_6BE424;
  do
  {
    v13 = (double)v37 * 0.1963495;
    *(v12 - 1) = (signed __int64)(cos(v13) * 44000.0);
    *v12 = (signed __int64)(sin(v13) * 1000.0 * 33.0);
    v12 += 2;
    ++v37;
  }
  while ( (signed int)v12 < (signed int)&unk_6BE524 );
  v14 = 0;
  do
  {
    v15 = 31;
    if ( v14 <= 31 )
      v15 = v14;
    byte_11FDD94[v14++] = v15;
  }
  while ( v14 < 64 );
  v16 = (char *)&unk_8C899C;
  v17 = 31;
  do
  {
    v18 = 0;
    v40 = 32;
    do
    {
      v19 = 0;
      v20 = v18;
      do
      {
        v21 = v20;
        v20 += v11;
        v16[v19++] = (v21 >> 5) & 0x1F;
      }
      while ( v19 < 32 );
      v16 += 32;
      v18 += v17;
      --v40;
    }
    while ( v40 );
    ++v11;
    --v17;
  }
  while ( v17 > -1 );
  v22 = 0;
  v38 = 0;
  do
  {
    v23 = (double)v38;
    v38 = ++v22;
    v24 = v23 * 0.1591549430964443;
    dbl_8D0998[v22] = cos(v24);
    dbl_11FDAE0[v22] = sin(v24);
  }
  while ( v22 < 40 );
  if ( dword_156FEB0 )
  {
    word_1328E76 = -6249;
    word_4BBFA8 = -2082;
    word_8D3C02 = 14791;
    word_8D3C00 = -2082;
    v25 = 0;
    do
    {
      v26 = 0;
      v27 = v25 << 17;
      do
      {
        v27 += 2;
        v28 = v25 * (v26 & 0x1F);
        result = (unsigned int)(v28 + ((unsigned __int64)(-2004318071i64 * v28) >> 32)) >> 31;
        v30 = v28 / 15 | ((v25 * ((v26 >> 6) & 0x1F) / 15 | 32 * (v25 * ((v26 >> 11) & 0x1F) / 15)) << 6);
        ++v26;
        *(__int16 *)((char *)&word_4BDEFE + v27) = v30;
        *(__int16 *)((char *)&word_6C8626 + v27) = v30;
      }
      while ( v26 < 0x10000 );
      ++v25;
    }
    while ( v25 < 16 );
    dword_12081FC = (int)sub_41CFD0;
    dword_1330668 = (int (__thiscall *)(_DWORD))sub_471C80;
    dword_1541C10 = (int (*)(void))sub_4721A0;
    dword_1547454 = (int (*)(void))sub_470DD0;
    dword_1547448 = (int (*)(void))sub_470FF0;
    dword_1330788 = (int (*)(void))sub_471230;
    dword_1325098 = (int (__cdecl *)(_DWORD))sub_456330;
    dword_1540B5C = (int (*)(void))sub_471E80;
    dword_1547944 = (int (*)(void))sub_4706C0;
  }
  else
  {
    word_1328E76 = 29655;
    word_4BBFA8 = 31710;
    word_8D3C02 = 7399;
    word_8D3C00 = 31710;
    v31 = 0;
    do
    {
      v32 = 0;
      v33 = v31 << 17;
      do
      {
        v33 += 2;
        v34 = v31 * (v32 & 0x1F);
        result = (unsigned int)(v34 + ((unsigned __int64)(-2004318071i64 * v34) >> 32)) >> 31;
        v35 = v34 / 15 | 32 * (v31 * ((v32 >> 5) & 0x1F) / 15 | 32 * (v31 * ((v32 >> 10) & 0x1F) / 15));
        ++v32;
        *(__int16 *)((char *)&word_4BDEFE + v33) = v35;
        *(__int16 *)((char *)&word_6C8626 + v33) = v35;
      }
      while ( v32 < 0x10000 );
      ++v31;
    }
    while ( v31 < 16 );
    dword_12081FC = (int)sub_41D080;
    dword_1330668 = (int (__thiscall *)(_DWORD))sub_471D80;
    dword_1541C10 = (int (*)(void))sub_472280;
    dword_1547454 = (int (*)(void))sub_470CD0;
    dword_1547448 = (int (*)(void))sub_470ED0;
    dword_1330788 = (int (*)(void))sub_471110;
    dword_1325098 = (int (__cdecl *)(_DWORD))sub_456410;
    dword_1540B5C = (int (*)(void))sub_472010;
    dword_1547944 = (int (*)(void))sub_470630;
  }
  return result;
}
// 4706C0: using guessed type int sub_4706C0();
// 470ED0: using guessed type int sub_470ED0();
// 471C80: using guessed type int sub_471C80();
// 4721A0: using guessed type int sub_4721A0();
// 472280: using guessed type int sub_472280();
// 4BBFA8: using guessed type __int16 word_4BBFA8;
// 4BDEFE: using guessed type __int16 word_4BDEFE;
// 6C8626: using guessed type __int16 word_6C8626;
// 8D3C00: using guessed type __int16 word_8D3C00;
// 8D3C02: using guessed type __int16 word_8D3C02;
// 12081FC: using guessed type int dword_12081FC;
// 1325098: using guessed type int (__cdecl *dword_1325098)(_DWORD);
// 1328E76: using guessed type __int16 word_1328E76;
// 1330668: using guessed type int (__thiscall *dword_1330668)(_DWORD);
// 1330788: using guessed type int (*dword_1330788)(void);
// 1540B5C: using guessed type int (*dword_1540B5C)(void);
// 1541C10: using guessed type int (*dword_1541C10)(void);
// 1547448: using guessed type int (*dword_1547448)(void);
// 1547454: using guessed type int (*dword_1547454)(void);
// 1547944: using guessed type int (*dword_1547944)(void);
// 156FEB0: using guessed type int dword_156FEB0;

//----- (0041D570) --------------------------------------------------------
char __cdecl sub_41D570(int a1, signed int a2)
{
  char result; // al
  signed int v3; // eax
  signed int v4; // eax

  switch ( a1 )
  {
    case 0:
      return a2 <= 11 ? 0 : 2;
    case 1:
      v3 = a2;
      goto LABEL_4;
    case 2:
      return a2 <= 6 ? 0 : 2;
    case 3:
      if ( a2 < 13 )
      {
        if ( a2 > 14 )
          return 2;
        result = 0;
      }
      else
      {
        if ( a2 > 14 )
          return 2;
        result = 1;
      }
      return result;
    case 4:
      v4 = a2;
      if ( a2 < 0 || a2 > 5 )
        return v4 <= 10 ? 0 : 2;
      return 1;
    case 5:
      return a2 <= 13 ? 0 : 2;
    case 6:
      if ( a2 < 7 )
      {
        if ( a2 > 9 )
          return 2;
        result = 0;
      }
      else
      {
        if ( a2 > 9 )
          return 2;
        result = 1;
      }
      return result;
    case 7:
      v3 = a2;
      if ( a2 <= 0 || a2 > 10 )
LABEL_4:
        result = v3 <= 14 ? 0 : 2;
      else
        result = 1;
      return result;
    case 8:
      if ( a2 < 0 )
      {
        if ( a2 <= 8 )
          return 0;
      }
      else if ( a2 <= 8 )
      {
        return 1;
      }
      return 2;
    case 9:
      return a2 <= 12 ? 0 : 2;
    case 10:
      return a2 <= 8 ? 0 : 2;
    case 11:
      v4 = a2;
      return v4 <= 10 ? 0 : 2;
    case 12:
      return a2 <= 1 ? 0 : 2;
    case 13:
      return a2 <= 2 ? 0 : 2;
    case 14:
      return a2 <= 4 ? 0 : 2;
    default:
      return 2;
  }
}

//----- (0041D6C0) --------------------------------------------------------
int sub_41D6C0()
{
  FILE *v0; // eax
  int v1; // edi
  FILE *v2; // esi
  int v3; // eax
  char *v4; // edi
  signed int v5; // ebx
  int v6; // eax
  int v7; // eax
  char *v8; // edi
  signed int v9; // ebx
  int v10; // eax
  int v11; // eax
  char *v12; // edi
  signed int v13; // ebx
  int v14; // eax
  int v15; // eax
  char *v16; // edi
  signed int v17; // ebx
  int v18; // eax
  int v19; // eax
  char *v20; // edi
  signed int v21; // ebx
  int v22; // eax
  int v23; // eax
  char *v24; // edi
  signed int v25; // ebx
  int v26; // eax
  int v27; // eax
  char *v28; // edi
  signed int v29; // ebx
  int v30; // eax
  int v31; // eax
  char *v32; // edi
  signed int v33; // ebx
  int v34; // eax
  signed int v36; // [esp+10h] [ebp-110h]
  signed int v37; // [esp+10h] [ebp-110h]
  signed int v38; // [esp+10h] [ebp-110h]
  signed int v39; // [esp+10h] [ebp-110h]
  signed int v40; // [esp+10h] [ebp-110h]
  signed int v41; // [esp+10h] [ebp-110h]
  signed int v42; // [esp+10h] [ebp-110h]
  signed int v43; // [esp+10h] [ebp-110h]
  signed int v44; // [esp+14h] [ebp-10Ch]
  signed int v45; // [esp+14h] [ebp-10Ch]
  signed int v46; // [esp+14h] [ebp-10Ch]
  signed int v47; // [esp+14h] [ebp-10Ch]
  signed int v48; // [esp+14h] [ebp-10Ch]
  signed int v49; // [esp+14h] [ebp-10Ch]
  signed int v50; // [esp+14h] [ebp-10Ch]
  signed int v51; // [esp+14h] [ebp-10Ch]
  FILE *v52; // [esp+18h] [ebp-108h]
  char v53; // [esp+1Ch] [ebp-104h]

  v0 = sub_41BC40(aWorkdataDat);
  v1 = (int)v0;
  v52 = v0;
  v2 = fopen(aWorksDat, aRb);
  v3 = sub_41BD00(a000Tbl, v1);
  if ( v3 != -1 )
  {
    fseek(v2, *((_DWORD *)dword_8D0AE0[v3] + 13), 0);
    v44 = 14;
    do
    {
      sub_41BFF0(v2, (int)&v53);
      v36 = 8;
      v4 = &byte_131D6B2[240 * atoi(&v53)];
      do
      {
        v5 = 5;
        do
        {
          sub_41BFF0(v2, (int)&v53);
          *((_WORD *)v4 - 1) = atoi(&v53);
          sub_41BFF0(v2, (int)&v53);
          v6 = atoi(&v53);
          *v4 = (char)v6 / 100;
          v4 += 6;
          *(v4 - 5) = v6 % 100 / 10;
          --v5;
          *(v4 - 4) = v6 % 10;
        }
        while ( v5 );
        --v36;
      }
      while ( v36 );
      --v44;
    }
    while ( v44 );
    v1 = (int)v52;
  }
  v7 = sub_41BD00(a020Tbl, v1);
  if ( v7 != -1 )
  {
    fseek(v2, *((_DWORD *)dword_8D0AE0[v7] + 13), 0);
    v37 = 14;
    do
    {
      sub_41BFF0(v2, (int)&v53);
      v45 = 8;
      v8 = &byte_13194D2[240 * atoi(&v53)];
      do
      {
        v9 = 5;
        do
        {
          sub_41BFF0(v2, (int)&v53);
          *((_WORD *)v8 - 1) = atoi(&v53);
          sub_41BFF0(v2, (int)&v53);
          v10 = atoi(&v53);
          *v8 = (char)v10 / 100;
          v8 += 6;
          *(v8 - 5) = v10 % 100 / 10;
          --v9;
          *(v8 - 4) = v10 % 10;
        }
        while ( v9 );
        --v45;
      }
      while ( v45 );
      --v37;
    }
    while ( v37 );
    v1 = (int)v52;
  }
  v11 = sub_41BD00(a040Tbl, v1);
  if ( v11 != -1 )
  {
    fseek(v2, *((_DWORD *)dword_8D0AE0[v11] + 13), 0);
    v38 = 14;
    do
    {
      sub_41BFF0(v2, (int)&v53);
      v46 = 8;
      v12 = &byte_131C2DA[240 * atoi(&v53)];
      do
      {
        v13 = 5;
        do
        {
          sub_41BFF0(v2, (int)&v53);
          *((_WORD *)v12 - 1) = atoi(&v53);
          sub_41BFF0(v2, (int)&v53);
          v14 = atoi(&v53);
          *v12 = (char)v14 / 100;
          v12 += 6;
          *(v12 - 5) = v14 % 100 / 10;
          --v13;
          *(v12 - 4) = v14 % 10;
        }
        while ( v13 );
        --v46;
      }
      while ( v46 );
      --v38;
    }
    while ( v38 );
    v1 = (int)v52;
  }
  v15 = sub_41BD00(a060Tbl, v1);
  if ( v15 != -1 )
  {
    fseek(v2, *((_DWORD *)dword_8D0AE0[v15] + 13), 0);
    v39 = 14;
    do
    {
      sub_41BFF0(v2, (int)&v53);
      v47 = 8;
      v16 = &byte_1317E8A[240 * atoi(&v53)];
      do
      {
        v17 = 5;
        do
        {
          sub_41BFF0(v2, (int)&v53);
          *((_WORD *)v16 - 1) = atoi(&v53);
          sub_41BFF0(v2, (int)&v53);
          v18 = atoi(&v53);
          *v16 = (char)v18 / 100;
          v16 += 6;
          *(v16 - 5) = v18 % 100 / 10;
          --v17;
          *(v16 - 4) = v18 % 10;
        }
        while ( v17 );
        --v47;
      }
      while ( v47 );
      --v39;
    }
    while ( v39 );
    v1 = (int)v52;
  }
  v19 = sub_41BD00(a080Tbl, v1);
  if ( v19 != -1 )
  {
    fseek(v2, *((_DWORD *)dword_8D0AE0[v19] + 13), 0);
    v40 = 14;
    do
    {
      sub_41BFF0(v2, (int)&v53);
      v48 = 8;
      v20 = &byte_131FE1A[240 * atoi(&v53)];
      do
      {
        v21 = 5;
        do
        {
          sub_41BFF0(v2, (int)&v53);
          *((_WORD *)v20 - 1) = atoi(&v53);
          sub_41BFF0(v2, (int)&v53);
          v22 = atoi(&v53);
          *v20 = (char)v22 / 100;
          v20 += 6;
          *(v20 - 5) = v22 % 100 / 10;
          --v21;
          *(v20 - 4) = v22 % 10;
        }
        while ( v21 );
        --v48;
      }
      while ( v48 );
      --v40;
    }
    while ( v40 );
    v1 = (int)v52;
  }
  v23 = sub_41BD00(a090Tbl, v1);
  if ( v23 != -1 )
  {
    fseek(v2, *((_DWORD *)dword_8D0AE0[v23] + 13), 0);
    v41 = 10;
    do
    {
      sub_41BFF0(v2, (int)&v53);
      v49 = 8;
      v24 = &byte_131AF2A[240 * atoi(&v53)];
      do
      {
        v25 = 5;
        do
        {
          sub_41BFF0(v2, (int)&v53);
          *((_WORD *)v24 - 1) = atoi(&v53);
          sub_41BFF0(v2, (int)&v53);
          v26 = atoi(&v53);
          *v24 = (char)v26 / 100;
          v24 += 6;
          *(v24 - 5) = v26 % 100 / 10;
          --v25;
          *(v24 - 4) = v26 % 10;
        }
        while ( v25 );
        --v49;
      }
      while ( v49 );
      --v41;
    }
    while ( v41 );
    v1 = (int)v52;
  }
  v27 = sub_41BD00(a100Tbl, v1);
  if ( v27 != -1 )
  {
    fseek(v2, *((_DWORD *)dword_8D0AE0[v27] + 13), 0);
    v42 = 10;
    do
    {
      sub_41BFF0(v2, (int)&v53);
      v50 = 8;
      v28 = &byte_13211D2[240 * atoi(&v53)];
      do
      {
        v29 = 5;
        do
        {
          sub_41BFF0(v2, (int)&v53);
          *((_WORD *)v28 - 1) = atoi(&v53);
          sub_41BFF0(v2, (int)&v53);
          v30 = atoi(&v53);
          *v28 = (char)v30 / 100;
          v28 += 6;
          *(v28 - 5) = v30 % 100 / 10;
          --v29;
          *(v28 - 4) = v30 % 10;
        }
        while ( v29 );
        --v50;
      }
      while ( v50 );
      --v42;
    }
    while ( v42 );
    v1 = (int)v52;
  }
  v31 = sub_41BD00(a110Tbl, v1);
  if ( v31 != -1 )
  {
    fseek(v2, *((_DWORD *)dword_8D0AE0[v31] + 13), 0);
    v43 = 10;
    do
    {
      sub_41BFF0(v2, (int)&v53);
      v51 = 8;
      v32 = &byte_131EA62[240 * atoi(&v53)];
      do
      {
        v33 = 5;
        do
        {
          sub_41BFF0(v2, (int)&v53);
          *((_WORD *)v32 - 1) = atoi(&v53);
          sub_41BFF0(v2, (int)&v53);
          v34 = atoi(&v53);
          *v32 = (char)v34 / 100;
          v32 += 6;
          *(v32 - 5) = v34 % 100 / 10;
          --v33;
          *(v32 - 4) = v34 % 10;
        }
        while ( v33 );
        --v51;
      }
      while ( v51 );
      --v43;
    }
    while ( v43 );
  }
  return fclose(v2);
}

//----- (0041DF10) --------------------------------------------------------
int sub_41DF10()
{
  FILE *v0; // ebx
  _WORD *v1; // edi
  signed int v2; // esi
  int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // ebp
  int v7; // esi
  int v8; // edx
  __int16 *v9; // ecx
  __int16 v10; // ax
  int v11; // esi
  void **v12; // ebp
  signed int v13; // ebx
  int v14; // eax
  char *v15; // edi
  const void *v16; // esi
  int v17; // edi
  bool v18; // sf
  unsigned __int8 v19; // of
  int v20; // eax
  int v21; // ebp
  int v22; // esi
  int v23; // edx
  __int16 *v24; // ecx
  __int16 v25; // ax
  int v26; // esi
  int v27; // ebx
  signed int v28; // ebp
  int v29; // eax
  void *v30; // edi
  const void *v31; // esi
  int v32; // eax
  int v33; // edx
  int v35; // [esp+10h] [ebp-140h]
  int v36; // [esp+14h] [ebp-13Ch]
  int v37; // [esp+18h] [ebp-138h]
  int v38; // [esp+1Ch] [ebp-134h]
  int v39; // [esp+20h] [ebp-130h]
  _WORD *v40; // [esp+24h] [ebp-12Ch]
  int v41; // [esp+28h] [ebp-128h]
  char v42; // [esp+2Eh] [ebp-122h]
  int v43; // [esp+30h] [ebp-120h]
  int v44; // [esp+34h] [ebp-11Ch]
  FILE *v45; // [esp+38h] [ebp-118h]
  int v46; // [esp+3Ch] [ebp-114h]
  char v47; // [esp+40h] [ebp-110h]
  char v48; // [esp+4Ch] [ebp-104h]

  v35 = 0;
  strcpy(byte_6BE2A0, aInitTilesProce);
  v36 = 0;
  v37 = 0;
  v46 = (int)sub_41BC40(aSourcedataDat);
  v0 = fopen(aSourceDat, aRb);
  v45 = v0;
  v1 = sub_41BAF0(0x1F400u);
  v40 = v1;
  v39 = 0;
  do
  {
    v2 = 0;
    v43 = 0;
    do
    {
      v3 = (unsigned __int8)sub_41D570(v39, v2);
      if ( v3 )
      {
        if ( v3 == 1 )
        {
          v4 = 0;
          v44 = v37;
          v41 = 0;
          while ( 1 )
          {
            v37 = v44;
            sprintf(&v48, a02d02d02dTga, v39, v2, v4);
            v5 = sub_41BD00(&v48, v46);
            if ( v5 != -1 )
            {
              fseek(v0, *((_DWORD *)dword_8D0AE0[v5] + 13), 0);
              fread(&v47, 0xCu, 1u, v0);
              v36 = 0;
              v35 = 0;
              fread(&v35, 2u, 1u, v0);
              fread(&v36, 2u, 1u, v0);
              fread(&v42, 2u, 1u, v0);
              v6 = v36;
              v7 = v36 - 1;
              if ( v36 - 1 > -1 )
              {
                do
                  fread(&v1[v35 * v7--], 2 * v35, 1u, v0);
                while ( v7 > -1 );
                v6 = v36;
              }
              if ( dword_156FEB0 )
              {
                v8 = 0;
                if ( v35 * v6 > 0 )
                {
                  v9 = v1;
                  do
                  {
                    v10 = *v9;
                    ++v9;
                    ++v8;
                    *(v9 - 1) = v10 & 0x1F | 2 * (v10 & 0xFFE0);
                    v6 = v36;
                  }
                  while ( v8 < v35 * v36 );
                }
              }
              v11 = 0;
              v38 = 0;
              if ( v6 / 20 * (v35 / 40) > 0 )
              {
                v12 = (void **)(4 * (v41 + 4 * v44) + 18907648);
                while ( 1 )
                {
                  *v12 = sub_41BAF0(0x640u);
                  v13 = 0;
                  v14 = (int)&v1[40 * (v11 % 2 + 40 * (v11 / 2))];
                  do
                  {
                    v15 = (char *)*v12 + v13;
                    v16 = (const void *)v14;
                    v13 += 80;
                    v14 += 160;
                    qmemcpy(v15, v16, 0x50u);
                  }
                  while ( v13 < 1600 );
                  ++v37;
                  v17 = v36 / 20 * (v35 / 40);
                  v12 += 4;
                  v19 = __OFSUB__(v38 + 1, v17);
                  v18 = v38 + 1 - v17 < 0;
                  v1 = v40;
                  ++v38;
                  if ( !(v18 ^ v19) )
                    break;
                  v11 = v38;
                }
                v0 = v45;
              }
            }
            v4 = v41 + 1;
            v19 = __OFSUB__(v41 + 1, 4);
            v18 = v41++ - 3 < 0;
            if ( !(v18 ^ v19) )
              break;
            v2 = v43;
          }
        }
      }
      else
      {
        sprintf(&v48, a02d02d00Tga, v39, v2);
        v20 = sub_41BD00(&v48, v46);
        if ( v20 != -1 )
        {
          fseek(v0, *((_DWORD *)dword_8D0AE0[v20] + 13), 0);
          fread(&v47, 0xCu, 1u, v0);
          v36 = 0;
          v35 = 0;
          fread(&v35, 2u, 1u, v0);
          fread(&v36, 2u, 1u, v0);
          fread(&v42, 2u, 1u, v0);
          v21 = v36;
          v22 = v36 - 1;
          if ( v36 - 1 > -1 )
          {
            do
              fread(&v1[v35 * v22--], 2 * v35, 1u, v0);
            while ( v22 > -1 );
            v21 = v36;
          }
          if ( dword_156FEB0 )
          {
            v23 = 0;
            if ( v35 * v21 > 0 )
            {
              v24 = v1;
              do
              {
                v25 = *v24;
                ++v24;
                ++v23;
                *(v24 - 1) = v25 & 0x1F | 2 * (v25 & 0xFFE0);
                v21 = v36;
              }
              while ( v23 < v35 * v36 );
            }
          }
          v26 = 0;
          v38 = 0;
          if ( v21 / 20 * (v35 / 40) > 0 )
          {
            while ( 1 )
            {
              if ( v37 > 65534 )
                v37 = 65545;
              v27 = 4 * v37;
              dword_1208200[v27] = (int)sub_41BAF0(0x640u);
              v28 = 0;
              v29 = (int)&v1[40 * (v26 % 2 + 40 * (v26 / 2))];
              do
              {
                v30 = (void *)(dword_1208200[v27] + v28);
                v31 = (const void *)v29;
                v28 += 80;
                v29 += 160;
                qmemcpy(v30, v31, 0x50u);
              }
              while ( v28 < 1600 );
              v32 = dword_1208200[v27];
              v33 = v35;
              dword_120820C[v27] = v32;
              dword_1208208[v27] = v32;
              dword_1208204[v27] = v32;
              ++v37;
              v1 = v40;
              if ( ++v38 >= v36 / 20 * (v33 / 40) )
                break;
              v26 = v38;
            }
            v0 = v45;
          }
        }
      }
      v2 = v43 + 1;
      v19 = __OFSUB__(v43 + 1, 100);
      v18 = v43++ - 99 < 0;
    }
    while ( v18 ^ v19 );
    v19 = __OFSUB__(v39 + 1, 100);
    v18 = v39++ - 99 < 0;
  }
  while ( v18 ^ v19 );
  sub_41BB80(v1);
  return fclose(v0);
}
// 1208200: using guessed type int dword_1208200[];
// 1208204: using guessed type int dword_1208204[];
// 1208208: using guessed type int dword_1208208[];
// 120820C: using guessed type int dword_120820C[];
// 156FEB0: using guessed type int dword_156FEB0;

//----- (0041E430) --------------------------------------------------------
void sub_41E430()
{
  void **v0; // esi
  void *v1; // eax
  void *v2; // [esp-4h] [ebp-Ch]

  v0 = (void **)dword_1208208;
  do
  {
    v1 = *(v0 - 2);
    if ( v1 )
    {
      v2 = *(v0 - 2);
      if ( v1 == *(v0 - 1) )
      {
        sub_41BB80(v2);
      }
      else
      {
        sub_41BB80(v2);
        sub_41BB80(*(v0 - 1));
        sub_41BB80(*v0);
        sub_41BB80(v0[1]);
      }
      v0[1] = 0;
      *v0 = 0;
      *(v0 - 1) = 0;
      *(v0 - 2) = 0;
    }
    v0 += 4;
  }
  while ( (signed int)v0 < (signed int)&unk_13081F8 );
}
// 1208208: using guessed type int dword_1208208[];

//----- (0041E490) --------------------------------------------------------
bool __cdecl sub_41E490(int a1, signed int a2)
{
  bool result; // al

  switch ( a1 )
  {
    case 0:
      result = a2 <= 33;
      break;
    case 1:
    case 4:
    case 10:
    case 11:
      result = a2 <= 7;
      break;
    case 2:
      result = a2 <= 9;
      break;
    case 3:
      result = a2 <= 17;
      break;
    case 5:
    case 8:
    case 9:
      result = a2 <= 25;
      break;
    case 6:
    case 7:
      result = a2 <= 11;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (0041E530) --------------------------------------------------------
int sub_41E530()
{
  int v0; // esi
  signed int v1; // ebx
  FILE *v2; // edi
  signed int v3; // ebp
  int v4; // eax
  int v5; // eax
  int v6; // esi
  void *v7; // eax
  int v8; // eax
  int v9; // edx
  _WORD *v10; // ebx
  int v11; // edx
  signed int v12; // esi
  __int16 *v13; // ecx
  __int16 v14; // ax
  bool v15; // zf
  int v17; // [esp+10h] [ebp-11Ch]
  signed int v18; // [esp+14h] [ebp-118h]
  signed int v19; // [esp+18h] [ebp-114h]
  int v20; // [esp+1Ch] [ebp-110h]
  int v21; // [esp+20h] [ebp-10Ch]
  int v22; // [esp+24h] [ebp-108h]
  char v23; // [esp+28h] [ebp-104h]

  strcpy(byte_6BE2A0, aLoadWallObject);
  v22 = (int)sub_41BC40(aSourcedataDat);
  v0 = 0;
  v1 = 0;
  v2 = fopen(aSourceDat, aRb);
  v17 = 0;
  v19 = 0;
  do
  {
    v3 = 0;
    v18 = 0;
    do
    {
      LOBYTE(v4) = sub_41E490(v0, v3);
      if ( v4 )
      {
        sprintf(&v23, aO02d02d00Int, v0, v3);
        v5 = sub_41BD00(&v23, v22);
        if ( v5 != -1 )
        {
          fseek(v2, *((_DWORD *)dword_8D0AE0[v5] + 13), 0);
          v6 = v1 + v3;
          v7 = sub_41BAF0(0xCu);
          dword_11FDDD4[v6] = (int)v7;
          fread(v7, 2u, 1u, v2);
          fread((void *)(dword_11FDDD4[v1 + v3] + 2), 2u, 1u, v2);
          *(_WORD *)dword_11FDDD4[v6] -= 399;
          *(_WORD *)(dword_11FDDD4[v6] + 2) -= 299;
          fread((void *)(dword_11FDDD4[v1 + v3] + 4), 2u, 1u, v2);
          fread((void *)(dword_11FDDD4[v1 + v3] + 6), 2u, 1u, v2);
          fread(&v21, 4u, 1u, v2);
          *(_DWORD *)(dword_11FDDD4[v6] + 8) = sub_41BAF0(3 * v21);
          fread(*(void **)(dword_11FDDD4[v1 + v3] + 8), 2 * v21, 1u, v2);
          if ( dword_156FEB0 )
          {
            HIWORD(v8) = 0;
            v9 = 1;
            v10 = *(_WORD **)(dword_11FDDD4[v6] + 8);
            if ( (signed int)(unsigned __int16)*v10 > 0 )
            {
              LOWORD(v8) = *v10;
              v20 = v8;
              do
              {
                v11 = v9 + 1;
                v12 = 0;
                if ( v10[v11] )
                {
                  v13 = &v10[v11 + 1];
                  do
                  {
                    v14 = *v13;
                    ++v13;
                    *(v13 - 1) = v14 & 0x1F | 2 * (v14 & 0xFFE0);
                    ++v12;
                  }
                  while ( v12 < (unsigned __int16)v10[v11] );
                  v3 = v18;
                }
                v15 = v20-- == 1;
                v9 = v11 + (unsigned __int16)v10[v11] + 1;
              }
              while ( !v15 );
            }
            v1 = v19;
          }
        }
      }
      v0 = v17;
      v18 = ++v3;
    }
    while ( v3 < 50 );
    v1 += 50;
    v0 = v17++ + 1;
    v19 = v1;
  }
  while ( v1 < 5000 );
  return fclose(v2);
}
// 156FEB0: using guessed type int dword_156FEB0;

//----- (0041E750) --------------------------------------------------------
void sub_41E750()
{
  void **v0; // esi

  v0 = (void **)dword_11FDDD4;
  do
  {
    if ( *v0 )
    {
      sub_41BB80(*((void **)*v0 + 2));
      *((_DWORD *)*v0 + 2) = 0;
      sub_41BB80(*v0);
      *v0 = 0;
    }
    ++v0;
  }
  while ( (signed int)v0 < (signed int)byte_1207A14 );
}

//----- (0041E790) --------------------------------------------------------
bool __cdecl sub_41E790(signed int a1)
{
  return a1 <= 163;
}

//----- (0041E7A0) --------------------------------------------------------
int sub_41E7A0()
{
  signed int v0; // ebx
  FILE *v1; // edi
  int *v2; // esi
  int v3; // eax
  int v4; // eax
  void *v5; // eax
  int v6; // edx
  _WORD *v7; // eax
  int v8; // ecx
  int v9; // edx
  signed int v10; // ebx
  __int16 *v11; // ecx
  __int16 v12; // ax
  __int16 v13; // bp
  signed int v15; // [esp+10h] [ebp-118h]
  int v16; // [esp+14h] [ebp-114h]
  int v17; // [esp+18h] [ebp-110h]
  int v18; // [esp+1Ch] [ebp-10Ch]
  _WORD *v19; // [esp+20h] [ebp-108h]
  char v20; // [esp+24h] [ebp-104h]

  strcpy(byte_6BE2A0, aLoadObjectProc);
  v18 = (int)sub_41BC40(aSourcedataDat);
  v0 = 0;
  v1 = fopen(aSourceDat, aRb);
  v15 = 0;
  v2 = dword_6BDF04;
  do
  {
    LOBYTE(v3) = sub_41E790(v0);
    if ( v3 )
    {
      sprintf(&v20, aOb04dInt, v0);
      v4 = sub_41BD00(&v20, v18);
      if ( v4 != -1 )
      {
        fseek(v1, *((_DWORD *)dword_8D0AE0[v4] + 13), 0);
        v5 = sub_41BAF0(0xCu);
        *v2 = (int)v5;
        fread(v5, 2u, 1u, v1);
        fread((void *)(*v2 + 2), 2u, 1u, v1);
        *(_WORD *)*v2 -= 399;
        *(_WORD *)(*v2 + 2) -= 299;
        fread((void *)(*v2 + 4), 2u, 1u, v1);
        fread((void *)(*v2 + 6), 2u, 1u, v1);
        fread(&v17, 4u, 1u, v1);
        *(_DWORD *)(*v2 + 8) = sub_41BAF0(3 * v17);
        fread(*(void **)(*v2 + 8), 2 * v17, 1u, v1);
        if ( dword_156FEB0 )
        {
          v6 = 1;
          v7 = *(_WORD **)(*v2 + 8);
          HIWORD(v8) = 0;
          v19 = v7;
          if ( (signed int)(unsigned __int16)*v7 > 0 )
          {
            LOWORD(v8) = *v7;
            v16 = v8;
            do
            {
              v9 = v6 + 1;
              v10 = 0;
              if ( v7[v9] )
              {
                v11 = &v7[v9 + 1];
                do
                {
                  v12 = *v11;
                  ++v11;
                  v13 = v12 & 0x1F | 2 * (v12 & 0xFFE0);
                  v7 = v19;
                  *(v11 - 1) = v13;
                  ++v10;
                }
                while ( v10 < (unsigned __int16)v7[v9] );
              }
              v6 = v9 + (unsigned __int16)v7[v9] + 1;
              --v16;
            }
            while ( v16 );
            v0 = v15;
          }
        }
      }
    }
    ++v2;
    v15 = ++v0;
  }
  while ( (signed int)v2 < (signed int)&unk_6BE224 );
  return fclose(v1);
}
// 156FEB0: using guessed type int dword_156FEB0;

//----- (0041E980) --------------------------------------------------------
void sub_41E980()
{
  void **v0; // esi

  v0 = (void **)dword_6BDF04;
  do
  {
    if ( *v0 )
    {
      sub_41BB80(*((void **)*v0 + 2));
      *((_DWORD *)*v0 + 2) = 0;
      sub_41BB80(*v0);
      *v0 = 0;
    }
    ++v0;
  }
  while ( (signed int)v0 < (signed int)&unk_6BE224 );
}

//----- (0041E9C0) --------------------------------------------------------
int sub_41E9C0()
{
  FILE *v0; // ebp
  _WORD *v1; // ebx
  int v2; // eax
  void *v3; // eax
  int v4; // edx
  _WORD *v5; // edi
  int v6; // eax
  int v7; // edx
  int v8; // edx
  signed int v9; // esi
  __int16 *v10; // ecx
  __int16 v11; // ax
  bool v12; // zf
  int v14; // [esp+10h] [ebp-118h]
  int v15; // [esp+14h] [ebp-114h]
  int v16; // [esp+18h] [ebp-110h]
  int v17; // [esp+1Ch] [ebp-10Ch]
  FILE *v18; // [esp+20h] [ebp-108h]
  char v19; // [esp+24h] [ebp-104h]

  strcpy(byte_6BE2A0, aLoadCursorProc);
  v17 = (int)sub_41BC40(aSourcedataDat);
  v0 = fopen(aSourceDat, aRb);
  v18 = v0;
  v14 = 0;
  v1 = &unk_8C862A;
  do
  {
    sprintf(&v19, aCursorDInt, v14);
    v2 = sub_41BD00(&v19, v17);
    if ( v2 != -1 )
    {
      fseek(v0, *((_DWORD *)dword_8D0AE0[v2] + 13), 0);
      fread(v1 - 1, 2u, 1u, v0);
      fread(v1, 2u, 1u, v0);
      *(v1 - 1) = 0;
      *v1 = 0;
      fread(v1 + 1, 2u, 1u, v0);
      fread(v1 + 2, 2u, 1u, v0);
      fread(&v16, 4u, 1u, v0);
      v3 = sub_41BAF0(3 * v16);
      v4 = v16;
      *(_DWORD *)(v1 + 3) = v3;
      fread(v3, 2 * v4, 1u, v0);
      if ( dword_156FEB0 )
      {
        v5 = *(_WORD **)(v1 + 3);
        HIWORD(v6) = 0;
        v7 = 1;
        if ( (signed int)(unsigned __int16)*v5 > 0 )
        {
          LOWORD(v6) = *v5;
          v15 = v6;
          do
          {
            v8 = v7 + 1;
            v9 = 0;
            if ( v5[v8] )
            {
              v10 = &v5[v8 + 1];
              do
              {
                v11 = *v10;
                ++v10;
                *(v10 - 1) = v11 & 0x1F | 2 * (v11 & 0xFFE0);
                ++v9;
              }
              while ( v9 < (unsigned __int16)v5[v8] );
              v0 = v18;
            }
            v12 = v15-- == 1;
            v7 = v8 + (unsigned __int16)v5[v8] + 1;
          }
          while ( !v12 );
        }
      }
    }
    v1 += 6;
    ++v14;
  }
  while ( (signed int)v1 < (signed int)&unk_8C8642 );
  return fclose(v0);
}
// 156FEB0: using guessed type int dword_156FEB0;

//----- (0041EB70) --------------------------------------------------------
void sub_41EB70()
{
  void **v0; // esi

  v0 = (void **)&dword_8C8630;
  do
  {
    if ( *v0 )
    {
      sub_41BB80(*v0);
      *v0 = 0;
    }
    v0 += 3;
  }
  while ( (signed int)v0 < (signed int)&unk_8C8648 );
}
// 8C8630: using guessed type int dword_8C8630;

//----- (0041EBA0) --------------------------------------------------------
int __cdecl sub_41EBA0(char *a1, int a2)
{
  FILE *v2; // esi
  FILE *v3; // ebx
  int v4; // eax
  int v5; // esi
  void *v6; // eax
  int v7; // edx
  _WORD *v8; // esi
  char *v9; // eax
  int v10; // edx
  int v11; // edx
  signed int v12; // edi
  __int16 *v13; // ecx
  __int16 v14; // ax
  bool v15; // zf
  int v17; // [esp+10h] [ebp-4h]
  char *v18; // [esp+18h] [ebp+4h]

  strcpy(byte_6BE2A0, aLoadIntercutPr);
  v2 = sub_41BC40(aSourcedataDat);
  v3 = fopen(aSourceDat, aRb);
  v4 = sub_41BD00(a1, (int)v2);
  if ( v4 != -1 )
  {
    fseek(v3, *((_DWORD *)dword_8D0AE0[v4] + 13), 0);
    v5 = 3 * a2;
    fread((char *)&unk_8D5B80 + 12 * a2, 2u, 1u, v3);
    fread((char *)&unk_8D5B82 + 12 * a2, 2u, 1u, v3);
    *((_WORD *)&unk_8D5B80 + 6 * a2) = 0;
    *(_WORD *)((char *)&unk_8D5B82 + v5 * 4) = 0;
    fread(&dword_8D5B84[3 * a2], 2u, 1u, v3);
    fread((char *)&dword_8D5B84[3 * a2] + 2, 2u, 1u, v3);
    fread(&v17, 4u, 1u, v3);
    v6 = sub_41BAF0(3 * v17);
    v7 = v17;
    dword_8D5B88[v5] = (int)v6;
    fread(v6, 2 * v7, 1u, v3);
    if ( dword_156FEB0 )
    {
      v8 = (_WORD *)dword_8D5B88[v5];
      HIWORD(v9) = 0;
      v10 = 1;
      if ( (signed int)(unsigned __int16)*v8 > 0 )
      {
        LOWORD(v9) = *v8;
        v18 = v9;
        do
        {
          v11 = v10 + 1;
          v12 = 0;
          if ( v8[v11] )
          {
            v13 = &v8[v11 + 1];
            do
            {
              v14 = *v13;
              ++v13;
              *(v13 - 1) = v14 & 0x1F | 2 * (v14 & 0xFFE0);
              ++v12;
            }
            while ( v12 < (unsigned __int16)v8[v11] );
          }
          v15 = v18-- == (char *)1;
          v10 = v11 + (unsigned __int16)v8[v11] + 1;
        }
        while ( !v15 );
      }
    }
  }
  return fclose(v3);
}
// 8D5B84: using guessed type int dword_8D5B84[];
// 8D5B88: using guessed type int dword_8D5B88[];
// 156FEB0: using guessed type int dword_156FEB0;

//----- (0041ED20) --------------------------------------------------------
void sub_41ED20()
{
  void **v0; // esi

  v0 = (void **)dword_8D5B88;
  do
  {
    if ( *v0 )
    {
      sub_41BB80(*v0);
      *v0 = 0;
    }
    v0 += 3;
  }
  while ( (signed int)v0 < (signed int)&unk_8D5ED0 );
}
// 8D5B88: using guessed type int dword_8D5B88[];

//----- (0041ED50) --------------------------------------------------------
int sub_41ED50()
{
  FILE *v0; // esi
  void **v1; // edi
  int v2; // ebx
  void *v3; // eax
  char *v4; // ecx
  int v5; // edx
  _WORD *v6; // eax
  int v7; // ecx
  int v8; // edx
  signed int v9; // ebp
  __int16 *v10; // ecx
  __int16 v11; // ax
  __int16 v12; // bx
  void **v13; // edi
  int v14; // ebx
  void *v15; // eax
  char *v16; // edx
  int v17; // ecx
  int v18; // edx
  _WORD *v19; // eax
  int v20; // edx
  signed int v21; // ebp
  __int16 *v22; // ecx
  __int16 v23; // ax
  __int16 v24; // bx
  void **v25; // edi
  int v26; // ebx
  void *v27; // eax
  char *v28; // edx
  int v29; // ecx
  int v30; // edx
  _WORD *v31; // eax
  int v32; // edx
  signed int v33; // ebx
  __int16 *v34; // ecx
  __int16 v35; // ax
  __int16 v36; // bp
  void **v37; // edi
  int v38; // ebx
  void *v39; // eax
  void *v40; // eax
  char *v41; // edx
  int v42; // ecx
  int v43; // edx
  _WORD *v44; // eax
  int v45; // edx
  signed int v46; // ebx
  __int16 *v47; // ecx
  __int16 v48; // ax
  __int16 v49; // bp
  int v51; // [esp+10h] [ebp-118h]
  signed int v52; // [esp+10h] [ebp-118h]
  signed int v53; // [esp+10h] [ebp-118h]
  signed int v54; // [esp+10h] [ebp-118h]
  int v55; // [esp+14h] [ebp-114h]
  int v56; // [esp+18h] [ebp-110h]
  _WORD *v57; // [esp+1Ch] [ebp-10Ch]
  int v58; // [esp+20h] [ebp-108h]
  char v59; // [esp+24h] [ebp-104h]

  strcpy(byte_6BE2A0, aLoadIntercutPr);
  v58 = (int)sub_41BC40(aSourcedataDat);
  v0 = fopen(aSourceDat, aRb);
  v51 = 0;
  v1 = (void **)dword_4BCF50;
  sprintf(&v59, aIcon04dInt, 0);
  while ( 1 )
  {
    if ( *v1 )
    {
      if ( *((_DWORD *)*v1 + 2) )
      {
        sub_41BB80(*((void **)*v1 + 2));
        *((_DWORD *)*v1 + 2) = 0;
      }
      sub_41BB80(*v1);
      *v1 = 0;
    }
    v2 = sub_41BD00(&v59, v58);
    if ( v2 != -1 )
    {
      v3 = sub_41BAF0(0xCu);
      v4 = dword_8D0AE0[v2];
      *v1 = v3;
      fseek(v0, *((_DWORD *)v4 + 13), 0);
      fread(*v1, 2u, 1u, v0);
      fread((char *)*v1 + 2, 2u, 1u, v0);
      *(_WORD *)*v1 = 0;
      *((_WORD *)*v1 + 1) = 0;
      fread((char *)*v1 + 4, 2u, 1u, v0);
      fread((char *)*v1 + 6, 2u, 1u, v0);
      fread(&v55, 4u, 1u, v0);
      *((_DWORD *)*v1 + 2) = sub_41BAF0(3 * v55);
      fread(*((void **)*v1 + 2), 2 * v55, 1u, v0);
      if ( dword_156FEB0 )
      {
        v5 = 1;
        v6 = (_WORD *)*((_DWORD *)*v1 + 2);
        HIWORD(v7) = 0;
        v57 = v6;
        if ( (signed int)(unsigned __int16)*v6 > 0 )
        {
          LOWORD(v7) = *v6;
          v56 = v7;
          do
          {
            v8 = v5 + 1;
            v9 = 0;
            if ( v6[v8] )
            {
              v10 = &v6[v8 + 1];
              do
              {
                v11 = *v10;
                ++v10;
                v12 = v11 & 0x1F | 2 * (v11 & 0xFFE0);
                v6 = v57;
                *(v10 - 1) = v12;
                ++v9;
              }
              while ( v9 < (unsigned __int16)v6[v8] );
            }
            v5 = v8 + (unsigned __int16)v6[v8] + 1;
            --v56;
          }
          while ( v56 );
        }
      }
    }
    ++v1;
    ++v51;
    if ( (signed int)v1 >= (signed int)&unk_4BD028 )
      break;
    sprintf(&v59, aIcon04dInt, v51);
  }
  v52 = 100;
  v13 = (void **)&unk_4BD0E0;
  do
  {
    sprintf(&v59, aIcon04dInt, v52);
    if ( *v13 )
    {
      if ( *((_DWORD *)*v13 + 2) )
      {
        sub_41BB80(*((void **)*v13 + 2));
        *((_DWORD *)*v13 + 2) = 0;
      }
      sub_41BB80(*v13);
      *v13 = 0;
    }
    v14 = sub_41BD00(&v59, v58);
    if ( v14 != -1 )
    {
      v15 = sub_41BAF0(0xCu);
      v16 = dword_8D0AE0[v14];
      *v13 = v15;
      fseek(v0, *((_DWORD *)v16 + 13), 0);
      fread(*v13, 2u, 1u, v0);
      fread((char *)*v13 + 2, 2u, 1u, v0);
      *(_WORD *)*v13 = 0;
      *((_WORD *)*v13 + 1) = 0;
      fread((char *)*v13 + 4, 2u, 1u, v0);
      fread((char *)*v13 + 6, 2u, 1u, v0);
      fread(&v55, 4u, 1u, v0);
      *((_DWORD *)*v13 + 2) = sub_41BAF0(3 * v55);
      fread(*((void **)*v13 + 2), 2 * v55, 1u, v0);
      if ( dword_156FEB0 )
      {
        HIWORD(v17) = 0;
        v18 = 1;
        v19 = (_WORD *)*((_DWORD *)*v13 + 2);
        v57 = v19;
        if ( (signed int)(unsigned __int16)*v19 > 0 )
        {
          LOWORD(v17) = *v19;
          v56 = v17;
          do
          {
            v20 = v18 + 1;
            v21 = 0;
            if ( v19[v20] )
            {
              v22 = &v19[v20 + 1];
              do
              {
                v23 = *v22;
                ++v22;
                v24 = v23 & 0x1F | 2 * (v23 & 0xFFE0);
                v19 = v57;
                *(v22 - 1) = v24;
                ++v21;
              }
              while ( v21 < (unsigned __int16)v19[v20] );
            }
            v18 = v20 + (unsigned __int16)v19[v20] + 1;
            --v56;
          }
          while ( v56 );
        }
      }
    }
    ++v13;
    ++v52;
  }
  while ( (signed int)v13 < (signed int)&unk_4BD240 );
  v53 = 200;
  v25 = (void **)&unk_4BD270;
  do
  {
    sprintf(&v59, aIcon04dInt, v53);
    if ( *v25 )
    {
      if ( *((_DWORD *)*v25 + 2) )
      {
        sub_41BB80(*((void **)*v25 + 2));
        *((_DWORD *)*v25 + 2) = 0;
      }
      sub_41BB80(*v25);
      *v25 = 0;
    }
    v26 = sub_41BD00(&v59, v58);
    if ( v26 != -1 )
    {
      v27 = sub_41BAF0(0xCu);
      v28 = dword_8D0AE0[v26];
      *v25 = v27;
      fseek(v0, *((_DWORD *)v28 + 13), 0);
      fread(*v25, 2u, 1u, v0);
      fread((char *)*v25 + 2, 2u, 1u, v0);
      *(_WORD *)*v25 = 0;
      *((_WORD *)*v25 + 1) = 0;
      fread((char *)*v25 + 4, 2u, 1u, v0);
      fread((char *)*v25 + 6, 2u, 1u, v0);
      fread(&v55, 4u, 1u, v0);
      *((_DWORD *)*v25 + 2) = sub_41BAF0(3 * v55);
      fread(*((void **)*v25 + 2), 2 * v55, 1u, v0);
      if ( dword_156FEB0 )
      {
        HIWORD(v29) = 0;
        v30 = 1;
        v31 = (_WORD *)*((_DWORD *)*v25 + 2);
        v57 = v31;
        if ( (signed int)(unsigned __int16)*v31 > 0 )
        {
          LOWORD(v29) = *v31;
          v56 = v29;
          do
          {
            v32 = v30 + 1;
            v33 = 0;
            if ( v31[v32] )
            {
              v34 = &v31[v32 + 1];
              do
              {
                v35 = *v34;
                ++v34;
                v36 = v35 & 0x1F | 2 * (v35 & 0xFFE0);
                v31 = v57;
                *(v34 - 1) = v36;
                ++v33;
              }
              while ( v33 < (unsigned __int16)v31[v32] );
            }
            v30 = v32 + (unsigned __int16)v31[v32] + 1;
            --v56;
          }
          while ( v56 );
        }
      }
    }
    ++v25;
    ++v53;
  }
  while ( (signed int)v25 < (signed int)&unk_4BD388 );
  v54 = 300;
  v37 = (void **)dword_4BD400;
  do
  {
    sprintf(&v59, aItem04dInt, v54 - 300);
    v38 = sub_41BD00(&v59, v58);
    if ( v38 != -1 )
    {
      if ( *v37 )
      {
        v39 = (void *)*((_DWORD *)*v37 + 2);
        if ( v39 )
        {
          sub_41BB80(v39);
          *((_DWORD *)*v37 + 2) = 0;
        }
        sub_41BB80(*v37);
        *v37 = 0;
      }
      v40 = sub_41BAF0(0xCu);
      v41 = dword_8D0AE0[v38];
      *v37 = v40;
      fseek(v0, *((_DWORD *)v41 + 13), 0);
      fread(*v37, 2u, 1u, v0);
      fread((char *)*v37 + 2, 2u, 1u, v0);
      *(_WORD *)*v37 = 0;
      *((_WORD *)*v37 + 1) = 0;
      fread((char *)*v37 + 4, 2u, 1u, v0);
      fread((char *)*v37 + 6, 2u, 1u, v0);
      fread(&v55, 4u, 1u, v0);
      *((_DWORD *)*v37 + 2) = sub_41BAF0(3 * v55);
      fread(*((void **)*v37 + 2), 2 * v55, 1u, v0);
      if ( dword_156FEB0 )
      {
        HIWORD(v42) = 0;
        v43 = 1;
        v44 = (_WORD *)*((_DWORD *)*v37 + 2);
        v57 = v44;
        if ( (signed int)(unsigned __int16)*v44 > 0 )
        {
          LOWORD(v42) = *v44;
          v56 = v42;
          do
          {
            v45 = v43 + 1;
            v46 = 0;
            if ( v44[v45] )
            {
              v47 = &v44[v45 + 1];
              do
              {
                v48 = *v47;
                ++v47;
                v49 = v48 & 0x1F | 2 * (v48 & 0xFFE0);
                v44 = v57;
                *(v47 - 1) = v49;
                ++v46;
              }
              while ( v46 < (unsigned __int16)v44[v45] );
            }
            v43 = v45 + (unsigned __int16)v44[v45] + 1;
            --v56;
          }
          while ( v56 );
        }
      }
    }
    ++v37;
    ++v54;
  }
  while ( (signed int)v37 < (signed int)&unk_4BDD60 );
  return fclose(v0);
}
// 156FEB0: using guessed type int dword_156FEB0;

//----- (0041F400) --------------------------------------------------------
void sub_41F400()
{
  void **v0; // esi

  v0 = (void **)dword_4BCF50;
  do
  {
    if ( *v0 )
    {
      sub_41BB80(*((void **)*v0 + 2));
      *((_DWORD *)*v0 + 2) = 0;
      sub_41BB80(*v0);
      *v0 = 0;
    }
    ++v0;
  }
  while ( (signed int)v0 < (signed int)&unk_4BDEF0 );
}

//----- (0041F440) --------------------------------------------------------
int sub_41F440()
{
  int *v0; // ebx
  FILE *v1; // ebp
  int v2; // eax
  void *v3; // eax
  int v4; // ecx
  int v5; // edi
  int v6; // edx
  int v7; // eax
  int v8; // edx
  signed int v9; // esi
  __int16 *v10; // eax
  __int16 v11; // cx
  int v13; // [esp+10h] [ebp-11Ch]
  int v14; // [esp+14h] [ebp-118h]
  int v15; // [esp+18h] [ebp-114h]
  int *v16; // [esp+1Ch] [ebp-110h]
  int v17; // [esp+20h] [ebp-10Ch]
  int v18; // [esp+24h] [ebp-108h]
  char v19; // [esp+28h] [ebp-104h]

  strcpy(byte_6BE2A0, aLoadMapnamePro);
  v18 = (int)sub_41BC40(aSourcedataDat);
  v0 = dword_8C87BC;
  v1 = fopen(aSourceDat, aRb);
  v14 = 0;
  v16 = dword_8C87BC;
  do
  {
    sprintf(&v19, a03dmapInt, v14);
    v2 = sub_41BD00(&v19, v18);
    if ( v2 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v2] + 13), 0);
      fread(&v13, 2u, 1u, v1);
      fread(&v13, 2u, 1u, v1);
      fread(&v13, 2u, 1u, v1);
      fread(&v13, 2u, 1u, v1);
      fread(&v17, 4u, 1u, v1);
      v3 = sub_41BAF0(3 * v17);
      v4 = v17;
      *v0 = (int)v3;
      fread(v3, 2 * v4, 1u, v1);
      if ( dword_156FEB0 )
      {
        v5 = *v0;
        v6 = 1;
        v7 = *(unsigned __int16 *)*v0;
        if ( (signed int)(unsigned __int16)v7 > 0 )
        {
          v15 = *(unsigned __int16 *)*v0;
          do
          {
            v8 = v6 + 1;
            v9 = 0;
            if ( *(_WORD *)(v5 + 2 * v8) )
            {
              v10 = (__int16 *)(v5 + 2 * v8 + 2);
              do
              {
                v11 = *v10;
                ++v10;
                v13 = v11 & 0xFFE0;
                ++v9;
                *(v10 - 1) = *(_BYTE *)(v10 - 1) & 0x1F | 2 * (v11 & 0xFFE0);
              }
              while ( v9 < *(unsigned __int16 *)(v5 + 2 * v8) );
              v0 = v16;
            }
            v6 = v8 + *(unsigned __int16 *)(v5 + 2 * v8) + 1;
            --v15;
          }
          while ( v15 );
        }
      }
    }
    ++v0;
    ++v14;
    v16 = v0;
  }
  while ( (signed int)v0 < (signed int)&unk_8C899C );
  return fclose(v1);
}
// 156FEB0: using guessed type int dword_156FEB0;

//----- (0041F630) --------------------------------------------------------
int sub_41F630()
{
  FILE *v0; // ebp
  FILE *v1; // esi
  int v2; // eax
  int v3; // eax
  int v4; // edi
  int v5; // edx
  __int16 *v6; // ecx
  __int16 v7; // ax
  int v8; // eax
  int v9; // eax
  int v10; // edi
  int v11; // edx
  __int16 *v12; // ecx
  __int16 v13; // ax
  int v14; // eax
  int v15; // eax
  int v16; // edi
  int v17; // edx
  __int16 *v18; // ecx
  __int16 v19; // ax
  int v20; // eax
  int v21; // eax
  int v22; // edi
  int v23; // edx
  __int16 *v24; // ecx
  __int16 v25; // ax
  int v26; // eax
  int v27; // eax
  int v28; // edi
  int v29; // edx
  __int16 *v30; // ecx
  __int16 v31; // ax
  int v32; // eax
  int v33; // eax
  int v34; // edi
  int v35; // edx
  __int16 *v36; // ecx
  __int16 v37; // ax
  int v38; // eax
  int v39; // eax
  int v40; // edi
  int v41; // edx
  __int16 *v42; // ecx
  __int16 v43; // ax
  int v44; // eax
  int v45; // eax
  int v46; // edi
  int v47; // edx
  __int16 *v48; // ecx
  __int16 v49; // ax
  int v50; // eax
  int v51; // eax
  int v52; // edi
  int v53; // edx
  __int16 *v54; // ecx
  __int16 v55; // ax
  int v56; // eax
  int v57; // eax
  int v58; // edi
  int v59; // edx
  __int16 *v60; // ecx
  __int16 v61; // ax
  int v62; // eax
  int v63; // eax
  int v64; // edi
  int v65; // edx
  __int16 *v66; // ecx
  __int16 v67; // ax
  int v68; // eax
  int v69; // eax
  int v70; // edi
  int v71; // edx
  __int16 *v72; // ecx
  __int16 v73; // ax
  int v74; // eax
  int v75; // eax
  int v76; // edi
  int v77; // edx
  __int16 *v78; // ecx
  __int16 v79; // ax
  int v80; // eax
  int v81; // eax
  int v82; // edi
  int v83; // edx
  __int16 *v84; // ecx
  __int16 v85; // ax
  int v87; // [esp+10h] [ebp-11Ch]
  int v88; // [esp+14h] [ebp-118h]
  char v89; // [esp+1Ah] [ebp-112h]
  char v90; // [esp+1Ch] [ebp-110h]
  char v91; // [esp+28h] [ebp-104h]

  v87 = 0;
  strcpy(byte_6BE2A0, aLoadInterfaceP);
  v88 = 0;
  v0 = sub_41BC40(aWorkdataDat);
  v1 = fopen(aWorksDat, aRb);
  sprintf(&v91, aInterdownTga);
  v2 = sub_41BD00(&v91, (int)v0);
  if ( v2 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v2] + 13), 0);
    fread(&unk_6C861C, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_4BCF4C = sub_41BAF0(2 * v87 * v88);
    v3 = v88;
    v4 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_4BCF4C + 2 * v87 * v4--, 2 * v87, 1u, v1);
      while ( v4 > -1 );
      v3 = v88;
    }
    if ( dword_156FEB0 )
    {
      v5 = 0;
      if ( v87 * v3 > 0 )
      {
        v6 = (__int16 *)dword_4BCF4C;
        do
        {
          v7 = *v6;
          ++v6;
          ++v5;
          *(v6 - 1) = v7 & 0x1F | 2 * (v7 & 0xFFE0);
        }
        while ( v5 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aInterstatusTga);
  v8 = sub_41BD00(&v91, (int)v0);
  if ( v8 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v8] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_8C87B8 = sub_41BAF0(2 * v87 * v88);
    v9 = v88;
    v10 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_8C87B8 + 2 * v87 * v10--, 2 * v87, 1u, v1);
      while ( v10 > -1 );
      v9 = v88;
    }
    if ( dword_156FEB0 )
    {
      v11 = 0;
      if ( v87 * v9 > 0 )
      {
        v12 = (__int16 *)dword_8C87B8;
        do
        {
          v13 = *v12;
          ++v12;
          ++v11;
          *(v12 - 1) = v13 & 0x1F | 2 * (v13 & 0xFFE0);
        }
        while ( v11 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aInterskillTga);
  v14 = sub_41BD00(&v91, (int)v0);
  if ( v14 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v14] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_11FDACC = sub_41BAF0(2 * v87 * v88);
    v15 = v88;
    v16 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_11FDACC + 2 * v87 * v16--, 2 * v87, 1u, v1);
      while ( v16 > -1 );
      v15 = v88;
    }
    if ( dword_156FEB0 )
    {
      v17 = 0;
      if ( v87 * v15 > 0 )
      {
        v18 = (__int16 *)dword_11FDACC;
        do
        {
          v19 = *v18;
          ++v18;
          ++v17;
          *(v18 - 1) = v19 & 0x1F | 2 * (v19 & 0xFFE0);
        }
        while ( v17 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aInteritemTga);
  v20 = sub_41BD00(&v91, (int)v0);
  if ( v20 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v20] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_8D5B78 = sub_41BAF0(2 * v87 * v88);
    v21 = v88;
    v22 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_8D5B78 + 2 * v87 * v22--, 2 * v87, 1u, v1);
      while ( v22 > -1 );
      v21 = v88;
    }
    if ( dword_156FEB0 )
    {
      v23 = 0;
      if ( v87 * v21 > 0 )
      {
        v24 = (__int16 *)dword_8D5B78;
        do
        {
          v25 = *v24;
          ++v24;
          ++v23;
          *(v24 - 1) = v25 & 0x1F | 2 * (v25 & 0xFFE0);
        }
        while ( v23 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aInterlootTga);
  v26 = sub_41BD00(&v91, (int)v0);
  if ( v26 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v26] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_11FDAD0 = sub_41BAF0(2 * v87 * v88);
    v27 = v88;
    v28 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_11FDAD0 + 2 * v87 * v28--, 2 * v87, 1u, v1);
      while ( v28 > -1 );
      v27 = v88;
    }
    if ( dword_156FEB0 )
    {
      v29 = 0;
      if ( v87 * v27 > 0 )
      {
        v30 = (__int16 *)dword_11FDAD0;
        do
        {
          v31 = *v30;
          ++v30;
          ++v29;
          *(v30 - 1) = v31 & 0x1F | 2 * (v31 & 0xFFE0);
        }
        while ( v29 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aInterhmagicTga);
  v32 = sub_41BD00(&v91, (int)v0);
  if ( v32 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v32] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_8D39CC = sub_41BAF0(2 * v87 * v88);
    v33 = v88;
    v34 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_8D39CC + 2 * v87 * v34--, 2 * v87, 1u, v1);
      while ( v34 > -1 );
      v33 = v88;
    }
    if ( dword_156FEB0 )
    {
      v35 = 0;
      if ( v87 * v33 > 0 )
      {
        v36 = (__int16 *)dword_8D39CC;
        do
        {
          v37 = *v36;
          ++v36;
          ++v35;
          *(v36 - 1) = v37 & 0x1F | 2 * (v37 & 0xFFE0);
        }
        while ( v35 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aInterdmagicTga);
  v38 = sub_41BD00(&v91, (int)v0);
  if ( v38 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v38] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_11FDD18 = sub_41BAF0(2 * v87 * v88);
    v39 = v88;
    v40 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_11FDD18 + 2 * v87 * v40--, 2 * v87, 1u, v1);
      while ( v40 > -1 );
      v39 = v88;
    }
    if ( dword_156FEB0 )
    {
      v41 = 0;
      if ( v87 * v39 > 0 )
      {
        v42 = (__int16 *)dword_11FDD18;
        do
        {
          v43 = *v42;
          ++v42;
          ++v41;
          *(v42 - 1) = v43 & 0x1F | 2 * (v43 & 0xFFE0);
        }
        while ( v41 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aInterguildTga);
  v44 = sub_41BD00(&v91, (int)v0);
  if ( v44 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v44] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    unk_4BDEFC = sub_41BAF0(2 * v87 * v88);
    v45 = v88;
    v46 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)unk_4BDEFC + 2 * v87 * v46--, 2 * v87, 1u, v1);
      while ( v46 > -1 );
      v45 = v88;
    }
    if ( dword_156FEB0 )
    {
      v47 = 0;
      if ( v87 * v45 > 0 )
      {
        v48 = (__int16 *)unk_4BDEFC;
        do
        {
          v49 = *v48;
          ++v48;
          ++v47;
          *(v48 - 1) = v49 & 0x1F | 2 * (v49 & 0xFFE0);
        }
        while ( v47 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aInterbuildTga);
  v50 = sub_41BD00(&v91, (int)v0);
  if ( v50 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v50] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_8D5B74 = sub_41BAF0(2 * v87 * v88);
    v51 = v88;
    v52 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_8D5B74 + 2 * v87 * v52--, 2 * v87, 1u, v1);
      while ( v52 > -1 );
      v51 = v88;
    }
    if ( dword_156FEB0 )
    {
      v53 = 0;
      if ( v87 * v51 > 0 )
      {
        v54 = (__int16 *)dword_8D5B74;
        do
        {
          v55 = *v54;
          ++v54;
          ++v53;
          *(v54 - 1) = v55 & 0x1F | 2 * (v55 & 0xFFE0);
        }
        while ( v53 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aInternewsTga);
  v56 = sub_41BD00(&v91, (int)v0);
  if ( v56 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v56] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_11FDAD4 = sub_41BAF0(2 * v87 * v88);
    v57 = v88;
    v58 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_11FDAD4 + 2 * v87 * v58--, 2 * v87, 1u, v1);
      while ( v58 > -1 );
      v57 = v88;
    }
    if ( dword_156FEB0 )
    {
      v59 = 0;
      if ( v87 * v57 > 0 )
      {
        v60 = (__int16 *)dword_11FDAD4;
        do
        {
          v61 = *v60;
          ++v60;
          ++v59;
          *(v60 - 1) = v61 & 0x1F | 2 * (v61 & 0xFFE0);
        }
        while ( v59 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aIntermessageTg);
  v62 = sub_41BD00(&v91, (int)v0);
  if ( v62 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v62] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_12081F4 = sub_41BAF0(2 * v87 * v88);
    v63 = v88;
    v64 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_12081F4 + 2 * v87 * v64--, 2 * v87, 1u, v1);
      while ( v64 > -1 );
      v63 = v88;
    }
    if ( dword_156FEB0 )
    {
      v65 = 0;
      if ( v87 * v63 > 0 )
      {
        v66 = (__int16 *)dword_12081F4;
        do
        {
          v67 = *v66;
          ++v66;
          ++v65;
          *(v66 - 1) = v67 & 0x1F | 2 * (v67 & 0xFFE0);
        }
        while ( v65 < v87 * v88 );
      }
    }
  }
  if ( dword_1322624 )
    sprintf(&v91, aTestintertrade);
  else
    sprintf(&v91, aIntertradeTga);
  v68 = sub_41BD00(&v91, (int)v0);
  if ( v68 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v68] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_4BBF18 = sub_41BAF0(2 * v87 * v88);
    v69 = v88;
    v70 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_4BBF18 + 2 * v87 * v70--, 2 * v87, 1u, v1);
      while ( v70 > -1 );
      v69 = v88;
    }
    if ( dword_156FEB0 )
    {
      v71 = 0;
      if ( v87 * v69 > 0 )
      {
        v72 = (__int16 *)dword_4BBF18;
        do
        {
          v73 = *v72;
          ++v72;
          ++v71;
          *(v72 - 1) = v73 & 0x1F | 2 * (v73 & 0xFFE0);
        }
        while ( v71 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aInterbankTga);
  v74 = sub_41BD00(&v91, (int)v0);
  if ( v74 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v74] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_1308264 = sub_41BAF0(2 * v87 * v88);
    v75 = v88;
    v76 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_1308264 + 2 * v87 * v76--, 2 * v87, 1u, v1);
      while ( v76 > -1 );
      v75 = v88;
    }
    if ( dword_156FEB0 )
    {
      v77 = 0;
      if ( v87 * v75 > 0 )
      {
        v78 = (__int16 *)dword_1308264;
        do
        {
          v79 = *v78;
          ++v78;
          ++v77;
          *(v78 - 1) = v79 & 0x1F | 2 * (v79 & 0xFFE0);
        }
        while ( v77 < v87 * v88 );
      }
    }
  }
  sprintf(&v91, aIntershopTga);
  v80 = sub_41BD00(&v91, (int)v0);
  if ( v80 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v80] + 13), 0);
    fread(&v90, 0xCu, 1u, v1);
    v88 = 0;
    v87 = 0;
    fread(&v87, 2u, 1u, v1);
    fread(&v88, 2u, 1u, v1);
    fread(&v89, 2u, 1u, v1);
    dword_4BBF1C = sub_41BAF0(2 * v87 * v88);
    v81 = v88;
    v82 = v88 - 1;
    if ( v88 - 1 > -1 )
    {
      do
        fread((char *)dword_4BBF1C + 2 * v87 * v82--, 2 * v87, 1u, v1);
      while ( v82 > -1 );
      v81 = v88;
    }
    if ( dword_156FEB0 )
    {
      v83 = 0;
      if ( v87 * v81 > 0 )
      {
        v84 = (__int16 *)dword_4BBF1C;
        do
        {
          v85 = *v84;
          ++v84;
          ++v83;
          *(v84 - 1) = v85 & 0x1F | 2 * (v85 & 0xFFE0);
        }
        while ( v83 < v87 * v88 );
      }
    }
  }
  return fclose(v1);
}
// 1322624: using guessed type int dword_1322624;
// 156FEB0: using guessed type int dword_156FEB0;

//----- (00420590) --------------------------------------------------------
void sub_420590()
{
  sub_41BB80(dword_4BCF4C);
  dword_4BCF4C = 0;
  sub_41BB80(dword_8C87B8);
  dword_8C87B8 = 0;
  sub_41BB80(dword_11FDACC);
  dword_11FDACC = 0;
  sub_41BB80(dword_8D5B78);
  dword_8D5B78 = 0;
  sub_41BB80(dword_11FDAD0);
  dword_11FDAD0 = 0;
  sub_41BB80(dword_8D39CC);
  dword_8D39CC = 0;
  sub_41BB80(dword_11FDD18);
  dword_11FDD18 = 0;
  sub_41BB80(unk_4BDEFC);
  unk_4BDEFC = 0;
  sub_41BB80(dword_8D5B74);
  dword_8D5B74 = 0;
  sub_41BB80(dword_11FDAD4);
  dword_11FDAD4 = 0;
  sub_41BB80(dword_12081F4);
  dword_12081F4 = 0;
  sub_41BB80(dword_4BBF18);
  dword_4BBF18 = 0;
  sub_41BB80(dword_1308264);
  dword_1308264 = 0;
  sub_41BB80(dword_4BBF1C);
  dword_4BBF1C = 0;
}

//----- (00420690) --------------------------------------------------------
int sub_420690()
{
  FILE *v0; // ebp
  FILE *v1; // esi
  int v2; // eax
  int v3; // eax
  int v4; // edi
  int v5; // edx
  __int16 *v6; // ecx
  __int16 v7; // ax
  char v8; // al
  int v9; // eax
  int v10; // eax
  int v11; // edi
  int v12; // edx
  __int16 *v13; // ecx
  __int16 v14; // ax
  int v15; // eax
  int v16; // eax
  int v17; // edi
  int v18; // edx
  __int16 *v19; // ecx
  __int16 v20; // ax
  int v21; // eax
  int v22; // eax
  int v23; // edi
  int v24; // edx
  __int16 *v25; // ecx
  __int16 v26; // ax
  int v27; // eax
  int v28; // eax
  int v29; // edi
  int v30; // edx
  __int16 *v31; // ecx
  __int16 v32; // ax
  int v34; // [esp+10h] [ebp-11Ch]
  int v35; // [esp+14h] [ebp-118h]
  char v36; // [esp+1Ah] [ebp-112h]
  char v37; // [esp+1Ch] [ebp-110h]
  char v38; // [esp+28h] [ebp-104h]

  v34 = 0;
  strcpy(byte_6BE2A0, aLoadTitlesProc);
  v35 = 0;
  v0 = sub_41BC40(aWorkdataDat);
  v1 = fopen(aWorksDat, aRb);
  sprintf(&v38, aEyagiTga);
  v2 = sub_41BD00(&v38, (int)v0);
  if ( v2 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v2] + 13), 0);
    fread(&v37, 0xCu, 1u, v1);
    v35 = 0;
    v34 = 0;
    fread(&v34, 2u, 1u, v1);
    fread(&v35, 2u, 1u, v1);
    fread(&v36, 2u, 1u, v1);
    dword_13081F0 = sub_41BAF0(2 * v34 * v35);
    v3 = v35;
    v4 = v35 - 1;
    if ( v35 - 1 > -1 )
    {
      do
        fread((char *)dword_13081F0 + 2 * v34 * v4--, 2 * v34, 1u, v1);
      while ( v4 > -1 );
      v3 = v35;
    }
    if ( dword_156FEB0 )
    {
      v5 = 0;
      if ( v34 * v3 > 0 )
      {
        v6 = (__int16 *)dword_13081F0;
        do
        {
          v7 = *v6;
          ++v6;
          ++v5;
          *(v6 - 1) = v7 & 0x1F | 2 * (v7 & 0xFFE0);
        }
        while ( v5 < v34 * v35 );
      }
    }
  }
  v8 = GetTickCount();
  sprintf(&v38, aZarksalDTga, v8 & 1);
  v9 = sub_41BD00(&v38, (int)v0);
  if ( v9 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v9] + 13), 0);
    fread(&v37, 0xCu, 1u, v1);
    v35 = 0;
    v34 = 0;
    fread(&v34, 2u, 1u, v1);
    fread(&v35, 2u, 1u, v1);
    fread(&v36, 2u, 1u, v1);
    dword_8C87B4 = sub_41BAF0(2 * v34 * v35);
    v10 = v35;
    v11 = v35 - 1;
    if ( v35 - 1 > -1 )
    {
      do
        fread((char *)dword_8C87B4 + 2 * v34 * v11--, 2 * v34, 1u, v1);
      while ( v11 > -1 );
      v10 = v35;
    }
    if ( dword_156FEB0 )
    {
      v12 = 0;
      if ( v34 * v10 > 0 )
      {
        v13 = (__int16 *)dword_8C87B4;
        do
        {
          v14 = *v13;
          ++v13;
          ++v12;
          *(v13 - 1) = v14 & 0x1F | 2 * (v14 & 0xFFE0);
        }
        while ( v12 < v34 * v35 );
      }
    }
  }
  sprintf(&v38, aTitlebackTga);
  v15 = sub_41BD00(&v38, (int)v0);
  if ( v15 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v15] + 13), 0);
    fread(&v37, 0xCu, 1u, v1);
    v35 = 0;
    v34 = 0;
    fread(&v34, 2u, 1u, v1);
    fread(&v35, 2u, 1u, v1);
    fread(&v36, 2u, 1u, v1);
    dword_6BDF00 = sub_41BAF0(2 * v34 * v35);
    v16 = v35;
    v17 = v35 - 1;
    if ( v35 - 1 > -1 )
    {
      do
        fread((char *)dword_6BDF00 + 2 * v34 * v17--, 2 * v34, 1u, v1);
      while ( v17 > -1 );
      v16 = v35;
    }
    if ( dword_156FEB0 )
    {
      v18 = 0;
      if ( v34 * v16 > 0 )
      {
        v19 = (__int16 *)dword_6BDF00;
        do
        {
          v20 = *v19;
          ++v19;
          ++v18;
          *(v19 - 1) = v20 & 0x1F | 2 * (v20 & 0xFFE0);
        }
        while ( v18 < v34 * v35 );
      }
    }
  }
  sprintf(&v38, aLoadingTga);
  v21 = sub_41BD00(&v38, (int)v0);
  if ( v21 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v21] + 13), 0);
    fread(&v37, 0xCu, 1u, v1);
    v35 = 0;
    v34 = 0;
    fread(&v34, 2u, 1u, v1);
    fread(&v35, 2u, 1u, v1);
    fread(&v36, 2u, 1u, v1);
    dword_12081F8 = sub_41BAF0(2 * v34 * v35);
    v22 = v35;
    v23 = v35 - 1;
    if ( v35 - 1 > -1 )
    {
      do
        fread((char *)dword_12081F8 + 2 * v34 * v23--, 2 * v34, 1u, v1);
      while ( v23 > -1 );
      v22 = v35;
    }
    if ( dword_156FEB0 )
    {
      v24 = 0;
      if ( v34 * v22 > 0 )
      {
        v25 = (__int16 *)dword_12081F8;
        do
        {
          v26 = *v25;
          ++v25;
          ++v24;
          *(v25 - 1) = v26 & 0x1F | 2 * (v26 & 0xFFE0);
        }
        while ( v24 < v34 * v35 );
      }
    }
  }
  sprintf(&v38, aSkyTga);
  v27 = sub_41BD00(&v38, (int)v0);
  if ( v27 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v27] + 13), 0);
    fread(&v37, 0xCu, 1u, v1);
    v35 = 0;
    v34 = 0;
    fread(&v34, 2u, 1u, v1);
    fread(&v35, 2u, 1u, v1);
    fread(&v36, 2u, 1u, v1);
    dword_8C87A4 = sub_41BAF0(2 * v34 * v35);
    v28 = v35;
    v29 = v35 - 1;
    if ( v35 - 1 > -1 )
    {
      do
        fread((char *)dword_8C87A4 + 2 * v34 * v29--, 2 * v34, 1u, v1);
      while ( v29 > -1 );
      v28 = v35;
    }
    if ( dword_156FEB0 )
    {
      v30 = 0;
      if ( v34 * v28 > 0 )
      {
        v31 = (__int16 *)dword_8C87A4;
        do
        {
          v32 = *v31;
          ++v31;
          ++v30;
          *(v31 - 1) = v32 & 0x1F | 2 * (v32 & 0xFFE0);
        }
        while ( v30 < v34 * v35 );
      }
    }
  }
  return fclose(v1);
}
// 156FEB0: using guessed type int dword_156FEB0;

//----- (00420C50) --------------------------------------------------------
void sub_420C50()
{
  sub_41BB80(dword_6BDF00);
  dword_6BDF00 = 0;
  sub_41BB80(dword_8C87A4);
  dword_8C87A4 = 0;
}

//----- (00420C80) --------------------------------------------------------
__int16 __cdecl sub_420C80(void *a1, FILE *a2)
{
  FILE *v2; // esi
  void *v3; // eax
  FILE *v4; // edx
  int v5; // eax
  unsigned __int16 *v6; // edi
  int v7; // edx
  int v8; // ebx
  int v9; // edx
  signed int v10; // esi
  unsigned __int16 *v11; // ecx
  unsigned __int16 v12; // ax

  v2 = a2;
  fread(a1, 2u, 1u, a2);
  fread((char *)a1 + 2, 2u, 1u, v2);
  fread((char *)a1 + 4, 2u, 1u, v2);
  fread((char *)a1 + 6, 2u, 1u, v2);
  fread(&a2, 4u, 1u, v2);
  v3 = sub_41BAF0(3 * (_DWORD)a2);
  v4 = a2;
  *((_DWORD *)a1 + 2) = v3;
  fread(v3, 2 * (_DWORD)v4, 1u, v2);
  LOWORD(v5) = dword_156FEB0;
  if ( dword_156FEB0 )
  {
    v6 = (unsigned __int16 *)*((_DWORD *)a1 + 2);
    v7 = 1;
    v5 = *v6;
    if ( v5 > 0 )
    {
      v8 = *v6;
      do
      {
        v9 = v7 + 1;
        v10 = 0;
        if ( v6[v9] )
        {
          v11 = &v6[v9 + 1];
          do
          {
            v12 = *v11;
            ++v11;
            *(v11 - 1) = v12 & 0x1F | 2 * (v12 & 0xFFE0);
            LOWORD(v5) = v6[v9];
            ++v10;
          }
          while ( v10 < (unsigned __int16)v5 );
        }
        --v8;
        v7 = v9 + v6[v9] + 1;
      }
      while ( v8 );
    }
  }
  return v5;
}
// 156FEB0: using guessed type int dword_156FEB0;

//----- (00420D60) --------------------------------------------------------
int sub_420D60()
{
  FILE *v0; // edi
  FILE *v1; // esi
  int v2; // eax
  int v3; // ebp
  char *v4; // ebx
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int v21; // eax
  int v22; // eax
  int v23; // eax
  int v24; // eax
  int v25; // eax
  int v26; // eax
  int v27; // eax
  int v28; // eax
  int v29; // eax
  int v30; // eax
  int v31; // eax
  int v32; // eax
  int v33; // eax
  int v34; // eax
  int v35; // eax
  int v36; // eax
  int v37; // eax
  int v38; // ebp
  _DWORD *v39; // ebx
  int v40; // eax
  void *v41; // eax
  int v42; // ebp
  signed int v43; // ebx
  int v44; // eax
  int v45; // eax
  int v46; // ebp
  signed int v47; // ebx
  int v48; // eax
  int v49; // eax
  int v50; // ebp
  signed int v51; // ebx
  int v52; // eax
  int v53; // eax
  int v54; // ebp
  signed int v55; // ebx
  int v56; // eax
  int v57; // eax
  int v58; // ebp
  signed int v59; // ebx
  int v60; // eax
  int v61; // eax
  int v62; // ebp
  signed int v63; // ebx
  int v64; // eax
  int v65; // eax
  char v67; // [esp+10h] [ebp-104h]

  strcpy(byte_6BE2A0, aLoadMenusProce);
  v0 = sub_41BC40(aSourcedataDat);
  v1 = fopen(aSourceDat, aRb);
  sprintf(&v67, aFantasylogoInt);
  v2 = sub_41BD00(&v67, (int)v0);
  if ( v2 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v2] + 13), 0);
    sub_420C80(&word_1317E58, v1);
  }
  v3 = 0;
  v4 = (char *)&unk_11FDD40;
  do
  {
    sprintf(&v67, aMenuDInt, v3);
    v5 = sub_41BD00(&v67, (int)v0);
    if ( v5 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v5] + 13), 0);
      sub_420C80(v4, v1);
    }
    v4 += 12;
    ++v3;
  }
  while ( (signed int)v4 < (signed int)byte_11FDD94 );
  sprintf(&v67, aResistpointInt);
  v6 = sub_41BD00(&v67, (int)v0);
  if ( v6 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v6] + 13), 0);
    sub_420C80(&unk_6C8610, v1);
  }
  sprintf(&v67, aResistpointbla);
  v7 = sub_41BD00(&v67, (int)v0);
  if ( v7 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v7] + 13), 0);
    sub_420C80(&unk_49D998, v1);
  }
  sprintf(&v67, aNpcwindowupInt);
  v8 = sub_41BD00(&v67, (int)v0);
  if ( v8 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v8] + 13), 0);
    sub_420C80(&unk_13082E0, v1);
  }
  sprintf(&v67, aNpcwindowmidIn);
  v9 = sub_41BD00(&v67, (int)v0);
  if ( v9 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v9] + 13), 0);
    sub_420C80(&unk_13082EC, v1);
  }
  sprintf(&v67, aNpcwindowdownI);
  v10 = sub_41BD00(&v67, (int)v0);
  if ( v10 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v10] + 13), 0);
    sub_420C80(&unk_13082F8, v1);
  }
  sprintf(&v67, aCountwinInt);
  v11 = sub_41BD00(&v67, (int)v0);
  if ( v11 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v11] + 13), 0);
    sub_420C80(&unk_11FDAD8, v1);
  }
  sprintf(&v67, aOkbuttonInt);
  v12 = sub_41BD00(&v67, (int)v0);
  if ( v12 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v12] + 13), 0);
    sub_420C80(&unk_8D3C18, v1);
  }
  sprintf(&v67, aCancelbuttonIn);
  v13 = sub_41BD00(&v67, (int)v0);
  if ( v13 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v13] + 13), 0);
    sub_420C80(&unk_13081F8, v1);
  }
  sprintf(&v67, aNewmenuInt);
  v14 = sub_41BD00(&v67, (int)v0);
  if ( v14 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v14] + 13), 0);
    sub_420C80(&unk_8C87A8, v1);
  }
  sprintf(&v67, aNameselectInt);
  v15 = sub_41BD00(&v67, (int)v0);
  if ( v15 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v15] + 13), 0);
    sub_420C80(&unk_1317E68, v1);
  }
  sprintf(&v67, aMessageboxInt);
  v16 = sub_41BD00(&v67, (int)v0);
  if ( v16 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v16] + 13), 0);
    sub_420C80(&unk_1317E48, v1);
  }
  sprintf(&v67, aYesnoboxInt);
  v17 = sub_41BD00(&v67, (int)v0);
  if ( v17 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v17] + 13), 0);
    sub_420C80(&unk_8D5B68, v1);
  }
  sprintf(&v67, aLoginboxInt);
  v18 = sub_41BD00(&v67, (int)v0);
  if ( v18 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v18] + 13), 0);
    sub_420C80(&unk_8D3C08, v1);
  }
  sprintf(&v67, aSelectInt);
  v19 = sub_41BD00(&v67, (int)v0);
  if ( v19 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v19] + 13), 0);
    sub_420C80(&unk_1308318, v1);
  }
  sprintf(&v67, aNewcharacterIn);
  v20 = sub_41BD00(&v67, (int)v0);
  if ( v20 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v20] + 13), 0);
    sub_420C80(&unk_11FDD30, v1);
  }
  sprintf(&v67, aNewcolorInt);
  v21 = sub_41BD00(&v67, (int)v0);
  if ( v21 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v21] + 13), 0);
    sub_420C80(&unk_12081E8, v1);
  }
  sprintf(&v67, aNewlightbutton);
  v22 = sub_41BD00(&v67, (int)v0);
  if ( v22 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v22] + 13), 0);
    sub_420C80(&unk_4BBF08, v1);
  }
  sprintf(&v67, aCpluspushInt);
  v23 = sub_41BD00(&v67, (int)v0);
  if ( v23 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v23] + 13), 0);
    sub_420C80(&unk_1308308, v1);
  }
  sprintf(&v67, aMinuspushInt);
  v24 = sub_41BD00(&v67, (int)v0);
  if ( v24 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v24] + 13), 0);
    sub_420C80(&unk_4BDEF0, v1);
  }
  sprintf(&v67, aNewpushInt);
  v25 = sub_41BD00(&v67, (int)v0);
  if ( v25 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v25] + 13), 0);
    sub_420C80(&unk_13083A0, v1);
  }
  sprintf(&v67, aStartpushInt);
  v26 = sub_41BD00(&v67, (int)v0);
  if ( v26 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v26] + 13), 0);
    sub_420C80(&unk_4BBE80, v1);
  }
  sprintf(&v67, aDeletepushInt);
  v27 = sub_41BD00(&v67, (int)v0);
  if ( v27 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v27] + 13), 0);
    sub_420C80(&unk_1317DB0, v1);
  }
  sprintf(&v67, aQuitpushInt);
  v28 = sub_41BD00(&v67, (int)v0);
  if ( v28 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v28] + 13), 0);
    sub_420C80(&unk_8C8710, v1);
  }
  sprintf(&v67, aSelectpushInt);
  v29 = sub_41BD00(&v67, (int)v0);
  if ( v29 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v29] + 13), 0);
    sub_420C80(&unk_4BBF20, v1);
  }
  sprintf(&v67, aDefaultpushInt);
  v30 = sub_41BD00(&v67, (int)v0);
  if ( v30 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v30] + 13), 0);
    sub_420C80(&unk_8D39C0, v1);
  }
  sprintf(&v67, aSendpushInt);
  v31 = sub_41BD00(&v67, (int)v0);
  if ( v31 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v31] + 13), 0);
    sub_420C80(&unk_1317E38, v1);
  }
  sprintf(&v67, aCharacterbutto);
  v32 = sub_41BD00(&v67, (int)v0);
  if ( v32 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v32] + 13), 0);
    sub_420C80(&unk_8D39D0, v1);
  }
  sprintf(&v67, aFeatherbuttonI);
  v33 = sub_41BD00(&v67, (int)v0);
  if ( v33 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v33] + 13), 0);
    sub_420C80(&unk_8C8798, v1);
  }
  sprintf(&v67, aIconselectInt);
  v34 = sub_41BD00(&v67, (int)v0);
  if ( v34 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v34] + 13), 0);
    sub_420C80(&unk_1308208, v1);
  }
  sprintf(&v67, aMakecursor1Int);
  v35 = sub_41BD00(&v67, (int)v0);
  if ( v35 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v35] + 13), 0);
    sub_420C80(&unk_8D39E0, v1);
  }
  sprintf(&v67, aMakecursor2Int);
  v36 = sub_41BD00(&v67, (int)v0);
  if ( v36 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v36] + 13), 0);
    sub_420C80(&unk_8D39EC, v1);
  }
  sprintf(&v67, aFacetleInt);
  v37 = sub_41BD00(&v67, (int)v0);
  if ( v37 != -1 )
  {
    fseek(v1, *((_DWORD *)dword_8D0AE0[v37] + 13), 0);
    sub_420C80(&unk_11FDD20, v1);
  }
  v38 = 0;
  v39 = &unk_6C8160;
  do
  {
    sprintf(&v67, aFace03dInt, v38 + 90);
    v40 = sub_41BD00(&v67, (int)v0);
    if ( v40 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v40] + 13), 0);
      v41 = sub_41BAF0(0xCu);
      *v39 = v41;
      sub_420C80(v41, v1);
    }
    ++v39;
    ++v38;
  }
  while ( (signed int)v39 < (signed int)&unk_6C8610 );
  v42 = 0;
  v43 = 0;
  do
  {
    sprintf(&v67, aHmfaceDInt, v42);
    v44 = sub_41BD00(&v67, (int)v0);
    if ( v44 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v44] + 13), 0);
      sub_420C80((char *)&unk_8C8720 + v43, v1);
    }
    sprintf(&v67, aChface03dInt, v42);
    v45 = sub_41BD00(&v67, (int)v0);
    if ( v45 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v45] + 13), 0);
      sub_420C80((char *)&unk_6BE228 + v43, v1);
    }
    v43 += 12;
    ++v42;
  }
  while ( v43 < 120 );
  v46 = 0;
  v47 = 0;
  do
  {
    sprintf(&v67, aHwfaceDInt, v46);
    v48 = sub_41BD00(&v67, (int)v0);
    if ( v48 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v48] + 13), 0);
      sub_420C80((char *)&unk_11FDCA0 + v47, v1);
    }
    sprintf(&v67, aChface03dInt, v46 + 20);
    v49 = sub_41BD00(&v67, (int)v0);
    if ( v49 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v49] + 13), 0);
      sub_420C80((char *)&unk_8D3B88 + v47, v1);
    }
    v47 += 12;
    ++v46;
  }
  while ( v47 < 120 );
  v50 = 0;
  v51 = 0;
  do
  {
    sprintf(&v67, aDmfaceDInt, v50);
    v52 = sub_41BD00(&v67, (int)v0);
    if ( v52 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v52] + 13), 0);
      sub_420C80((char *)&unk_4BBE90 + v51, v1);
    }
    sprintf(&v67, aChface03dInt, v50 + 40);
    v53 = sub_41BD00(&v67, (int)v0);
    if ( v53 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v53] + 13), 0);
      sub_420C80((char *)&unk_49D9A8 + v51, v1);
    }
    v51 += 12;
    ++v50;
  }
  while ( v51 < 120 );
  v54 = 0;
  v55 = 0;
  do
  {
    sprintf(&v67, aDwfaceDInt, v54);
    v56 = sub_41BD00(&v67, (int)v0);
    if ( v56 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v56] + 13), 0);
      sub_420C80((char *)&unk_1308328 + v55, v1);
    }
    sprintf(&v67, aChface03dInt, v54 + 60);
    v57 = sub_41BD00(&v67, (int)v0);
    if ( v57 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v57] + 13), 0);
      sub_420C80((char *)&unk_11FDC28 + v55, v1);
    }
    v55 += 12;
    ++v54;
  }
  while ( v55 < 48 );
  v58 = 0;
  v59 = 0;
  do
  {
    sprintf(&v67, aOmfaceDInt, v58);
    v60 = sub_41BD00(&v67, (int)v0);
    if ( v60 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v60] + 13), 0);
      sub_420C80((char *)&unk_6BE3A8 + v59, v1);
    }
    sprintf(&v67, aChface03dInt, v58 + 80);
    v61 = sub_41BD00(&v67, (int)v0);
    if ( v61 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v61] + 13), 0);
      sub_420C80((char *)&unk_1308268 + v59, v1);
    }
    v59 += 12;
    ++v58;
  }
  while ( v59 < 48 );
  v62 = 0;
  v63 = 0;
  do
  {
    sprintf(&v67, aOwfaceDInt, v62);
    v64 = sub_41BD00(&v67, (int)v0);
    if ( v64 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v64] + 13), 0);
      sub_420C80((char *)&unk_4BBF30 + v63, v1);
    }
    sprintf(&v67, aChface03dInt, v62 + 80);
    v65 = sub_41BD00(&v67, (int)v0);
    if ( v65 != -1 )
    {
      fseek(v1, *((_DWORD *)dword_8D0AE0[v65] + 13), 0);
      sub_420C80((char *)&unk_1317DC0 + v63, v1);
    }
    v63 += 12;
    ++v62;
  }
  while ( v63 < 48 );
  return fclose(v1);
}
// 1317E58: using guessed type __int16 word_1317E58;

//----- (00421AE0) --------------------------------------------------------
int sub_421AE0()
{
  int v0; // edi
  _DWORD *v1; // esi
  void **v2; // ebx
  FILE *v3; // eax
  FILE *v4; // ebp
  int v5; // eax
  int v6; // esi
  int v7; // eax
  int v8; // eax
  _WORD *v9; // edi
  int v10; // ecx
  int v11; // ecx
  int v12; // eax
  unsigned __int16 *v13; // ebx
  void *v14; // edi
  signed int v15; // edi
  unsigned __int16 *v16; // eax
  unsigned __int16 v17; // dx
  int result; // eax
  int v19; // [esp+10h] [ebp-130h]
  unsigned int v20; // [esp+14h] [ebp-12Ch]
  int v21; // [esp+18h] [ebp-128h]
  unsigned int v22; // [esp+1Ch] [ebp-124h]
  int v23; // [esp+20h] [ebp-120h]
  int v24; // [esp+24h] [ebp-11Ch]
  _DWORD *v25; // [esp+28h] [ebp-118h]
  int v26; // [esp+2Ch] [ebp-114h]
  char *v27; // [esp+30h] [ebp-110h]
  int v28; // [esp+34h] [ebp-10Ch]
  FILE *v29; // [esp+38h] [ebp-108h]
  char v30; // [esp+3Ch] [ebp-104h]

  v0 = 0;
  v1 = &unk_8D4BC4;
  v2 = (void **)&unk_13100AC;
  v21 = 0;
  v23 = 0;
  v26 = 0;
  v25 = &unk_8D4BC4;
  v27 = (char *)&unk_13100AC;
  v22 = 0;
  do
  {
    sprintf(byte_6BE2A0, aLoadEffect03dP, v0);
    sprintf(&v30, aChrEff03dAni, v0);
    v3 = fopen(&v30, aRb);
    v4 = v3;
    v29 = v3;
    if ( v3 )
    {
      fread(&dword_4BBF14, 4u, 1u, v3);
      fread(&v21, 4u, 1u, v4);
      v5 = v21;
      v20 = 0;
      word_4BC77C[v22 / 2] = v21;
      if ( dword_4BBF14 )
      {
        do
        {
          *v2 = sub_41BAF0(12 * v5);
          v5 = v21;
          v28 = 0;
          if ( v21 > 0 )
          {
            v6 = 0;
            do
            {
              fread((char *)*v2 + v6, 2u, 1u, v4);
              v7 = (int)*v2 + v6;
              if ( *(_WORD *)((char *)*v2 + v6) == -1 )
              {
                *(_DWORD *)(v7 + 8) = 0;
              }
              else
              {
                fread((void *)(v7 + 2), 2u, 1u, v4);
                *(_WORD *)((char *)*v2 + v6) -= 399;
                *(_WORD *)((char *)*v2 + v6 + 2) -= 299;
                fread((char *)*v2 + v6 + 4, 2u, 1u, v4);
                fread((char *)*v2 + v6 + 6, 2u, 1u, v4);
                fread(&v23, 4u, 1u, v4);
                *(_DWORD *)((char *)*v2 + v6 + 8) = sub_41BAF0(2 * v23);
                fread(*(void **)((char *)*v2 + v6 + 8), 2 * v23, 1u, v4);
                if ( dword_156FEB0 )
                {
                  HIWORD(v8) = 0;
                  v9 = *(_WORD **)((char *)*v2 + v6 + 8);
                  v10 = 1;
                  if ( (signed int)(unsigned __int16)*v9 > 0 )
                  {
                    LOWORD(v8) = *v9;
                    v24 = v8;
                    do
                    {
                      v11 = v10 + 1;
                      v12 = 0;
                      v19 = 0;
                      if ( v9[v11] )
                      {
                        do
                        {
                          v9[v11 + v12 + 1] = v9[v11 + v12 + 1] & 0x1F | 2 * (v9[v11 + v12 + 1] & 0xFFE0);
                          v12 = v19 + 1;
                          v19 = v12;
                        }
                        while ( v12 < (unsigned __int16)v9[v11] );
                        v4 = v29;
                      }
                      v10 = v11 + (unsigned __int16)v9[v11] + 1;
                      --v24;
                    }
                    while ( v24 );
                  }
                }
              }
              v5 = v21;
              v6 += 12;
              ++v28;
            }
            while ( v28 < v21 );
            v1 = v25;
          }
          ++v2;
          ++v20;
        }
        while ( v20 < dword_4BBF14 );
      }
      v13 = (unsigned __int16 *)((char *)&unk_4BB6B0 + v22);
      fread((char *)&unk_4BB6B0 + v22, 4u, 1u, v4);
      v14 = sub_41BAF0(0xA8u);
      *v1 = v14;
      v20 = 0;
      memset(v14, 0, 0xA8u);
      if ( *v13 > 0u )
      {
        do
        {
          v15 = 0;
          v19 = 0;
          fread(&v19, 2u, 1u, v4);
          fread((void *)(*v1 + 8 * v19), 2u, 1u, v4);
          *(_DWORD *)(*v1 + 8 * v19 + 4) = sub_41BAF0(4 * *(unsigned __int16 *)(*v1 + 8 * v19));
          v16 = (unsigned __int16 *)(*v1 + 8 * v19);
          if ( *v16 > 0u )
          {
            do
            {
              fread((void *)(*((_DWORD *)v16 + 1) + 4 * v15++), 4u, 1u, v4);
              v16 = (unsigned __int16 *)(*v1 + 8 * v19);
            }
            while ( v15 < *v16 );
          }
          v17 = *v13;
          ++v20;
        }
        while ( v20 < v17 );
      }
      fclose(v4);
      v0 = v26;
    }
    sub_456530(v0 / 2 + 45);
    v2 = (void **)(v27 + 32);
    ++v1;
    ++v0;
    v22 += 2;
    v27 += 32;
    v25 = v1;
    result = v0 + 1000;
    v26 = v0;
  }
  while ( v0 + 1000 < 1073 );
  return result;
}
// 4BBF14: using guessed type int dword_4BBF14;
// 4BC77C: using guessed type __int16 word_4BC77C[];
// 156FEB0: using guessed type int dword_156FEB0;

//----- (00421E60) --------------------------------------------------------
FILE *__cdecl sub_421E60(int a1, int a2)
{
  FILE *result; // eax
  FILE *v3; // ebp
  int v4; // esi
  int v5; // eax
  bool v6; // zf
  int *v7; // ebx
  int v8; // esi
  int v9; // eax
  int v10; // ecx
  _WORD *v11; // edi
  int v12; // eax
  int v13; // ecx
  int v14; // eax
  void *v15; // edi
  signed int v16; // edi
  int v17; // eax
  int v18; // eax
  unsigned __int16 v19; // dx
  unsigned __int16 v20; // cx
  int v21; // [esp+8h] [ebp-120h]
  unsigned int v22; // [esp+Ch] [ebp-11Ch]
  int v23; // [esp+10h] [ebp-118h]
  int v24; // [esp+14h] [ebp-114h]
  int v25; // [esp+18h] [ebp-110h]
  int v26; // [esp+1Ch] [ebp-10Ch]
  FILE *v27; // [esp+20h] [ebp-108h]
  char v28; // [esp+24h] [ebp-104h]

  v23 = 0;
  v24 = 0;
  sprintf(&v28, aChrS, a1);
  result = fopen(&v28, aRb);
  v3 = result;
  v27 = result;
  if ( result )
  {
    fread(&dword_4BBF14, 4u, 1u, result);
    fread(&v23, 4u, 1u, v3);
    v4 = a2;
    v5 = v23;
    v6 = dword_4BBF14 == 0;
    word_4BBFAC[a2] = v23;
    v22 = 0;
    if ( !v6 )
    {
      v7 = &dword_13083AC[8 * a2];
      do
      {
        *v7 = (int)sub_41BAF0(12 * v5);
        v5 = v23;
        v25 = 0;
        if ( v23 > 0 )
        {
          v8 = 0;
          do
          {
            fread((void *)(*v7 + v8), 2u, 1u, v3);
            v9 = v8 + *v7;
            if ( *(_WORD *)v9 == -1 )
            {
              *(_DWORD *)(v9 + 8) = 0;
            }
            else
            {
              fread((void *)(v9 + 2), 2u, 1u, v3);
              *(_WORD *)(v8 + *v7) -= 399;
              *(_WORD *)(v8 + *v7 + 2) -= 299;
              fread((void *)(v8 + *v7 + 4), 2u, 1u, v3);
              fread((void *)(v8 + *v7 + 6), 2u, 1u, v3);
              fread(&v24, 4u, 1u, v3);
              *(_DWORD *)(v8 + *v7 + 8) = sub_41BAF0(2 * v24);
              fread(*(void **)(v8 + *v7 + 8), 2 * v24, 1u, v3);
              if ( dword_156FEB0 )
              {
                v10 = 1;
                v11 = *(_WORD **)(v8 + *v7 + 8);
                HIWORD(v12) = 0;
                if ( (signed int)(unsigned __int16)*v11 > 0 )
                {
                  LOWORD(v12) = *v11;
                  v26 = v12;
                  do
                  {
                    v13 = v10 + 1;
                    v14 = 0;
                    v21 = 0;
                    if ( v11[v13] )
                    {
                      do
                      {
                        v11[v13 + v14 + 1] = v11[v13 + v14 + 1] & 0x1F | 2 * (v11[v13 + v14 + 1] & 0xFFE0);
                        v14 = v21 + 1;
                        v21 = v14;
                      }
                      while ( v14 < (unsigned __int16)v11[v13] );
                      v3 = v27;
                    }
                    v10 = v13 + (unsigned __int16)v11[v13] + 1;
                    --v26;
                  }
                  while ( v26 );
                }
              }
            }
            v5 = v23;
            v8 += 12;
            ++v25;
          }
          while ( v25 < v23 );
          v4 = a2;
        }
        ++v7;
        ++v22;
      }
      while ( v22 < dword_4BBF14 );
    }
    fread((void *)(2 * v4 + 4959968), 4u, 1u, v3);
    v15 = sub_41BAF0(0xA8u);
    dword_8D3C24[v4] = (int)v15;
    v22 = 0;
    memset(v15, 0, 0xA8u);
    if ( word_4BAEE0[v4] > 0u )
    {
      do
      {
        v16 = 0;
        v21 = 0;
        fread(&v21, 2u, 1u, v3);
        fread((void *)(dword_8D3C24[v4] + 8 * v21), 2u, 1u, v3);
        *(_DWORD *)(dword_8D3C24[v4] + 8 * v21 + 4) = sub_41BAF0(4 * *(unsigned __int16 *)(dword_8D3C24[v4] + 8 * v21));
        v17 = dword_8D3C24[v4] + 8 * v21;
        if ( *(_WORD *)v17 > 0u )
        {
          do
          {
            fread((void *)(*(_DWORD *)(v17 + 4) + 4 * v16), 4u, 1u, v3);
            v18 = dword_8D3C24[v4];
            v19 = *(_WORD *)(v18 + 8 * v21);
            v17 = v18 + 8 * v21;
            ++v16;
          }
          while ( v16 < v19 );
        }
        v20 = word_4BAEE0[v4];
        ++v22;
      }
      while ( v22 < v20 );
    }
    result = (FILE *)fclose(v3);
  }
  return result;
}
// 4BBF14: using guessed type int dword_4BBF14;
// 8D3C24: using guessed type int dword_8D3C24[];
// 13083AC: using guessed type int dword_13083AC[];
// 156FEB0: using guessed type int dword_156FEB0;

//----- (004221A0) --------------------------------------------------------
FILE *__cdecl sub_4221A0(int a1, int a2)
{
  int v2; // esi
  int *v3; // ebx
  FILE *result; // eax
  FILE *v5; // ebp
  int v6; // ecx
  int v7; // eax
  int v8; // esi
  int v9; // eax
  int v10; // ecx
  _WORD *v11; // edi
  int v12; // eax
  int v13; // ecx
  int v14; // eax
  void *v15; // edi
  signed int v16; // edi
  int v17; // eax
  int v18; // eax
  unsigned __int16 v19; // dx
  unsigned __int16 v20; // cx
  int v21; // [esp+10h] [ebp-120h]
  unsigned int v22; // [esp+14h] [ebp-11Ch]
  int v23; // [esp+18h] [ebp-118h]
  int v24; // [esp+1Ch] [ebp-114h]
  int v25; // [esp+20h] [ebp-110h]
  int v26; // [esp+24h] [ebp-10Ch]
  FILE *v27; // [esp+28h] [ebp-108h]
  char v28; // [esp+2Ch] [ebp-104h]

  v23 = 0;
  sprintf(byte_6BE2A0, aLoadAnimations, a1);
  v2 = a2;
  v3 = &dword_13083AC[8 * a2];
  result = (FILE *)dword_13083AC[8 * a2];
  if ( !result )
  {
    sprintf(&v28, aChrS_0, a1);
    result = fopen(&v28, aRb);
    v5 = result;
    v27 = result;
    if ( result )
    {
      fread(&dword_4BBF14, 4u, 1u, result);
      fread(&v23, 4u, 1u, v5);
      v6 = dword_4BBF14;
      v7 = v23;
      word_4BBFAC[a2] = v23;
      v22 = 0;
      if ( v6 )
      {
        do
        {
          *v3 = (int)sub_41BAF0(12 * v7);
          v7 = v23;
          v25 = 0;
          if ( v23 > 0 )
          {
            v8 = 0;
            do
            {
              fread((void *)(*v3 + v8), 2u, 1u, v5);
              v9 = v8 + *v3;
              if ( *(_WORD *)v9 == -1 )
              {
                *(_DWORD *)(v9 + 8) = 0;
              }
              else
              {
                fread((void *)(v9 + 2), 2u, 1u, v5);
                *(_WORD *)(v8 + *v3) -= 399;
                *(_WORD *)(v8 + *v3 + 2) -= 299;
                fread((void *)(v8 + *v3 + 4), 2u, 1u, v5);
                fread((void *)(v8 + *v3 + 6), 2u, 1u, v5);
                fread(&v24, 4u, 1u, v5);
                *(_DWORD *)(v8 + *v3 + 8) = sub_41BAF0(2 * v24);
                fread(*(void **)(v8 + *v3 + 8), 2 * v24, 1u, v5);
                if ( dword_156FEB0 )
                {
                  v10 = 1;
                  v11 = *(_WORD **)(v8 + *v3 + 8);
                  HIWORD(v12) = 0;
                  if ( (signed int)(unsigned __int16)*v11 > 0 )
                  {
                    LOWORD(v12) = *v11;
                    v26 = v12;
                    do
                    {
                      v13 = v10 + 1;
                      v14 = 0;
                      v21 = 0;
                      if ( v11[v13] )
                      {
                        do
                        {
                          v11[v13 + v14 + 1] = v11[v13 + v14 + 1] & 0x1F | 2 * (v11[v13 + v14 + 1] & 0xFFE0);
                          v14 = v21 + 1;
                          v21 = v14;
                        }
                        while ( v14 < (unsigned __int16)v11[v13] );
                        v5 = v27;
                      }
                      v10 = v13 + (unsigned __int16)v11[v13] + 1;
                      --v26;
                    }
                    while ( v26 );
                  }
                }
              }
              v7 = v23;
              v8 += 12;
              ++v25;
            }
            while ( v25 < v23 );
            v2 = a2;
          }
          ++v3;
          ++v22;
        }
        while ( v22 < dword_4BBF14 );
      }
      fread((void *)(2 * v2 + 4959968), 4u, 1u, v5);
      v15 = sub_41BAF0(0xA8u);
      dword_8D3C24[v2] = (int)v15;
      v22 = 0;
      memset(v15, 0, 0xA8u);
      if ( word_4BAEE0[v2] > 0u )
      {
        do
        {
          v16 = 0;
          v21 = 0;
          fread(&v21, 2u, 1u, v5);
          fread((void *)(dword_8D3C24[v2] + 8 * v21), 2u, 1u, v5);
          *(_DWORD *)(dword_8D3C24[v2] + 8 * v21 + 4) = sub_41BAF0(4 * *(unsigned __int16 *)(dword_8D3C24[v2] + 8 * v21));
          v17 = dword_8D3C24[v2] + 8 * v21;
          if ( *(_WORD *)v17 > 0u )
          {
            do
            {
              fread((void *)(*(_DWORD *)(v17 + 4) + 4 * v16), 4u, 1u, v5);
              v18 = dword_8D3C24[v2];
              v19 = *(_WORD *)(v18 + 8 * v21);
              v17 = v18 + 8 * v21;
              ++v16;
            }
            while ( v16 < v19 );
          }
          v20 = word_4BAEE0[v2];
          ++v22;
        }
        while ( v22 < v20 );
      }
      result = (FILE *)fclose(v5);
    }
  }
  return result;
}
// 4BBF14: using guessed type int dword_4BBF14;
// 8D3C24: using guessed type int dword_8D3C24[];
// 13083AC: using guessed type int dword_13083AC[];
// 156FEB0: using guessed type int dword_156FEB0;

//----- (00422500) --------------------------------------------------------
int __cdecl sub_422500(int a1, int a2)
{
  int v2; // ebx
  int v3; // edi
  int result; // eax
  int *v5; // esi
  FILE *v6; // eax
  FILE *v7; // ebp
  int v8; // eax
  int v9; // eax
  int v10; // ecx
  _WORD *v11; // edx
  int v12; // eax
  int v13; // ecx
  int v14; // eax
  void *v15; // edx
  bool v16; // zf
  signed int v17; // esi
  int v18; // eax
  int v19; // eax
  unsigned __int16 v20; // dx
  unsigned __int16 v21; // cx
  int v22; // [esp+Ch] [ebp-11Ch]
  unsigned int v23; // [esp+10h] [ebp-118h]
  int v24; // [esp+14h] [ebp-114h]
  int v25; // [esp+18h] [ebp-110h]
  int v26; // [esp+1Ch] [ebp-10Ch]
  _WORD *v27; // [esp+20h] [ebp-108h]
  char v28; // [esp+24h] [ebp-104h]

  v2 = 0;
  v24 = 0;
  strcpy(byte_6BE2A0, aLoadAnimations_0);
  v3 = a2;
  result = dword_13083AC[8 * a2];
  v5 = &dword_13083AC[8 * a2];
  if ( !result )
  {
    sprintf(&v28, aChrS_0, a1);
    v6 = fopen(&v28, aRb);
    v7 = v6;
    if ( !v6 )
      sub_4169B0(aAnimationFileN, Caption, 0x40000);
    fread(&dword_4BBF14, 4u, 1u, v6);
    fread(&v24, 4u, 1u, v7);
    v8 = v24;
    word_4BBFAC[a2] = v24;
    *v5 = (int)sub_41BAF0(12 * v8);
    v23 = 0;
    if ( v24 > 0 )
    {
      do
      {
        fread((void *)(*v5 + v2), 2u, 1u, v7);
        v9 = v2 + *v5;
        if ( *(_WORD *)(v2 + *v5) == -1 )
        {
          *(_DWORD *)(v9 + 8) = 0;
        }
        else
        {
          fread((void *)(v9 + 2), 2u, 1u, v7);
          *(_WORD *)(*v5 + v2) -= 399;
          *(_WORD *)(v2 + *v5 + 2) -= 299;
          fread((void *)(v2 + *v5 + 4), 2u, 1u, v7);
          fread((void *)(v2 + *v5 + 6), 2u, 1u, v7);
          fread(&v26, 4u, 1u, v7);
          *(_DWORD *)(v2 + *v5 + 8) = sub_41BAF0(2 * v26);
          fread(*(void **)(v2 + *v5 + 8), 2 * v26, 1u, v7);
          if ( dword_156FEB0 )
          {
            v10 = 1;
            v11 = *(_WORD **)(v2 + *v5 + 8);
            HIWORD(v12) = 0;
            v27 = v11;
            if ( (signed int)(unsigned __int16)*v11 > 0 )
            {
              LOWORD(v12) = *v11;
              v25 = v12;
              do
              {
                v13 = v10 + 1;
                v14 = 0;
                v22 = 0;
                if ( v11[v13] )
                {
                  do
                  {
                    v11[v13 + v14 + 1] = v11[v13 + v14 + 1] & 0x1F | 2 * (v11[v13 + v14 + 1] & 0xFFE0);
                    v11 = v27;
                    v14 = v22 + 1;
                    v22 = v14;
                  }
                  while ( v14 < (unsigned __int16)v27[v13] );
                }
                v10 = v13 + (unsigned __int16)v11[v13] + 1;
                --v25;
              }
              while ( v25 );
            }
          }
        }
        v2 += 12;
        ++v23;
      }
      while ( (signed int)v23 < v24 );
      v3 = a2;
    }
    fread((void *)(2 * v3 + 4959968), 4u, 1u, v7);
    v15 = sub_41BAF0(0xA8u);
    dword_8D3C24[v3] = (int)v15;
    memset(v15, 0, 0xA8u);
    v16 = word_4BAEE0[v3] == 0;
    v23 = 0;
    if ( !v16 )
    {
      do
      {
        v17 = 0;
        v22 = 0;
        fread(&v22, 2u, 1u, v7);
        fread((void *)(dword_8D3C24[a2] + 8 * v22), 2u, 1u, v7);
        *(_DWORD *)(dword_8D3C24[a2] + 8 * v22 + 4) = sub_41BAF0(4 * *(unsigned __int16 *)(dword_8D3C24[a2] + 8 * v22));
        v18 = dword_8D3C24[a2] + 8 * v22;
        if ( *(_WORD *)v18 > 0u )
        {
          do
          {
            fread((void *)(*(_DWORD *)(v18 + 4) + 4 * v17), 4u, 1u, v7);
            v19 = dword_8D3C24[a2];
            v20 = *(_WORD *)(v19 + 8 * v22);
            v18 = v19 + 8 * v22;
            ++v17;
          }
          while ( v17 < v20 );
        }
        v21 = word_4BAEE0[v3];
        ++v23;
      }
      while ( v23 < v21 );
    }
    result = fclose(v7);
  }
  return result;
}
// 4BBF14: using guessed type int dword_4BBF14;
// 8D3C24: using guessed type int dword_8D3C24[];
// 13083AC: using guessed type int dword_13083AC[];
// 156FEB0: using guessed type int dword_156FEB0;

//----- (00422850) --------------------------------------------------------
void sub_422850()
{
  __int16 *v0; // ebp
  int *v1; // edi
  signed int v2; // ebx
  int v3; // esi
  void *v4; // ecx
  signed int v5; // esi
  void **v6; // [esp+10h] [ebp-8h]
  signed int v7; // [esp+14h] [ebp-4h]

  v6 = (void **)dword_8D3C24;
  v0 = word_4BBFAC;
  v1 = dword_13083AC;
  do
  {
    v7 = 8;
    do
    {
      if ( *v1 )
      {
        v2 = 0;
        if ( *v0 )
        {
          v3 = 0;
          do
          {
            sub_41BB80(*(void **)(*v1 + v3 + 8));
            ++v2;
            *(_DWORD *)(*v1 + v3 + 8) = 0;
            v3 += 12;
          }
          while ( v2 < (unsigned __int16)*v0 );
        }
        v4 = (void *)*v1;
        *v0 = 0;
        sub_41BB80(v4);
        *v1 = 0;
      }
      ++v1;
      --v7;
    }
    while ( v7 );
    if ( *v6 )
    {
      v5 = 0;
      do
      {
        if ( *(_DWORD *)((char *)*v6 + v5 + 4) )
        {
          sub_41BB80(*(void **)((char *)*v6 + v5 + 4));
          *(_DWORD *)((char *)*v6 + v5 + 4) = 0;
        }
        v5 += 8;
      }
      while ( v5 < 168 );
      sub_41BB80(*v6);
      *v6 = 0;
    }
    ++v0;
    ++v6;
  }
  while ( (signed int)v1 < (signed int)&unk_1317DAC );
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 13083AC: using guessed type int dword_13083AC[];

//----- (00422950) --------------------------------------------------------
int __cdecl sub_422950(char *a1)
{
  FILE *v1; // esi
  FILE *v2; // eax
  FILE *v3; // ebp
  int v4; // eax
  int v5; // edi
  int v6; // eax
  int v7; // esi
  int v8; // edi
  int i; // eax
  int j; // esi
  int v11; // ecx
  int v12; // edx
  int v13; // esi
  int v14; // ecx
  _BYTE *v15; // edx
  int v16; // ebx
  int v17; // ebp
  int v18; // edi
  int v19; // esi
  int v20; // eax
  char v21; // bl
  _WORD *v22; // eax
  int v23; // eax
  char v24; // bl
  _WORD *v25; // eax
  int v26; // eax
  bool v27; // zf
  _WORD *v28; // eax
  int v29; // eax
  _WORD *v30; // eax
  _DWORD *v31; // eax
  LPCSTR v32; // esi
  int result; // eax
  int v34; // [esp+10h] [ebp-114h]
  int v35; // [esp+14h] [ebp-110h]
  int v36; // [esp+18h] [ebp-10Ch]
  FILE *v37; // [esp+1Ch] [ebp-108h]
  char v38; // [esp+20h] [ebp-104h]

  strcpy(byte_6BE2A0, aLoadMapProcess);
  v1 = sub_41BC40(aMapdataDat);
  v2 = fopen(aMapsDat, aRb);
  v3 = v2;
  v37 = v2;
  v4 = sub_41BD00(a1, (int)v1);
  if ( v4 == -1 )
    goto LABEL_45;
  fseek(v3, *((_DWORD *)dword_8D0AE0[v4] + 13), 0);
  fread(&dword_1540B4C, 4u, 1u, v3);
  fread(&dword_1540B50, 4u, 1u, v3);
  v5 = 0;
  if ( dword_1540B4C > 0 )
  {
    v6 = dword_1540B50;
    do
    {
      v7 = 0;
      if ( v6 > 0 )
      {
        do
        {
          fread(&v38, 4u, 1u, v3);
          fread((char *)dword_1330790 + 8 * (v5 + v7 * dword_1540B4C), 8u, 1u, v3);
          v6 = dword_1540B50;
          ++v7;
        }
        while ( v7 < dword_1540B50 );
      }
      ++v5;
    }
    while ( v5 < dword_1540B4C );
  }
  v8 = 0;
  *(_DWORD *)dword_1547440 = 0;
  for ( i = dword_1540B4C; v8 < i; ++v8 )
  {
    for ( j = 0; j < dword_1540B50; i = dword_1540B4C )
      fread((char *)dword_1547440 + 2 * (v8 + j++ * i), 2u, 1u, v3);
  }
  v11 = 0;
  if ( i > 0 )
  {
    do
    {
      *((_WORD *)dword_1547440 + v11 + i * (dword_1540B50 - 2)) = 1;
      v12 = v11++ + dword_1540B4C * (dword_1540B50 - 1);
      *((_WORD *)dword_1547440 + v12) = 8;
      i = dword_1540B4C;
    }
    while ( v11 < dword_1540B4C );
  }
  memset(dword_1542DA4, 0, i * dword_1540B50);
  memset(dword_13307A0, 0, dword_1540B4C * dword_1540B50);
  sub_4248D0();
  v13 = 0;
  v35 = 0;
  if ( dword_1540B50 <= 0 )
    goto LABEL_45;
  v14 = dword_1540B4C;
  v15 = dword_1547440;
  do
  {
    v16 = 0;
    v36 = 0;
    if ( v14 <= 0 )
      goto LABEL_44;
    do
    {
      if ( (v15[2 * (v16 + v13 * v14)] & 9) != 8 )
        goto LABEL_43;
      v17 = v16 + 1;
      v34 = v16 - 1;
      v18 = v13 - 1;
      v19 = v13 + 1;
      while ( 1 )
      {
        while ( v34 != -99 )
        {
          if ( v34 < 0 || (v20 = v34 + v35 * v14, v21 = v15[2 * v20], v22 = &v15[2 * v20], v21 & 9) )
          {
            v34 = -99;
          }
          else
          {
            *v22 = 16;
            v14 = dword_1540B4C;
            v15 = dword_1547440;
            --v34;
          }
          if ( v17 != -99 )
          {
LABEL_28:
            if ( v17 > v14 - 1 || (v23 = v17 + v35 * v14, v24 = v15[2 * v23], v25 = &v15[2 * v23], v24 & 9) )
            {
              v17 = -99;
            }
            else
            {
              *v25 = 16;
              v14 = dword_1540B4C;
              v15 = dword_1547440;
              ++v17;
            }
          }
          v16 = v36;
          if ( v18 != -99 )
          {
LABEL_33:
            if ( v18 >= 0 && (v26 = v16 + v18 * v14, v27 = (v15[2 * v26] & 9) == 0, v28 = &v15[2 * v26], v27) )
            {
              *v28 = 16;
              v14 = dword_1540B4C;
              v15 = dword_1547440;
              --v18;
            }
            else
            {
              v18 = -99;
            }
          }
          if ( v19 != -99 )
            goto LABEL_38;
        }
        if ( v17 != -99 )
          goto LABEL_28;
        if ( v18 != -99 )
          goto LABEL_33;
        if ( v19 == -99 )
          break;
LABEL_38:
        if ( v19 <= dword_1540B50 - 1
          && (v29 = v16 + v19 * v14, v27 = (v15[2 * v29] & 9) == 0, v30 = &v15[2 * v29], v27) )
        {
          *v30 = 16;
          v14 = dword_1540B4C;
          v15 = dword_1547440;
          ++v19;
        }
        else
        {
          v19 = -99;
        }
      }
      v3 = v37;
      v13 = v35;
LABEL_43:
      v36 = ++v16;
    }
    while ( v16 < v14 );
LABEL_44:
    v35 = ++v13;
  }
  while ( v13 < dword_1540B50 );
LABEL_45:
  fclose(v3);
  dword_1319494 = 0;
  dword_1322614 = 0;
  v31 = &unk_48B9A0;
  while ( *(v31 - 2) != (unsigned __int16)word_131ABFE
       || *v31 != (unsigned __int8)byte_1547958 && v31[1] != (unsigned __int8)byte_1547958 )
  {
    v31 += 4;
    if ( (signed int)v31 >= (signed int)&unk_48BA60 )
      goto LABEL_52;
  }
  dword_1322614 = 1;
LABEL_52:
  v32 = (&lpString)[dword_131D690];
  dword_154794C = (unsigned __int64)(signed __int64)*((float *)v32 + 28) + 145 * (byte_1328E45 != 0) - 400;
  dword_1547950 = (unsigned __int64)(signed __int64)*((float *)v32 + 30) - 250;
  result = sub_4166A0((signed __int64)*((float *)v32 + 28), (signed __int64)*((float *)v32 + 30), 0);
  if ( dword_154794C >= 0 )
  {
    result = 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0);
    if ( dword_154794C <= result )
    {
      dword_1319238 = 1;
    }
    else
    {
      dword_1319238 = 0;
      dword_154794C = 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0);
    }
  }
  else
  {
    dword_1319238 = 0;
    dword_154794C = 0;
  }
  if ( dword_1547950 >= 0 )
  {
    result = 4 * (5 * dword_1540B50 - 125);
    if ( dword_1547950 <= result )
    {
      dword_1319498 = 1;
    }
    else
    {
      dword_1319498 = 0;
      dword_1547950 = 4 * (5 * dword_1540B50 - 125);
    }
  }
  else
  {
    dword_1319498 = 0;
    dword_1547950 = 0;
  }
  return result;
}
// 1319238: using guessed type int dword_1319238;
// 1319494: using guessed type int dword_1319494;
// 1319498: using guessed type int dword_1319498;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131D690: using guessed type int dword_131D690;
// 1322614: using guessed type int dword_1322614;
// 1328E45: using guessed type char byte_1328E45;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;
// 1547958: using guessed type char byte_1547958;

//----- (00422E30) --------------------------------------------------------
void sub_422E30()
{
  sub_41BB80(dword_1330790);
  dword_1330790 = 0;
  sub_41BB80(dword_1547440);
  dword_1547440 = 0;
  sub_41BB80(dword_1542DA4);
  dword_1542DA4 = 0;
  sub_41BB80(dword_13307A0);
  dword_13307A0 = 0;
}

//----- (00422E80) --------------------------------------------------------
unsigned int __cdecl sub_422E80(const char *a1, int a2)
{
  int v2; // edx
  bool v3; // cf
  int v4; // eax
  char *v5; // edx
  unsigned int result; // eax
  char *v7; // edi
  unsigned int v8; // edx
  char *v9; // ebp
  int v10; // edx
  unsigned int v11; // ecx
  char v12; // dl
  char *v13; // edi
  const char *v14; // esi
  unsigned int v15; // edx
  int v16; // ebp

  if ( !a2 )
  {
    v10 = dword_133004C;
    if ( dword_133004C == 98 )
    {
      result = 0;
      v11 = strlen(a1) + 1;
      v12 = v11;
      v11 >>= 2;
      qmemcpy(byte_13245E3, a1, 4 * v11);
      v14 = &a1[4 * v11];
      v13 = &byte_13245E3[4 * v11];
      LOBYTE(v11) = v12;
      v15 = 98;
      qmemcpy(v13, v14, v11 & 3);
      byte_13245E2 = 0;
      qmemcpy(byte_13226E0, &unk_1322731, 0x1F53u);
      dword_133004C = 98;
    }
    else
    {
      v16 = 9 * dword_133004C;
      result = strlen(a1) + 1;
      qmemcpy(&byte_13226E1[81 * dword_133004C], a1, result);
      v15 = v10 + 1;
      byte_13226E0[9 * v16] = 0;
      dword_133004C = v15;
      if ( v15 > 0x63 )
      {
        dword_133004C = 99;
        dword_1330054 = 94;
        return result;
      }
      if ( v15 < 5 )
      {
        dword_1330054 = 0;
        return result;
      }
    }
    dword_1330054 = v15 - 5;
    return result;
  }
  v2 = dword_1330050;
  v3 = (unsigned int)dword_1330050 < 0x62;
  v4 = 9 * dword_1330050;
  byte_132DFD8[81 * dword_1330050] = a2;
  if ( !v3 )
  {
    v5 = &byte_132DFD9[9 * v4];
    result = strlen(a1) + 1;
    v7 = v5;
    v8 = 98;
    qmemcpy(v7, a1, result);
    dword_1330050 = 98;
    qmemcpy(byte_132DFD8, byte_132E029, 0x1F53u);
LABEL_4:
    dword_1330058 = v8 - 14;
    return result;
  }
  v9 = &byte_132DFD9[9 * v4];
  result = strlen(a1) + 1;
  qmemcpy(v9, a1, result);
  v8 = v2 + 1;
  dword_1330050 = v8;
  if ( v8 >= 0xE )
    goto LABEL_4;
  dword_1330058 = 0;
  return result;
}
// 13245E2: using guessed type char byte_13245E2;
// 133004C: using guessed type int dword_133004C;
// 1330050: using guessed type int dword_1330050;
// 1330054: using guessed type int dword_1330054;
// 1330058: using guessed type int dword_1330058;

//----- (00423010) --------------------------------------------------------
unsigned int sub_423010()
{
  LPCSTR v0; // esi
  unsigned int result; // eax

  v0 = (&lpString)[dword_131D690];
  if ( *((_DWORD *)v0 + 23) )
    return sub_422E80((const char *)&unk_48C624, 3);
  switch ( word_131ABFE )
  {
    case 0x1C:
    case 0x2B:
    case 0x2D:
    case 0x34:
    case 0x3B:
    case 0x4E:
    case 0x55:
    case 0x59:
    case 0x68:
      dword_131A880 = (unsigned __int16)word_131ABFE;
      dword_1322594 = (signed __int64)*((float *)v0 + 28) / 40;
      dword_1322598 = (signed __int64)*((float *)v0 + 30) / 20;
      result = sub_422E80((const char *)&unk_48C60C, 4);
      break;
    default:
      result = sub_422E80((const char *)&unk_48C5F0, 3);
      break;
  }
  return result;
}
// 131A880: using guessed type int dword_131A880;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131D690: using guessed type int dword_131D690;
// 1322594: using guessed type int dword_1322594;
// 1322598: using guessed type int dword_1322598;

//----- (00423120) --------------------------------------------------------
signed int sub_423120()
{
  LPCSTR v0; // esi
  int v1; // edi
  int v2; // ebp
  int v3; // esi
  int v4; // ebx
  char *v5; // eax
  signed int v6; // eax
  int v7; // ecx
  int v8; // edx
  int v9; // edx
  char *v11; // [esp+10h] [ebp-24h]
  int v12; // [esp+14h] [ebp-20h]
  int v13; // [esp+18h] [ebp-1Ch]
  int v14; // [esp+1Ch] [ebp-18h]
  int v15; // [esp+20h] [ebp-14h]
  int v16; // [esp+24h] [ebp-10h]
  char *v17; // [esp+2Ch] [ebp-8h]
  int v18; // [esp+30h] [ebp-4h]

  v0 = (&lpString)[dword_131D690];
  v14 = 0;
  v16 = 0;
  v15 = 0;
  v1 = (signed __int64)(*((float *)v0 + 28) * 0.025);
  v2 = (signed __int64)(*((float *)v0 + 30) * 0.050000001);
  v3 = (v1 - 40) & ((v1 - 40 < 0) - 1);
  v12 = dword_1540B4C - 1;
  if ( v1 + 40 <= dword_1540B4C - 1 )
    v12 = v1 + 40;
  v4 = (v2 - 40) & ((v2 - 40 < 0) - 1);
  v13 = dword_1540B50 - 1;
  if ( v2 + 40 <= dword_1540B50 - 1 )
    v13 = v2 + 40;
  if ( v4 < v13 )
  {
    v18 = 8 * dword_1540B4C;
    v5 = (char *)dword_1330790 + 8 * (v3 + v4 * dword_1540B4C);
    v17 = (char *)dword_1330790 + 8 * (v3 + v4 * dword_1540B4C);
    while ( 1 )
    {
      if ( ((v1 - 40) & ((v1 - 40 < 0) - 1)) < v12 )
      {
        v11 = v5;
        do
        {
          v6 = *(unsigned __int16 *)v11;
          if ( v6 <= 4471 || v6 >= 4631 )
          {
            if ( v6 <= 5335 || v6 >= 5408 )
            {
              if ( v6 == 5425 || v6 == 5476 )
              {
                v9 = (abs(v4 - v2) + abs(v3 - v1)) / 2;
                if ( v15 < 100 - v9 )
                  v15 = 100 - v9;
                if ( 100 - v9 >= 100 )
                  break;
              }
            }
            else
            {
              v8 = (abs(v4 - v2) + abs(v3 - v1)) / 2;
              if ( v14 < 100 - v8 )
                v14 = 100 - v8;
              if ( 100 - v8 >= 100 )
                break;
            }
          }
          else
          {
            v7 = 100 - abs(v4 - v2) - abs(v3 - v1);
            if ( v16 < v7 )
              v16 = v7;
            if ( v7 >= 100 )
              break;
          }
          ++v3;
          v11 += 8;
        }
        while ( v3 < v12 );
      }
      ++v4;
      v5 = &v17[v18];
      v17 += v18;
      if ( v4 >= v13 )
        break;
      v3 = (v1 - 40) & ((v1 - 40 < 0) - 1);
    }
  }
  sub_416700(58, v14);
  sub_416700(59, v15);
  return sub_416700(60, v16);
}
// 131D690: using guessed type int dword_131D690;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (00423330) --------------------------------------------------------
char __cdecl sub_423330(int a1)
{
  int v1; // eax
  int v2; // eax
  double v3; // st7
  int v4; // eax
  int v5; // eax
  double v6; // st7
  char result; // al

  *((_BYTE *)dword_1542DA4
  + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(a1 + 120) * 0.050000001)
  + (unsigned __int16)(signed __int64)(*(float *)(a1 + 112) * 0.025)) = 0;
  v1 = *(_DWORD *)(a1 + 148);
  *(_DWORD *)(a1 + 160) = 0;
  *(_DWORD *)(a1 + 164) = 0;
  v2 = 40 * v1 + 20;
  *(_DWORD *)(a1 + 132) = v2;
  v3 = (double)v2;
  *(_DWORD *)(a1 + 140) = v2;
  v4 = *(_DWORD *)(a1 + 152);
  *(float *)(a1 + 112) = v3;
  v5 = 20 * v4 + 10;
  *(_DWORD *)(a1 + 136) = v5;
  v6 = (double)v5;
  *(_DWORD *)(a1 + 144) = v5;
  result = *(_BYTE *)(a1 + 174);
  *(float *)(a1 + 120) = v6;
  *(float *)(a1 + 116) = v6;
  if ( result != 10 && result != 8 && result != 17 )
    *(_WORD *)(a1 + 176) = 0;
  return result;
}
// 1540B4C: using guessed type int dword_1540B4C;

//----- (004233F0) --------------------------------------------------------
signed int __cdecl sub_4233F0(int a1)
{
  int v1; // ecx
  signed int result; // eax
  int v3; // ecx
  __int16 *v4; // eax
  int v5; // ecx
  __int16 *v6; // eax
  int v7; // ecx
  __int16 *v8; // eax
  int v9; // ecx
  int *v10; // eax
  int v11; // ecx
  __int16 *v12; // eax
  int v13; // ecx
  __int16 *v14; // eax
  __int16 *v15; // eax
  __int16 *v16; // eax
  __int16 *v17; // eax
  __int16 *v18; // eax
  __int16 *v19; // eax

  dword_1330098 = a1;
  result = a1 - 1;
  switch ( a1 )
  {
    case 1:
      if ( (unsigned __int16)word_1328DCC >= 0x7D0u )
      {
        sub_422E80((const char *)&unk_48C6D4, 4);
      }
      else
      {
        sub_422E80((const char *)&unk_48C6D4, 4);
        LOWORD(word_1328DCC) = word_1328DCC + 1;
      }
      v4 = &word_1328DD2;
      do
      {
        if ( ((signed int)v4 < (signed int)&word_1328DCC
           || (signed int)v4 > (signed int)&word_1328DD0 && v4 != &word_1328DD4)
          && *v4 )
        {
          LOWORD(v3) = *v4;
          *v4 = --v3;
        }
        ++v4;
      }
      while ( (signed int)v4 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v3) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v3 )
          *(_WORD *)((char *)word_13246E4 + result) = --v3;
        LOWORD(v3) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v3 )
          *(_WORD *)((char *)word_132957C + result) = --v3;
        result += 2;
      }
      while ( result < 158 );
      break;
    case 2:
      if ( (unsigned __int16)word_1328DCE < 0x7D0u )
        ++word_1328DCE;
      sub_422E80((const char *)&unk_48C6BC, 4);
      v6 = (__int16 *)&word_1328DCC;
      do
      {
        if ( ((signed int)v6 < (signed int)&word_1328DCC
           || (signed int)v6 > (signed int)&word_1328DD0 && v6 != &word_1328DD4)
          && *v6 )
        {
          LOWORD(v5) = *v6;
          *v6 = --v5;
        }
        ++v6;
      }
      while ( (signed int)v6 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v5) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v5 )
          *(_WORD *)((char *)word_13246E4 + result) = --v5;
        LOWORD(v5) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v5 )
          *(_WORD *)((char *)word_132957C + result) = --v5;
        result += 2;
      }
      while ( result < 158 );
      break;
    case 3:
      if ( (unsigned __int16)word_1328DD0 < 0x7D0u )
        ++word_1328DD0;
      sub_422E80((const char *)&unk_48C6A4, 4);
      v8 = (__int16 *)&word_1328DCC;
      do
      {
        if ( ((signed int)v8 < (signed int)&word_1328DCC
           || (signed int)v8 > (signed int)&word_1328DD0 && v8 != &word_1328DD4)
          && *v8 )
        {
          LOWORD(v7) = *v8;
          *v8 = --v7;
        }
        ++v8;
      }
      while ( (signed int)v8 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v7) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v7 )
          *(_WORD *)((char *)word_13246E4 + result) = --v7;
        LOWORD(v7) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v7 )
          *(_WORD *)((char *)word_132957C + result) = --v7;
        result += 2;
      }
      while ( result < 158 );
      break;
    case 4:
      if ( (unsigned __int16)word_1328DD2 >= 0x7D0u )
      {
        sub_422E80((const char *)&unk_48C68C, 4);
      }
      else
      {
        sub_422E80((const char *)&unk_48C68C, 4);
        ++word_1328DD2;
      }
      v10 = &word_1328DCC;
      do
      {
        if ( ((signed int)v10 < (signed int)&word_1328DD2 || (signed int)v10 > (signed int)&word_1328DD4)
          && *(_WORD *)v10 )
        {
          LOWORD(v9) = *(_WORD *)v10;
          *(_WORD *)v10 = --v9;
        }
        v10 = (int *)((char *)v10 + 2);
      }
      while ( (signed int)v10 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v9) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v9 )
          *(_WORD *)((char *)word_13246E4 + result) = --v9;
        LOWORD(v9) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v9 )
          *(_WORD *)((char *)word_132957C + result) = --v9;
        result += 2;
      }
      while ( result < 158 );
      break;
    case 5:
      result = sub_422E80((const char *)&unk_48C670, 4);
      word_1328DD4 = 1;
      break;
    case 8:
      if ( (unsigned __int16)word_1328DDA < 0x7D0u )
        ++word_1328DDA;
      sub_422E80((const char *)&unk_48C658, 4);
      v12 = (__int16 *)&word_1328DCC;
      do
      {
        if ( v12 != &word_1328DD4 && v12 != &word_1328DDA && *v12 )
        {
          LOWORD(v11) = *v12;
          *v12 = --v11;
        }
        ++v12;
      }
      while ( (signed int)v12 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v11) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v11 )
          *(_WORD *)((char *)word_13246E4 + result) = --v11;
        LOWORD(v11) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v11 )
          *(_WORD *)((char *)word_132957C + result) = --v11;
        result += 2;
      }
      while ( result < 158 );
      break;
    case 9:
      if ( (unsigned __int16)word_1328DDC >= 0x7D0u )
      {
        sub_422E80((const char *)&unk_48C640, 4);
      }
      else
      {
        sub_422E80((const char *)&unk_48C640, 4);
        ++word_1328DDC;
      }
      v14 = (__int16 *)&word_1328DCC;
      do
      {
        if ( v14 != &word_1328DD4 && v14 != &word_1328DDC && *v14 )
        {
          LOWORD(v13) = *v14;
          *v14 = --v13;
        }
        ++v14;
      }
      while ( (signed int)v14 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v13) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v13 )
          *(_WORD *)((char *)word_13246E4 + result) = --v13;
        LOWORD(v13) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v13 )
          *(_WORD *)((char *)word_132957C + result) = --v13;
        result += 2;
      }
      while ( result < 158 );
      break;
    case 10:
      if ( (unsigned __int16)word_1328DDE < 0x7D0u )
        ++word_1328DDE;
      v15 = (__int16 *)&word_1328DCC;
      do
      {
        if ( v15 != &word_1328DD4 && v15 != &word_1328DE0 && *v15 )
        {
          LOWORD(v1) = *v15;
          *v15 = --v1;
        }
        ++v15;
      }
      while ( (signed int)v15 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v1) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v1 )
          *(_WORD *)((char *)word_13246E4 + result) = --v1;
        LOWORD(v1) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v1 )
          *(_WORD *)((char *)word_132957C + result) = --v1;
        result += 2;
      }
      while ( result < 158 );
      break;
    case 11:
      if ( (unsigned __int16)word_1328DE0 < 0x7D0u )
        ++word_1328DE0;
      v16 = (__int16 *)&word_1328DCC;
      do
      {
        if ( v16 != &word_1328DD4 && v16 != &word_1328DE2 && *v16 )
        {
          LOWORD(v1) = *v16;
          *v16 = --v1;
        }
        ++v16;
      }
      while ( (signed int)v16 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v1) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v1 )
          *(_WORD *)((char *)word_13246E4 + result) = --v1;
        LOWORD(v1) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v1 )
          *(_WORD *)((char *)word_132957C + result) = --v1;
        result += 2;
      }
      while ( result < 158 );
      break;
    case 12:
      if ( (unsigned __int16)word_1328DE2 < 0x7D0u )
        ++word_1328DE2;
      v17 = (__int16 *)&word_1328DCC;
      do
      {
        if ( v17 != &word_1328DD4 && v17 != &word_1328DE4 && *v17 )
        {
          LOWORD(v1) = *v17;
          *v17 = --v1;
        }
        ++v17;
      }
      while ( (signed int)v17 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v1) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v1 )
          *(_WORD *)((char *)word_13246E4 + result) = --v1;
        LOWORD(v1) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v1 )
          *(_WORD *)((char *)word_132957C + result) = --v1;
        result += 2;
      }
      while ( result < 158 );
      break;
    case 13:
      if ( (unsigned __int16)word_1328DE4 < 0x7D0u )
        ++word_1328DE4;
      v18 = (__int16 *)&word_1328DCC;
      do
      {
        if ( v18 != &word_1328DD4 && v18 != &word_1328DE6 && *v18 )
        {
          LOWORD(v1) = *v18;
          *v18 = --v1;
        }
        ++v18;
      }
      while ( (signed int)v18 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v1) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v1 )
          *(_WORD *)((char *)word_13246E4 + result) = --v1;
        LOWORD(v1) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v1 )
          *(_WORD *)((char *)word_132957C + result) = --v1;
        result += 2;
      }
      while ( result < 158 );
      break;
    case 14:
      if ( (unsigned __int16)word_1328DE6 < 0x7D0u )
        ++word_1328DE6;
      v19 = (__int16 *)&word_1328DCC;
      do
      {
        if ( v19 != &word_1328DD4 && v19 != &word_1328DE6 && *v19 )
        {
          LOWORD(v1) = *v19;
          *v19 = --v1;
        }
        ++v19;
      }
      while ( (signed int)v19 < (signed int)&byte_1328DEE );
      result = 0;
      do
      {
        LOWORD(v1) = *(_WORD *)((char *)word_13246E4 + result);
        if ( (_WORD)v1 )
          *(_WORD *)((char *)word_13246E4 + result) = --v1;
        LOWORD(v1) = *(_WORD *)((char *)word_132957C + result);
        if ( (_WORD)v1 )
          *(_WORD *)((char *)word_132957C + result) = --v1;
        result += 2;
      }
      while ( result < 158 );
      break;
    default:
      return result;
  }
  return result;
}
// 1328DCE: using guessed type __int16 word_1328DCE;
// 1328DD0: using guessed type __int16 word_1328DD0;
// 1328DD2: using guessed type __int16 word_1328DD2;
// 1328DD4: using guessed type __int16 word_1328DD4;
// 1328DDA: using guessed type __int16 word_1328DDA;
// 1328DDC: using guessed type __int16 word_1328DDC;
// 1328DDE: using guessed type __int16 word_1328DDE;
// 1328DE0: using guessed type __int16 word_1328DE0;
// 1328DE2: using guessed type __int16 word_1328DE2;
// 1328DE4: using guessed type __int16 word_1328DE4;
// 1328DE6: using guessed type __int16 word_1328DE6;
// 1328DEE: using guessed type char byte_1328DEE;
// 1330098: using guessed type int dword_1330098;

//----- (004239C0) --------------------------------------------------------
int *__cdecl sub_4239C0(int a1)
{
  int *v1; // eax
  unsigned __int16 v2; // ax
  int *result; // eax

  if ( (unsigned __int16)word_1328DD6 < 0x7D0u )
    ++word_1328DD6;
  v1 = &word_1328DCC;
  do
  {
    if ( ((signed int)v1 < (signed int)&word_1328DD4 || (signed int)v1 > (signed int)&word_1328DD6) && *(_WORD *)v1 )
      --*(_WORD *)v1;
    v1 = (int *)((char *)v1 + 2);
  }
  while ( (signed int)v1 < (signed int)&byte_1328DEE );
  v2 = word_13246E4[a1];
  if ( v2 < 0x7D0u )
    word_13246E4[a1] = v2 + 1;
  result = (int *)word_132957C;
  do
  {
    if ( *(_WORD *)result )
      --*(_WORD *)result;
    result = (int *)((char *)result + 2);
  }
  while ( (signed int)result < (signed int)&unk_132961A );
  return result;
}
// 1328DD4: using guessed type __int16 word_1328DD4;
// 1328DD6: using guessed type __int16 word_1328DD6;
// 1328DEE: using guessed type char byte_1328DEE;

//----- (00423A40) --------------------------------------------------------
_WORD *__cdecl sub_423A40(int a1)
{
  int v1; // edx
  int *v2; // eax
  unsigned __int16 v3; // ax
  _WORD *result; // eax

  if ( (unsigned __int16)word_1328DD8 < 0x7D0u )
    ++word_1328DD8;
  v1 = 0;
  v2 = &word_1328DCC;
  do
  {
    if ( v1 != 4 && v1 != 6 && *(_WORD *)v2 )
      --*(_WORD *)v2;
    v2 = (int *)((char *)v2 + 2);
    ++v1;
  }
  while ( (signed int)v2 < (signed int)&byte_1328DEE );
  v3 = word_132957C[a1];
  if ( v3 < 0x7D0u )
    word_132957C[a1] = v3 + 1;
  result = word_13246E4;
  do
  {
    if ( *result )
      --*result;
    ++result;
  }
  while ( (signed int)result < (signed int)&byte_1324782 );
  return result;
}
// 1324782: using guessed type char byte_1324782;
// 1328DD8: using guessed type __int16 word_1328DD8;
// 1328DEE: using guessed type char byte_1328DEE;

//----- (00423AC0) --------------------------------------------------------
char __cdecl sub_423AC0(int a1)
{
  char result; // al
  signed int v2; // ecx
  int v3; // edx
  int v4; // edx
  char v5; // bl
  _BYTE *v6; // edx
  int v7; // edx
  int v8; // edx
  char v9; // bl
  int v10; // edx
  int v11; // edx
  char v12; // bl
  int v13; // edx
  int v14; // edx
  char v15; // bl
  int v16; // edx
  int v17; // edx
  char v18; // bl
  int v19; // edx
  int v20; // edx
  char v21; // bl
  signed __int16 *v22; // edx
  int v23; // edx
  int v24; // edx
  char v25; // bl
  int v26; // edx
  int v27; // edx
  char v28; // bl
  char v29; // cl

  result = a1;
  v2 = 4;
  while ( 2 )
  {
    switch ( *(_DWORD *)(a1 + 168) )
    {
      case 0:
      case 3:
      case 6:
        v3 = *(unsigned __int8 *)(a1 + 173) + 8 * *(unsigned __int8 *)(a1 + 174);
        v4 = 3 * (v2 + 4 * v3 + v3);
        v5 = byte_131D6B2[2 * v4];
        v6 = (_BYTE *)(2 * v4 + 20043440);
        if ( v5 && *(unsigned __int16 *)(a1 + 176) >= (signed int)*(signed __int16 *)v6 )
          goto LABEL_28;
        goto LABEL_26;
      case 9:
        v19 = *(unsigned __int8 *)(a1 + 173) + 8 * *(unsigned __int8 *)(a1 + 174);
        v20 = 3 * (v2 + 4 * v19 + v19);
        v21 = byte_131AF2A[2 * v20];
        v22 = (signed __int16 *)(2 * v20 + 20033320);
        if ( !v21 || *(unsigned __int16 *)(a1 + 176) < (signed int)*v22 )
          goto LABEL_26;
        goto LABEL_29;
      case 0xC:
        v23 = *(unsigned __int8 *)(a1 + 173) + 8 * *(unsigned __int8 *)(a1 + 174);
        v24 = 3 * (v2 + 4 * v23 + v23);
        v25 = byte_13211D2[2 * v24];
        v22 = (signed __int16 *)(2 * v24 + 20058576);
        if ( !v25 || *(unsigned __int16 *)(a1 + 176) < (signed int)*v22 )
          goto LABEL_26;
        goto LABEL_29;
      case 0x14:
      case 0x17:
        v7 = *(unsigned __int8 *)(a1 + 173) + 8 * *(unsigned __int8 *)(a1 + 174);
        v8 = 3 * (v2 + 4 * v7 + v7);
        v9 = byte_13194D2[2 * v8];
        v6 = (_BYTE *)(2 * v8 + 20026576);
        if ( !v9 || *(unsigned __int16 *)(a1 + 176) < (signed int)*(signed __int16 *)v6 )
          goto LABEL_26;
        goto LABEL_28;
      case 0x1A:
        v26 = *(unsigned __int8 *)(a1 + 173) + 8 * *(unsigned __int8 *)(a1 + 174);
        v27 = 3 * (v2 + 4 * v26 + v26);
        v28 = byte_131EA62[2 * v27];
        v22 = (signed __int16 *)(2 * v27 + 20048480);
        if ( !v28 || *(unsigned __int16 *)(a1 + 176) < (signed int)*v22 )
          goto LABEL_26;
LABEL_29:
        result = *((_BYTE *)v22 + 2) - 1;
        byte_13194B2 = *((_BYTE *)v22 + 2) - 1;
        v29 = *((_BYTE *)v22 + 3) - 1;
        byte_131D694 = 3;
        byte_1322590 = v29;
        return result;
      case 0x28:
      case 0x2B:
        v10 = *(unsigned __int8 *)(a1 + 173) + 8 * *(unsigned __int8 *)(a1 + 174);
        v11 = 3 * (v2 + 4 * v10 + v10);
        v12 = byte_131C2DA[2 * v11];
        v6 = (_BYTE *)(2 * v11 + 20038360);
        if ( !v12 || *(unsigned __int16 *)(a1 + 176) < (signed int)*(signed __int16 *)v6 )
          goto LABEL_26;
        goto LABEL_28;
      case 0x3C:
      case 0x3F:
        v13 = *(unsigned __int8 *)(a1 + 173) + 8 * *(unsigned __int8 *)(a1 + 174);
        v14 = 3 * (v2 + 4 * v13 + v13);
        v15 = byte_1317E8A[2 * v14];
        v6 = (_BYTE *)(2 * v14 + 20020872);
        if ( !v15 || *(unsigned __int16 *)(a1 + 176) < (signed int)*(signed __int16 *)v6 )
          goto LABEL_26;
        goto LABEL_28;
      case 0x50:
      case 0x53:
      case 0x56:
        v16 = *(unsigned __int8 *)(a1 + 173) + 8 * *(unsigned __int8 *)(a1 + 174);
        v17 = 3 * (v2 + 4 * v16 + v16);
        v18 = byte_131FE1A[2 * v17];
        v6 = (_BYTE *)(2 * v17 + 20053528);
        if ( !v18 || *(unsigned __int16 *)(a1 + 176) < (signed int)*(signed __int16 *)v6 )
          goto LABEL_26;
LABEL_28:
        result = v6[2] - 1;
        byte_13194B2 = v6[2] - 1;
        byte_1322590 = v6[3] - 1;
        byte_131D694 = v6[4] - 1;
        return result;
      default:
LABEL_26:
        if ( --v2 > -1 )
          continue;
        return result;
    }
  }
}
// 13194B2: using guessed type char byte_13194B2;
// 131D694: using guessed type char byte_131D694;
// 1322590: using guessed type char byte_1322590;

//----- (00423DF0) --------------------------------------------------------
int sub_423DF0()
{
  signed int v0; // eax
  int *v1; // eax
  bool v2; // zf
  signed int v3; // eax
  int result; // eax

  SetFocus(hWndParent);
  sub_42DEC0();
  sub_42DC70(2);
  sub_416860(58, 0, 0, 0, 1);
  sub_416860(59, 0, 0, 0, 1);
  sub_416860(60, 0, 0, 0, 1);
  sub_416700(58, 0);
  sub_416700(59, 0);
  sub_416700(60, 0);
  sub_416990(2);
  sub_416990(3);
  sub_416990(4);
  sub_416990(5);
  sub_416990(6);
  sub_416990(7);
  sub_416990(57);
  byte_1322628 = 0;
  dword_1322658 = 0;
  byte_1330049 = 100;
  byte_49CFF0 = 0;
  byte_13225C0 = 0;
  dword_49D00C = 0;
  dword_132264C = 0;
  LOBYTE(dword_49D8F8) = 1;
  dword_1317E74 = 0;
  LOBYTE(dword_13246D8) = 0;
  byte_1328E45 = 0;
  dword_48CCE4 = -1;
  dword_489040 = -1;
  dword_132260C = 0;
  dword_1322610 = 0;
  dword_1330060 = 0;
  dword_48CF70 = -1;
  dword_48CF6C = -1;
  dword_133007C = 0;
  byte_1330080 = 0;
  byte_133005C = 0;
  byte_131D68C = 0;
  byte_131AC00 = 0;
  dword_13225DC = 0;
  dword_1330054 = 0;
  dword_133004C = 0;
  dword_1330058 = 0;
  dword_1330050 = 0;
  dword_48CF9C = -1;
  dword_133002C = 0;
  dword_49D970 = 0;
  dword_1330018 = 0;
  dword_1330014 = 0;
  dword_133001C = 0;
  dword_1330024 = 0;
  dword_1330020 = 0;
  dword_132A2B8 = 0;
  dword_1322680 = 0;
  LOBYTE(dword_132A268) = 0;
  byte_13225E8 = 0;
  byte_13225E9 = 0;
  v0 = 0;
  do
  {
    dword_48CEC8[v0] = -1;
    dword_48CE28[v0] = -1;
    dword_48CECC[v0] = 0;
    dword_48CE2C[v0] = 0;
    v0 += 2;
  }
  while ( v0 < 30 );
  v1 = dword_48CCEC;
  do
  {
    *(v1 - 1) = -1;
    *v1 = 0;
    v1 += 2;
  }
  while ( (signed int)v1 < (signed int)dword_48CE2C );
  dword_48CF7C = -1;
  dword_48CF80 = -1;
  dword_48CF84 = -1;
  dword_48CF88 = -1;
  dword_48CF8C = -1;
  dword_48CF90 = -1;
  dword_48CF94 = -1;
  dword_48CF74 = -1;
  dword_48CF78 = -1;
  do
  {
    sub_457840();
    if ( dword_49D00C )
    {
      PostQuitMessage(0);
      SendMessageA(hWndParent, 0x10u, 0, 0);
    }
    sub_479930();
  }
  while ( byte_49CFF0 != 64 );
  LOBYTE(dword_49D8F8) = 2;
  sub_4166A0(0, 0, 0);
  sub_42DEC0();
  if ( byte_1324782 )
  {
    if ( byte_1324782 == 1 )
    {
      dword_131A880 = 85;
      dword_1322594 = 79;
      dword_1322598 = 96;
    }
    else if ( byte_1324782 == 2 )
    {
      dword_131A880 = 104;
      dword_1322594 = 78;
      dword_1322598 = 99;
    }
  }
  else
  {
    dword_131A880 = 52;
    dword_1322594 = 111;
    dword_1322598 = 160;
  }
  if ( word_131ABFE == 1
    || (signed int)(unsigned __int16)word_131ABFE > 113 && (signed int)(unsigned __int16)word_131ABFE <= 116 )
  {
    return sub_42DC70(7);
  }
  if ( dword_48BA58[(unsigned __int16)word_131ABFE] )
  {
    v3 = rand() & 0x80000001;
    v2 = v3 == 0;
    if ( v3 < 0 )
      v2 = (((_BYTE)v3 - 1) | 0xFFFFFFFE) == -1;
    if ( v2 )
      result = sub_42DC70(9);
    else
      result = sub_42DC70(8);
  }
  else if ( byte_1324782 )
  {
    if ( byte_1324782 == 1 )
    {
      result = sub_42DC70(3);
    }
    else
    {
      result = (unsigned __int8)byte_1324782 - 2;
      if ( byte_1324782 == 2 )
        result = sub_42DC70(4);
    }
  }
  else
  {
    result = sub_42DC70(5);
  }
  return result;
}
// 489040: using guessed type int dword_489040;
// 48BA58: using guessed type int dword_48BA58[];
// 48CCE4: using guessed type int dword_48CCE4;
// 48CE28: using guessed type int dword_48CE28[];
// 48CE2C: using guessed type int dword_48CE2C[];
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CF6C: using guessed type int dword_48CF6C;
// 48CF70: using guessed type int dword_48CF70;
// 48CF74: using guessed type int dword_48CF74;
// 48CF78: using guessed type int dword_48CF78;
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;
// 48CF9C: using guessed type int dword_48CF9C;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D00C: using guessed type int dword_49D00C;
// 49D8F8: using guessed type int dword_49D8F8;
// 49D970: using guessed type int dword_49D970;
// 1317E74: using guessed type int dword_1317E74;
// 131A880: using guessed type int dword_131A880;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131AC00: using guessed type char byte_131AC00;
// 131D68C: using guessed type char byte_131D68C;
// 1322594: using guessed type int dword_1322594;
// 1322598: using guessed type int dword_1322598;
// 13225C0: using guessed type char byte_13225C0;
// 13225DC: using guessed type int dword_13225DC;
// 13225E8: using guessed type char byte_13225E8;
// 13225E9: using guessed type char byte_13225E9;
// 132260C: using guessed type int dword_132260C;
// 1322610: using guessed type int dword_1322610;
// 1322628: using guessed type char byte_1322628;
// 132264C: using guessed type int dword_132264C;
// 1322658: using guessed type int dword_1322658;
// 1322680: using guessed type int dword_1322680;
// 13246D8: using guessed type int dword_13246D8;
// 1324782: using guessed type char byte_1324782;
// 1328E45: using guessed type char byte_1328E45;
// 132A268: using guessed type int dword_132A268;
// 132A2B8: using guessed type int dword_132A2B8;
// 1330014: using guessed type int dword_1330014;
// 1330018: using guessed type int dword_1330018;
// 133001C: using guessed type int dword_133001C;
// 1330020: using guessed type int dword_1330020;
// 1330024: using guessed type int dword_1330024;
// 133002C: using guessed type int dword_133002C;
// 1330049: using guessed type char byte_1330049;
// 133004C: using guessed type int dword_133004C;
// 1330050: using guessed type int dword_1330050;
// 1330054: using guessed type int dword_1330054;
// 1330058: using guessed type int dword_1330058;
// 133005C: using guessed type char byte_133005C;
// 1330060: using guessed type int dword_1330060;
// 133007C: using guessed type int dword_133007C;
// 1330080: using guessed type char byte_1330080;

//----- (00424130) --------------------------------------------------------
signed int __cdecl sub_424130(signed int a1)
{
  signed int result; // eax

  result = a1;
  switch ( a1 )
  {
    case 0:
    case 1:
    case 12:
    case 13:
    case 23:
      dword_1322584 = 1;
      sub_416700(2, 100);
      sub_416700(3, 100);
      sub_416700(4, 100);
      sub_416700(5, 100);
      sub_416700(6, 100);
      result = sub_416700(7, 100);
      break;
    case 2:
    case 11:
    case 14:
    case 22:
      dword_1322584 = 1;
      sub_416700(2, 90);
      sub_416700(3, 90);
      sub_416700(4, 90);
      sub_416700(5, 90);
      sub_416700(6, 90);
      result = sub_416700(7, 90);
      break;
    case 3:
    case 10:
    case 15:
    case 21:
      dword_1322584 = 1;
      sub_416700(2, 80);
      sub_416700(3, 80);
      sub_416700(4, 80);
      sub_416700(5, 80);
      sub_416700(6, 80);
      result = sub_416700(7, 80);
      break;
    case 4:
    case 9:
    case 20:
      dword_1322584 = 1;
      sub_416700(2, 70);
      sub_416700(3, 70);
      sub_416700(4, 70);
      sub_416700(5, 70);
      sub_416700(6, 70);
      result = sub_416700(7, 70);
      break;
    case 5:
    case 7:
      dword_1322584 = 0;
      sub_416700(2, 50);
      sub_416700(3, 50);
      sub_416700(4, 50);
      sub_416700(5, 50);
      sub_416700(6, 50);
      result = sub_416700(7, 50);
      break;
    case 6:
      dword_1322584 = 0;
      sub_416700(2, 30);
      sub_416700(3, 30);
      sub_416700(4, 30);
      sub_416700(5, 30);
      sub_416700(6, 30);
      result = sub_416700(7, 30);
      break;
    case 8:
    case 16:
    case 19:
      dword_1322584 = 1;
      sub_416700(2, 60);
      sub_416700(3, 60);
      sub_416700(4, 60);
      sub_416700(5, 60);
      sub_416700(6, 60);
      result = sub_416700(7, 60);
      break;
    case 17:
      dword_1322584 = 1;
      sub_416700(2, 40);
      sub_416700(3, 40);
      sub_416700(4, 40);
      sub_416700(5, 40);
      sub_416700(6, 40);
      result = sub_416700(7, 40);
      break;
    case 18:
      dword_1322584 = 0;
      sub_416700(2, 40);
      sub_416700(3, 40);
      sub_416700(4, 40);
      sub_416700(5, 40);
      sub_416700(6, 40);
      result = sub_416700(7, 40);
      break;
    default:
      return result;
  }
  return result;
}
// 1322584: using guessed type int dword_1322584;

//----- (00424410) --------------------------------------------------------
signed int __cdecl sub_424410(int a1, signed int a2)
{
  signed int result; // eax

  if ( !a1 )
  {
    if ( dword_48C3C8 )
    {
      sub_416990(2);
      sub_416990(3);
      sub_416990(4);
      sub_416990(5);
      sub_416990(6);
      sub_416990(7);
      if ( a2 <= 5 || a2 >= 18 )
      {
        sub_416860(5, 0, 0, 0, 1);
        byte_1322588 = 5;
      }
      else
      {
        sub_416860(4, 0, 0, 0, 1);
        byte_1322588 = 0;
      }
      dword_48C3C8 = 0;
    }
    return sub_424130(a2);
  }
  if ( a1 != 1 )
  {
    if ( a1 == 2 && dword_48C3C8 != 2 )
    {
      sub_416990(2);
      sub_416990(3);
      sub_416990(4);
      sub_416990(5);
      sub_416990(6);
      sub_416990(7);
      sub_416860(3, 0, 0, 0, 1);
      byte_1322588 = 0;
      dword_48C3C8 = 2;
      return sub_424130(a2);
    }
    return sub_424130(a2);
  }
  if ( dword_48C3C8 == 1 )
    return sub_424130(a2);
  sub_416990(2);
  sub_416990(3);
  sub_416990(4);
  sub_416990(5);
  sub_416990(6);
  sub_416990(7);
  if ( a2 <= 5 || a2 >= 18 )
  {
    sub_416860(6, 0, 0, 0, 1);
    byte_1322588 = 3;
    dword_48C3C8 = 1;
    result = sub_424130(a2);
  }
  else
  {
    sub_416860(7, 0, 0, 0, 1);
    byte_1322588 = 1;
    dword_48C3C8 = 1;
    result = sub_424130(a2);
  }
  return result;
}
// 48C3C8: using guessed type int dword_48C3C8;
// 1322588: using guessed type char byte_1322588;

//----- (004245C0) --------------------------------------------------------
int __cdecl sub_4245C0(int a1, int a2)
{
  signed int v2; // edi
  signed int v3; // eax
  int v4; // esi
  int v5; // edx
  int v6; // eax
  char *v7; // ebx
  int v8; // edx
  signed int v9; // eax
  int result; // eax
  int v11; // [esp+18h] [ebp+8h]

  v2 = 0;
  do
  {
    v3 = 0;
    v4 = v2 + a2 - 22;
    do
    {
      *((_DWORD *)dword_1330790 + 2 * (a1 + v3 + dword_1540B4C * v4) - 43) = -1;
      v5 = a1 + v3++ + dword_1540B4C * v4;
      *((_WORD *)dword_1547440 + v5 - 22) = 0;
    }
    while ( v3 < 43 );
    ++v2;
  }
  while ( v2 < 43 );
  v6 = a2;
  v7 = a00000000000000_0;
  v11 = 22 - a2;
  v8 = v6 - 22;
  do
  {
    v9 = 0;
    do
    {
      switch ( v7[v9] )
      {
        case 49:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 500;
          goto LABEL_19;
        case 50:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 501;
          goto LABEL_19;
        case 51:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 502;
          goto LABEL_19;
        case 52:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 503;
          goto LABEL_19;
        case 53:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 504;
          goto LABEL_19;
        case 54:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 505;
          goto LABEL_19;
        case 55:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 506;
          goto LABEL_19;
        case 56:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 507;
          goto LABEL_19;
        case 57:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 78208;
          goto LABEL_19;
        case 65:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 78080;
          goto LABEL_19;
        case 66:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 78336;
          goto LABEL_19;
        case 67:
LABEL_19:
          *((_WORD *)dword_1547440 + a1 + v9 + dword_1540B4C * v8 - 22) = 1;
          break;
        case 68:
          *((_WORD *)dword_1547440 + a1 + v9 + dword_1540B4C * v8 - 22) = 8;
          break;
        case 69:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 500;
          break;
        case 70:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 502;
          break;
        case 71:
          *((_DWORD *)dword_1330790 + 2 * (a1 + v9 + dword_1540B4C * v8) - 43) = 78208;
          break;
        default:
          break;
      }
      ++v9;
    }
    while ( v9 < 43 );
    v7 += 44;
    result = ++v8 + v11;
  }
  while ( v8 + v11 < 43 );
  return result;
}
// 1540B4C: using guessed type int dword_1540B4C;

//----- (004248D0) --------------------------------------------------------
void sub_4248D0()
{
  int v0; // ecx
  int v1; // esi
  int v2; // edx
  int v3; // ebx
  int v4; // eax
  signed int v5; // ebp
  int v6; // eax
  int v7; // ebx
  signed int *v8; // edi
  signed int v9; // esi
  signed int v10; // eax
  int v11; // eax
  int v12; // [esp+4h] [ebp-Ch]
  int v13; // [esp+8h] [ebp-8h]
  signed int *v14; // [esp+Ch] [ebp-4h]

  v0 = dword_1540B4C;
  v1 = 0;
  v13 = 0;
  if ( dword_1540B4C > 0 )
  {
    v2 = dword_1540B50;
    do
    {
      v3 = 0;
      v12 = 0;
      if ( v2 > 0 )
      {
        do
        {
          if ( v1 - 22 <= 0 || v1 + 22 >= v0 || (v4 = v3 - 22, v3 - 22 <= 0) || v4 + 44 >= v2 )
          {
            *((_BYTE *)dword_13307A0 + v3 * v0 + v1) = 0;
          }
          else
          {
            v5 = 0;
            v6 = v1 + v0 * v4;
            v7 = v6 - 22;
            v14 = (signed int *)((char *)dword_1330790 + 8 * v6 - 172);
            while ( 2 )
            {
              v8 = v14;
              v9 = 0;
              do
              {
                v10 = *v8;
                if ( *v8 == -1 )
                {
                  if ( *((_WORD *)dword_1547440 + v7 + v9) )
                    goto LABEL_19;
                }
                else if ( v10 < 0x10000 || (v11 = v10 / 128 - 512, v11 < 30) || v11 > 36 )
                {
LABEL_19:
                  v3 = v12;
                  v1 = v13;
                  *((_BYTE *)dword_13307A0 + v12 * v0 + v13) = 0;
                  goto LABEL_21;
                }
                ++v9;
                v8 += 2;
              }
              while ( v9 < 43 );
              ++v5;
              v7 += v0;
              v14 += 2 * v0;
              if ( v5 < 43 )
                continue;
              break;
            }
            v3 = v12;
            v1 = v13;
            *((_BYTE *)dword_13307A0 + v12 * v0 + v13) = 1;
          }
LABEL_21:
          v2 = dword_1540B50;
          v0 = dword_1540B4C;
          v12 = ++v3;
        }
        while ( v3 < dword_1540B50 );
      }
      v13 = ++v1;
    }
    while ( v1 < v0 );
  }
}
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (00424A20) --------------------------------------------------------
int __cdecl sub_424A20(const char *a1, int a2)
{
  const char *v2; // edi
  int v3; // ebp
  unsigned __int8 v4; // cl
  char v5; // dl
  int v6; // edi
  const char *v7; // edx
  int result; // eax
  unsigned __int8 v9; // [esp+10h] [ebp-20h]
  char v10; // [esp+18h] [ebp-18h]
  unsigned __int8 v11; // [esp+34h] [ebp+4h]

  v2 = a1;
  v3 = dword_1322630;
  v4 = a1[21];
  v5 = a1[22];
  v11 = a1[20];
  v9 = v5;
  strcpy(&v10, v2);
  v6 = 0;
  if ( v3 <= 0 )
  {
LABEL_5:
    strcpy((char *)&unk_131A8A8 + 28 * v3, &v10);
    if ( v4 )
    {
      if ( v4 == 1 )
      {
        if ( !v9 )
        {
          result = dword_49D9B0[3 * v11];
          goto LABEL_22;
        }
        result = v9 - 1;
        if ( v9 == 1 )
        {
          result = dword_11FDC30[3 * v11];
          goto LABEL_22;
        }
      }
      else
      {
        result = v4 - 2;
        if ( v4 == 2 )
        {
          result = dword_1308270[3 * v11];
LABEL_22:
          dword_131A8C0[7 * v3] = result;
          goto LABEL_23;
        }
      }
    }
    else
    {
      if ( !v9 )
      {
        result = dword_6BE230[3 * v11];
        goto LABEL_22;
      }
      result = v9 - 1;
      if ( v9 == 1 )
      {
        result = dword_8D3B90[3 * v11];
        goto LABEL_22;
      }
    }
LABEL_23:
    dword_1322630 = v3 + 1;
    return result;
  }
  v7 = (const char *)&unk_131A8A8;
  while ( strcmp(v7, &v10) )
  {
    ++v6;
    v7 += 28;
    if ( v6 >= v3 )
      goto LABEL_5;
  }
  result = a2;
  if ( a2 )
  {
    if ( v6 == v3 - 1 )
    {
      dword_131A8C0[7 * v6] = 0;
    }
    else
    {
      result = 28 * v3;
      qmemcpy((void *)(28 * v6 + 20031656), &dword_131A88C[7 * v3], 0x1Cu);
      *((_DWORD *)&SystemTime.wSecond + 7 * v3) = 0;
    }
    dword_1322630 = v3 - 1;
    dword_132262C = 0;
  }
  return result;
}
// 8D3B90: using guessed type int dword_8D3B90[];
// 131A88C: using guessed type int dword_131A88C[];
// 132262C: using guessed type int dword_132262C;
// 1322630: using guessed type int dword_1322630;

//----- (00424C20) --------------------------------------------------------
signed int __cdecl sub_424C20(int a1, signed int a2, signed int a3)
{
  signed int v3; // edi
  int v4; // ecx
  signed int result; // eax
  int v6; // ebp
  int v7; // esi
  double v8; // st7
  double v9; // st7
  LPCSTR v10; // esi
  int v11; // [esp+10h] [ebp-14h]
  int v12; // [esp+14h] [ebp-10h]
  int v13; // [esp+18h] [ebp-Ch]
  int v14; // [esp+1Ch] [ebp-8h]
  int v15; // [esp+30h] [ebp+Ch]
  signed int v16; // [esp+30h] [ebp+Ch]

  v3 = a3;
  v4 = a3 * dword_1540B4C;
  result = a2;
  while ( 1 )
  {
    v13 = v3 - 1;
    v6 = v4 - dword_1540B4C;
    v14 = v3 + 1;
    v15 = v4 + dword_1540B4C;
    v11 = result - 1;
    v12 = result + 1;
    if ( (*((_WORD *)dword_1547440 + v4 + result) & 1) == 1 )
    {
      if ( !(*((_BYTE *)dword_1547440 + 2 * (result + v6)) & 9) )
      {
        v7 = a1;
        *((_DWORD *)(&lpString)[a1] + 37) = result;
        *((_DWORD *)(&lpString)[a1] + 38) = v13;
        *((float *)(&lpString)[a1] + 28) = (double)a2 * 40.0 + 20.0;
        v8 = (double)v13;
        goto LABEL_21;
      }
      if ( !(*((_BYTE *)dword_1547440 + 2 * (result + v15)) & 9) )
      {
        v7 = a1;
        *((_DWORD *)(&lpString)[a1] + 37) = result;
        *((_DWORD *)(&lpString)[a1] + 38) = v14;
        *((float *)(&lpString)[a1] + 28) = (double)a2 * 40.0 + 20.0;
        v8 = (double)v14;
        goto LABEL_21;
      }
      if ( !(*((_BYTE *)dword_1547440 + 2 * (v4 + v11)) & 9) )
      {
        v7 = a1;
        v9 = (double)v11;
        v16 = v3;
        *((_DWORD *)(&lpString)[a1] + 37) = v11;
        *((_DWORD *)(&lpString)[a1] + 38) = v3;
        goto LABEL_20;
      }
      if ( !(*((_BYTE *)dword_1547440 + 2 * (v4 + v12)) & 9) )
        break;
    }
    if ( (*((_WORD *)dword_1547440 + v4 + result) & 8) != 8 )
      return result;
    if ( (*((_BYTE *)dword_1547440 + 2 * (result + v6)) & 1) == 1 )
    {
      --v3;
      v4 -= dword_1540B4C;
    }
    else if ( (*((_BYTE *)dword_1547440 + 2 * (result + v15)) & 1) == 1 )
    {
      ++v3;
      v4 += dword_1540B4C;
    }
    else
    {
      --result;
      if ( (*((_BYTE *)dword_1547440 + 2 * (v4 + v11)) & 1) == 1 )
      {
        a2 = v11;
      }
      else
      {
        result = v12;
        if ( (*((_BYTE *)dword_1547440 + 2 * (v4 + v12)) & 1) != 1 )
          return result;
        a2 = v12;
      }
    }
  }
  v7 = a1;
  v9 = (double)v12;
  v16 = v3;
  *((_DWORD *)(&lpString)[a1] + 37) = v12;
  *((_DWORD *)(&lpString)[a1] + 38) = v3;
LABEL_20:
  *((float *)(&lpString)[v7] + 28) = v9 * 40.0 + 20.0;
  v8 = (double)v16;
LABEL_21:
  *((float *)(&lpString)[v7] + 30) = v8 * 20.0 + 10.0;
  *((_DWORD *)(&lpString)[v7] + 29) = *((_DWORD *)(&lpString)[v7] + 30);
  *((_DWORD *)(&lpString)[v7] + 33) = (signed __int64)*((float *)(&lpString)[v7] + 28);
  *((_DWORD *)(&lpString)[v7] + 35) = *((_DWORD *)(&lpString)[v7] + 33);
  *((_DWORD *)(&lpString)[v7] + 34) = (signed __int64)*((float *)(&lpString)[v7] + 29);
  v10 = (&lpString)[v7];
  result = *((_DWORD *)v10 + 34);
  *((_DWORD *)v10 + 36) = result;
  return result;
}
// 1540B4C: using guessed type int dword_1540B4C;

//----- (00424ED0) --------------------------------------------------------
signed int __cdecl sub_424ED0(int a1, signed int a2, signed int a3)
{
  signed int v3; // ecx
  _BYTE *v4; // ebx
  int v5; // edi
  signed int v6; // eax
  int v7; // edi
  int v8; // ebp
  int v9; // esi
  int v10; // edx
  bool v11; // zf
  bool v12; // sf
  unsigned __int8 v13; // of
  __int16 v14; // ax
  __int16 v15; // ax
  __int16 v16; // ax
  int v17; // esi
  double v18; // st7
  signed int result; // eax
  int v20; // edi
  int v21; // [esp+10h] [ebp-34h]
  signed int v22; // [esp+14h] [ebp-30h]
  int v23; // [esp+18h] [ebp-2Ch]
  int v24; // [esp+1Ch] [ebp-28h]
  signed int v25; // [esp+20h] [ebp-24h]
  int v26; // [esp+24h] [ebp-20h]
  signed int v27; // [esp+28h] [ebp-1Ch]
  signed int v28; // [esp+2Ch] [ebp-18h]
  signed int v29; // [esp+30h] [ebp-14h]
  int v30; // [esp+34h] [ebp-10h]
  signed int v31; // [esp+38h] [ebp-Ch]
  __int16 *v32; // [esp+4Ch] [ebp+8h]
  _WORD *v33; // [esp+50h] [ebp+Ch]

  v3 = a2;
  v4 = dword_1547440;
  v5 = dword_1540B4C;
  v27 = 0;
  v28 = 0;
  v31 = 0;
  v29 = 0;
  v30 = 0;
  v6 = a3;
  while ( 1 )
  {
    v7 = v6 * v5;
    v8 = v3 - 1;
    v21 = v6 - 1;
    v26 = v6 + 1;
    v9 = v3 + 1;
    v23 = v3;
    v24 = v3;
    v25 = v6;
    v22 = v6;
    if ( (v4[2 * (v7 + v3)] & 1) != 1 )
      goto LABEL_7;
    if ( !(*((_BYTE *)dword_1547440 + 2 * (v3 + v21 * dword_1540B4C)) & 9) )
    {
      v17 = a1;
      *((_DWORD *)(&lpString)[a1] + 37) = v3;
      *((_DWORD *)(&lpString)[a1] + 38) = v21;
      *((float *)(&lpString)[a1] + 28) = (double)a2 * 40.0 + 20.0;
      v18 = (double)v21;
LABEL_59:
      *((float *)(&lpString)[v17] + 30) = v18 * 20.0 + 10.0;
      *((_DWORD *)(&lpString)[v17] + 29) = *((_DWORD *)(&lpString)[v17] + 30);
      *((_DWORD *)(&lpString)[v17] + 33) = (signed __int64)*((float *)(&lpString)[v17] + 28);
      *((_DWORD *)(&lpString)[v17] + 35) = *((_DWORD *)(&lpString)[v17] + 33);
      *((_DWORD *)(&lpString)[v17] + 34) = (signed __int64)*((float *)(&lpString)[v17] + 29);
      result = 1;
      *((_DWORD *)(&lpString)[v17] + 36) = *((_DWORD *)(&lpString)[v17] + 34);
      return result;
    }
    if ( !(*((_BYTE *)dword_1547440 + 2 * (v3 + v26 * dword_1540B4C)) & 9) )
    {
      v17 = a1;
      *((_DWORD *)(&lpString)[a1] + 37) = v3;
      *((_DWORD *)(&lpString)[a1] + 38) = v26;
      *((float *)(&lpString)[a1] + 28) = (double)a2 * 40.0 + 20.0;
      v18 = (double)v26;
      goto LABEL_59;
    }
    if ( !(*((_BYTE *)dword_1547440 + 2 * (v7 + v8)) & 9) )
    {
      v17 = a1;
      *((_DWORD *)(&lpString)[a1] + 37) = v8;
      *((_DWORD *)(&lpString)[a1] + 38) = v6;
      *((float *)(&lpString)[a1] + 28) = (double)(v3 - 1) * 40.0 + 20.0;
      v18 = (double)a3;
      goto LABEL_59;
    }
    if ( !(*((_BYTE *)dword_1547440 + 2 * (v9 + v7)) & 9) )
    {
      v20 = a1;
      *((_DWORD *)(&lpString)[a1] + 37) = v9;
      *((_DWORD *)(&lpString)[a1] + 38) = v6;
      *((float *)(&lpString)[a1] + 28) = (double)(v3 + 1) * 40.0 + 20.0;
      *((float *)(&lpString)[a1] + 30) = (double)a3 * 20.0 + 10.0;
      *((_DWORD *)(&lpString)[v20] + 29) = *((_DWORD *)(&lpString)[v20] + 30);
      *((_DWORD *)(&lpString)[a1] + 33) = (signed __int64)*((float *)(&lpString)[a1] + 28);
      *((_DWORD *)(&lpString)[v20] + 35) = *((_DWORD *)(&lpString)[v20] + 33);
      *((_DWORD *)(&lpString)[a1] + 34) = (signed __int64)*((float *)(&lpString)[a1] + 29);
      result = 1;
      *((_DWORD *)(&lpString)[v20] + 36) = *((_DWORD *)(&lpString)[v20] + 34);
      return result;
    }
LABEL_7:
    v10 = v6 + 1;
    v5 = dword_1540B4C;
LABEL_8:
    v4 = dword_1547440;
    if ( (*((_BYTE *)dword_1547440 + 2 * (v3 + v6 * dword_1540B4C)) & 8) != 8 )
      break;
    v3 = v23;
    if ( (*((_BYTE *)dword_1547440 + 2 * (v23 + v21 * dword_1540B4C)) & 1) == 1 )
    {
      v6 = v21;
      a2 = v23;
      a3 = v21;
    }
    else
    {
      v3 = v24;
      if ( (*((_BYTE *)dword_1547440 + 2 * (v24 + v10 * dword_1540B4C)) & 1) == 1 )
      {
        v6 = v10;
        a2 = v24;
        a3 = v10;
      }
      else
      {
        v6 = v25;
        if ( (*((_BYTE *)dword_1547440 + 2 * (v8 + v25 * dword_1540B4C)) & 1) == 1 )
        {
          v3 = v8;
          a3 = v25;
          a2 = v8;
        }
        else
        {
          v6 = v22;
          if ( (*((_BYTE *)dword_1547440 + 2 * (v9 + v22 * dword_1540B4C)) & 1) != 1 )
            break;
          v3 = v9;
          a3 = v22;
          a2 = v9;
        }
      }
    }
  }
  v33 = (char *)dword_1547440 + 2 * (v24 + v10 * dword_1540B4C);
  v32 = (__int16 *)((char *)dword_1547440 + 2 * (v23 + v21 * dword_1540B4C));
  do
  {
    v13 = __OFSUB__(v30, 255);
    v11 = v30 == 255;
    v12 = v30++ - 255 < 0;
    if ( !((unsigned __int8)(v12 ^ v13) | v11) )
      break;
    v14 = *v32;
    if ( (*v32 & 1) == 1 || v21 <= 0 )
    {
      v27 = 1;
    }
    else if ( (v14 & 8) == 8 )
    {
      v3 = v23;
      v6 = v21--;
      v24 = v23;
      v10 = v6 + 1;
      v8 = v23 - 1;
      v25 = v6;
      v9 = v23 + 1;
      v22 = v6;
      goto LABEL_8;
    }
    if ( (*v33 & 1) == 1 || v10 >= dword_1540B50 - 3 )
    {
      v28 = 1;
    }
    else if ( (*v33 & 8) == 8 )
    {
      v3 = v24;
      v6 = v10;
      v21 = v10 - 1;
      v23 = v24;
      ++v10;
      v8 = v24 - 1;
      v25 = v6;
      v9 = v24 + 1;
      v22 = v6;
      goto LABEL_8;
    }
    v15 = *((_WORD *)dword_1547440 + v8 + v25 * dword_1540B4C);
    if ( (v15 & 1) == 1 || v8 <= 0 )
    {
      v31 = 1;
    }
    else if ( (v15 & 8) == 8 )
    {
      v6 = v25;
      v3 = v8;
      v23 = v8;
      v24 = v8--;
      v21 = v25 - 1;
      v10 = v25 + 1;
      v9 = v3 + 1;
      v22 = v25;
      goto LABEL_8;
    }
    v16 = *((_WORD *)dword_1547440 + v9 + v22 * dword_1540B4C);
    if ( (v16 & 1) == 1 || v9 >= dword_1540B4C - 1 )
    {
      v29 = 1;
    }
    else if ( (v16 & 8) == 8 )
    {
      v6 = v22;
      v3 = v9;
      v23 = v9;
      v24 = v9;
      v8 = v9 - 1;
      v21 = v22 - 1;
      v10 = v22 + 1;
      v25 = v22;
      ++v9;
      goto LABEL_8;
    }
    if ( !v27 )
    {
      --v21;
      v32 -= dword_1540B4C;
    }
    if ( !v28 )
    {
      ++v10;
      v33 += dword_1540B4C;
    }
    if ( !v31 )
      --v8;
    if ( !v29 )
      ++v9;
  }
  while ( !v27 || !v28 || !v31 || !v29 );
  return 0;
}
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (00425480) --------------------------------------------------------
int __cdecl sub_425480(_BYTE *a1)
{
  unsigned int v1; // edi
  LPCSTR *v2; // edx
  _BYTE *v3; // ecx
  int result; // eax

  v1 = 0;
  if ( dword_1317E74 )
  {
    v2 = &lpString;
    while ( 1 )
    {
      v3 = *v2;
      if ( (*v2)[56] == *a1 && v3[57] == a1[1] && v3[58] == a1[2] && v3[59] == a1[3] )
        break;
      ++v1;
      ++v2;
      if ( v1 >= dword_1317E74 )
        goto LABEL_8;
    }
    result = v1;
  }
  else
  {
LABEL_8:
    sub_41CB10(0, 0, (int)a1);
    result = dword_1317E74 - 1;
  }
  return result;
}
// 1317E74: using guessed type int dword_1317E74;

//----- (004254F0) --------------------------------------------------------
signed int __cdecl sub_4254F0(_BYTE *a1)
{
  int v1; // esi
  LPCSTR *v2; // edx
  _BYTE *v3; // ecx

  v1 = 0;
  if ( dword_1317E74 <= 0 )
    return -1;
  v2 = &lpString;
  while ( 1 )
  {
    v3 = *v2;
    if ( (*v2)[56] == *a1 && v3[57] == a1[1] && v3[58] == a1[2] && v3[59] == a1[3] )
      break;
    ++v1;
    ++v2;
    if ( v1 >= dword_1317E74 )
      return -1;
  }
  return v1;
}
// 1317E74: using guessed type int dword_1317E74;

//----- (00425550) --------------------------------------------------------
int *__cdecl sub_425550(int *a1, int *a2, char *a3, char a4)
{
  int *result; // eax
  char v5; // bl
  bool v6; // sf
  char *v7; // edx
  int v8; // edi
  int v9; // edi
  int v10; // ecx

  result = (int *)((char *)dword_1547440 + 2 * (*a1 + dword_1540B4C * *a2));
  v5 = *a3;
  if ( *a3 == 2
    || a4 == 8
    || *((_WORD *)result - dword_1540B4C - 1) != 1
    && ((_WORD *)result - dword_1540B4C)[1] != 1
    && *((_WORD *)result - 1) != 1
    && *((_WORD *)result + 1) != 1
    || *((_WORD *)result - dword_1540B4C) == 1 )
  {
    if ( v5 == 4
      || a4 == 6
      || (v7 = (char *)result - 2 * dword_1540B4C, *((_WORD *)v7 + 1) != 1)
      && *((_WORD *)result + dword_1540B4C + 1) != 1
      && *(_WORD *)v7 != 1
      && *((_WORD *)result + dword_1540B4C) != 1
      || *((_WORD *)result + 1) == 1 )
    {
      if ( v5 == 8
        || a4 == 2
        || *((_WORD *)result + dword_1540B4C - 1) != 1
        && *((_WORD *)result + dword_1540B4C + 1) != 1
        && *((_WORD *)result - 1) != 1
        && *((_WORD *)result + 1) != 1
        || *((_WORD *)result + dword_1540B4C) == 1 )
      {
        if ( v5 != 6 && a4 != 4 )
        {
          if ( *((_WORD *)result - dword_1540B4C - 1) == 1
            || (v10 = 2 * dword_1540B4C, *((_WORD *)result + dword_1540B4C - 1) == 1)
            || *(_WORD *)((char *)result - v10) == 1
            || *(_WORD *)((char *)result + v10) == 1 )
          {
            if ( *((_WORD *)result - 1) != 1 )
            {
              *a3 = 4;
              result = a1;
              v6 = (*a1)-- - 1 < 0;
              if ( v6 )
                *a1 = 0;
            }
          }
        }
      }
      else
      {
        *a3 = 2;
        v9 = *a2 + 1;
        *a2 = v9;
        result = (int *)(dword_1540B50 - 1);
        if ( v9 > dword_1540B50 - 1 )
          *a2 = (int)result;
      }
    }
    else
    {
      *a3 = 6;
      v8 = *a1 + 1;
      *a1 = v8;
      result = (int *)(dword_1540B4C - 1);
      if ( v8 > dword_1540B4C - 1 )
        *a1 = (int)result;
    }
  }
  else
  {
    *a3 = 8;
    result = (int *)(*a2 - 1);
    v6 = (signed int)result < 0;
    *a2 = (int)result;
    if ( v6 )
      *a2 = 0;
  }
  return result;
}
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (004256E0) --------------------------------------------------------
signed int __cdecl sub_4256E0(int a1, int a2, int a3)
{
  int v3; // edi
  int v4; // esi
  int v5; // esi
  int v6; // eax
  int v7; // ecx
  unsigned __int16 v8; // dx
  int v9; // esi
  unsigned int v10; // esi
  unsigned int v11; // esi
  int v12; // esi
  unsigned int v13; // esi
  unsigned int v14; // esi
  int v15; // ecx
  unsigned int v16; // ecx
  int v17; // esi
  unsigned int v18; // esi
  unsigned int v19; // esi
  int v20; // esi
  unsigned int v21; // esi
  unsigned int v22; // esi
  int v23; // ecx
  unsigned int v24; // ecx
  int v25; // ecx
  unsigned int v26; // ecx
  int v27; // ecx
  unsigned int v28; // ecx
  char v30; // [esp+10h] [ebp-Ch]
  int v31; // [esp+14h] [ebp-8h]
  char v32; // [esp+20h] [ebp+4h]
  int v33; // [esp+24h] [ebp+8h]
  int v34; // [esp+28h] [ebp+Ch]

  v3 = a2;
  if ( a2 / 40 <= dword_1540B4C - 1 )
  {
    if ( a2 < 0 )
      v3 = 0;
  }
  else
  {
    v3 = 40 * dword_1540B4C - 40;
  }
  v4 = a3;
  if ( a3 / 20 <= dword_1540B50 - 2 )
  {
    if ( a3 < 0 )
      v4 = 0;
  }
  else
  {
    v4 = 20 * (dword_1540B50 - 2);
  }
  v31 = v4 / 20;
  v34 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  v33 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  if ( v3 >= 0 && v4 >= 0 && *(float *)(a1 + 112) >= 0.0 && *(float *)(a1 + 120) >= 0.0 )
  {
    v5 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
    v6 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
    v7 = v3 / 40;
LABEL_14:
    v8 = v31;
    do
    {
      if ( (unsigned __int16)v5 <= (unsigned __int16)v7 )
      {
        if ( (unsigned __int16)v5 >= (unsigned __int16)v7 )
        {
          v30 = 0;
        }
        else
        {
          ++v5;
          v30 = 2;
          v34 = v5;
        }
      }
      else
      {
        v5 += 0xFFFF;
        v30 = 1;
        v34 = v5;
      }
      if ( (unsigned __int16)v6 <= v8 )
      {
        if ( (unsigned __int16)v6 >= v8 )
        {
          v32 = 0;
        }
        else
        {
          ++v6;
          v32 = 2;
          v33 = v6;
        }
      }
      else
      {
        v6 += 0xFFFF;
        v32 = 1;
        v33 = v6;
      }
      if ( v30 )
      {
        if ( v30 == 1 )
        {
          if ( v32 )
          {
            if ( v32 == 1 )
            {
              v20 = dword_1540B4C * (unsigned __int16)v33 + (unsigned __int16)v34;
              if ( (*((_BYTE *)dword_1547440 + 2 * v20 + 2) & 1) != 1
                || (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v34 + dword_1540B4C * ((unsigned __int16)v33 + 1))) & 1) != 1 )
              {
                if ( (*((_BYTE *)dword_1547440 + 2 * v20) & 1) == 1 )
                {
                  v22 = *((_DWORD *)dword_1330790 + 2 * v20 + 1);
                  if ( v22 != -1 )
                  {
                    if ( v22 < 0x10000 )
                      return 0;
                    switch ( v22 >> 7 )
                    {
                      case 0x200u:
                      case 0x201u:
                      case 0x238u:
                      case 0x239u:
                      case 0x23Au:
                      case 0x262u:
                      case 0x263u:
                      case 0x264u:
                      case 0x265u:
                      case 0x266u:
                      case 0x267u:
                        return 0;
                      default:
                        break;
                    }
                  }
                }
              }
              else
              {
                v21 = *((_DWORD *)dword_1330790 + 2 * v20 + 3);
                if ( v21 != -1 )
                {
                  if ( v21 < 0x10000 )
                    return 0;
                  switch ( v21 >> 7 )
                  {
                    case 0x200u:
                    case 0x201u:
                    case 0x238u:
                    case 0x239u:
                    case 0x23Au:
                    case 0x262u:
                    case 0x263u:
                    case 0x264u:
                    case 0x265u:
                    case 0x266u:
                    case 0x267u:
                      return 0;
                    default:
                      break;
                  }
                }
              }
            }
            else if ( v32 == 2 )
            {
              v17 = dword_1540B4C * (unsigned __int16)v33 + (unsigned __int16)v34;
              if ( (*((_BYTE *)dword_1547440 + 2 * v17 + 2) & 1) != 1
                || (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v34 + dword_1540B4C * ((unsigned __int16)v33 - 1))) & 1) != 1 )
              {
                if ( (*((_BYTE *)dword_1547440 + 2 * v17) & 1) == 1 )
                {
                  v19 = *((_DWORD *)dword_1330790 + 2 * v17 + 1);
                  if ( v19 != -1 )
                  {
                    if ( v19 < 0x10000 )
                      return 0;
                    switch ( v19 >> 7 )
                    {
                      case 0x200u:
                      case 0x201u:
                      case 0x238u:
                      case 0x239u:
                      case 0x23Au:
                      case 0x262u:
                      case 0x263u:
                      case 0x264u:
                      case 0x265u:
                      case 0x266u:
                      case 0x267u:
                        return 0;
                      default:
                        break;
                    }
                  }
                }
              }
              else
              {
                v18 = *((_DWORD *)dword_1330790 + 2 * v17 + 3);
                if ( v18 != -1 )
                {
                  if ( v18 < 0x10000 )
                    return 0;
                  switch ( v18 >> 7 )
                  {
                    case 0x200u:
                    case 0x201u:
                    case 0x238u:
                    case 0x239u:
                    case 0x23Au:
                    case 0x262u:
                    case 0x263u:
                    case 0x264u:
                    case 0x265u:
                    case 0x266u:
                    case 0x267u:
                      return 0;
                    default:
                      break;
                  }
                }
              }
            }
          }
          else
          {
            v23 = dword_1540B4C * (unsigned __int16)v6 + (unsigned __int16)v5;
            if ( (*((_BYTE *)dword_1547440 + 2 * v23) & 1) == 1 )
            {
              v24 = *((_DWORD *)dword_1330790 + 2 * v23 + 1);
              if ( v24 != -1 )
              {
                if ( v24 < 0x10000 )
                  return 0;
                switch ( v24 >> 7 )
                {
                  case 0x200u:
                  case 0x201u:
                  case 0x238u:
                  case 0x239u:
                  case 0x23Au:
                  case 0x262u:
                  case 0x263u:
                  case 0x264u:
                  case 0x265u:
                  case 0x266u:
                  case 0x267u:
                    return 0;
                  default:
                    break;
                }
              }
            }
          }
        }
        else if ( v30 == 2 )
        {
          if ( v32 )
          {
            if ( v32 == 1 )
            {
              v12 = dword_1540B4C * (unsigned __int16)v33 + (unsigned __int16)v34;
              if ( (*((char *)dword_1547440 + 2 * v12 - 2) & 1) != 1
                || (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v34 + dword_1540B4C * ((unsigned __int16)v33 + 1))) & 1) != 1 )
              {
                if ( (*((_BYTE *)dword_1547440 + 2 * v12) & 1) == 1 )
                {
                  v14 = *((_DWORD *)dword_1330790 + 2 * v12 + 1);
                  if ( v14 != -1 )
                  {
                    if ( v14 < 0x10000 )
                      return 0;
                    switch ( v14 >> 7 )
                    {
                      case 0x200u:
                      case 0x201u:
                      case 0x238u:
                      case 0x239u:
                      case 0x23Au:
                      case 0x262u:
                      case 0x263u:
                      case 0x264u:
                      case 0x265u:
                      case 0x266u:
                      case 0x267u:
                        return 0;
                      default:
                        break;
                    }
                  }
                }
              }
              else
              {
                v13 = *((_DWORD *)dword_1330790 + 2 * v12 - 1);
                if ( v13 != -1 )
                {
                  if ( v13 < 0x10000 )
                    return 0;
                  switch ( v13 >> 7 )
                  {
                    case 0x200u:
                    case 0x201u:
                    case 0x238u:
                    case 0x239u:
                    case 0x23Au:
                    case 0x262u:
                    case 0x263u:
                    case 0x264u:
                    case 0x265u:
                    case 0x266u:
                    case 0x267u:
                      return 0;
                    default:
                      break;
                  }
                }
              }
            }
            else if ( v32 == 2 )
            {
              v9 = dword_1540B4C * (unsigned __int16)v33 + (unsigned __int16)v34;
              if ( (*((char *)dword_1547440 + 2 * v9 - 2) & 1) != 1
                || (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v34 + dword_1540B4C * ((unsigned __int16)v33 - 1))) & 1) != 1 )
              {
                if ( (*((_BYTE *)dword_1547440 + 2 * v9) & 1) == 1 )
                {
                  v11 = *((_DWORD *)dword_1330790 + 2 * v9 + 1);
                  if ( v11 != -1 )
                  {
                    if ( v11 < 0x10000 )
                      return 0;
                    switch ( v11 >> 7 )
                    {
                      case 0x200u:
                      case 0x201u:
                      case 0x238u:
                      case 0x239u:
                      case 0x23Au:
                      case 0x262u:
                      case 0x263u:
                      case 0x264u:
                      case 0x265u:
                      case 0x266u:
                      case 0x267u:
                        return 0;
                      default:
                        break;
                    }
                  }
                }
              }
              else
              {
                v10 = *((_DWORD *)dword_1330790 + 2 * v9 - 1);
                if ( v10 != -1 )
                {
                  if ( v10 < 0x10000 )
                    return 0;
                  switch ( v10 >> 7 )
                  {
                    case 0x200u:
                    case 0x201u:
                    case 0x238u:
                    case 0x239u:
                    case 0x23Au:
                    case 0x262u:
                    case 0x263u:
                    case 0x264u:
                    case 0x265u:
                    case 0x266u:
                    case 0x267u:
                      return 0;
                    default:
                      break;
                  }
                }
              }
            }
          }
          else
          {
            v15 = dword_1540B4C * (unsigned __int16)v6 + (unsigned __int16)v5;
            if ( (*((_BYTE *)dword_1547440 + 2 * v15) & 1) == 1 )
            {
              v16 = *((_DWORD *)dword_1330790 + 2 * v15 + 1);
              if ( v16 != -1 )
              {
                if ( v16 < 0x10000 )
                  return 0;
                switch ( v16 >> 7 )
                {
                  case 0x200u:
                  case 0x201u:
                  case 0x238u:
                  case 0x239u:
                  case 0x23Au:
                  case 0x262u:
                  case 0x263u:
                  case 0x264u:
                  case 0x265u:
                  case 0x266u:
                  case 0x267u:
                    return 0;
                  default:
                    break;
                }
              }
            }
          }
        }
      }
      else
      {
        switch ( v32 )
        {
          case 0:
            return 1;
          case 1:
            v27 = dword_1540B4C * (unsigned __int16)v6 + (unsigned __int16)v5;
            if ( (*((_BYTE *)dword_1547440 + 2 * v27) & 1) == 1 )
            {
              v28 = *((_DWORD *)dword_1330790 + 2 * v27 + 1);
              if ( v28 != -1 )
              {
                if ( v28 < 0x10000 )
                  return 0;
                switch ( v28 >> 7 )
                {
                  case 0x200u:
                  case 0x201u:
                  case 0x238u:
                  case 0x239u:
                  case 0x23Au:
                  case 0x262u:
                  case 0x263u:
                  case 0x264u:
                  case 0x265u:
                  case 0x266u:
                  case 0x267u:
                    return 0;
                  default:
                    goto LABEL_89;
                }
              }
            }
            break;
          case 2:
            v25 = dword_1540B4C * (unsigned __int16)v6 + (unsigned __int16)v5;
            if ( (*((_BYTE *)dword_1547440 + 2 * v25) & 1) == 1 )
            {
              v26 = *((_DWORD *)dword_1330790 + 2 * v25 + 1);
              if ( v26 != -1 )
              {
                if ( v26 < 0x10000 )
                  return 0;
                switch ( v26 >> 7 )
                {
                  case 0x200u:
                  case 0x201u:
                  case 0x238u:
                  case 0x239u:
                  case 0x23Au:
                  case 0x262u:
                  case 0x263u:
                  case 0x264u:
                  case 0x265u:
                  case 0x266u:
                  case 0x267u:
                    return 0;
                  default:
                    goto LABEL_89;
                }
              }
            }
            break;
        }
      }
LABEL_89:
      v5 = v34;
      v7 = v3 / 40;
      v6 = v33;
      if ( (_WORD)v34 != (unsigned __int16)(v3 / 40) )
        goto LABEL_14;
      v8 = v31;
    }
    while ( (_WORD)v33 != (_WORD)v31 );
  }
  return 1;
}
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (00426260) --------------------------------------------------------
signed int __cdecl sub_426260(int a1, int a2, int a3)
{
  int v3; // ebx
  int v4; // ebp
  LPCSTR v5; // edi
  int v6; // esi
  int v7; // edx
  int v8; // edi
  int v9; // ebp
  int v10; // eax
  char v11; // bl
  _BYTE *v12; // eax
  int v13; // eax
  char v14; // bl
  _BYTE *v15; // eax
  int v16; // eax
  int v17; // eax
  char v19; // [esp+10h] [ebp-14h]
  char v20; // [esp+14h] [ebp-10h]
  int v21; // [esp+1Ch] [ebp-8h]
  int v22; // [esp+20h] [ebp-4h]
  LPCSTR v23; // [esp+30h] [ebp+Ch]

  v3 = dword_1540B4C;
  if ( a2 / 40 <= dword_1540B4C - 1 )
  {
    if ( a2 < 0 )
      a2 = 0;
  }
  else
  {
    a2 = 40 * dword_1540B4C - 40;
  }
  v4 = a3;
  if ( a3 / 20 <= dword_1540B50 - 2 )
  {
    if ( a3 < 0 )
      v4 = 0;
  }
  else
  {
    v4 = 20 * (dword_1540B50 - 2);
  }
  v5 = (&lpString)[a1];
  v21 = a2 / 40;
  v23 = (&lpString)[a1];
  v22 = v4 / 20;
  v6 = (signed __int64)(*((float *)v5 + 28) * 0.025);
  v7 = (signed __int64)(*((float *)v5 + 30) * 0.050000001);
  if ( a2 >= 0 && v4 >= 0 && *((float *)v5 + 28) >= 0.0 && *((float *)v5 + 30) >= 0.0 )
  {
    while ( 1 )
    {
      v8 = (unsigned __int16)v6;
      v9 = (unsigned __int16)v7;
      if ( (unsigned __int16)v6 <= (unsigned __int16)v21 )
      {
        if ( (unsigned __int16)v6 >= (unsigned __int16)v21 )
        {
          v20 = 0;
        }
        else
        {
          v20 = 2;
          ++v6;
        }
      }
      else
      {
        v20 = 1;
        v6 += 0xFFFF;
      }
      if ( (unsigned __int16)v7 <= (unsigned __int16)v22 )
      {
        if ( (unsigned __int16)v7 >= (unsigned __int16)v22 )
        {
          v19 = 0;
        }
        else
        {
          v19 = 2;
          ++v7;
        }
      }
      else
      {
        v19 = 1;
        v7 += 0xFFFF;
      }
      if ( v20 )
      {
        if ( v20 == 1 )
        {
          if ( v19 )
          {
            if ( v19 == 1 )
            {
              v17 = (unsigned __int16)v6 + v3 * (unsigned __int16)v7;
              if ( (*((_BYTE *)dword_1547440 + 2 * v17 + 2) & 1) == 1
                && (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v6 + dword_1540B4C * ((unsigned __int16)v7 + 1))) & 1) == 1
                || (*((_BYTE *)dword_1547440 + 2 * v17) & 1) == 1 )
              {
LABEL_57:
                *((_DWORD *)v23 + 33) = 40 * v8 + 20;
                *((_DWORD *)v23 + 34) = 20 * v9 + 10;
                dword_131AD94[0] = v9 * dword_1540B4C + v8;
                dword_131AC04[0] = v9 * dword_1540B4C + v8;
                return 1;
              }
            }
            else
            {
              if ( v19 != 2 )
                goto LABEL_55;
              v16 = (unsigned __int16)v6 + v3 * (unsigned __int16)v7;
              if ( (*((_BYTE *)dword_1547440 + 2 * v16 + 2) & 1) == 1
                && (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v6 + dword_1540B4C * ((unsigned __int16)v7 - 1))) & 1) == 1
                || (*((_BYTE *)dword_1547440 + 2 * v16) & 1) == 1 )
              {
                goto LABEL_57;
              }
            }
            goto LABEL_54;
          }
        }
        else
        {
          if ( v20 != 2 )
            goto LABEL_55;
          if ( v19 )
          {
            if ( v19 == 1 )
            {
              v13 = (unsigned __int16)v6 + v3 * (unsigned __int16)v7;
              v14 = *((char *)dword_1547440 + 2 * v13 - 2) & 1;
              v15 = (char *)dword_1547440 + 2 * v13;
              if ( v14 == 1
                && (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v6 + dword_1540B4C * ((unsigned __int16)v7 + 1))) & 1) == 1
                || (*v15 & 1) == 1 )
              {
                goto LABEL_57;
              }
            }
            else
            {
              if ( v19 != 2 )
                goto LABEL_55;
              v10 = (unsigned __int16)v6 + v3 * (unsigned __int16)v7;
              v11 = *((char *)dword_1547440 + 2 * v10 - 2) & 1;
              v12 = (char *)dword_1547440 + 2 * v10;
              if ( v11 == 1
                && (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v6 + dword_1540B4C * ((unsigned __int16)v7 - 1))) & 1) == 1
                || (*v12 & 1) == 1 )
              {
                goto LABEL_57;
              }
            }
            goto LABEL_54;
          }
        }
      }
      else
      {
        if ( !v19 )
          return 1;
        if ( v19 == 1 )
        {
          if ( (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v6 + v3 * (unsigned __int16)v7)) & 1) == 1 )
            goto LABEL_57;
          goto LABEL_54;
        }
        if ( v19 != 2 )
          goto LABEL_55;
      }
      if ( (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v6 + v3 * (unsigned __int16)v7)) & 1) == 1 )
        goto LABEL_57;
LABEL_54:
      v3 = dword_1540B4C;
LABEL_55:
      if ( (_WORD)v6 == (_WORD)v21 && (_WORD)v7 == (_WORD)v22 )
        goto LABEL_57;
    }
  }
  return 1;
}
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (00426680) --------------------------------------------------------
signed int __cdecl sub_426680(int a1, int a2, int a3)
{
  LPCSTR v3; // ebx
  int v4; // esi
  int v5; // ebp
  int v6; // ecx
  int v7; // eax
  int v8; // ebx
  char v9; // al
  int v10; // eax
  int v11; // ebx
  int v12; // eax
  signed int result; // eax
  int v14; // [esp+10h] [ebp-14h]
  char v15; // [esp+18h] [ebp-Ch]
  char v16; // [esp+1Ch] [ebp-8h]
  char *v17; // [esp+20h] [ebp-4h]
  int v18; // [esp+20h] [ebp-4h]
  LPCSTR v19; // [esp+28h] [ebp+4h]

  if ( a2 / 40 <= dword_1540B4C - 1 )
  {
    if ( a2 < 0 )
      a2 = 0;
  }
  else
  {
    a2 = 40 * dword_1540B4C - 40;
  }
  if ( a3 / 20 <= dword_1540B50 - 2 )
  {
    if ( a3 < 0 )
      a3 = 0;
  }
  else
  {
    a3 = 20 * (dword_1540B50 - 2);
  }
  v3 = (&lpString)[a1];
  v19 = v3;
  v4 = (signed __int64)(*((float *)v3 + 28) * 0.025);
  v5 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
  if ( a2 >= 0 && a3 >= 0 && *((float *)v3 + 28) >= 0.0 && *((float *)v3 + 30) >= 0.0 )
  {
    while ( 1 )
    {
      v6 = (unsigned __int16)v5;
      v14 = (unsigned __int16)v4;
      if ( (unsigned __int16)v4 <= (unsigned __int16)a2 )
      {
        if ( (unsigned __int16)v4 >= (unsigned __int16)a2 )
        {
          v16 = 0;
        }
        else
        {
          v16 = 2;
          ++v4;
        }
      }
      else
      {
        v16 = 1;
        v4 += 0xFFFF;
      }
      if ( (unsigned __int16)v5 <= (unsigned __int16)a3 )
      {
        if ( (unsigned __int16)v5 >= (unsigned __int16)a3 )
        {
          v15 = 0;
        }
        else
        {
          v15 = 2;
          ++v5;
        }
      }
      else
      {
        v15 = 1;
        v5 += 0xFFFF;
      }
      if ( v16 )
        break;
      if ( !v15 )
        return 1;
      if ( v15 != 1 )
      {
        if ( v15 != 2 )
          goto LABEL_52;
LABEL_50:
        v12 = (unsigned __int16)v4 + dword_1540B4C * (unsigned __int16)v5;
LABEL_44:
        v9 = *((_BYTE *)dword_1547440 + 2 * v12);
LABEL_45:
        if ( (v9 & 1) == 1 )
          goto LABEL_55;
        goto LABEL_52;
      }
      if ( (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v4 + dword_1540B4C * (unsigned __int16)v5)) & 1) == 1 )
      {
LABEL_55:
        *((_DWORD *)v19 + 33) = 40 * a2 + 20;
        *((_DWORD *)v19 + 34) = 20 * a3 + 10;
        result = 0;
        dword_131AD94[0] = v14 + dword_1540B4C * v6;
        dword_131AC04[0] = v14 + dword_1540B4C * v6;
        return result;
      }
LABEL_52:
      if ( (_WORD)v4 == (_WORD)a2 && (_WORD)v5 == (_WORD)a3 )
        return 1;
    }
    if ( v16 != 1 )
    {
      if ( v16 != 2 )
        goto LABEL_52;
      switch ( v15 )
      {
        case 0:
          goto LABEL_50;
        case 1:
          v7 = (unsigned __int16)v4;
          v17 = (char *)dword_1547440 + 2 * ((unsigned __int16)v4 + dword_1540B4C * (unsigned __int16)v5);
          if ( (*(v17 - 2) & 1) != 1 )
          {
LABEL_32:
            v9 = *v17;
            goto LABEL_45;
          }
          v8 = (unsigned __int16)v5 + 1;
          break;
        case 2:
          v7 = (unsigned __int16)v4;
          v17 = (char *)dword_1547440 + 2 * ((unsigned __int16)v4 + dword_1540B4C * (unsigned __int16)v5);
          if ( (*(v17 - 2) & 1) != 1 )
            goto LABEL_32;
          v8 = (unsigned __int16)v5 - 1;
          break;
        default:
          goto LABEL_52;
      }
      if ( (*((_BYTE *)dword_1547440 + 2 * (v7 + dword_1540B4C * v8)) & 1) == 1 )
        goto LABEL_55;
      goto LABEL_32;
    }
    switch ( v15 )
    {
      case 0:
        goto LABEL_50;
      case 1:
        v10 = (unsigned __int16)v4;
        v18 = (unsigned __int16)v4 + dword_1540B4C * (unsigned __int16)v5;
        if ( (*((_BYTE *)dword_1547440 + 2 * v18 + 2) & 1) != 1 )
        {
LABEL_43:
          v12 = v18;
          goto LABEL_44;
        }
        v11 = (unsigned __int16)v5 + 1;
        break;
      case 2:
        v10 = (unsigned __int16)v4;
        v18 = (unsigned __int16)v4 + dword_1540B4C * (unsigned __int16)v5;
        if ( (*((_BYTE *)dword_1547440 + 2 * v18 + 2) & 1) != 1 )
          goto LABEL_43;
        v11 = (unsigned __int16)v5 - 1;
        break;
      default:
        goto LABEL_52;
    }
    if ( (*((_BYTE *)dword_1547440 + 2 * (v10 + dword_1540B4C * v11)) & 1) == 1 )
      goto LABEL_55;
    goto LABEL_43;
  }
  return 1;
}
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (004269E0) --------------------------------------------------------
signed int __cdecl sub_4269E0(int a1, int a2, int a3)
{
  int v3; // edi
  signed __int16 v4; // bx
  LPCSTR v5; // ebp
  double v6; // st7
  int v7; // esi
  int v8; // ecx
  int v9; // ebp
  int v10; // edi
  char v11; // dl
  int v12; // edx
  _DWORD *v13; // eax
  int v15; // edi
  int v16; // ebx
  char v17; // dl
  char v18; // al
  int v19; // ebx
  int v20; // edi
  int v21; // esi
  int v22; // ebp
  int v23; // eax
  int v24; // ecx
  int v25; // eax
  int v26; // eax
  _DWORD *v27; // ebx
  int v28; // eax
  int v29; // ecx
  unsigned int v30; // eax
  int v31; // eax
  int v32; // ecx
  char v33; // [esp+11h] [ebp-3Fh]
  char v34; // [esp+12h] [ebp-3Eh]
  char v35; // [esp+13h] [ebp-3Dh]
  int v36; // [esp+14h] [ebp-3Ch]
  int v37; // [esp+18h] [ebp-38h]
  int v38; // [esp+1Ch] [ebp-34h]
  int v39; // [esp+20h] [ebp-30h]
  int v40; // [esp+24h] [ebp-2Ch]
  int v41; // [esp+28h] [ebp-28h]
  int v42; // [esp+2Ch] [ebp-24h]
  int v43; // [esp+30h] [ebp-20h]
  int v44; // [esp+34h] [ebp-1Ch]
  char *v45; // [esp+38h] [ebp-18h]
  LPCSTR v46; // [esp+3Ch] [ebp-14h]
  int v47; // [esp+40h] [ebp-10h]
  int v48; // [esp+44h] [ebp-Ch]
  int v49; // [esp+48h] [ebp-8h]
  int v50; // [esp+4Ch] [ebp-4h]

  v3 = a2;
  v4 = 0;
  if ( a2 / 40 <= dword_1540B4C - 1 )
  {
    if ( a2 >= 0 )
      goto LABEL_6;
    v3 = 0;
  }
  else
  {
    v3 = 40 * dword_1540B4C - 40;
  }
  a2 = v3;
LABEL_6:
  if ( a3 / 20 <= dword_1540B50 - 2 )
  {
    if ( a3 < 0 )
      a3 = 0;
  }
  else
  {
    a3 = 20 * (dword_1540B50 - 2);
  }
  v5 = (&lpString)[a1];
  v47 = v3 / 40;
  v33 = 0;
  LOBYTE(v36) = 0;
  v6 = *((float *)v5 + 28) * 0.025;
  v46 = v5;
  v49 = 0;
  v50 = 0;
  v37 = 0;
  v34 = 0;
  v35 = 0;
  v48 = a3 / 20;
  v7 = (signed __int64)v6;
  v8 = (signed __int64)(*((float *)v5 + 30) * 0.050000001);
  v41 = 0;
  v43 = 0;
  v42 = 0;
  if ( v3 < 0 || a3 < 0 || *((float *)v5 + 28) < 0.0 || *((float *)v5 + 30) < 0.0 )
    return 1;
  if ( !dword_131ABF8 && !dword_131ABF4 )
  {
    dword_131ABF4 = 0;
    dword_131ABF8 = 0;
    while ( 1 )
    {
      if ( v4 )
        goto LABEL_19;
      while ( 1 )
      {
        v49 = v7;
        v50 = v8;
LABEL_19:
        v39 = (unsigned __int16)v7;
        v38 = (unsigned __int16)v8;
        if ( (unsigned __int16)v7 <= (unsigned __int16)v47 )
        {
          if ( (unsigned __int16)v7 >= (unsigned __int16)v47 )
          {
            LOBYTE(v44) = 0;
          }
          else
          {
            LOBYTE(v44) = 2;
            ++v7;
          }
        }
        else
        {
          LOBYTE(v44) = 1;
          v7 += 0xFFFF;
        }
        if ( (unsigned __int16)v8 <= (unsigned __int16)v48 )
        {
          if ( (unsigned __int16)v8 >= (unsigned __int16)v48 )
          {
            LOBYTE(v40) = 0;
          }
          else
          {
            LOBYTE(v40) = 2;
            ++v8;
          }
        }
        else
        {
          LOBYTE(v40) = 1;
          v8 += 0xFFFF;
        }
        if ( !v33 )
          v33 = 1;
        if ( v4 )
        {
          if ( (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v7 + dword_1540B4C * (unsigned __int16)v8)) & 1) != 1 )
          {
            v48 = (unsigned __int16)v8;
            v15 = (unsigned __int16)v49;
            v16 = (unsigned __int16)v50;
            v47 = (unsigned __int16)v7;
            v39 = (unsigned __int16)v49;
            v38 = (unsigned __int16)v50;
            sub_425550(&v39, &v38, (char *)&v36, v36);
            do
            {
              v43 = v15;
              v42 = v16;
              v33 = 0;
              sub_425550(&v43, &v42, &v33, v36);
              v17 = v36;
            }
            while ( v33 == (_BYTE)v36 );
            v41 = 0;
            while ( 1 )
            {
              v18 = v41++ + 1;
              if ( (unsigned __int16)v41 > 0x63u )
                goto LABEL_95;
              v19 = v39;
              v20 = v38;
              if ( v39 == v47 && v38 == v48 )
                break;
              v21 = v43;
              v22 = v42;
              if ( v43 == v47 && v42 == v48 )
              {
                v27 = v46;
                *((_DWORD *)v46 + 33) = a2;
                v27[34] = a3;
                v31 = (unsigned __int8)sub_426680(
                                         a1,
                                         dword_131AD94[0] % (unsigned int)dword_1540B4C,
                                         dword_131AD94[0] / (unsigned int)dword_1540B4C);
                v32 = dword_131ABF4 * v31;
                v27[48] = 0;
                v27[49] = (v31 ^ 1) + v32;
                qmemcpy(v27 + 50, dword_131AC04, 4 * dword_131ABF4);
                v27[35] = 40 * (dword_131AC04[0] % (unsigned int)dword_1540B4C) + 20;
                v30 = dword_131AC04[0];
                goto LABEL_99;
              }
              v23 = v18 & 1;
              v50 = v23;
              if ( (_WORD)v23 )
              {
                v34 = v17;
                if ( (_WORD)v23 )
                  v35 = v33;
              }
              sub_425550(&v39, &v38, (char *)&v36, 0);
              sub_425550(&v43, &v42, &v33, 0);
              v17 = v36;
              v24 = dword_1540B4C;
              if ( v34 != (_BYTE)v36 && !(_WORD)v50 )
              {
                v25 = dword_131ABF8;
                dword_131AD94[dword_131ABF8] = v19 + dword_1540B4C * v20;
                dword_131ABF8 = v25 + 1;
              }
              if ( v35 != v33 && !(_WORD)v50 )
              {
                v26 = dword_131ABF4;
                dword_131AC04[dword_131ABF4] = v21 + v24 * v22;
                dword_131ABF4 = v26 + 1;
              }
            }
            v27 = v46;
            *((_DWORD *)v46 + 33) = a2;
            v27[34] = a3;
            v28 = (unsigned __int8)sub_426680(
                                     a1,
                                     dword_131AD94[0] % (unsigned int)dword_1540B4C,
                                     dword_131AD94[0] / (unsigned int)dword_1540B4C);
            v29 = dword_131ABF8 * v28;
            v27[48] = 0;
            v27[49] = (v28 ^ 1) + v29;
            qmemcpy(v27 + 50, dword_131AD94, 4 * dword_131ABF8);
            v27[35] = 40 * (dword_131AD94[0] % (unsigned int)dword_1540B4C) + 20;
            v30 = dword_131AD94[0];
LABEL_99:
            v27[36] = 20 * (v30 / dword_1540B4C) + 10;
            dword_131ABF4 = 0;
            dword_131ABF8 = 0;
            return 1;
          }
        }
        else
        {
          if ( !(_BYTE)v44 )
          {
            if ( !(_BYTE)v40 )
              return 0;
            if ( (unsigned __int8)v40 == 1 )
            {
              LOBYTE(v36) = 8;
            }
            else
            {
              if ( (unsigned __int8)v40 != 2 )
                goto LABEL_70;
              LOBYTE(v36) = 2;
            }
LABEL_66:
            v11 = *((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v7 + dword_1540B4C * (unsigned __int16)v8));
            goto LABEL_67;
          }
          if ( (unsigned __int8)v44 != 1 )
          {
            if ( (unsigned __int8)v44 != 2 )
              goto LABEL_70;
            if ( !(_BYTE)v40 )
            {
              LOBYTE(v36) = 6;
              goto LABEL_66;
            }
            if ( (unsigned __int8)v40 == 1 )
            {
              v9 = (unsigned __int16)v7;
              LOBYTE(v36) = 9;
              v45 = (char *)dword_1547440 + 2 * ((unsigned __int16)v7 + dword_1540B4C * (unsigned __int16)v8);
              if ( (*(v45 - 2) & 1) == 1 )
              {
                v10 = (unsigned __int16)v8 + 1;
                goto LABEL_42;
              }
            }
            else
            {
              if ( (unsigned __int8)v40 != 2 )
                goto LABEL_70;
              v9 = (unsigned __int16)v7;
              LOBYTE(v36) = 3;
              v45 = (char *)dword_1547440 + 2 * ((unsigned __int16)v7 + dword_1540B4C * (unsigned __int16)v8);
              if ( (*(v45 - 2) & 1) == 1 )
              {
                v10 = (unsigned __int16)v8 - 1;
LABEL_42:
                if ( (*((_BYTE *)dword_1547440 + 2 * (v9 + dword_1540B4C * v10)) & 1) == 1 )
                {
                  v7 = v39;
                  v8 = v38;
                  v4 = 1;
                  v37 = 1;
                  goto LABEL_70;
                }
              }
            }
            v11 = *v45;
LABEL_67:
            if ( (v11 & 1) == 1 )
            {
              v4 = 1;
              v37 = 1;
            }
            goto LABEL_70;
          }
          if ( !(_BYTE)v40 )
          {
            LOBYTE(v36) = 4;
            goto LABEL_66;
          }
          if ( (unsigned __int8)v40 == 1 )
          {
            LOBYTE(v36) = 7;
            v12 = (unsigned __int16)v7 + dword_1540B4C * (unsigned __int16)v8;
            if ( (*((_BYTE *)dword_1547440 + 2 * v12 + 2) & 1) == 1
              && (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v7 + dword_1540B4C * ((unsigned __int16)v8 + 1))) & 1) == 1 )
            {
LABEL_53:
              v7 = v39;
              v8 = v38;
              v4 = 1;
              v37 = 1;
              goto LABEL_70;
            }
            if ( (*((_BYTE *)dword_1547440 + 2 * v12) & 1) == 1 )
            {
              v4 = 1;
              v37 = 1;
            }
            else
            {
              v4 = v37;
            }
          }
          else if ( (unsigned __int8)v40 == 2 )
          {
            LOBYTE(v36) = 1;
            v45 = (char *)((unsigned __int16)v7 + dword_1540B4C * (unsigned __int16)v8);
            if ( (*((_BYTE *)dword_1547440 + 2 * (_DWORD)v45 + 2) & 1) == 1
              && (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v7 + dword_1540B4C * ((unsigned __int16)v8 - 1))) & 1) == 1 )
            {
              goto LABEL_53;
            }
            if ( (*((_BYTE *)dword_1547440 + 2 * (_DWORD)v45) & 1) == 1 )
            {
              v4 = 1;
              v37 = 1;
            }
          }
        }
LABEL_70:
        if ( (_WORD)v7 == (_WORD)v47 && (_WORD)v8 == (_WORD)v48 )
          break;
        if ( v4 )
          goto LABEL_75;
      }
      if ( !v4 )
      {
        v13 = v46;
        *((_DWORD *)v46 + 35) = a2;
        v13[33] = a2;
        v13[36] = a3;
        v13[34] = a3;
        dword_131ABF4 = 0;
        dword_131ABF8 = 0;
        return 1;
      }
LABEL_75:
      if ( (unsigned __int16)++v41 > 0x63u )
      {
LABEL_95:
        dword_131ABF4 = 0;
        dword_131ABF8 = 0;
        return 0;
      }
    }
  }
  return 0;
}
// 131ABF4: using guessed type int dword_131ABF4;
// 131ABF8: using guessed type int dword_131ABF8;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (004271B0) --------------------------------------------------------
signed int __cdecl sub_4271B0(int a1, int a2, int a3)
{
  LPCSTR v3; // ecx
  unsigned __int16 v4; // bx
  signed __int16 v5; // di
  double v6; // st7
  unsigned __int16 v7; // bp
  int v8; // esi
  int v9; // ecx
  signed int result; // eax
  char *v11; // edi
  int v12; // edx
  char v13; // dl
  int v14; // edi
  int v15; // edx
  _DWORD *v16; // eax
  int v17; // ecx
  _DWORD *v18; // eax
  int v19; // ecx
  __int16 v20; // cx
  int v21; // esi
  int v22; // edi
  int v23; // edx
  char *v24; // eax
  char *v25; // eax
  __int16 v26; // dx
  int v27; // eax
  int v28; // ecx
  int v29; // eax
  int v30; // ebp
  int v31; // ebx
  int v32; // edx
  int v33; // eax
  int v34; // ecx
  int v35; // edi
  int v36; // eax
  _DWORD *v37; // ecx
  int v38; // ecx
  _DWORD *v39; // ebp
  int v40; // eax
  int v41; // edx
  int v42; // ecx
  _DWORD *v43; // ebx
  int v44; // eax
  int v45; // ecx
  char v46; // [esp+11h] [ebp-47h]
  char v47; // [esp+12h] [ebp-46h]
  char v48; // [esp+13h] [ebp-45h]
  int v49; // [esp+14h] [ebp-44h]
  int v50; // [esp+18h] [ebp-40h]
  int v51; // [esp+1Ch] [ebp-3Ch]
  int v52; // [esp+20h] [ebp-38h]
  int v53; // [esp+24h] [ebp-34h]
  int v54; // [esp+28h] [ebp-30h]
  int v55; // [esp+2Ch] [ebp-2Ch]
  int v56; // [esp+30h] [ebp-28h]
  LPCSTR v57; // [esp+34h] [ebp-24h]
  int v58; // [esp+38h] [ebp-20h]
  int v59; // [esp+3Ch] [ebp-1Ch]
  int v60; // [esp+40h] [ebp-18h]
  int v61; // [esp+44h] [ebp-14h]
  char *v62; // [esp+48h] [ebp-10h]
  int v63; // [esp+4Ch] [ebp-Ch]
  int v64; // [esp+50h] [ebp-8h]
  char *v65; // [esp+54h] [ebp-4h]

  if ( a2 / 40 <= dword_1540B4C - 1 )
  {
    if ( a2 < 0 )
      a2 = 0;
  }
  else
  {
    a2 = 40 * dword_1540B4C - 40;
  }
  if ( a3 / 20 <= dword_1540B50 - 2 )
  {
    if ( a3 < 0 )
      a3 = 0;
  }
  else
  {
    a3 = 20 * (dword_1540B50 - 2);
  }
  v3 = (&lpString)[a1];
  v63 = a2 / 40;
  v4 = 0;
  v5 = 0;
  v46 = 0;
  LOBYTE(v49) = 0;
  v6 = *((float *)v3 + 28) * 0.025;
  v57 = v3;
  v60 = 0;
  v65 = 0;
  v7 = 0;
  v52 = 0;
  v47 = 0;
  v48 = 0;
  v64 = a3 / 20;
  v8 = (signed __int64)v6;
  v9 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
  v58 = 0;
  v53 = 0;
  v54 = 0;
  if ( a2 < 0 || a3 < 0 || *((float *)v57 + 28) < 0.0 || *((float *)v57 + 30) < 0.0 )
    return 1;
  if ( (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v8 + dword_1540B4C * (unsigned __int16)v9)) & 1) == 1
    || dword_131ABF8
    || dword_131ABF4 )
  {
    return 0;
  }
  dword_131ABF4 = 0;
  dword_131ABF8 = 0;
  do
  {
LABEL_18:
    if ( v5 )
      goto LABEL_21;
    while ( 1 )
    {
      if ( !v46 )
      {
        v60 = v8;
        v65 = (char *)v9;
      }
LABEL_21:
      v51 = (unsigned __int16)v8;
      v50 = (unsigned __int16)v9;
      if ( (unsigned __int16)v8 <= (unsigned __int16)v63 )
      {
        if ( (unsigned __int16)v8 >= (unsigned __int16)v63 )
        {
          LOBYTE(v61) = 0;
        }
        else
        {
          LOBYTE(v61) = 2;
          ++v8;
        }
      }
      else
      {
        LOBYTE(v61) = 1;
        v8 += 0xFFFF;
      }
      if ( (unsigned __int16)v9 <= (unsigned __int16)v64 )
      {
        if ( (unsigned __int16)v9 >= (unsigned __int16)v64 )
        {
          LOBYTE(v59) = 0;
        }
        else
        {
          LOBYTE(v59) = 2;
          ++v9;
        }
      }
      else
      {
        LOBYTE(v59) = 1;
        v9 += 0xFFFF;
      }
      if ( v5 )
      {
        if ( (*((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v8 + dword_1540B4C * (unsigned __int16)v9)) & 1) == 1 )
          goto LABEL_69;
        v5 = 0;
        v7 = v8;
        v4 = v9;
        v46 = 1;
        v52 = 0;
        goto LABEL_70;
      }
      if ( !(_BYTE)v61 )
      {
        if ( !(_BYTE)v59 )
          return sub_4269E0(a1, a2, a3);
        if ( (unsigned __int8)v59 == 1 )
        {
          LOBYTE(v49) = 8;
        }
        else
        {
          if ( (unsigned __int8)v59 != 2 )
            goto LABEL_70;
          LOBYTE(v49) = 2;
        }
        goto LABEL_66;
      }
      if ( (unsigned __int8)v61 == 1 )
      {
        if ( !(_BYTE)v59 )
        {
          LOBYTE(v49) = 4;
          goto LABEL_66;
        }
        if ( (unsigned __int8)v59 == 1 )
        {
          v56 = (unsigned __int16)v9;
          v55 = (unsigned __int16)v8;
          v14 = dword_1540B4C * (unsigned __int16)v9 + (unsigned __int16)v8;
          LOBYTE(v49) = 7;
          v62 = (char *)v14;
          if ( (*((_BYTE *)dword_1547440 + 2 * v14 + 2) & 1) == 1 )
          {
            v15 = v56 + 1;
LABEL_54:
            if ( (*((_BYTE *)dword_1547440 + 2 * (v55 + dword_1540B4C * v15)) & 1) == 1 )
            {
              v8 = v51;
              v9 = v50;
              v5 = 1;
              v52 = 1;
              goto LABEL_70;
            }
            v14 = (int)v62;
          }
        }
        else
        {
          if ( (unsigned __int8)v59 != 2 )
            goto LABEL_70;
          v56 = (unsigned __int16)v9;
          v55 = (unsigned __int16)v8;
          v14 = dword_1540B4C * (unsigned __int16)v9 + (unsigned __int16)v8;
          LOBYTE(v49) = 1;
          v62 = (char *)v14;
          if ( (*((_BYTE *)dword_1547440 + 2 * v14 + 2) & 1) == 1 )
          {
            v15 = v56 - 1;
            goto LABEL_54;
          }
        }
        v13 = *((_BYTE *)dword_1547440 + 2 * v14);
        goto LABEL_67;
      }
      if ( (unsigned __int8)v61 != 2 )
        goto LABEL_70;
      if ( !(_BYTE)v59 )
      {
        LOBYTE(v49) = 6;
LABEL_66:
        v13 = *((_BYTE *)dword_1547440 + 2 * ((unsigned __int16)v8 + dword_1540B4C * (unsigned __int16)v9));
        goto LABEL_67;
      }
      if ( (unsigned __int8)v59 != 1 )
      {
        if ( (unsigned __int8)v59 != 2 )
          goto LABEL_70;
        v56 = (unsigned __int16)v9;
        v55 = (unsigned __int16)v8;
        LOBYTE(v49) = 3;
        v11 = (char *)dword_1547440 + 2 * ((unsigned __int16)v8 + dword_1540B4C * (unsigned __int16)v9);
        v62 = v11;
        if ( (*(v11 - 2) & 1) != 1 )
          goto LABEL_45;
        v12 = v56 - 1;
        goto LABEL_42;
      }
      v56 = (unsigned __int16)v9;
      v55 = (unsigned __int16)v8;
      LOBYTE(v49) = 9;
      v11 = (char *)dword_1547440 + 2 * ((unsigned __int16)v8 + dword_1540B4C * (unsigned __int16)v9);
      v62 = v11;
      if ( (*(v11 - 2) & 1) == 1 )
      {
        v12 = v56 + 1;
LABEL_42:
        if ( (*((_BYTE *)dword_1547440 + 2 * (v55 + dword_1540B4C * v12)) & 1) == 1 )
        {
          v8 = v51;
          v9 = v50;
          v5 = 1;
          v52 = 1;
          goto LABEL_70;
        }
        v11 = v62;
      }
LABEL_45:
      v13 = *v11;
LABEL_67:
      if ( (v13 & 1) != 1 )
      {
LABEL_69:
        v5 = v52;
        goto LABEL_70;
      }
      v5 = 1;
      v52 = 1;
LABEL_70:
      if ( (_WORD)v8 == (_WORD)v63 && (_WORD)v9 == (_WORD)v64 )
        break;
LABEL_76:
      if ( v5 )
      {
        if ( (unsigned __int16)++v58 > 0x63u )
        {
          dword_131ABF8 = 0;
          dword_131ABF4 = 0;
          return (unsigned __int16)sub_4269E0(a1, a2, a3);
        }
        goto LABEL_18;
      }
    }
    if ( !v5 )
    {
      if ( v46 )
        goto LABEL_87;
      v16 = v57;
      *((_DWORD *)v57 + 35) = a2;
      v16[33] = a2;
      v16[36] = a3;
      v16[34] = a3;
LABEL_82:
      dword_131ABF4 = 0;
      dword_131ABF8 = 0;
      return 1;
    }
    if ( (_WORD)v9 != (_WORD)v64 )
      goto LABEL_76;
  }
  while ( !v5 );
  if ( !v46 )
  {
    v17 = 40 * v51 + 20;
    v18 = v57;
    *((_DWORD *)v57 + 35) = v17;
    v18[33] = v17;
    v19 = 20 * v50 + 10;
    v18[36] = v19;
    v18[34] = v19;
    dword_131ABF4 = 0;
    dword_131ABF8 = 0;
    return 1;
  }
LABEL_87:
  v20 = (signed __int16)v65;
  v21 = (unsigned __int16)v60;
  v22 = (unsigned __int16)v65;
  v23 = dword_1540B4C * (unsigned __int16)v65;
  v64 = v23;
  v24 = (char *)dword_1547440 + 2 * ((unsigned __int16)v60 + v23);
  v65 = v24;
  v25 = &v24[-2 * dword_1540B4C];
  v59 = 2 * dword_1540B4C;
  v62 = v25;
  v26 = *(_WORD *)v25;
  v27 = (int)v65;
  if ( v26 == 1 && *((_WORD *)v65 - 1) == 1 && *((_WORD *)v65 + 1) == 1 )
  {
    v28 = (unsigned __int16)(v20 + 1);
    dword_131AD94[0] = (unsigned __int16)v60 + dword_1540B4C * v28;
    dword_131AC04[0] = (unsigned __int16)v60 + dword_1540B4C * v28;
    dword_131ABF8 = 1;
    dword_131ABF4 = 1;
    goto LABEL_91;
  }
  if ( v26 == 1 && *(_WORD *)&v65[v59] == 1 && *((_WORD *)v65 + 1) == 1 )
  {
    LOWORD(v29) = v60 - 1;
    goto LABEL_97;
  }
  HIWORD(v32) = HIWORD(v59);
  LOWORD(v32) = *(_WORD *)&v65[v59];
  v65 = (char *)v32;
  if ( (_WORD)v32 == 1 && *(_WORD *)(v27 - 2) == 1 && *(_WORD *)(v27 + 2) == 1 )
  {
    dword_131ABF8 = 1;
    v28 = (unsigned __int16)(v20 - 1);
    dword_131ABF4 = 1;
    dword_131AD94[0] = (unsigned __int16)v60 + dword_1540B4C * v28;
    dword_131AC04[0] = (unsigned __int16)v60 + dword_1540B4C * v28;
LABEL_91:
    v29 = (unsigned __int16)v60 + 1;
    v21 = (unsigned __int16)v60 - 1;
    v55 = v7;
    v30 = v4;
    v51 = (unsigned __int16)v60 + 1;
    v50 = v28;
    v53 = (unsigned __int16)v60 - 1;
    v22 = v28;
LABEL_92:
    v31 = v64;
    v54 = v22;
    LOBYTE(v49) = 6;
    v46 = 4;
    v58 = 0;
    goto LABEL_126;
  }
  if ( *(_WORD *)v62 == 1 && (_WORD)v65 == 1 && *(_WORD *)(v27 - 2) == 1 )
  {
    LOWORD(v29) = v60 + 1;
LABEL_97:
    v29 = (unsigned __int16)v29;
    dword_131AD94[0] = (unsigned __int16)v29 + v64;
    dword_131AC04[0] = (unsigned __int16)v29 + v64;
    v28 = v22 - 1;
    v55 = v7;
    dword_131ABF8 = 1;
    dword_131ABF4 = 1;
    v30 = v4;
    v51 = (unsigned __int16)v29;
    v50 = v22 - 1;
    v21 = (unsigned __int16)v29;
LABEL_98:
    v31 = v64;
    ++v22;
    v53 = v21;
    v54 = v22;
    LOBYTE(v49) = 8;
    v46 = 2;
    v58 = 0;
    goto LABEL_126;
  }
  if ( *(_WORD *)(v27 - 4 * dword_1540B4C) == 1
    && *(_WORD *)(v27 - (2 * dword_1540B4C + 2)) == 1
    && *((_WORD *)v62 + 1) == 1 )
  {
    goto LABEL_162;
  }
  if ( *((_WORD *)v62 + 1) == 1 && *(_WORD *)(v27 + 2 * dword_1540B4C + 2) == 1 && *(_WORD *)(v27 + 4) == 1 )
  {
    v29 = (unsigned __int16)v60;
    v28 = v22 - 1;
    v55 = v7;
    v30 = v4;
    v51 = (unsigned __int16)v60;
    v50 = v22 - 1;
    goto LABEL_98;
  }
  if ( *(_WORD *)(v27 + 4 * dword_1540B4C) == 1
    && *(_WORD *)(v59 + v27 - 2) == 1
    && *(_WORD *)(v27 + 2 * dword_1540B4C + 2) == 1 )
  {
LABEL_162:
    v29 = (unsigned __int16)v60 + 1;
    v28 = v22;
    v21 = (unsigned __int16)v60 - 1;
    v55 = v7;
    v30 = v4;
    v51 = (unsigned __int16)v60 + 1;
    v50 = v22;
    v53 = (unsigned __int16)v60 - 1;
    goto LABEL_92;
  }
  if ( *(_WORD *)(v27 - (2 * dword_1540B4C + 2)) == 1 && *(_WORD *)(v59 + v27 - 2) == 1 && *(_WORD *)(v27 - 4) == 1 )
  {
    v29 = (unsigned __int16)v60;
    v28 = v22 - 1;
    v55 = v7;
    v30 = v4;
    v51 = (unsigned __int16)v60;
    v50 = v22 - 1;
    goto LABEL_98;
  }
  v55 = v7;
  v30 = v4;
  v51 = (unsigned __int16)v60;
  v50 = v22;
  sub_425550(&v51, &v50, (char *)&v49, v49);
  do
  {
    v53 = v21;
    v54 = v22;
    v46 = 0;
    sub_425550(&v53, &v54, &v46, v49);
  }
  while ( v46 == (_BYTE)v49 );
  v21 = v53;
  v22 = v54;
  v29 = v51;
  v28 = v50;
  v31 = v64;
  v58 = 0;
LABEL_126:
  while ( (unsigned __int16)++v58 <= 0x32u )
  {
    if ( v29 == v55 && v28 == v30 )
      goto LABEL_158;
    if ( v29 - 1 == v55 && v28 == v30
      || v29 + 1 == v55 && v28 == v30
      || v29 == v55 && (v28 - 1 == v30 || v28 + 1 == v30) )
    {
      v31 = v64;
LABEL_158:
      v38 = dword_131ABF8;
      v39 = v57;
      dword_131AD94[dword_131ABF8] = v63 + dword_1540B4C * v31;
      dword_131ABF8 = v38 + 1;
      v39[33] = 40 * v29 + 20;
      v39[34] = 20 * v50 + 10;
      v40 = (unsigned __int8)sub_426680(
                               a1,
                               dword_131AD94[0] % (unsigned int)dword_1540B4C,
                               dword_131AD94[0] / (unsigned int)dword_1540B4C);
      v41 = dword_131ABF8 * v40;
      v39[48] = 0;
      v39[49] = (v40 ^ 1) + v41;
      qmemcpy(v39 + 50, dword_131AD94, 4 * dword_131ABF8);
      v39[35] = 40 * (dword_131AD94[0] % (unsigned int)dword_1540B4C) + 20;
      v39[36] = 20 * (dword_131AD94[0] / (unsigned int)dword_1540B4C) + 10;
      goto LABEL_82;
    }
    if ( v21 == v55 && v22 == v30
      || v21 - 1 == v55 && v22 == v30
      || v21 + 1 == v55 && v22 == v30
      || v21 == v55 && (v22 + 1 == v30 || v22 - 1 == v30) )
    {
      v42 = dword_131ABF4;
      v43 = v57;
      dword_131AC04[dword_131ABF4] = v61 + dword_1540B4C * (_DWORD)v62;
      dword_131ABF4 = v42 + 1;
      v43[33] = a2;
      v43[34] = a3;
      v44 = (unsigned __int8)sub_426680(
                               a1,
                               dword_131AC04[0] % (unsigned int)dword_1540B4C,
                               dword_131AC04[0] / (unsigned int)dword_1540B4C);
      v45 = dword_131ABF4 * v44;
      v43[48] = 0;
      v43[49] = (v44 ^ 1) + v45;
      qmemcpy(v43 + 50, dword_131AC04, 4 * dword_131ABF4);
      v43[35] = 40 * (dword_131AC04[0] % (unsigned int)dword_1540B4C) + 20;
      result = 1;
      v43[36] = 20 * (dword_131AC04[0] / (unsigned int)dword_1540B4C) + 10;
      dword_131ABF4 = 0;
      dword_131ABF8 = 0;
      return result;
    }
    v65 = (char *)(v58 & 1);
    if ( v58 & 1 )
    {
      v47 = v49;
      if ( v58 & 1 )
        v48 = v46;
    }
    v63 = v29;
    v31 = v28;
    v64 = v28;
    v61 = v21;
    v62 = (char *)v22;
    sub_425550(&v51, &v50, (char *)&v49, 0);
    sub_425550(&v53, &v54, &v46, 0);
    v33 = dword_1540B4C;
    if ( v47 != (_BYTE)v49 && !(_WORD)v65 )
    {
      v34 = dword_131ABF8;
      dword_131AD94[dword_131ABF8] = v63 + dword_1540B4C * v31;
      dword_131ABF8 = v34 + 1;
    }
    if ( v48 != v46 && !(_WORD)v65 )
    {
      v35 = v33 * v22;
      v36 = dword_131ABF4;
      dword_131AC04[dword_131ABF4] = v21 + v35;
      dword_131ABF4 = v36 + 1;
    }
    v21 = v53;
    v22 = v54;
    v29 = v51;
    v28 = v50;
  }
  dword_131ABF8 = 0;
  dword_131ABF4 = 0;
  LOWORD(result) = sub_426260(a1, a2, a3);
  if ( (_WORD)result )
  {
    v37 = v57;
    *((_DWORD *)v57 + 49) = 1;
    v37[48] = 0;
    v37[50] = dword_131AD94[0];
    v37[35] = v37[33];
    v37[36] = v37[34];
    dword_131ABF4 = 0;
    dword_131ABF8 = 0;
  }
  return (unsigned __int16)result;
}
// 131ABF4: using guessed type int dword_131ABF4;
// 131ABF8: using guessed type int dword_131ABF8;
// 131AC00: using guessed type char byte_131AC00;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (00427EC0) --------------------------------------------------------
char __cdecl sub_427EC0(int a1)
{
  LPCSTR v1; // esi
  int v2; // edi
  double v3; // st7
  int v4; // ecx
  int v5; // ebx
  double v6; // st7
  int v7; // edi
  signed int v8; // eax
  LPCSTR v9; // ebp
  int v10; // ebp
  int v11; // ebp
  int v12; // ecx
  int v13; // ebp
  signed int v14; // eax
  int v15; // eax
  int v16; // edx
  _BYTE *v17; // ebx
  int v18; // eax
  int v19; // ecx
  signed int v20; // ebp
  int v21; // eax
  int v22; // ecx
  bool v23; // zf
  __int16 v24; // ax
  int v25; // edi
  double v26; // st7
  double v27; // st7
  double v28; // st7
  CHAR v29; // al
  signed __int64 v30; // rax
  int v31; // edi
  LPCSTR *v32; // esi
  int v33; // eax
  LPCSTR v34; // esi
  signed __int64 v35; // rax
  signed __int64 v36; // rax
  signed __int64 v37; // rax
  signed __int64 v38; // rax
  int v39; // eax
  int v40; // esi
  LPCSTR *v41; // edi
  int v42; // eax
  LPCSTR v43; // esi
  signed __int64 v44; // rax
  signed __int64 v45; // rax
  signed __int64 v46; // rax
  signed __int64 v47; // rax
  int v48; // eax
  int v49; // esi
  LPCSTR *v50; // edi
  int v51; // eax
  LPCSTR v52; // esi
  signed __int64 v53; // rax
  signed __int64 v54; // rax
  signed __int64 v55; // rax
  signed __int64 v56; // rax
  int v57; // eax
  int v58; // esi
  LPCSTR *v59; // edi
  int v60; // eax
  LPCSTR v61; // esi
  signed __int64 v62; // rax
  signed __int64 v63; // rax
  signed __int64 v64; // rax
  signed __int64 v65; // rax
  int v66; // eax
  int v67; // ST2C_4
  int v68; // eax
  double v69; // st7
  int v70; // ST30_4
  CHAR v71; // cl
  int v72; // ebp
  double v73; // st7
  int v74; // edi
  int v75; // eax
  double v76; // st7
  int v77; // eax
  double v78; // st7
  int v79; // eax
  signed int v80; // ebx
  signed int v81; // ebp
  LPCSTR v82; // edi
  unsigned int v83; // edx
  int v84; // ecx
  int v85; // edx
  int v86; // edi
  int v87; // edi
  int v88; // edi
  bool v89; // sf
  unsigned __int8 v90; // of
  int v91; // ST08_4
  int v92; // ST04_4
  int v93; // ST00_4
  double v94; // st7
  int v95; // edi
  int v96; // ecx
  signed int v98; // [esp+10h] [ebp-24h]
  signed int v99; // [esp+14h] [ebp-20h]
  signed int v100; // [esp+18h] [ebp-1Ch]
  char v101; // [esp+1Ch] [ebp-18h]
  int v102; // [esp+20h] [ebp-14h]
  LPCSTR *v103; // [esp+24h] [ebp-10h]
  int v104; // [esp+24h] [ebp-10h]
  signed int v105; // [esp+28h] [ebp-Ch]
  signed int v106; // [esp+2Ch] [ebp-8h]
  LPCSTR *v107; // [esp+2Ch] [ebp-8h]
  _BYTE *v108; // [esp+30h] [ebp-4h]
  float v109; // [esp+38h] [ebp+4h]
  float v110; // [esp+38h] [ebp+4h]
  int v111; // [esp+38h] [ebp+4h]
  signed int v112; // [esp+38h] [ebp+4h]

  v106 = 0;
  while ( 1 )
  {
    v1 = (&lpString)[a1];
    v99 = (signed __int64)*((float *)v1 + 28);
    v98 = (signed __int64)*((float *)v1 + 30);
    v2 = (signed __int64)*((float *)v1 + 40);
    v3 = (double)*((signed int *)v1 + 35);
    v4 = (signed __int64)*((float *)v1 + 41);
    v5 = 0;
    v105 = 0;
    v100 = 0;
    v101 = 0;
    if ( v3 <= *((float *)v1 + 28) )
    {
      if ( v3 < *((float *)v1 + 28) )
      {
        v105 = -1;
        v99 += v2;
      }
    }
    else
    {
      v105 = 1;
      v99 += v2;
    }
    v6 = (double)*((signed int *)v1 + 36);
    if ( v6 <= *((float *)v1 + 30) )
    {
      if ( v6 < *((float *)v1 + 30) )
      {
        v100 = -1;
        v98 += v4;
      }
    }
    else
    {
      v100 = 1;
      v98 += v4;
    }
    v7 = dword_1540B4C;
    if ( *((_DWORD *)v1 + 13) != dword_131D690 )
      goto LABEL_127;
    v8 = *((unsigned __int16 *)dword_1330790
         + 4 * ((signed __int64)*((float *)v1 + 28) / 40 + dword_1540B4C * ((signed __int64)*((float *)v1 + 30) / 20)));
    if ( (signed int)(unsigned __int16)v8 < 544
      || v8 >= 1792 && v8 < 1928
      || v8 >= 5488 && v8 < 5560
      || v8 >= 5792 && v8 < 6112 )
    {
      if ( (v8 < 1800 || v8 >= 1804)
        && (v8 < 1824 || v8 >= 1840)
        && (v8 < 1842 || v8 >= 1848)
        && (v8 < 1872 || v8 >= 1877)
        && (v8 < 1888 || v8 >= 1900)
        && (v8 < 1907 || v8 >= 1912)
        && v8 != 1815
        && v8 != 1840
        && v8 != 1852
        && v8 != 1854
        && v8 != 1855
        && v8 != 1864
        && v8 != 1919 )
      {
        goto LABEL_37;
      }
LABEL_38:
      byte_13225F4 = 5;
      goto LABEL_112;
    }
    if ( (v8 < 544 || v8 >= 976)
      && (v8 < 1048 || v8 >= 1792)
      && (v8 < 2432 || v8 >= 2920)
      && (v8 < 3872 || v8 >= 4184)
      && (v8 < 5096 || v8 >= 5488)
      && (v8 < 6496 || v8 >= 6656)
      && (v8 < 6896 || v8 >= 7000)
      && (v8 < 7192 || v8 >= 7264)
      && (v8 < 7328 || v8 >= 7440) )
    {
      if ( (v8 < 4400 || v8 >= 5096) && (v8 <= 7264 || v8 >= 7328) )
      {
        if ( (v8 < 4184 || v8 >= 4400)
          && (v8 < 5560 || v8 >= 5792)
          && (v8 < 6112 || v8 >= 6424)
          && (v8 < 7440 || v8 >= 7456) )
        {
          if ( (v8 < 1928 || v8 >= 2432) && (v8 < 2920 || v8 >= 3872) && (v8 < 7000 || v8 >= 7192) )
          {
            if ( v8 < 976 || v8 >= 1048 )
            {
              if ( v8 >= 6424 && v8 < 6496 || v8 >= 6656 && v8 < 6896 )
                byte_13225F4 = 6;
            }
            else
            {
              byte_13225F4 = 4;
            }
            goto LABEL_112;
          }
          if ( v8 >= 2200 && v8 < 2204
            || v8 >= 2212 && v8 < 2215
            || v8 >= 2235 && v8 < 2245
            || v8 == 2192
            || v8 == 2204
            || v8 == 2210
            || v8 == 2249
            || v8 == 2258
            || v8 == 2260
            || v8 == 2285
            || v8 == 2286 )
          {
LABEL_37:
            byte_13225F4 = 2;
            goto LABEL_112;
          }
          byte_13225F4 = 3;
        }
        else
        {
          if ( (v8 < 4395 || v8 >= 4400)
            && (v8 < 4370 || v8 >= 4376)
            && (v8 < 4184 || v8 >= 4193)
            && (v8 < 4208 || v8 >= 4213)
            && (v8 < 4232 || v8 >= 4236)
            && v8 != 4383 )
          {
            goto LABEL_38;
          }
          byte_13225F4 = 0;
        }
      }
      else
      {
        byte_13225F4 = 1;
      }
    }
    else
    {
      byte_13225F4 = 0;
    }
LABEL_112:
    if ( byte_1322628 == 2 && dword_13225FC == 2 )
    {
      v31 = 0;
      if ( dword_1317E74 > 0 )
      {
        v32 = &lpString;
        do
        {
          v33 = (int)*v32;
          if ( *((_DWORD *)*v32 + 17) && *(_DWORD *)(v33 + 76) )
            sub_46F5D0(v33, (int)(&lpString)[dword_131D690]);
          ++v31;
          ++v32;
        }
        while ( v31 < dword_1317E74 );
      }
      v34 = (&lpString)[dword_131D690];
      if ( *((_DWORD *)v34 + 159) != -1 )
      {
        *((_DWORD *)v34 + 159) = -1;
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 113;
        *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v34 + 14);
        v35 = (signed __int64)(*((float *)v34 + 28) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v35);
        BYTE1(dword_1550B67) = (signed __int64)(*((float *)v34 + 28) * 0.025);
        v36 = (signed __int64)(*((float *)v34 + 30) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v36);
        HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v34 + 30) * 0.050000001);
        dword_1550B6B = *((_DWORD *)v34 + 14);
        v37 = (signed __int64)(*((float *)v34 + 28) * 0.025);
        byte_1550B6F = BYTE1(v37);
        byte_1550B70 = (signed __int64)(*((float *)v34 + 28) * 0.025);
        v38 = (signed __int64)(*((float *)v34 + 30) * 0.050000001);
        byte_1550B71 = BYTE1(v38);
        byte_1550B72 = (signed __int64)(*((float *)v34 + 30) * 0.050000001);
        sub_42EA60((int)v34, &byte_1550B73);
        byte_1550B78[0] = *((_DWORD *)v34 + 159) >> 24;
        byte_1550B79 = *((_DWORD *)v34 + 159) >> 16;
        byte_1550B7A = *((_WORD *)v34 + 318) >> 8;
        byte_1550B7B = v34[636];
        sub_479790(28);
      }
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      LOBYTE(dword_1550B62) = 29;
      v39 = *((_DWORD *)(&lpString)[dword_131D690] + 14);
      LOBYTE(dword_1550B67) = 1;
      *(int *)((char *)&dword_1550B62 + 1) = v39;
      sub_479790(8);
      dword_13225DC = 1;
      do
        LOBYTE(v30) = sub_479930();
      while ( dword_13225DC == 1 );
      return v30;
    }
    if ( dword_1317E74 > 0 )
    {
      v103 = &lpString;
      do
      {
        if ( v5 != dword_131D690 )
        {
          v9 = *v103;
          if ( (*v103)[48] == 1
            && (signed __int64)*((float *)v9 + 28) / 40 == (signed __int64)*((float *)v1 + 28) / 40
            && (signed __int64)*((float *)v9 + 30) / 20 == (signed __int64)*((float *)v1 + 30) / 20 )
          {
            v10 = *((_DWORD *)v9 + 42) - 1024;
            if ( !v10 )
            {
              v58 = 0;
              dword_13225DC = 1;
              if ( dword_1317E74 > 0 )
              {
                v59 = &lpString;
                do
                {
                  v60 = (int)*v59;
                  if ( *((_DWORD *)*v59 + 17) && *(_DWORD *)(v60 + 76) )
                    sub_46F5D0(v60, (int)(&lpString)[dword_131D690]);
                  ++v58;
                  ++v59;
                }
                while ( v58 < dword_1317E74 );
              }
              v61 = (&lpString)[dword_131D690];
              if ( *((_DWORD *)v61 + 159) != -1 )
              {
                *((_DWORD *)v61 + 159) = -1;
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 113;
                *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v61 + 14);
                v62 = (signed __int64)(*((float *)v61 + 28) * 0.025);
                LOBYTE(dword_1550B67) = BYTE1(v62);
                BYTE1(dword_1550B67) = (signed __int64)(*((float *)v61 + 28) * 0.025);
                v63 = (signed __int64)(*((float *)v61 + 30) * 0.050000001);
                BYTE2(dword_1550B67) = BYTE1(v63);
                HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v61 + 30) * 0.050000001);
                dword_1550B6B = *((_DWORD *)v61 + 14);
                v64 = (signed __int64)(*((float *)v61 + 28) * 0.025);
                byte_1550B6F = BYTE1(v64);
                byte_1550B70 = (signed __int64)(*((float *)v61 + 28) * 0.025);
                v65 = (signed __int64)(*((float *)v61 + 30) * 0.050000001);
                byte_1550B71 = BYTE1(v65);
                byte_1550B72 = (signed __int64)(*((float *)v61 + 30) * 0.050000001);
                sub_42EA60((int)v61, &byte_1550B73);
                byte_1550B78[0] = *((_DWORD *)v61 + 159) >> 24;
                byte_1550B79 = *((_DWORD *)v61 + 159) >> 16;
                byte_1550B7A = *((_WORD *)v61 + 318) >> 8;
                byte_1550B7B = v61[636];
                sub_479790(28);
              }
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 29;
              v66 = *((_DWORD *)(&lpString)[dword_131D690] + 14);
              LOBYTE(dword_1550B67) = 0;
              *(int *)((char *)&dword_1550B62 + 1) = v66;
              sub_479790(8);
              LOBYTE(v30) = dword_13225DC;
              for ( byte_1322628 = 1; dword_13225DC == 1; LOBYTE(v30) = sub_479930() )
                ;
              return v30;
            }
            v11 = v10 - 13;
            if ( v11 )
            {
              if ( v11 == 30 )
              {
                v40 = 0;
                dword_13225DC = 1;
                if ( dword_1317E74 > 0 )
                {
                  v41 = &lpString;
                  do
                  {
                    v42 = (int)*v41;
                    if ( *((_DWORD *)*v41 + 17) && *(_DWORD *)(v42 + 76) )
                      sub_46F5D0(v42, (int)(&lpString)[dword_131D690]);
                    ++v40;
                    ++v41;
                  }
                  while ( v40 < dword_1317E74 );
                }
                v43 = (&lpString)[dword_131D690];
                if ( *((_DWORD *)v43 + 159) != -1 )
                {
                  *((_DWORD *)v43 + 159) = -1;
                  byte_1550B60[0] = -9;
                  byte_1550B61[0] = 113;
                  LOBYTE(dword_1550B62) = 113;
                  *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v43 + 14);
                  v44 = (signed __int64)(*((float *)v43 + 28) * 0.025);
                  LOBYTE(dword_1550B67) = BYTE1(v44);
                  BYTE1(dword_1550B67) = (signed __int64)(*((float *)v43 + 28) * 0.025);
                  v45 = (signed __int64)(*((float *)v43 + 30) * 0.050000001);
                  BYTE2(dword_1550B67) = BYTE1(v45);
                  HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v43 + 30) * 0.050000001);
                  dword_1550B6B = *((_DWORD *)v43 + 14);
                  v46 = (signed __int64)(*((float *)v43 + 28) * 0.025);
                  byte_1550B6F = BYTE1(v46);
                  byte_1550B70 = (signed __int64)(*((float *)v43 + 28) * 0.025);
                  v47 = (signed __int64)(*((float *)v43 + 30) * 0.050000001);
                  byte_1550B71 = BYTE1(v47);
                  byte_1550B72 = (signed __int64)(*((float *)v43 + 30) * 0.050000001);
                  sub_42EA60((int)v43, &byte_1550B73);
                  byte_1550B78[0] = *((_DWORD *)v43 + 159) >> 24;
                  byte_1550B79 = *((_DWORD *)v43 + 159) >> 16;
                  byte_1550B7A = *((_WORD *)v43 + 318) >> 8;
                  byte_1550B7B = v43[636];
                  sub_479790(28);
                }
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 29;
                v48 = *((_DWORD *)(&lpString)[dword_131D690] + 14);
                LOBYTE(dword_1550B67) = 2;
                *(int *)((char *)&dword_1550B62 + 1) = v48;
                sub_479790(8);
                for ( LOBYTE(v30) = dword_13225DC; dword_13225DC == 1; LOBYTE(v30) = sub_479930() )
                  ;
                return v30;
              }
            }
            else if ( byte_1322628 == 2 )
            {
              v49 = 0;
              dword_13225DC = 1;
              if ( dword_1317E74 > 0 )
              {
                v50 = &lpString;
                do
                {
                  v51 = (int)*v50;
                  if ( *((_DWORD *)*v50 + 17) && *(_DWORD *)(v51 + 76) )
                    sub_46F5D0(v51, (int)(&lpString)[dword_131D690]);
                  ++v49;
                  ++v50;
                }
                while ( v49 < dword_1317E74 );
              }
              v52 = (&lpString)[dword_131D690];
              if ( *((_DWORD *)v52 + 159) != -1 )
              {
                *((_DWORD *)v52 + 159) = -1;
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 113;
                *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v52 + 14);
                v53 = (signed __int64)(*((float *)v52 + 28) * 0.025);
                LOBYTE(dword_1550B67) = BYTE1(v53);
                BYTE1(dword_1550B67) = (signed __int64)(*((float *)v52 + 28) * 0.025);
                v54 = (signed __int64)(*((float *)v52 + 30) * 0.050000001);
                BYTE2(dword_1550B67) = BYTE1(v54);
                HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v52 + 30) * 0.050000001);
                dword_1550B6B = *((_DWORD *)v52 + 14);
                v55 = (signed __int64)(*((float *)v52 + 28) * 0.025);
                byte_1550B6F = BYTE1(v55);
                byte_1550B70 = (signed __int64)(*((float *)v52 + 28) * 0.025);
                v56 = (signed __int64)(*((float *)v52 + 30) * 0.050000001);
                byte_1550B71 = BYTE1(v56);
                byte_1550B72 = (signed __int64)(*((float *)v52 + 30) * 0.050000001);
                sub_42EA60((int)v52, &byte_1550B73);
                byte_1550B78[0] = *((_DWORD *)v52 + 159) >> 24;
                byte_1550B79 = *((_DWORD *)v52 + 159) >> 16;
                byte_1550B7A = *((_WORD *)v52 + 318) >> 8;
                byte_1550B7B = v52[636];
                sub_479790(28);
              }
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 29;
              v57 = *((_DWORD *)(&lpString)[dword_131D690] + 14);
              LOBYTE(dword_1550B67) = 1;
              *(int *)((char *)&dword_1550B62 + 1) = v57;
              sub_479790(8);
              for ( LOBYTE(v30) = dword_13225DC; dword_13225DC == 1; LOBYTE(v30) = sub_479930() )
                ;
              return v30;
            }
          }
        }
        ++v5;
        ++v103;
      }
      while ( v5 < dword_1317E74 );
      v7 = dword_1540B4C;
    }
LABEL_127:
    v12 = v99 / 40;
    v102 = v99 / 40;
    if ( v99 / 40 < 0 || v12 > v7 - 1 || (v13 = v98 / 20, v104 = v98 / 20, v98 / 20 < 0) || v13 > dword_1540B50 - 1 )
    {
LABEL_320:
      LOBYTE(v30) = sub_423330((int)v1);
      return v30;
    }
    if ( !*((_DWORD *)v1 + 17) )
    {
      v14 = *((_DWORD *)dword_1330790 + 2 * (v12 + v7 * v13) + 1);
      if ( v14 != -1 && v14 >= 0x10000 )
      {
        v15 = v14 / 128 - 571;
        if ( !v15 )
        {
          *((_BYTE *)dword_1542DA4 + dword_1540B4C * (v98 / 20) + v99 / 40) = 0;
          v72 = (v99 - 240) / 40;
          v73 = (double)(40 * v72 + 20);
          *((float *)v1 + 28) = v73;
          v74 = (v98 - 300) / 20;
          v110 = (double)(20 * v74 + 10);
          *((float *)v1 + 30) = v110;
          *((float *)v1 + 29) = v110;
          *((_DWORD *)v1 + 35) = (signed __int64)v73;
          *((_DWORD *)v1 + 33) = (signed __int64)v73;
          v30 = (signed __int64)v110;
          *((_DWORD *)v1 + 36) = v30;
          *((_DWORD *)v1 + 37) = (signed int)(signed __int64)v73 / 40;
          *((_DWORD *)v1 + 34) = v30;
          *((_DWORD *)v1 + 38) = (signed int)v30 / 20;
          BYTE4(v30) = v1[172];
          *((_DWORD *)v1 + 41) = 0;
          *((_DWORD *)v1 + 40) = 0;
          *((_BYTE *)v1 + 173) = BYTE4(v30);
          *((_DWORD *)v1 + 47) = 0;
          *((_DWORD *)v1 + 25) = -1;
          *((_BYTE *)v1 + 174) = 0;
          *((_DWORD *)v1 + 150) = 0;
          *((_WORD *)v1 + 88) = 0;
          LOBYTE(v30) = (_BYTE)dword_1542DA4;
          *((_BYTE *)dword_1542DA4 + v72 + dword_1540B4C * v74) = 1;
          return v30;
        }
        if ( v15 == 1 )
        {
          *((_BYTE *)dword_1542DA4 + dword_1540B4C * (v98 / 20) + v99 / 40) = 0;
          v67 = (v99 + 240) / 40;
          v68 = 40 * v67 + 20;
          *((_DWORD *)v1 + 35) = v68;
          *((_DWORD *)v1 + 33) = v68;
          v69 = (double)v67 * 40.0 + 20.0;
          *((float *)v1 + 28) = v69;
          v70 = (v98 + 340) / 20;
          LODWORD(v30) = 20 * v70 + 10;
          *((_DWORD *)v1 + 36) = v30;
          *((_DWORD *)v1 + 34) = v30;
          v109 = (double)v70 * 20.0 + 10.0;
          *((float *)v1 + 30) = v109;
          *((float *)v1 + 29) = v109;
          *((_DWORD *)v1 + 37) = (signed int)(signed __int64)v69 / 40;
          v71 = v1[172];
          *((_DWORD *)v1 + 25) = -1;
          *((_BYTE *)v1 + 173) = v71;
          LOBYTE(v30) = 0;
          *((_DWORD *)v1 + 38) = (signed __int64)v109 / 20;
          *((_DWORD *)v1 + 41) = 0;
          *((_DWORD *)v1 + 40) = 0;
          *((_DWORD *)v1 + 47) = 0;
          *((_BYTE *)v1 + 174) = 0;
          *((_DWORD *)v1 + 150) = 0;
          *((_WORD *)v1 + 88) = 0;
          *((_BYTE *)dword_1542DA4 + v67 + dword_1540B4C * v70) = 1;
          return v30;
        }
      }
    }
    v16 = dword_1540B4C;
    v17 = dword_1547440;
    if ( (*((_BYTE *)dword_1547440 + 2 * (v12 + dword_1540B4C * (v13 + 1))) & 1) != 1
      || (*((_BYTE *)dword_1547440 + 2 * (v12 + dword_1540B4C * v13) + 2) & 1) != 1
      || (v18 = *((_DWORD *)v1 + 38),
          v19 = *((_DWORD *)v1 + 37),
          v16 = dword_1540B4C,
          (*((_BYTE *)dword_1547440 + 2 * (v19 + dword_1540B4C * (v18 - 1))) & 1) != 1)
      || (*((char *)dword_1547440 + 2 * (v19 + dword_1540B4C * v18) - 2) & 1) != 1 )
    {
      v20 = v100;
    }
    else
    {
      v20 = v100;
      if ( v105 == -1 && v100 == -1 )
      {
        *((_DWORD *)v1 + 150) = 0;
        *((_WORD *)v1 + 88) = 0;
        *((_BYTE *)v1 + 174) = 0;
LABEL_276:
        *((_DWORD *)v1 + 40) = 0;
        *((_DWORD *)v1 + 41) = 0;
        v75 = 40 * *((_DWORD *)v1 + 37) + 20;
        *((_DWORD *)v1 + 33) = v75;
        v76 = (double)v75;
        *((_DWORD *)v1 + 35) = v75;
        v77 = *((_DWORD *)v1 + 38);
        *((float *)v1 + 28) = v76;
        LODWORD(v30) = 20 * v77 + 10;
        *((_DWORD *)v1 + 34) = v30;
        v78 = (double)(signed int)v30;
        *((_DWORD *)v1 + 36) = v30;
        *((float *)v1 + 30) = v78;
        *((float *)v1 + 29) = v78;
        return v30;
      }
    }
    v108 = (char *)dword_1547440 + 2 * (v102 + v16 * (v104 - 1));
    if ( (*v108 & 1) == 1 && (*((char *)dword_1547440 + 2 * (v102 + v16 * v104) - 2) & 1) == 1 )
    {
      v21 = *((_DWORD *)v1 + 38);
      v22 = *((_DWORD *)v1 + 37);
      v23 = (*((_BYTE *)dword_1547440 + 2 * (v22 + v16 * (v21 + 1))) & 1) == 1;
      v16 = dword_1540B4C;
      if ( !v23 || (*((_BYTE *)dword_1547440 + 2 * (v22 + dword_1540B4C * v21) + 2) & 1) != 1 )
      {
        v20 = v100;
        goto LABEL_152;
      }
      v20 = v100;
      if ( v105 == 1 && v100 == 1 )
      {
LABEL_275:
        *((_BYTE *)v1 + 174) = 0;
        *((_DWORD *)v1 + 150) = 0;
        *((_WORD *)v1 + 88) = 0;
        goto LABEL_276;
      }
    }
LABEL_152:
    v24 = *((_WORD *)dword_1547440 + v102 + v16 * v104);
    if ( (v24 & 1) == 1 )
    {
      v25 = (signed __int64)*((float *)v1 + 28) % 40;
      if ( v25 == 4 && (signed __int64)*((float *)v1 + 30) % 20 == 18 && v105 == -1 && v20 == 1 && !(*(v108 - 2) & 1) )
      {
        v16 = dword_1540B4C;
        v101 = 0;
        goto LABEL_185;
      }
      if ( v25 != 36 || (signed __int64)*((float *)v1 + 30) % 20 != 2 || v105 != 1 || v20 != -1 || *(v108 - 2) & 1 )
        goto LABEL_275;
      v16 = dword_1540B4C;
      goto LABEL_164;
    }
    switch ( v105 )
    {
      case -1:
        if ( v20 == -1 )
        {
          v101 = 2;
        }
        else if ( v20 )
        {
          if ( v20 == 1 )
            v101 = 0;
        }
        else
        {
          v101 = 1;
        }
        break;
      case 0:
        if ( v20 == -1 )
        {
          v101 = 3;
        }
        else if ( !v20 || v20 == 1 )
        {
          v101 = 7;
        }
        break;
      case 1:
        if ( v20 != -1 )
        {
          if ( v20 )
          {
            if ( v20 == 1 )
              v101 = 6;
          }
          else
          {
            v101 = 5;
          }
          break;
        }
LABEL_164:
        v101 = 4;
        break;
    }
LABEL_185:
    if ( (v24 & 0x10) == 16 )
    {
      if ( sub_424ED0(*((_DWORD *)v1 + 13), v102, v104) )
        goto LABEL_320;
      v16 = dword_1540B4C;
      v17 = dword_1547440;
    }
    if ( *((_BYTE *)dword_1542DA4 + v102 + v16 * v104) == 1 )
    {
      if ( *((_DWORD *)v1 + 33) / 40 == v102 && *((_DWORD *)v1 + 34) / 20 == v104 )
        goto LABEL_320;
      if ( *((_DWORD *)v1 + 35) / 40 != v102 || *((_DWORD *)v1 + 36) / 20 != v104 )
        break;
    }
    if ( *((_DWORD *)v1 + 159) == 104 && *((_WORD *)v1 + 309) < 1 )
    {
      v99 = (signed __int64)*((float *)v1 + 28);
      v98 = (signed __int64)*((float *)v1 + 30);
    }
    if ( (v17[2 * (v99 / 40 + dword_1540B4C * (v98 / 20))] & 1) != 1 )
    {
      v26 = *((float *)v1 + 30) * 0.050000001;
      *((_DWORD *)v1 + 37) = (signed __int64)(*((float *)v1 + 28) * 0.025);
      *((_DWORD *)v1 + 38) = (signed __int64)v26;
    }
    if ( *((_DWORD *)v1 + 19) )
      *((_DWORD *)v1 + 31) = 0;
    v27 = *((float *)v1 + 30);
    *((_DWORD *)v1 + 31) = (signed __int64)*((float *)v1 + 28);
    *((_DWORD *)v1 + 32) = (signed __int64)v27;
    *((float *)v1 + 28) = (double)v99;
    v28 = (double)v98;
    *((float *)v1 + 30) = v28;
    *((float *)v1 + 29) = v28;
    *((_DWORD *)v1 + 39) = (*((_BYTE *)dword_1547440 + 2 * (v99 / 40 + dword_1540B4C * (v98 / 20))) & 2) == 2;
    *((_BYTE *)v1 + 172) = v101;
    switch ( v101 )
    {
      case 0:
        v29 = v1[173];
        switch ( *((unsigned __int8 *)v1 + 173) )
        {
          case 1u:
          case 2u:
          case 3u:
          case 4u:
            goto LABEL_210;
          case 5u:
          case 6u:
            goto LABEL_207;
          case 7u:
            goto LABEL_208;
          default:
            goto LABEL_216;
        }
      case 1:
        v29 = v1[173];
        switch ( *((unsigned __int8 *)v1 + 173) )
        {
          case 0u:
          case 6u:
            goto LABEL_207;
          case 2u:
          case 3u:
          case 4u:
          case 5u:
            goto LABEL_210;
          case 7u:
            goto LABEL_208;
          default:
            goto LABEL_216;
        }
      case 2:
        v29 = v1[173];
        switch ( *((unsigned __int8 *)v1 + 173) )
        {
          case 0u:
          case 1u:
            goto LABEL_207;
          case 3u:
          case 4u:
          case 5u:
          case 6u:
            goto LABEL_210;
          case 7u:
LABEL_208:
            *((_BYTE *)v1 + 173) = 0;
            break;
          default:
            goto LABEL_216;
        }
        break;
      case 3:
        v29 = v1[173];
        switch ( *((unsigned __int8 *)v1 + 173) )
        {
          case 0u:
          case 1u:
          case 2u:
            goto LABEL_207;
          case 4u:
          case 5u:
          case 6u:
          case 7u:
            goto LABEL_210;
          default:
            goto LABEL_216;
        }
      case 4:
        v29 = v1[173];
        switch ( *((unsigned __int8 *)v1 + 173) )
        {
          case 0u:
            goto LABEL_215;
          case 1u:
          case 2u:
          case 3u:
            goto LABEL_207;
          case 5u:
          case 6u:
          case 7u:
            goto LABEL_210;
          default:
            goto LABEL_216;
        }
      case 5:
        v29 = v1[173];
        switch ( *((unsigned __int8 *)v1 + 173) )
        {
          case 0u:
            goto LABEL_215;
          case 1u:
          case 6u:
          case 7u:
            goto LABEL_210;
          case 2u:
          case 3u:
          case 4u:
            goto LABEL_207;
          default:
            goto LABEL_216;
        }
      case 6:
        v29 = v1[173];
        switch ( *((unsigned __int8 *)v1 + 173) )
        {
          case 0u:
            goto LABEL_215;
          case 1u:
          case 2u:
          case 7u:
            goto LABEL_210;
          case 3u:
          case 4u:
          case 5u:
            goto LABEL_207;
          default:
            goto LABEL_216;
        }
      case 7:
        v29 = v1[173];
        switch ( *((unsigned __int8 *)v1 + 173) )
        {
          case 0u:
LABEL_215:
            *((_BYTE *)v1 + 173) = 7;
            break;
          case 1u:
          case 2u:
          case 3u:
LABEL_210:
            *((_BYTE *)v1 + 173) = v29 - 1;
            break;
          case 4u:
          case 5u:
          case 6u:
LABEL_207:
            *((_BYTE *)v1 + 173) = v29 + 1;
            break;
          default:
            goto LABEL_216;
        }
        break;
      default:
        break;
    }
LABEL_216:
    if ( *((_DWORD *)v1 + 159) != 105 || v106 )
    {
      LODWORD(v30) = *((_DWORD *)v1 + 42);
      if ( (unsigned int)v30 <= 0x64 || !byte_488224[v30] )
        return v30;
      ++*((_WORD *)v1 + 306);
      LOBYTE(v30) = byte_488224[v30];
      if ( (v30 & 0x80u) == 0i64 )
      {
        if ( *((_WORD *)v1 + 306) < (signed __int16)(char)v30 )
          return v30;
        *((_WORD *)v1 + 306) = 0;
      }
      else if ( v106 )
      {
        if ( ++*((_WORD *)v1 + 307) >= 0 )
        {
          *((_WORD *)v1 + 306) = 0;
          return v30;
        }
      }
      else
      {
        v106 = 1;
        *((_WORD *)v1 + 307) = (char)v30 + 1;
      }
    }
    else
    {
      v106 = 1;
    }
  }
  if ( !*((_DWORD *)v1 + 17) || !*((_DWORD *)v1 + 19) || *((_DWORD *)v1 + 23) || (v79 = 0, v111 = 0, dword_1317E74 <= 0) )
  {
    v80 = v98;
    v81 = v99;
    goto LABEL_295;
  }
  v80 = v98;
  v81 = v99;
  v107 = &lpString;
  while ( 2 )
  {
    v82 = *v107;
    if ( (*v107)[48] != 2 || v79 == dword_131D690 || *((_DWORD *)v82 + 17) || *((_DWORD *)v82 + 23) )
    {
LABEL_289:
      v111 = ++v79;
      ++v107;
      if ( v79 >= dword_1317E74 )
        goto LABEL_295;
      continue;
    }
    break;
  }
  if ( (signed __int64)*((float *)v82 + 28) / 40 != v99 / 40 || (signed __int64)*((float *)v82 + 30) / 20 != v98 / 20 )
  {
    v79 = v111;
    goto LABEL_289;
  }
  sub_46F5D0((int)v1, (int)(&lpString)[dword_131D690]);
  v83 = (signed int)((unsigned __int64)(1717986919i64 * byte_48818C[*((_DWORD *)v1 + 42)]) >> 32) >> 2;
  if ( (v83 >> 31) + v83 == 1 )
    sub_46FC00((int)v1, (int)(&lpString)[v111]);
  *((_DWORD *)v1 + 19) = 0;
LABEL_295:
  v112 = 0;
  do
  {
    switch ( rand() % 4 )
    {
      case 0:
        v84 = v80 / 20 - 1;
        goto LABEL_299;
      case 1:
        v84 = v80 / 20 + 1;
LABEL_299:
        v85 = v81 / 40;
        v86 = dword_1540B4C * v84 + v81 / 40;
        if ( !*((_BYTE *)dword_1542DA4 + v86) && (*((_BYTE *)dword_1547440 + 2 * v86) & 1) != 1 )
          goto LABEL_308;
        break;
      case 2:
        v84 = v80 / 20;
        v87 = dword_1540B4C * (v80 / 20) + v81 / 40;
        if ( *((char *)dword_1542DA4 + v87 - 1) || (*((char *)dword_1547440 + 2 * v87 - 2) & 1) == 1 )
          break;
        v85 = v81 / 40 - 1;
        goto LABEL_308;
      case 3:
        v84 = v80 / 20;
        v88 = dword_1540B4C * (v80 / 20) + v81 / 40;
        if ( !*((_BYTE *)dword_1542DA4 + v88 + 1) && (*((_BYTE *)dword_1547440 + 2 * v88 + 2) & 1) != 1 )
        {
          v85 = v81 / 40 + 1;
LABEL_308:
          *((_DWORD *)v1 + 37) = v85;
          *((_DWORD *)v1 + 38) = v84;
          v112 = 4;
        }
        break;
      default:
        break;
    }
    v90 = __OFSUB__(v112 + 1, 4);
    v89 = v112++ - 3 < 0;
  }
  while ( v89 ^ v90 );
  v91 = *((_DWORD *)v1 + 34);
  v92 = *((_DWORD *)v1 + 33);
  v93 = *((_DWORD *)v1 + 13);
  *((float *)v1 + 28) = (double)*((signed int *)v1 + 37) * 40.0 + 20.0;
  v94 = (double)*((signed int *)v1 + 38) * 20.0 + 10.0;
  *((float *)v1 + 30) = v94;
  *((float *)v1 + 29) = v94;
  if ( sub_4271B0(v93, v92, v91) )
  {
    v95 = *((_DWORD *)v1 + 35) - (unsigned __int64)(signed __int64)*((float *)v1 + 28);
    v96 = *((_DWORD *)v1 + 36) - (unsigned __int64)(signed __int64)*((float *)v1 + 30);
    if ( v95 >= 0 )
    {
      HIDWORD(v30) = v95 < 0;
      BYTE4(v30) = v95 > 0;
    }
    else
    {
      HIDWORD(v30) = -1;
    }
    if ( v96 >= 0 )
    {
      LODWORD(v30) = v96 < 0;
      LOBYTE(v30) = v96 > 0;
    }
    else
    {
      LODWORD(v30) = -1;
    }
    *((float *)v1 + 40) = (double)(4 * HIDWORD(v30));
    *((float *)v1 + 41) = (double)(2 * (signed int)v30);
  }
  else
  {
    LOBYTE(v30) = 0;
    *((_DWORD *)v1 + 41) = 0;
    *((_DWORD *)v1 + 40) = 0;
  }
  return v30;
}
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 13225DC: using guessed type int dword_13225DC;
// 13225F4: using guessed type char byte_13225F4;
// 13225FC: using guessed type int dword_13225FC;
// 1322628: using guessed type char byte_1322628;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;

//----- (00429A60) --------------------------------------------------------
int __cdecl sub_429A60(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // edx
  signed int v6; // edi
  signed int v7; // ebp
  signed int v8; // ebx
  int result; // eax
  bool v10; // zf
  bool v11; // sf
  unsigned __int8 v12; // of
  signed int i; // [esp+10h] [ebp-14h]
  signed int v14; // [esp+14h] [ebp-10h]
  int v15; // [esp+18h] [ebp-Ch]

  v5 = a2;
  v14 = 0;
  if ( a2 <= a4 )
  {
    if ( a2 >= a4 )
    {
      if ( a3 > a5 )
      {
        v6 = 0;
        v7 = -1;
        goto LABEL_18;
      }
      if ( a3 < a5 )
      {
        v6 = 0;
        v7 = 1;
        goto LABEL_18;
      }
      v6 = 0;
    }
    else
    {
      v6 = 1;
      if ( a3 > a5 )
      {
        v7 = -1;
        goto LABEL_18;
      }
      if ( a3 < a5 )
      {
        v7 = 1;
        goto LABEL_18;
      }
    }
    goto LABEL_17;
  }
  if ( a3 <= a5 )
  {
    if ( a3 < a5 )
    {
      v6 = -1;
      v7 = 1;
      goto LABEL_18;
    }
    v6 = -1;
LABEL_17:
    v7 = 0;
    goto LABEL_18;
  }
  v6 = -1;
  v7 = -1;
LABEL_18:
  v15 = 0;
  v8 = 40 * a2 + 20;
  for ( i = 20 * a3 + 10; ; i += 20 * v7 )
  {
    if ( v5 == a4 )
    {
      result = a3;
      if ( a3 == a5 )
        break;
    }
    sub_41C960(v8, i);
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = *(_DWORD *)(a1 + 168);
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(a1 + 172);
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(a1 + 173);
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = *(unsigned __int8 *)(a1 + 174);
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = *(_WORD *)(a1 + 176);
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 7;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 184) = v14 + 1;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
    if ( v14 < 29 )
      ++v14;
    result = v15 + 1;
    v12 = __OFSUB__(v15, 32);
    v10 = v15 == 32;
    v11 = v15++ - 32 < 0;
    if ( !((unsigned __int8)(v11 ^ v12) | v10) )
      break;
    a2 += v6;
    v8 += 40 * v6;
    v5 = a2;
    a3 += v7;
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;

//----- (00429CC0) --------------------------------------------------------
int __cdecl sub_429CC0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ebx
  int v7; // edx
  signed int v8; // edi
  signed int v9; // ebp
  signed int v10; // ecx
  double v11; // st7
  int result; // eax
  int v13; // ebx
  signed __int64 v14; // rax
  signed __int64 v15; // rax
  signed __int64 v16; // rax
  signed __int64 v17; // rax
  signed int v18; // [esp+10h] [ebp-4h]
  signed int v19; // [esp+20h] [ebp+Ch]
  float v20; // [esp+20h] [ebp+Ch]

  v6 = a4;
  v18 = 0;
  while ( 1 )
  {
    v7 = a3;
    if ( a3 == a5 && v6 == a6 )
      break;
    if ( a3 <= a5 )
    {
      if ( a3 >= a5 )
      {
        if ( v6 <= a6 )
        {
          if ( v6 >= a6 )
          {
            v8 = 0;
            v9 = 0;
          }
          else
          {
            v8 = 0;
            v9 = 1;
            *(_BYTE *)(a1 + 173) = 7;
            *(_BYTE *)(a1 + 172) = 7;
          }
        }
        else
        {
          v8 = 0;
          v9 = -1;
          *(_BYTE *)(a1 + 173) = 3;
          *(_BYTE *)(a1 + 172) = 3;
        }
      }
      else
      {
        v8 = 1;
        if ( v6 <= a6 )
        {
          if ( v6 >= a6 )
          {
            v9 = 0;
            *(_BYTE *)(a1 + 173) = 5;
            *(_BYTE *)(a1 + 172) = 5;
          }
          else
          {
            v9 = 1;
            *(_BYTE *)(a1 + 173) = 6;
            *(_BYTE *)(a1 + 172) = 6;
          }
        }
        else
        {
          v9 = -1;
          *(_BYTE *)(a1 + 173) = 4;
          *(_BYTE *)(a1 + 172) = 4;
        }
      }
    }
    else if ( v6 <= a6 )
    {
      if ( v6 >= a6 )
      {
        v8 = -1;
        v9 = 0;
        *(_BYTE *)(a1 + 173) = 1;
        *(_BYTE *)(a1 + 172) = 1;
      }
      else
      {
        v8 = -1;
        v9 = 1;
        *(_BYTE *)(a1 + 173) = 0;
        *(_BYTE *)(a1 + 172) = 0;
      }
    }
    else
    {
      v8 = -1;
      v9 = -1;
      *(_BYTE *)(a1 + 173) = 2;
      *(_BYTE *)(a1 + 172) = 2;
    }
    sub_41C960(40 * a3 + 20, 20 * v6 + 10);
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = *(_DWORD *)(a1 + 168);
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(a1 + 172);
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(a1 + 173);
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = *(unsigned __int8 *)(a1 + 174);
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = *(_WORD *)(a1 + 176);
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 7;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 184) = v18 + 1;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
    if ( v18 < 31 )
      ++v18;
    v6 += v9;
    a3 += v8;
  }
  v10 = *(_DWORD *)(a1 + 136);
  v19 = *(_DWORD *)(a1 + 132);
  *(_DWORD *)(a1 + 148) = v7;
  v11 = (double)v19;
  *(_DWORD *)(a1 + 152) = v6;
  *(_DWORD *)(a1 + 140) = v19;
  result = *(_DWORD *)(a1 + 52);
  *(float *)(a1 + 112) = v11;
  *(_DWORD *)(a1 + 144) = v10;
  v20 = (double)v10;
  *(float *)(a1 + 120) = v20;
  *(float *)(a1 + 116) = v20;
  if ( result == dword_131D690 )
  {
    v13 = (signed __int64)(*(float *)(a2 + 112) * -0.025) - (signed __int64)(v11 * -0.025);
    result = (signed __int64)(*(float *)(a2 + 120) * -0.050000001) - (signed __int64)(v20 * -0.050000001);
    if ( (v13 == -1
       || v13 == 1
       || (unsigned int)(signed __int64)(*(float *)(a2 + 112) * -0.025) == (unsigned int)(signed __int64)(v11 * -0.025))
      && (result == -1
       || result == 1
       || (unsigned int)(signed __int64)(*(float *)(a2 + 120) * -0.050000001) == (unsigned int)(signed __int64)(v20 * -0.050000001)) )
    {
      if ( !*(_DWORD *)(a1 + 92)
        && *(_DWORD *)(a2 + 68)
        && !*(_DWORD *)(a2 + 80)
        && !*(_DWORD *)(a2 + 76)
        && !*(_DWORD *)(a2 + 92)
        && *(_DWORD *)(a2 + 168) < 0xDCu )
      {
        sub_46FC00(a2, a1);
      }
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      LOBYTE(dword_1550B62) = 21;
      *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
      v14 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
      LOBYTE(dword_1550B67) = BYTE1(v14);
      BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
      v15 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
      BYTE2(dword_1550B67) = BYTE1(v15);
      HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
      dword_1550B6B = *(_DWORD *)(a2 + 56);
      v16 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
      byte_1550B6F = BYTE1(v16);
      byte_1550B70 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
      v17 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
      byte_1550B71 = BYTE1(v17);
      byte_1550B72 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
      sub_42EA60(a1, &byte_1550B73);
      sub_42EA60(a2, byte_1550B78);
      *(_WORD *)((char *)&dword_1550B7C + 1) = 0;
      HIBYTE(dword_1550B7C) = 1;
      byte_1550B80 = 44;
      result = sub_479790(33);
    }
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;

//----- (0042A140) --------------------------------------------------------
signed int __cdecl sub_42A140(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // ebx
  signed int v6; // edi
  signed int v7; // ebp
  signed int result; // eax
  signed int v9; // ecx
  double v10; // st7
  signed int v11; // [esp+10h] [ebp-4h]

  v5 = a3;
  v11 = 0;
  while ( a2 != a4 || v5 != a5 )
  {
    if ( a2 <= a4 )
    {
      if ( a2 >= a4 )
      {
        if ( v5 <= a5 )
        {
          if ( v5 >= a5 )
          {
            v6 = 0;
            v7 = 0;
          }
          else
          {
            v6 = 0;
            v7 = 1;
            *(_BYTE *)(a1 + 173) = 7;
            *(_BYTE *)(a1 + 172) = 7;
          }
        }
        else
        {
          v6 = 0;
          v7 = -1;
          *(_BYTE *)(a1 + 173) = 3;
          *(_BYTE *)(a1 + 172) = 3;
        }
      }
      else
      {
        v6 = 1;
        if ( v5 <= a5 )
        {
          if ( v5 >= a5 )
          {
            v7 = 0;
            *(_BYTE *)(a1 + 173) = 5;
            *(_BYTE *)(a1 + 172) = 5;
          }
          else
          {
            v7 = 1;
            *(_BYTE *)(a1 + 173) = 6;
            *(_BYTE *)(a1 + 172) = 6;
          }
        }
        else
        {
          v7 = -1;
          *(_BYTE *)(a1 + 173) = 4;
          *(_BYTE *)(a1 + 172) = 4;
        }
      }
    }
    else if ( v5 <= a5 )
    {
      if ( v5 >= a5 )
      {
        v6 = -1;
        v7 = 0;
        *(_BYTE *)(a1 + 173) = 1;
        *(_BYTE *)(a1 + 172) = 1;
      }
      else
      {
        v6 = -1;
        v7 = 1;
        *(_BYTE *)(a1 + 173) = 0;
        *(_BYTE *)(a1 + 172) = 0;
      }
    }
    else
    {
      v6 = -1;
      v7 = -1;
      *(_BYTE *)(a1 + 173) = 2;
      *(_BYTE *)(a1 + 172) = 2;
    }
    sub_41C960(40 * a2 + 20, 20 * v5 + 10);
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = *(_DWORD *)(a1 + 168);
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(a1 + 172);
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(a1 + 173);
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = *(unsigned __int8 *)(a1 + 174);
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = *(_WORD *)(a1 + 176);
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 7;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 184) = v11 + 1;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
    if ( v11 < 31 )
      ++v11;
    v5 += v7;
    a2 += v6;
  }
  v9 = *(_DWORD *)(a1 + 136);
  result = *(_DWORD *)(a1 + 132);
  *(_DWORD *)(a1 + 148) = a2;
  *(_DWORD *)(a1 + 152) = v5;
  *(_DWORD *)(a1 + 140) = result;
  *(_DWORD *)(a1 + 144) = v9;
  *(float *)(a1 + 112) = (double)result;
  v10 = (double)v9;
  *(float *)(a1 + 120) = v10;
  *(float *)(a1 + 116) = v10;
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;

//----- (0042A3F0) --------------------------------------------------------
int sub_42A3F0()
{
  int v0; // eax
  LPCSTR v1; // esi
  LPCSTR v2; // ecx
  LPCSTR v3; // edi
  int v4; // eax
  signed __int64 v5; // rax
  signed __int64 v6; // rax
  signed __int64 v7; // rax
  signed __int64 v8; // rax
  __int16 v9; // cx
  int v10; // eax
  int v11; // edx
  LPCSTR v12; // esi
  signed __int64 v13; // rax
  signed __int64 v14; // rax
  signed __int64 v15; // rax
  signed __int64 v16; // rax
  LPCSTR v17; // edi
  LPCSTR v18; // esi
  int v19; // ebp
  signed __int64 v20; // rax
  signed __int64 v21; // rax
  signed __int64 v22; // rax
  signed __int64 v23; // rax
  signed __int64 v24; // rax
  __int16 v25; // cx
  int v26; // eax
  int v27; // eax
  LPCSTR v28; // esi
  DWORD v29; // eax
  int v30; // ebp
  LPCSTR v31; // esi
  double v32; // st7
  int v33; // edx
  int v34; // edx
  int v35; // ecx
  LPCSTR v36; // edi
  unsigned int v37; // eax
  char v38; // al
  __int16 v39; // dx
  signed __int64 v40; // rax
  signed __int64 v41; // rax
  signed __int64 v42; // rax
  signed __int64 v43; // rax
  int v44; // ebx
  LPCSTR *v45; // ebp
  int v46; // edi
  int v47; // eax
  unsigned int v48; // eax
  signed __int64 v49; // rax
  signed __int64 v50; // rax
  signed __int64 v51; // rax
  signed __int64 v52; // rax
  signed __int64 v53; // rax
  signed __int64 v54; // rax
  signed __int64 v55; // rax
  signed __int64 v56; // rax
  double v57; // st7
  signed __int64 v58; // rax
  int v59; // eax
  LPCSTR v60; // eax
  int v61; // ebx
  signed __int64 v62; // rax
  int v63; // edi
  int v64; // ebp
  int v65; // ecx
  signed __int64 v66; // rax
  signed __int64 v67; // rax
  signed __int64 v68; // rax
  signed __int64 v69; // rax
  __int16 v70; // cx
  int v71; // eax
  int v72; // edx
  LPCSTR v73; // ebp
  int v74; // ebx
  signed __int64 v75; // rax
  signed int v76; // edi
  signed int v77; // eax
  LPCSTR v78; // ecx
  unsigned int v79; // eax
  int v80; // ecx
  double v81; // st7
  signed int v82; // ecx
  signed int v83; // eax
  int v84; // edi
  int v85; // ecx
  int v86; // eax
  int v87; // edx
  int v88; // edi
  double v89; // st7
  signed int v90; // ecx
  signed int v91; // eax
  CHAR v92; // al
  unsigned __int8 v93; // al
  int v94; // ecx
  int *v95; // edi
  LPCSTR v96; // esi
  int result; // eax
  int v98; // [esp+10h] [ebp-18h]
  float v99; // [esp+14h] [ebp-14h]
  float v100; // [esp+18h] [ebp-10h]
  signed int v101; // [esp+1Ch] [ebp-Ch]
  int v102; // [esp+20h] [ebp-8h]
  float v103; // [esp+24h] [ebp-4h]

  if ( !byte_1330124 || byte_1330126 )
  {
LABEL_15:
    v0 = dword_48CCE4;
    goto LABEL_16;
  }
  v0 = dword_48CCE4;
  if ( dword_48CCE4 == -1 )
    goto LABEL_25;
  v1 = (&lpString)[dword_131D690];
  if ( !v1[104] && !(_BYTE)dword_13246D8 && *((_DWORD *)v1 + 25) != dword_48CCE4 )
  {
    v2 = (&lpString)[dword_48CCE4];
    if ( v2 )
    {
      if ( v2[48] > 1u )
      {
        *((_DWORD *)v1 + 25) = dword_48CCE4;
        v3 = (&lpString)[dword_48CCE4];
        v4 = *((_DWORD *)v3 + 23);
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        if ( v4 )
        {
          LOBYTE(dword_1550B62) = 3;
          *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v1 + 14);
          sub_42EA60((int)v1, &dword_1550B67);
          v5 = (signed __int64)(*((float *)v1 + 28) * 0.025);
          BYTE1(dword_1550B6B) = BYTE1(v5);
          BYTE2(dword_1550B6B) = (signed __int64)(*((float *)v1 + 28) * 0.025);
          v6 = (signed __int64)(*((float *)v1 + 30) * 0.050000001);
          HIBYTE(dword_1550B6B) = BYTE1(v6);
          byte_1550B6F = (signed __int64)(*((float *)v1 + 30) * 0.050000001);
          v7 = (signed __int64)(*((float *)v3 + 28) * 0.025);
          byte_1550B70 = BYTE1(v7);
          byte_1550B71 = (signed __int64)(*((float *)v3 + 28) * 0.025);
          v8 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
          byte_1550B72 = BYTE1(v8);
          v9 = 0;
          byte_1550B73 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
          v98 = 0;
          v10 = *((_DWORD *)v1 + 159);
          if ( v10 != -1 )
          {
            sub_466490((int)v1, v10, &v98);
            v9 = v98;
          }
          v11 = *((_DWORD *)v1 + 159);
          byte_1550B74 = BYTE1(v11);
          byte_1550B75[0] = v1[636];
          byte_1550B76[0] = HIBYTE(v9);
          byte_1550B77[0] = v9;
          sub_479790(24);
        }
        else
        {
          LOBYTE(dword_1550B62) = 9;
          v12 = (&lpString)[dword_131D690];
          *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v12 + 14);
          dword_1550B67 = *((_DWORD *)v3 + 14);
          v13 = (signed __int64)(*((float *)v12 + 28) * 0.025);
          LOBYTE(dword_1550B6B) = BYTE1(v13);
          BYTE1(dword_1550B6B) = (signed __int64)(*((float *)v12 + 28) * 0.025);
          v14 = (signed __int64)(*((float *)v12 + 30) * 0.050000001);
          BYTE2(dword_1550B6B) = BYTE1(v14);
          HIBYTE(dword_1550B6B) = (signed __int64)(*((float *)v12 + 30) * 0.050000001);
          v15 = (signed __int64)(*((float *)v3 + 28) * 0.025);
          byte_1550B6F = BYTE1(v15);
          byte_1550B70 = (signed __int64)(*((float *)v3 + 28) * 0.025);
          v16 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
          byte_1550B71 = BYTE1(v16);
          byte_1550B72 = (signed __int64)(*((float *)v3 + 30) * 0.050000001);
          sub_42EA60((int)v12, &byte_1550B73);
          sub_42EA60((int)v3, byte_1550B78);
          sub_479790(29);
        }
        *((_DWORD *)(&lpString)[dword_131D690] + 25) = dword_48CCE4;
        goto LABEL_15;
      }
    }
  }
LABEL_16:
  if ( v0 != -1 )
  {
    v17 = (&lpString)[v0];
    if ( v17 )
    {
      v18 = (&lpString)[dword_131D690];
      v19 = (signed __int64)*((float *)v17 + 28);
      if ( v19 < dword_154794C
        || (v20 = (signed __int64)*((float *)v17 + 30), (signed int)v20 < dword_1547950)
        || v19 > dword_154794C + 800
        || (signed int)v20 > dword_1547950 + 600 )
      {
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 3;
        *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v18 + 14);
        sub_42EA60((int)v18, &dword_1550B67);
        v21 = (signed __int64)(*((float *)v18 + 28) * 0.025);
        BYTE1(dword_1550B6B) = BYTE1(v21);
        BYTE2(dword_1550B6B) = (signed __int64)(*((float *)v18 + 28) * 0.025);
        v22 = (signed __int64)(*((float *)v18 + 30) * 0.050000001);
        HIBYTE(dword_1550B6B) = BYTE1(v22);
        byte_1550B6F = (signed __int64)(*((float *)v18 + 30) * 0.050000001);
        v23 = (signed __int64)(*((float *)v18 + 28) * 0.025);
        byte_1550B70 = BYTE1(v23);
        byte_1550B71 = (signed __int64)(*((float *)v18 + 28) * 0.025);
        v24 = (signed __int64)(*((float *)v18 + 30) * 0.050000001);
        byte_1550B72 = BYTE1(v24);
        v25 = 0;
        byte_1550B73 = (signed __int64)(*((float *)v18 + 30) * 0.050000001);
        v98 = 0;
        v26 = *((_DWORD *)v18 + 159);
        if ( v26 != -1 )
        {
          sub_466490((int)v18, v26, &v98);
          v25 = v98;
        }
        v27 = *((_DWORD *)v18 + 159);
        byte_1550B74 = BYTE1(v27);
        byte_1550B75[0] = v18[636];
        byte_1550B76[0] = HIBYTE(v25);
        byte_1550B77[0] = v25;
        sub_479790(24);
        *((_DWORD *)(&lpString)[dword_131D690] + 25) = -1;
        dword_48CCE4 = -1;
        sub_423330((int)v18);
      }
    }
  }
LABEL_25:
  v28 = (&lpString)[dword_131D690];
  if ( *((_DWORD *)v28 + 37) != (unsigned int)(signed __int64)(*((float *)v28 + 28) * 0.025)
    || *((_DWORD *)v28 + 38) != (unsigned int)(signed __int64)(*((float *)v28 + 30) * 0.050000001) )
  {
    sub_423120();
  }
  v29 = GetTickCount();
  dword_13211C8 = v29;
  if ( dword_49D958 && v29 > dword_49D95C )
    dword_49D958 = 0;
  byte_49D965 = 0;
  v99 = 0.0;
  if ( dword_1317E74 > 0 )
  {
    v30 = 0;
    while ( 1 )
    {
      if ( byte_49D965 )
      {
        --v30;
        byte_49D965 = 0;
        v99 = *(float *)&v30;
      }
      v31 = (&lpString)[v30];
      v32 = *((float *)v31 + 30);
      *((_DWORD *)v31 + 158) = 0;
      v33 = (signed int)(signed __int64)v32 / 20;
      if ( v33 > dword_1540B50 )
        goto LABEL_216;
      if ( v33 < 0 )
        goto LABEL_216;
      v34 = (signed __int64)*((float *)v31 + 28) / 40;
      if ( v34 > dword_1540B4C || v34 < 0 )
        goto LABEL_216;
      if ( *((_DWORD *)v31 + 17) && *((_DWORD *)v31 + 42) < 0x5Au )
      {
        sub_41CE40((int)v31);
        goto LABEL_216;
      }
      if ( v31[48] != 2 )
        goto LABEL_216;
      sub_466510((int)v31, dword_13211C8);
      v35 = dword_131D690;
      v36 = (&lpString)[dword_131D690];
      if ( *((float *)v31 + 28) + 400.0 > *((float *)v36 + 28)
        && *((float *)v31 + 28) - 400.0 < *((float *)v36 + 28)
        && *((float *)v31 + 30) + 200.0 > *((float *)v36 + 30)
        && *((float *)v31 + 30) - 200.0 < *((float *)v36 + 30) )
      {
        if ( *((_DWORD *)v31 + 17) )
        {
          v37 = *((_DWORD *)v31 + 42);
          if ( v37 < 0xDC )
          {
            v38 = byte_48818C[v37];
            if ( v38 != 18 )
            {
              if ( v38 > 20
                && v38 <= 26
                && !*((_DWORD *)v36 + 45)
                && !*((_DWORD *)v36 + 23)
                && *((_DWORD *)v31 + 13) != dword_131D690
                && !*((_DWORD *)v31 + 19)
                && !*((_DWORD *)v31 + 20)
                && !*((_DWORD *)v31 + 23)
                && !*((_WORD *)v31 + 88)
                && *((_DWORD *)v31 + 159) != 110
                && sub_4256E0((int)v31, (signed __int64)*((float *)v36 + 28), (signed __int64)*((float *)v36 + 30)) )
              {
                if ( dword_13225AC )
                {
                  if ( *((_WORD *)v31 + 378) >= 4u )
                    sub_46FC00((int)v31, (int)(&lpString)[dword_131D690]);
                }
                else
                {
                  sub_46FC00((int)v31, (int)(&lpString)[dword_131D690]);
                }
              }
              goto LABEL_106;
            }
            if ( !*((_DWORD *)v36 + 23) && !*((_DWORD *)v31 + 23) )
              break;
          }
        }
      }
LABEL_106:
      *((_BYTE *)dword_1542DA4
      + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v31 + 30) * 0.050000001)
      + (unsigned __int16)(signed __int64)(*((float *)v31 + 28) * 0.025)) = 0;
      v57 = *((float *)v31 + 28) * 0.025;
      *(float *)&v101 = v57;
      if ( (unsigned __int16)(signed __int64)*((float *)v31 + 28) == 40 * (unsigned __int16)(signed __int64)v57 + 20 )
      {
        v58 = (signed __int64)*((float *)v31 + 30);
        if ( (unsigned __int16)v58 == 20 * (unsigned __int16)(signed __int64)(*((float *)v31 + 30) * 0.050000001) + 10 )
        {
          if ( !(&lpString)[*((_DWORD *)v31 + 25)] )
            *((_DWORD *)v31 + 25) = -1;
          v59 = *((_DWORD *)v31 + 25);
          if ( v59 != -1 )
          {
            v60 = (&lpString)[v59];
            if ( v60 )
            {
              if ( !*((_DWORD *)v31 + 23) && !*((_DWORD *)v31 + 150) )
              {
                v61 = (signed __int64)(*((float *)v60 + 28) * 0.025);
                v62 = (signed __int64)*(float *)&v101;
                v63 = v62 - v61;
                v98 = v62 - v61;
                v64 = *((_DWORD *)v31 + 25);
                v58 = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
                LODWORD(v58) = v58 - (signed __int64)(*((float *)(&lpString)[v64] + 30) * 0.050000001);
                if ( v63 != -1 && v63 != 1 && v63 || (_DWORD)v58 != -1 && (_DWORD)v58 != 1 && (_DWORD)v58 )
                {
                  if ( (&lpString)[v64] )
                  {
                    *((_DWORD *)v31 + 150) = 0;
                    *((_BYTE *)v31 + 174) = 2;
                    *((_DWORD *)v31 + 47) = 1;
                    v98 = 20 - 40 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[v64] + 28) * -0.025);
                    sub_4271B0(
                      *((_DWORD *)v31 + 13),
                      v98,
                      10
                    - 20
                    * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[*((_DWORD *)v31 + 25)] + 30)
                                                       * -0.050000001));
                  }
                }
                else
                {
                  if ( v63 == -1 )
                  {
                    if ( (_DWORD)v58 == -1 )
                    {
                      *((_BYTE *)v31 + 172) = 6;
                    }
                    else if ( (_DWORD)v58 )
                    {
                      if ( (_DWORD)v58 == 1 )
                        *((_BYTE *)v31 + 172) = 4;
                    }
                    else
                    {
                      *((_BYTE *)v31 + 172) = 5;
                    }
                  }
                  else if ( v63 )
                  {
                    if ( v63 == 1 )
                    {
                      if ( (_DWORD)v58 == -1 )
                      {
                        *((_BYTE *)v31 + 172) = 0;
                      }
                      else if ( (_DWORD)v58 )
                      {
                        if ( (_DWORD)v58 == 1 )
                          *((_BYTE *)v31 + 172) = 2;
                      }
                      else
                      {
                        *((_BYTE *)v31 + 172) = 1;
                      }
                    }
                  }
                  else if ( (_DWORD)v58 == -1 )
                  {
                    *((_BYTE *)v31 + 172) = 7;
                  }
                  else if ( (_DWORD)v58 == 1 )
                  {
                    *((_BYTE *)v31 + 172) = 3;
                  }
                  v65 = *((_DWORD *)v31 + 13);
                  *((_BYTE *)v31 + 173) = v31[172];
                  if ( v65 == dword_131D690 && !byte_1330124 )
                  {
                    *((_DWORD *)v31 + 25) = -1;
                    *((_DWORD *)v31 + 47) = 0;
                    *((_DWORD *)v31 + 150) = 0;
                    byte_1550B60[0] = -9;
                    byte_1550B61[0] = 113;
                    LOBYTE(dword_1550B62) = 3;
                    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v31 + 14);
                    sub_42EA60((int)v31, &dword_1550B67);
                    v66 = (signed __int64)(*((float *)v31 + 28) * 0.025);
                    BYTE1(dword_1550B6B) = BYTE1(v66);
                    BYTE2(dword_1550B6B) = (signed __int64)(*((float *)v31 + 28) * 0.025);
                    v67 = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
                    HIBYTE(dword_1550B6B) = BYTE1(v67);
                    byte_1550B6F = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
                    v68 = (signed __int64)(*((float *)v31 + 28) * 0.025);
                    byte_1550B70 = BYTE1(v68);
                    byte_1550B71 = (signed __int64)(*((float *)v31 + 28) * 0.025);
                    v69 = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
                    byte_1550B72 = BYTE1(v69);
                    v70 = 0;
                    byte_1550B73 = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
                    v102 = 0;
                    v71 = *((_DWORD *)v31 + 159);
                    if ( v71 != -1 )
                    {
                      sub_466490((int)v31, v71, &v102);
                      v70 = v102;
                    }
                    v72 = *((_DWORD *)v31 + 159);
                    byte_1550B74 = BYTE1(v72);
                    byte_1550B75[0] = v31[636];
                    byte_1550B76[0] = HIBYTE(v70);
                    byte_1550B77[0] = v70;
                    sub_479790(24);
                  }
                  if ( !v31[104] )
                    *((_BYTE *)v31 + 174) = 0;
                  sub_423330((int)v31);
                }
                v30 = LODWORD(v99);
              }
            }
          }
          if ( v30 == dword_131D690 )
          {
            dword_13225E4 = (*((_BYTE *)dword_1547440
                             + 2
                             * (dword_1540B4C * ((signed __int64)*((float *)(&lpString)[dword_131D690] + 30) / 20)
                              + ((signed int)((unsigned __int64)(1717986919i64
                                                               * (signed int)(signed __int64)*((float *)(&lpString)[dword_131D690]
                                                                                             + 28)) >> 32) >> 4)
                              + ((unsigned int)((unsigned __int64)(1717986919i64
                                                                 * (signed int)(signed __int64)*((float *)(&lpString)[dword_131D690]
                                                                                               + 28)) >> 32) >> 31))) & 4) == 4;
            if ( v31[104] )
            {
              if ( dword_48CCE4 != -1 )
              {
                v73 = (&lpString)[dword_48CCE4];
                if ( v73 )
                {
                  v74 = (signed __int64)(*((float *)v73 + 28) * 0.025);
                  v75 = (signed __int64)(*((float *)v31 + 28) * 0.025);
                  v76 = v75 - v74;
                  v98 = v75 - v74;
                  v77 = (signed __int64)(*((float *)v31 + 30) * 0.050000001)
                      - (signed __int64)(*((float *)v73 + 30) * 0.050000001);
                  if ( v76 < -1 || v76 > 1 || v77 < -1 || v77 > 1 )
                  {
                    *((_BYTE *)v31 + 104) = 0;
                    byte_1550B60[0] = -9;
                    byte_1550B61[0] = 113;
                    LOBYTE(dword_1550B62) = 11;
                    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v31 + 14);
                    sub_479790(7);
                  }
                }
              }
            }
          }
          else
          {
            v78 = (&lpString)[v30];
            if ( *((_DWORD *)v78 + 17) )
            {
              if ( *((_DWORD *)v78 + 19) )
              {
                v79 = *((_DWORD *)v78 + 42);
                if ( v79 > 0x64 )
                {
                  if ( *((_DWORD *)v78 + 159) == 224 )
                    off_4850C0(v78, HIDWORD(v58), (&lpString)[v30]);
                  else
                    off_48509C[byte_48818C[v79] % 10]((int)(&lpString)[v30]);
                }
              }
            }
          }
        }
      }
      v80 = *((_DWORD *)v31 + 13);
      v103 = 0.0;
      v100 = 0.0;
      if ( v80 == dword_131D690 )
        v100 = 0.0;
      if ( *((_DWORD *)v31 + 47)
        && (unsigned __int16)(signed __int64)*((float *)v31 + 28) == 40
                                                                   * (unsigned __int16)(signed __int64)(*((float *)v31 + 28) * 0.025)
                                                                   + 20
        && (unsigned __int16)(signed __int64)*((float *)v31 + 30) == 20
                                                                   * (unsigned __int16)(signed __int64)(*((float *)v31 + 30) * 0.050000001)
                                                                   + 10
        && v31[174] == 2 )
      {
        v30 = LODWORD(v99);
        *((_DWORD *)v31 + 47) = 0;
        dword_131ABF4 = 0;
        dword_131ABF8 = 0;
        if ( sub_4271B0(v30, *((_DWORD *)v31 + 33), *((_DWORD *)v31 + 34)) )
        {
          v81 = (double)*((signed int *)v31 + 35) - *((float *)v31 + 28);
          v99 = (double)*((signed int *)v31 + 36) - *((float *)v31 + 30);
          if ( v81 >= 0.0 )
            v82 = v81 > 0.0;
          else
            v82 = -1;
          v98 = v82;
          if ( v99 >= 0.0 )
            v83 = v99 > 0.0;
          else
            v83 = -1;
          v101 = 2 * v83;
          *((float *)v31 + 40) = (double)(4 * v82);
          *((float *)v31 + 41) = (double)v101;
        }
        else if ( (*((_BYTE *)dword_1547440
                   + 2
                   * ((unsigned __int16)(signed __int64)(*((float *)v31 + 28) * 0.025)
                    + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v31 + 30) * 0.050000001))) & 1) != 1 )
        {
          *((_DWORD *)v31 + 150) = 0;
          *((_BYTE *)v31 + 174) = 0;
          *((_WORD *)v31 + 88) = 0;
          sub_423330((int)v31);
        }
      }
      else
      {
        v30 = LODWORD(v99);
      }
      v84 = (signed __int64)*((float *)v31 + 28);
      if ( v84 != *((_DWORD *)v31 + 35) )
        v100 = *((float *)v31 + 40);
      v85 = (signed __int64)*((float *)v31 + 30);
      if ( v85 != *((_DWORD *)v31 + 36) )
        v103 = *((float *)v31 + 41);
      if ( (v100 != 0.0 || v103 != 0.0) && !*((_DWORD *)v31 + 150) )
      {
        sub_427EC0(v30);
        goto LABEL_206;
      }
      sub_424C20(v30, v84 / 40, v85 / 20);
      v86 = *((_DWORD *)v31 + 33);
      if ( v86 == *((_DWORD *)v31 + 35) && *((_DWORD *)v31 + 34) == *((_DWORD *)v31 + 36) )
      {
        if ( (*((_BYTE *)dword_1547440
              + 2
              * ((unsigned __int16)(signed __int64)(*((float *)v31 + 28) * 0.025)
               + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v31 + 30) * 0.050000001))) & 1) != 1
          && v31[174] == 2 )
        {
          *((_DWORD *)v31 + 150) = 0;
          *((_BYTE *)v31 + 174) = 0;
          *((_WORD *)v31 + 88) = 0;
          sub_423330((int)v31);
        }
        goto LABEL_206;
      }
      v87 = *((_DWORD *)v31 + 49);
      v88 = *((_DWORD *)v31 + 48) + 1;
      *((_DWORD *)v31 + 48) = v88;
      if ( v88 != v87 )
      {
        *((_DWORD *)v31 + 35) = 40 * (*(_DWORD *)&v31[4 * v88 + 200] % (unsigned int)dword_1540B4C) + 20;
        *((_DWORD *)v31 + 36) = 20 * (*(_DWORD *)&v31[4 * v88 + 200] / (unsigned int)dword_1540B4C) + 10;
LABEL_197:
        v89 = (double)*((signed int *)v31 + 35) - *((float *)v31 + 28);
        v99 = (double)*((signed int *)v31 + 36) - *((float *)v31 + 30);
        if ( v89 >= 0.0 )
          v90 = v89 > 0.0;
        else
          v90 = -1;
        v98 = v90;
        if ( v99 >= 0.0 )
          v91 = v99 > 0.0;
        else
          v91 = -1;
        v101 = 2 * v91;
        *((float *)v31 + 40) = (double)(4 * v90);
        *((float *)v31 + 41) = (double)v101;
LABEL_206:
        if ( !*((_DWORD *)v31 + 23) )
          *((_BYTE *)dword_1542DA4
          + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v31 + 30) * 0.050000001)
          + (unsigned __int16)(signed __int64)(*((float *)v31 + 28) * 0.025)) = 1;
        v92 = v31[184];
        if ( v92 )
        {
          v93 = v92 + 1;
          *((_BYTE *)v31 + 184) = v93;
          if ( v93 > 0x1Fu )
          {
            v30 = 0;
            *((_BYTE *)dword_1542DA4
            + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v31 + 30) * 0.050000001)
            + (unsigned __int16)(signed __int64)(*((float *)v31 + 28) * 0.025)) = 0;
            v94 = dword_1317E74;
            v98 = dword_1317E74;
            if ( dword_1317E74 > 0 )
            {
              v95 = (int *)&lpString;
              do
              {
                if ( *(LPCSTR *)(*v95 + 624) == v31 )
                {
                  sub_41CE40(*v95);
                  v94 = v98;
                  --v30;
                  --v95;
                }
                ++v30;
                ++v95;
              }
              while ( v30 < v94 );
            }
            sub_41CE40((int)v31);
            *((_BYTE *)v31 + 184) = 0;
            dword_48CCE4 = -1;
          }
        }
        goto LABEL_216;
      }
      if ( sub_4271B0(v30, v86, *((_DWORD *)v31 + 34)) )
        goto LABEL_197;
      *((_BYTE *)dword_1542DA4
      + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v31 + 30) * 0.050000001)
      + (unsigned __int16)(signed __int64)(*((float *)v31 + 28) * 0.025)) = 1;
LABEL_216:
      ++v30;
      v99 = *(float *)&v30;
      if ( v30 >= dword_1317E74 )
        goto LABEL_217;
    }
    if ( dword_1330078 != 1 )
    {
      if ( dword_1330078 == 2 )
      {
        v39 = word_131ABFE;
        if ( word_131ABFE == 52 || word_131ABFE == 85 || word_131ABFE == 104 )
          goto LABEL_76;
        sub_46F7D0((int)v31, (int)v36, 303);
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 21;
        *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v31 + 14);
        v40 = (signed __int64)(*((float *)v31 + 28) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v40);
        BYTE1(dword_1550B67) = (signed __int64)(*((float *)v31 + 28) * 0.025);
        v41 = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v41);
        HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
        dword_1550B6B = *((_DWORD *)v36 + 14);
        v42 = (signed __int64)(*((float *)v36 + 28) * 0.025);
        byte_1550B6F = BYTE1(v42);
        byte_1550B70 = (signed __int64)(*((float *)v36 + 28) * 0.025);
        v43 = (signed __int64)(*((float *)v36 + 30) * 0.050000001);
        byte_1550B71 = BYTE1(v43);
        byte_1550B72 = (signed __int64)(*((float *)v36 + 30) * 0.050000001);
        sub_42EA60((int)v31, &byte_1550B73);
        sub_42EA60((int)v36, byte_1550B78);
        *(_WORD *)((char *)&dword_1550B7C + 1) = 0;
        HIBYTE(dword_1550B7C) = 1;
        byte_1550B80 = 47;
        sub_479790(33);
        v35 = dword_131D690;
LABEL_75:
        v39 = word_131ABFE;
LABEL_76:
        v44 = 0;
        if ( dword_1317E74 > 0 )
        {
          v45 = &lpString;
          do
          {
            v46 = (int)*v45;
            v47 = *((_DWORD *)*v45 + 13);
            if ( v47 != v35 && v47 != *((_DWORD *)v31 + 13) )
            {
              if ( *(_DWORD *)(v46 + 68) )
              {
                v48 = *(_DWORD *)(v46 + 168);
                if ( v48 < 0xF3
                  && *(_DWORD *)(v46 + 76)
                  && !*(_DWORD *)(v46 + 80)
                  && !*(_DWORD *)(v46 + 92)
                  && byte_48818C[v48] != 18
                  && *((float *)v31 + 28) + 400.0 > *(float *)(v46 + 112)
                  && *((float *)v31 + 28) - 400.0 < *(float *)(v46 + 112)
                  && *((float *)v31 + 30) + 200.0 > *(float *)(v46 + 120)
                  && *((float *)v31 + 30) - 200.0 < *(float *)(v46 + 120) )
                {
                  sub_46F7D0((int)v31, v46, 303);
                  byte_1550B60[0] = -9;
                  byte_1550B61[0] = 113;
                  LOBYTE(dword_1550B62) = 21;
                  *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v31 + 14);
                  v49 = (signed __int64)(*((float *)v31 + 28) * 0.025);
                  LOBYTE(dword_1550B67) = BYTE1(v49);
                  BYTE1(dword_1550B67) = (signed __int64)(*((float *)v31 + 28) * 0.025);
                  v50 = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
                  BYTE2(dword_1550B67) = BYTE1(v50);
                  HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
                  dword_1550B6B = *(_DWORD *)(v46 + 56);
                  v51 = (signed __int64)(*(float *)(v46 + 112) * 0.025);
                  byte_1550B6F = BYTE1(v51);
                  byte_1550B70 = (signed __int64)(*(float *)(v46 + 112) * 0.025);
                  v52 = (signed __int64)(*(float *)(v46 + 120) * 0.050000001);
                  byte_1550B71 = BYTE1(v52);
                  byte_1550B72 = (signed __int64)(*(float *)(v46 + 120) * 0.050000001);
                  sub_42EA60((int)v31, &byte_1550B73);
                  sub_42EA60(v46, byte_1550B78);
                  *(_WORD *)((char *)&dword_1550B7C + 1) = 0;
                  HIBYTE(dword_1550B7C) = 1;
                  byte_1550B80 = 47;
                  sub_479790(33);
                  v35 = dword_131D690;
                  v39 = word_131ABFE;
                }
              }
            }
            ++v44;
            ++v45;
          }
          while ( v44 < dword_1317E74 );
          v30 = LODWORD(v99);
        }
        if ( byte_1324782 )
        {
          if ( byte_1324782 == 1 )
          {
            if ( v39 != 52 && v39 != 104 )
              goto LABEL_106;
          }
          else if ( byte_1324782 != 2 || v39 != 52 && v39 != 85 )
          {
            goto LABEL_106;
          }
        }
        else if ( v39 != 104 && v39 != 85 )
        {
          goto LABEL_106;
        }
        v36 = (&lpString)[v35];
        goto LABEL_105;
      }
      if ( dword_1330078 != 3 )
        goto LABEL_75;
    }
LABEL_105:
    sub_46F7D0((int)v31, (int)v36, 303);
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 21;
    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v31 + 14);
    v53 = (signed __int64)(*((float *)v31 + 28) * 0.025);
    LOBYTE(dword_1550B67) = BYTE1(v53);
    BYTE1(dword_1550B67) = (signed __int64)(*((float *)v31 + 28) * 0.025);
    v54 = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
    BYTE2(dword_1550B67) = BYTE1(v54);
    HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v31 + 30) * 0.050000001);
    dword_1550B6B = *((_DWORD *)v36 + 14);
    v55 = (signed __int64)(*((float *)v36 + 28) * 0.025);
    byte_1550B6F = BYTE1(v55);
    byte_1550B70 = (signed __int64)(*((float *)v36 + 28) * 0.025);
    v56 = (signed __int64)(*((float *)v36 + 30) * 0.050000001);
    byte_1550B71 = BYTE1(v56);
    byte_1550B72 = (signed __int64)(*((float *)v36 + 30) * 0.050000001);
    sub_42EA60((int)v31, &byte_1550B73);
    sub_42EA60((int)v36, byte_1550B78);
    *(_WORD *)((char *)&dword_1550B7C + 1) = 0;
    HIBYTE(dword_1550B7C) = 1;
    byte_1550B80 = 47;
    sub_479790(33);
    goto LABEL_106;
  }
LABEL_217:
  v96 = (&lpString)[dword_131D690];
  dword_154794C = 145 * (byte_1328E45 != 0) + (unsigned __int64)(signed __int64)*((float *)v96 + 28) - 400;
  dword_1547950 = (unsigned __int64)(signed __int64)*((float *)v96 + 30) - 250;
  result = sub_4166A0((signed __int64)*((float *)v96 + 28), (signed __int64)*((float *)v96 + 30), 0);
  if ( dword_154794C >= 0 )
  {
    result = 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0);
    if ( dword_154794C <= result )
    {
      dword_1319238 = 1;
    }
    else
    {
      dword_1319238 = 0;
      dword_154794C = 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0);
    }
  }
  else
  {
    dword_1319238 = 0;
    dword_154794C = 0;
  }
  if ( dword_1547950 >= 0 )
  {
    result = 4 * (5 * dword_1540B50 - 125);
    if ( dword_1547950 <= result )
    {
      dword_1319498 = 1;
    }
    else
    {
      dword_1319498 = 0;
      dword_1547950 = 4 * (5 * dword_1540B50 - 125);
    }
  }
  else
  {
    dword_1319498 = 0;
    dword_1547950 = 0;
  }
  return result;
}
// 48509C: using guessed type int (__cdecl *off_48509C[10])(int);
// 4850C0: using guessed type int (__fastcall *off_4850C0)(_DWORD, _DWORD, _DWORD);
// 48CCE4: using guessed type int dword_48CCE4;
// 49D958: using guessed type int dword_49D958;
// 49D95C: using guessed type int dword_49D95C;
// 49D965: using guessed type char byte_49D965;
// 1317E74: using guessed type int dword_1317E74;
// 1319238: using guessed type int dword_1319238;
// 1319498: using guessed type int dword_1319498;
// 131ABF4: using guessed type int dword_131ABF4;
// 131ABF8: using guessed type int dword_131ABF8;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13225AC: using guessed type int dword_13225AC;
// 13225E4: using guessed type int dword_13225E4;
// 13246D8: using guessed type int dword_13246D8;
// 1324782: using guessed type char byte_1324782;
// 1328E45: using guessed type char byte_1328E45;
// 1330078: using guessed type int dword_1330078;
// 1330124: using guessed type char byte_1330124;
// 1330126: using guessed type char byte_1330126;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;

//----- (0042BBE0) --------------------------------------------------------
char sub_42BBE0()
{
  int v0; // esi
  LPCSTR v1; // eax
  int v2; // ecx
  LPCSTR *v3; // edx
  LPCSTR v4; // ST00_4
  const char *v5; // edi

  v0 = 8;
  do
  {
    if ( GetAsyncKeyState(v0) )
      byte_1330114[v0] = 1;
    else
      byte_1330114[v0] = 0;
    ++v0;
  }
  while ( v0 < 255 );
  if ( dword_1322624 )
    byte_1330125 = 0;
  if ( dword_1322618 && byte_1330186 )
  {
    LOBYTE(v1) = dword_132261C ^ 1;
    byte_1330186 = 0;
    dword_132261C ^= 1u;
    return (char)v1;
  }
  LOBYTE(v1) = byte_133018E;
  if ( !byte_133018F )
  {
    if ( !byte_133018E )
      return (char)v1;
    goto LABEL_15;
  }
  if ( byte_133018E )
  {
LABEL_15:
    v1 = (&lpString)[dword_131D690];
    if ( !*((_DWORD *)v1 + 23) )
    {
      byte_133018E = 0;
      return (char)v1;
    }
  }
  v2 = 0;
  if ( dword_1317E74 <= 0 )
  {
LABEL_22:
    LOBYTE(v1) = (&lpString)[dword_131D690][174];
    if ( !(_BYTE)v1 || (_BYTE)v1 == 2 || (_BYTE)v1 == 17 )
    {
      if ( byte_133018F )
      {
        v4 = (&lpString)[dword_131D690];
        dword_48CCE4 = -1;
        sub_423330((int)v4);
        byte_1330094 = 1;
        byte_1330095 = 0;
        strcpy(byte_132963C, (const char *)&unk_48C710);
        v5 = byte_49D994;
      }
      else
      {
        byte_1330094 = 2;
        byte_1330095 = 0;
        strcpy(byte_132963C, (const char *)&unk_48C6F8);
        v5 = (const char *)&unk_48C6EC;
      }
      v1 = (LPCSTR)(strlen(v5) + 1);
      qmemcpy(byte_1329474, v5, (unsigned int)v1);
    }
  }
  else
  {
    v3 = &lpString;
    while ( 1 )
    {
      v1 = *v3;
      if ( *((_DWORD *)*v3 + 17) )
      {
        if ( *((_DWORD *)v1 + 19) )
          break;
      }
      ++v2;
      ++v3;
      if ( v2 >= dword_1317E74 )
        goto LABEL_22;
    }
  }
  byte_133018E = 0;
  byte_133018F = 0;
  return (char)v1;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1322618: using guessed type int dword_1322618;
// 132261C: using guessed type int dword_132261C;
// 1322624: using guessed type int dword_1322624;
// 1330094: using guessed type char byte_1330094;
// 1330095: using guessed type char byte_1330095;
// 1330125: using guessed type char byte_1330125;
// 1330186: using guessed type char byte_1330186;
// 133018E: using guessed type char byte_133018E;
// 133018F: using guessed type char byte_133018F;

//----- (0042BD80) --------------------------------------------------------
signed int __cdecl sub_42BD80(int a1, int a2)
{
  int v2; // ecx
  int *v3; // eax
  int v5; // edx
  bool v6; // zf

  v2 = 0;
  v3 = dword_48CEC8;
  while ( *v3 != a1 )
  {
    v3 += 2;
    ++v2;
    if ( (signed int)v3 >= (signed int)&unk_48CF40 )
      return 1;
  }
  v5 = dword_48CECC[2 * v2] - a2;
  v6 = dword_48CECC[2 * v2] == a2;
  dword_48CECC[2 * v2] = v5;
  if ( v5 < 0 || v6 )
  {
    dword_48CEC8[2 * v2] = -1;
    dword_48CECC[2 * v2] = 0;
  }
  return 1;
}
// 48CEC8: using guessed type int dword_48CEC8[];

//----- (0042BDE0) --------------------------------------------------------
signed int __cdecl sub_42BDE0(int a1, int a2)
{
  int v2; // ecx
  int *v3; // eax
  int *v4; // eax

  v2 = 0;
  v3 = dword_48CEC8;
  while ( v3 != (int *)&unk_48CF40 )
  {
    if ( *v3 != a1 )
    {
      v3 += 2;
      ++v2;
      if ( (signed int)v3 < (signed int)&unk_48CF48 )
        continue;
    }
    goto LABEL_9;
  }
  v2 = 0;
  v4 = dword_48CEC8;
  do
  {
    if ( *v4 == -1 )
      break;
    v4 += 2;
    ++v2;
  }
  while ( (signed int)v4 < (signed int)&unk_48CF40 );
LABEL_9:
  if ( v2 != 15 )
  {
    dword_48CEC8[2 * v2] = a1;
    dword_48CECC[2 * v2] += a2;
  }
  return 1;
}
// 48CEC8: using guessed type int dword_48CEC8[];

//----- (0042BE40) --------------------------------------------------------
signed int __cdecl sub_42BE40(int a1, int a2)
{
  int v2; // ecx
  int *v3; // eax
  int v5; // edx
  bool v6; // zf

  v2 = 0;
  v3 = dword_48CE28;
  while ( *v3 != a1 )
  {
    v3 += 2;
    ++v2;
    if ( (signed int)v3 >= (signed int)&unk_48CEA0 )
      return 1;
  }
  v5 = dword_48CE2C[2 * v2] - a2;
  v6 = dword_48CE2C[2 * v2] == a2;
  dword_48CE2C[2 * v2] = v5;
  if ( v5 < 0 || v6 )
  {
    dword_48CE28[2 * v2] = -1;
    dword_48CE2C[2 * v2] = 0;
  }
  return 1;
}
// 48CE28: using guessed type int dword_48CE28[];
// 48CE2C: using guessed type int dword_48CE2C[];

//----- (0042BEA0) --------------------------------------------------------
signed int __cdecl sub_42BEA0(int a1, int a2)
{
  int v2; // ecx
  int *v3; // eax
  int *v4; // eax

  v2 = 0;
  v3 = dword_48CE28;
  while ( v3 != (int *)&unk_48CEA0 )
  {
    if ( *v3 != a1 )
    {
      v3 += 2;
      ++v2;
      if ( (signed int)v3 < (signed int)&unk_48CEA8 )
        continue;
    }
    goto LABEL_9;
  }
  v2 = 0;
  v4 = dword_48CE28;
  do
  {
    if ( *v4 == -1 )
      break;
    v4 += 2;
    ++v2;
  }
  while ( (signed int)v4 < (signed int)&unk_48CEA0 );
LABEL_9:
  if ( v2 != 15 )
  {
    dword_48CE28[2 * v2] = a1;
    dword_48CE2C[2 * v2] += a2;
  }
  return 1;
}
// 48CE28: using guessed type int dword_48CE28[];
// 48CE2C: using guessed type int dword_48CE2C[];

//----- (0042BF00) --------------------------------------------------------
signed int __cdecl sub_42BF00(int a1, int a2)
{
  int v2; // ecx
  int *v3; // eax
  int *v4; // eax

  v2 = 0;
  v3 = dword_48CCE8;
  while ( v3 != dword_48CE28 )
  {
    if ( *v3 != a1 )
    {
      v3 += 2;
      ++v2;
      if ( (signed int)v3 < (signed int)&unk_48CE30 )
        continue;
    }
    goto LABEL_9;
  }
  v2 = 0;
  v4 = dword_48CCE8;
  do
  {
    if ( *v4 == -1 )
      break;
    v4 += 2;
    ++v2;
  }
  while ( (signed int)v4 < (signed int)dword_48CE28 );
LABEL_9:
  if ( v2 != 40 )
  {
    dword_48CCE8[2 * v2] = a1;
    dword_48CCEC[2 * v2] += a2;
  }
  return 1;
}
// 48CCE8: using guessed type int dword_48CCE8[];
// 48CE28: using guessed type int dword_48CE28[];

//----- (0042BF60) --------------------------------------------------------
signed int __cdecl sub_42BF60(int a1, int a2)
{
  int v2; // ecx
  int *v3; // eax
  int v5; // edx
  bool v6; // zf

  v2 = 0;
  v3 = dword_48CCE8;
  while ( *v3 != a1 )
  {
    v3 += 2;
    ++v2;
    if ( (signed int)v3 >= (signed int)dword_48CE28 )
      return 1;
  }
  v5 = dword_48CCEC[2 * v2] - a2;
  v6 = dword_48CCEC[2 * v2] == a2;
  dword_48CCEC[2 * v2] = v5;
  if ( v5 < 0 || v6 )
  {
    dword_48CCE8[2 * v2] = -1;
    dword_48CCEC[2 * v2] = 0;
  }
  return 1;
}
// 48CCE8: using guessed type int dword_48CCE8[];
// 48CE28: using guessed type int dword_48CE28[];

//----- (0042BFC0) --------------------------------------------------------
char sub_42BFC0()
{
  unsigned int v0; // ebx
  DWORD v1; // eax
  unsigned int v2; // ecx
  unsigned int v3; // esi
  int v4; // esi
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  int v7; // ebp
  LPCSTR v8; // esi
  int v9; // edi
  int v10; // ecx
  int v11; // edx
  signed int v12; // eax
  int *v13; // ecx
  LPCSTR v14; // ebp
  int v15; // ecx
  double v16; // st7
  double v17; // st7
  int v18; // esi
  unsigned __int16 v19; // dx
  signed int v20; // ecx
  unsigned __int16 v21; // dx
  int v22; // eax
  unsigned __int16 v23; // ax
  int v24; // edi
  double v25; // st7
  int v26; // edx
  int v27; // edx
  signed __int64 v28; // rax
  int v29; // esi
  int v30; // edi
  int v31; // eax
  LPCSTR v32; // esi
  signed __int64 v33; // rax
  signed __int64 v34; // rax
  int v35; // eax
  int v36; // esi
  int *v37; // ebx
  LPCSTR v38; // ecx
  int v39; // eax
  double v40; // st7
  double v41; // st7
  int v42; // edx
  int v43; // edx
  double v44; // st7
  double v45; // st7
  int v46; // edi
  int v47; // edi
  double v48; // st7
  double v49; // st7
  double v50; // st7
  signed __int64 v51; // rax
  double v52; // st7
  signed __int64 v53; // rax
  double v54; // st7
  CHAR v55; // cl
  signed __int64 v56; // rax
  signed __int64 v57; // rax
  signed __int64 v58; // rax
  signed __int64 v59; // rax
  __int16 v60; // cx
  int v61; // eax
  int v62; // edx
  __int16 v63; // dx
  __int16 v64; // bx
  int v65; // eax
  int v66; // eax
  int v67; // eax
  LPCSTR v68; // eax
  signed int v69; // eax
  LPCSTR v70; // edx
  int v71; // eax
  int v72; // edx
  int v73; // ecx
  LPCSTR v74; // eax
  LPCSTR v75; // esi
  signed __int64 v76; // rax
  signed __int64 v77; // rax
  signed __int64 v78; // rax
  signed __int64 v79; // rax
  unsigned __int16 v80; // ax
  signed int v81; // eax
  int *v82; // eax
  int v83; // ecx
  LPCSTR v84; // eax
  LPCSTR v85; // esi
  signed __int64 v86; // rax
  signed __int64 v87; // rax
  signed __int64 v88; // rax
  signed __int64 v89; // rax
  char buf[4]; // [esp+10h] [ebp-134h]
  int v92; // [esp+14h] [ebp-130h]
  char v93; // [esp+18h] [ebp-12Ch]
  char v94; // [esp+19h] [ebp-12Bh]
  char v95; // [esp+1Ah] [ebp-12Ah]
  char v96; // [esp+1Bh] [ebp-129h]
  int v97; // [esp+1Ch] [ebp-128h]
  int v98; // [esp+20h] [ebp-124h]
  int v99; // [esp+24h] [ebp-120h]
  int v100; // [esp+28h] [ebp-11Ch]
  char v101; // [esp+2Ch] [ebp-118h]
  char v102; // [esp+40h] [ebp-104h]

  v0 = rand();
  dword_132258C = (unsigned __int8)v0 + 1;
  v1 = GetTickCount();
  v2 = v1 % dword_132258C;
  dword_132258C = v1 % dword_132258C;
  if ( byte_1322588 )
  {
    if ( dword_1322584 )
    {
      if ( ++dword_131FE10 > (unsigned int)dword_13194CC )
      {
        dword_131FE10 = 0;
        dword_13194CC = v0 % 0x12C + 100;
        if ( v0 & 1 )
          v3 = -25 * (v0 % 3 + 1);
        else
          v3 = 25 * (v0 % 3 + 1);
        v4 = 4 * v3;
        if ( v2 & 1 )
          sub_416860(
            byte_1322588 + 142,
            v4 + (unsigned __int64)(signed __int64)*((float *)(&lpString)[dword_131D690] + 28),
            v4 + (unsigned __int64)(signed __int64)*((float *)(&lpString)[dword_131D690] + 30),
            0,
            0);
        else
          sub_416860(
            byte_1322588 + 143,
            v4 + (unsigned __int64)(signed __int64)*((float *)(&lpString)[dword_131D690] + 28),
            v4 + (unsigned __int64)(signed __int64)*((float *)(&lpString)[dword_131D690] + 30),
            0,
            0);
      }
    }
  }
  if ( dword_132261C )
  {
    if ( dword_132261C == 1 )
    {
      sub_401AB0();
      v5 = dword_1547910;
      *(_DWORD *)buf = 5;
      do
      {
        if ( *v5 < 32 )
          *v5 += 3;
        ++v5;
      }
      while ( (signed int)v5 < (signed int)&unk_1547924 );
      sub_4017A0();
    }
    goto LABEL_157;
  }
  sub_42BBE0();
  sub_42A3F0();
  v6 = dword_1547910;
  do
  {
    if ( *v6 < 32 )
      *v6 += 3;
    ++v6;
  }
  while ( (signed int)v6 < (signed int)&unk_1547924 );
  v7 = 0;
  for ( *(_DWORD *)buf = 0; *(_DWORD *)buf < dword_1317E74; ++*(_DWORD *)buf )
  {
    if ( byte_49D965 )
    {
      byte_49D965 = 0;
      if ( v7 > 0 )
        *(_DWORD *)buf = --v7;
    }
    v8 = (&lpString)[v7];
    v9 = (signed __int64)*((float *)v8 + 30);
    if ( v9 >= 0 && v9 <= 20 * dword_1540B50 )
    {
      v10 = (signed __int64)*((float *)v8 + 28);
      if ( v10 >= 0 && v10 <= 40 * dword_1540B4C )
      {
        v11 = v10 / 40 + dword_1540B4C * (v9 / 20);
        v12 = (unsigned int)*((unsigned __int16 *)dword_1547440 + v11) >> 6;
        if ( v12 <= 0 || v8[48] != 2 || *((_DWORD *)v8 + 17) || v7 == dword_131D690 )
        {
          if ( v8[48] == 2 )
          {
            (*(&off_486194 + *((unsigned __int8 *)v8 + 174)))((int)(&lpString)[v7]);
          }
          else if ( v8[48] == 5 )
          {
            off_4861E4[*((unsigned __int8 *)v8 + 174)]((int)(&lpString)[v7]);
          }
        }
        else
        {
          v13 = dword_48B99C;
          while ( *(v13 - 1) != (unsigned __int16)word_131ABFE || *v13 != v12 )
          {
            v13 += 4;
            if ( (signed int)v13 >= (signed int)&unk_48BA5C )
            {
              *((_BYTE *)dword_1542DA4 + v11) = 0;
              sub_41CE40((int)(&lpString)[*(_DWORD *)buf]);
              goto LABEL_43;
            }
          }
          (*(&off_486194 + *((unsigned __int8 *)v8 + 174)))((int)(&lpString)[v7]);
        }
      }
    }
LABEL_43:
    v7 = *(_DWORD *)buf + 1;
  }
  if ( !dword_13225E0 )
    sub_472B40();
  sub_4770A0();
  v14 = (&lpString)[dword_131D690];
  if ( *((float *)v14 + 28) >= 10.0 )
  {
    v15 = 40 * dword_1540B4C;
    v92 = 40 * dword_1540B4C - 20;
    if ( (double)v92 < *((float *)v14 + 28) )
    {
      v92 = v15 - 40;
      v16 = (double)(v15 - 40) + 20.0;
      *((float *)v14 + 28) = v16;
      *((_DWORD *)v14 + 37) = (signed int)(signed __int64)v16 / 40;
      sub_423330((int)v14);
    }
  }
  else
  {
    *((_DWORD *)v14 + 28) = 1092616192;
  }
  if ( *((float *)v14 + 30) >= 10.0 )
  {
    v92 = 20 * dword_1540B50 - 10;
    v17 = (double)v92;
    if ( v17 < *((float *)v14 + 30) )
    {
      *((float *)v14 + 30) = v17;
      *((_DWORD *)v14 + 38) = (signed int)(signed __int64)v17 / 20;
      sub_423330((int)v14);
    }
  }
  else
  {
    *((_DWORD *)v14 + 30) = 1092616192;
  }
  sub_479230();
  v18 = dword_1540B4C;
  v19 = *((_WORD *)dword_1547440
        + dword_1540B4C * ((signed __int64)*((float *)v14 + 30) / 20)
        + ((signed int)((unsigned __int64)(1717986919i64 * (signed int)(signed __int64)*((float *)v14 + 28)) >> 32) >> 4)
        + ((unsigned int)((unsigned __int64)(1717986919i64 * (signed int)(signed __int64)*((float *)v14 + 28)) >> 32) >> 31));
  v20 = (unsigned int)v19 >> 6;
  *(_DWORD *)buf = (unsigned int)v19 >> 6;
  if ( v20 > 0 && !dword_1319494 )
  {
    v21 = 0;
    while ( 1 )
    {
      v22 = 4 * v21;
      if ( dword_48B998[v22] == (unsigned __int16)word_131ABFE && dword_48B99C[v22] == v20 )
        break;
      if ( ++v21 >= 0xCu )
        goto LABEL_67;
    }
    if ( !dword_1322614 )
      goto LABEL_157;
    v23 = 0;
    while ( dword_48CEC8[2 * v23] != 414 )
    {
      if ( ++v23 >= 0xFu )
        goto LABEL_157;
    }
    sub_42BD80(414, 1);
    v18 = dword_1540B4C;
LABEL_67:
    v24 = 0;
    dword_131ABF0 = (unsigned __int16)word_131ABFE;
    dword_13225DC = 1;
    v25 = *((float *)v14 + 28);
    v98 = 0;
    v100 = v18;
    v97 = dword_1540B50;
    v26 = (signed int)(signed __int64)v25 / 40;
    if ( v26 < 1 || v26 > v18 - 2 )
    {
      if ( *((float *)v14 + 28) * 0.025 >= 1.0 )
      {
        v92 = v18 - 1;
        *((float *)v14 + 28) = (double)(v18 - 1) * 40.0 + 20.0;
      }
      else
      {
        *((_DWORD *)v14 + 28) = 1101004800;
      }
      while ( 1 )
      {
        v29 = (signed __int64)*((float *)v14 + 30) / 20 + v24;
        if ( v29 <= 0
          || (unsigned int)*((unsigned __int16 *)dword_1547440
                           + (signed __int64)*((float *)v14 + 28) / 40
                           + dword_1540B4C * v29) >> 6 != *(_DWORD *)buf )
        {
          break;
        }
        --v24;
        ++v98;
      }
    }
    else
    {
      v27 = (signed __int64)*((float *)v14 + 30) / 20;
      if ( v27 < 1 || v27 >= dword_1540B50 - 4 )
      {
        if ( *((float *)v14 + 30) * 0.050000001 >= 1.0 )
        {
          v92 = dword_1540B50 - 3;
          *((float *)v14 + 30) = (double)(dword_1540B50 - 3) * 20.0 + 10.0;
        }
        else
        {
          *((_DWORD *)v14 + 30) = 1092616192;
        }
        v28 = (signed __int64)*((float *)v14 + 28);
        v92 = (signed int)v28 / 40;
        while ( v92 > 0
             && (unsigned int)*((unsigned __int16 *)dword_1547440
                              + v24
                              + (signed int)v28 / 40
                              + dword_1540B4C * ((signed __int64)*((float *)v14 + 30) / 20)) >> 6 == *(_DWORD *)buf )
        {
          --v24;
          --v92;
          ++v98;
        }
      }
    }
    v30 = 0;
    if ( dword_1317E74 )
    {
      v31 = 0;
      do
      {
        v32 = (&lpString)[v31];
        if ( *((_DWORD *)v32 + 17) && *((_DWORD *)v32 + 19) )
        {
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 18;
          *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v32 + 14);
          v33 = (signed __int64)(*((float *)v32 + 28) * 0.025);
          LOBYTE(dword_1550B67) = BYTE1(v33);
          BYTE1(dword_1550B67) = (signed __int64)(*((float *)v32 + 28) * 0.025);
          v34 = (signed __int64)(*((float *)v32 + 30) * 0.050000001);
          BYTE2(dword_1550B67) = BYTE1(v34);
          HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v32 + 30) * 0.050000001);
          dword_1550B6B = *((_DWORD *)(&lpString)[dword_131D690] + 14);
          sub_479790(15);
        }
        v31 = (unsigned __int16)++v30;
      }
      while ( (unsigned __int16)v30 < (unsigned int)dword_1317E74 );
    }
    dword_48CCE4 = -1;
    *((_DWORD *)(&lpString)[dword_131D690] + 25) = -1;
    sprintf(&v101, a03dMap, *(_DWORD *)buf);
    word_131ABFE = *(_WORD *)buf;
    sub_422950(&v101);
    sub_424410(byte_4897A8[(unsigned __int16)word_131ABFE], (unsigned __int8)byte_1547958);
    v35 = (unsigned __int16)dword_1317E74;
    v36 = 0;
    v99 = (unsigned __int16)dword_1317E74;
    if ( (unsigned __int16)dword_1317E74 - 1 > 0 )
    {
      v37 = &dword_49DA24;
      do
      {
        v38 = (&lpString)[dword_131D690];
        if ( *((_DWORD *)v38 + 159) == -1 || *(LPCSTR *)(*v37 + 624) != v38 )
        {
          sub_41CE40(*v37);
          v35 = v99;
        }
        else
        {
          ++v37;
        }
        ++v36;
      }
      while ( v36 < v35 - 1 );
      v36 = 0;
    }
    byte_49D965 = 0;
    sub_477670((unsigned __int16)word_131ABFE);
    v93 = 0;
    v94 = 1;
    v95 = 95;
    v96 = -113;
    switch ( word_131ABFE )
    {
      case 52:
        sub_41CB10(4540, 3190, (int)&v93);
        break;
      case 85:
        sub_41CB10(3260, 1910, (int)&v93);
        break;
      case 104:
        sub_41CB10(3220, 1970, (int)&v93);
        break;
      default:
        goto LABEL_105;
    }
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1037;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 1;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
    *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
    *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(float *)(dword_49DA1C[dword_1317E74] + 112) + 5.0;
LABEL_105:
    v39 = 9 * *(_DWORD *)buf;
    if ( dword_48A8B8[9 * *(_DWORD *)buf] == dword_131ABF0 )
    {
      *((float *)v14 + 28) = (double)dword_48A8BC[v39] * 40.0 + 20.0;
      v40 = (double)dword_48A8C0[9 * *(_DWORD *)buf];
    }
    else if ( dword_48A8C4[v39] == dword_131ABF0 )
    {
      *((float *)v14 + 28) = (double)dword_48A8C8[v39] * 40.0 + 20.0;
      v40 = (double)dword_48A8CC[9 * *(_DWORD *)buf];
    }
    else
    {
      if ( dword_48A8D0[v39] != dword_131ABF0 )
      {
        v42 = (signed __int64)*((float *)v14 + 28) / 40;
        if ( v42 < 1 )
          goto LABEL_224;
        if ( v42 <= v100 - 2 )
        {
          v43 = (signed __int64)*((float *)v14 + 30) / 20;
          if ( v43 < 1 )
            goto LABEL_225;
          if ( v43 < v97 - 4 )
            goto LABEL_144;
          if ( v43 >= 1 )
          {
            *((_DWORD *)v14 + 30) = 1092616192;
          }
          else
          {
LABEL_225:
            v97 = dword_1540B50 - 3;
            *((float *)v14 + 30) = (double)(dword_1540B50 - 3) * 20.0 + 10.0;
          }
          while ( v36 < dword_1540B4C - 1
               && (unsigned int)*((unsigned __int16 *)dword_1547440
                                + v36
                                + dword_1540B4C * ((signed __int64)*((float *)v14 + 30) / 20)) >> 6 != dword_131ABF0 )
            ++v36;
          while ( v98 > 0
               && (unsigned int)*((unsigned __int16 *)dword_1547440
                                + v36
                                + dword_1540B4C * ((signed __int64)*((float *)v14 + 30) / 20)) >> 6 == dword_131ABF0 )
          {
            ++v36;
            --v98;
          }
          v97 = 40 * v36;
          *((float *)v14 + 28) = (double)(40 * v36) + 20.0;
          v44 = *((float *)v14 + 30);
          if ( (signed int)(signed __int64)v44 / 20 )
            v45 = v44 - 20.0;
          else
            v45 = v44 + 20.0;
          *((float *)v14 + 30) = v45;
          *((_DWORD *)v14 + 29) = *((_DWORD *)v14 + 30);
          goto LABEL_144;
        }
        if ( v42 >= 1 )
        {
          *((_DWORD *)v14 + 28) = 1101004800;
        }
        else
        {
LABEL_224:
          v97 = dword_1540B4C - 1;
          *((float *)v14 + 28) = (double)(dword_1540B4C - 1) * 40.0 + 20.0;
        }
        v46 = 0;
        v97 = dword_1540B50 - 3;
        while ( v36 < v97
             && (unsigned int)*((unsigned __int16 *)dword_1547440 + v46 + (signed __int64)*((float *)v14 + 28) / 40) >> 6 != dword_131ABF0 )
        {
          ++v36;
          v46 += dword_1540B4C;
        }
        v47 = v36 * dword_1540B4C;
        while ( v98 > 0
             && (unsigned int)*((unsigned __int16 *)dword_1547440 + v47 + (signed __int64)*((float *)v14 + 28) / 40) >> 6 == dword_131ABF0 )
        {
          ++v36;
          v47 += dword_1540B4C;
          --v98;
        }
        v97 = 20 * v36;
        v48 = (double)(20 * v36) + 10.0;
        *((float *)v14 + 30) = v48;
        *((float *)v14 + 29) = v48;
        v49 = *((float *)v14 + 28);
        if ( (signed int)(signed __int64)v49 / 40 )
          v50 = v49 - 40.0;
        else
          v50 = v49 + 40.0;
        *((float *)v14 + 28) = v50;
        goto LABEL_144;
      }
      *((float *)v14 + 28) = (double)dword_48A8D4[v39] * 40.0 + 20.0;
      v40 = (double)dword_48A8D8[9 * *(_DWORD *)buf];
    }
    v41 = v40 * 20.0 + 10.0;
    *((float *)v14 + 30) = v41;
    *((float *)v14 + 29) = v41;
LABEL_144:
    v51 = (signed __int64)*((float *)v14 + 28);
    v52 = *((float *)v14 + 29);
    *((_DWORD *)v14 + 35) = v51;
    *((_DWORD *)v14 + 33) = v51;
    v53 = (signed __int64)v52;
    v54 = *((float *)v14 + 28);
    *((_DWORD *)v14 + 36) = v53;
    *((_DWORD *)v14 + 34) = v53;
    v55 = v14[172];
    *((_DWORD *)v14 + 37) = (signed int)(signed __int64)v54 / 40;
    *((_DWORD *)v14 + 41) = 0;
    *((_DWORD *)v14 + 38) = (signed int)v53 / 20;
    *((_DWORD *)v14 + 40) = 0;
    *((_BYTE *)v14 + 173) = v55;
    *((_DWORD *)v14 + 47) = 0;
    *((_DWORD *)v14 + 25) = -1;
    *((_BYTE *)v14 + 174) = 0;
    *((_DWORD *)v14 + 150) = 0;
    *((_WORD *)v14 + 88) = 0;
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 3;
    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v14 + 14);
    sub_42EA60((int)v14, &dword_1550B67);
    v56 = (signed __int64)(*((float *)v14 + 28) * 0.025);
    BYTE1(dword_1550B6B) = BYTE1(v56);
    BYTE2(dword_1550B6B) = (signed __int64)(*((float *)v14 + 28) * 0.025);
    v57 = (signed __int64)(*((float *)v14 + 30) * 0.050000001);
    HIBYTE(dword_1550B6B) = BYTE1(v57);
    byte_1550B6F = (signed __int64)(*((float *)v14 + 30) * 0.050000001);
    v58 = (signed __int64)(*((float *)v14 + 28) * 0.025);
    byte_1550B70 = BYTE1(v58);
    byte_1550B71 = (signed __int64)(*((float *)v14 + 28) * 0.025);
    v59 = (signed __int64)(*((float *)v14 + 30) * 0.050000001);
    byte_1550B72 = BYTE1(v59);
    v60 = 0;
    byte_1550B73 = (signed __int64)(*((float *)v14 + 30) * 0.050000001);
    v99 = 0;
    v61 = *((_DWORD *)v14 + 159);
    if ( v61 != -1 )
    {
      sub_466490((int)v14, v61, &v99);
      v60 = v99;
    }
    v62 = *((_DWORD *)v14 + 159);
    byte_1550B74 = BYTE1(v62);
    byte_1550B75[0] = v14[636];
    byte_1550B76[0] = HIBYTE(v60);
    byte_1550B77[0] = v60;
    sub_479790(24);
    v63 = word_131ABFE;
    v64 = dword_131ABF0;
    if ( byte_48BC38[dword_131ABF0] != byte_48BC38[(unsigned __int16)word_131ABFE] )
    {
      v65 = (unsigned __int8)byte_48BC38[(unsigned __int16)word_131ABFE];
      byte_1560A78 = 1;
      if ( v65 )
      {
        v66 = v65 - 1;
        if ( v66 )
        {
          if ( v66 == 1 )
          {
            word_1551334 = 8600;
            strcpy(byte_1551F14, byte_49D8BC);
          }
        }
        else
        {
          word_1551334 = 8500;
          strcpy(byte_1551F14, byte_49D8D0);
        }
      }
      else
      {
        word_1551334 = 8700;
        strcpy(byte_1551F14, byte_49D8E4);
      }
    }
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 32;
    BYTE1(dword_1550B62) = HIBYTE(v64);
    BYTE2(dword_1550B62) = v64;
    HIBYTE(dword_1550B62) = HIBYTE(v63);
    byte_1550B66 = v63;
    dword_1550B67 = *((_DWORD *)v14 + 14);
    sub_479790(11);
    while ( dword_13225DC == 1 )
      sub_479930();
    if ( byte_1560A78 )
    {
      sub_41A820(dword_131ABF0, word_131ABFE);
      byte_1560A78 = 0;
    }
  }
LABEL_157:
  if ( byte_1330094 != 1 )
  {
    if ( byte_1330094 != 2 )
    {
      LOBYTE(v67) = byte_1330094 - 3;
      if ( byte_1330094 == 3 && byte_1322634 == 2 )
      {
        if ( byte_1330095 == 1 )
        {
          byte_1330094 = 0;
          byte_1330095 = 0;
          byte_1322634 = 3;
          byte_1330080 = 1;
          sprintf(byte_1324784, &byte_48C740, &unk_13194B8);
          strcpy((char *)&unk_13247E8, (const char *)&unk_48C724);
          dword_1330084 = 2;
          sub_416860(12, 0, 0, 0, 0);
          byte_1328E45 = 15;
          LOBYTE(dword_132A268) = 0;
          v69 = 0;
          do
          {
            dword_132A270[2 * v69] = -1;
            dword_1329450[2 * v69++] = -1;
          }
          while ( v69 < 4 );
          *(_DWORD *)buf = v69;
          dword_13226CC = 0;
          v70 = (&lpString)[dword_131D690];
          dword_1329638 = 0;
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 44;
          *(int *)((char *)&dword_1550B62 + 1) = dword_13211CC;
          dword_1550B67 = *((_DWORD *)v70 + 14);
          LOBYTE(dword_1550B6B) = 1;
          sub_479790(12);
          LOBYTE(v67) = byte_133005C;
          if ( !byte_133005C )
          {
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 19;
            *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)(&lpString)[dword_131D690] + 14);
            sub_479790(7);
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 67;
            sub_479790(3);
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 100;
            LOBYTE(v67) = sub_479790(3);
          }
        }
        else
        {
          LOBYTE(v67) = byte_1330095 - 2;
          if ( byte_1330095 == 2 )
          {
            byte_1330094 = 0;
            byte_1330095 = 0;
            v68 = (&lpString)[dword_131D690];
            byte_1322634 = 0;
            byte_1330080 = 0;
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 44;
            *(int *)((char *)&dword_1550B62 + 1) = dword_13211CC;
            dword_1550B67 = *((_DWORD *)v68 + 14);
            LOBYTE(dword_1550B6B) = 2;
            LOBYTE(v67) = sub_479790(12);
          }
        }
      }
      return v67;
    }
    v71 = (unsigned __int8)byte_1330095 - 1;
    if ( byte_1330095 != 1 )
      goto LABEL_169;
    v72 = dword_1317E74;
    v73 = 0;
    byte_1330094 = 0;
    byte_1330095 = 0;
    for ( *(_DWORD *)buf = 0; v73 < v72; *(_DWORD *)buf = v73 )
    {
      v74 = (&lpString)[v73];
      if ( *((_DWORD *)v74 + 17) && *((_DWORD *)v74 + 19) )
      {
        sub_46F5D0((int)v74, (int)(&lpString)[dword_131D690]);
        v73 = *(_DWORD *)buf;
        v72 = dword_1317E74;
      }
      ++v73;
    }
    byte_1322628 = 0;
    v75 = (&lpString)[dword_131D690];
    if ( *((_DWORD *)v75 + 159) != -1 )
    {
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      LOBYTE(dword_1550B62) = 113;
      *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v75 + 14);
      v76 = (signed __int64)(*((float *)v75 + 28) * 0.025);
      LOBYTE(dword_1550B67) = BYTE1(v76);
      BYTE1(dword_1550B67) = (signed __int64)(*((float *)v75 + 28) * 0.025);
      v77 = (signed __int64)(*((float *)v75 + 30) * 0.050000001);
      BYTE2(dword_1550B67) = BYTE1(v77);
      HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v75 + 30) * 0.050000001);
      dword_1550B6B = *((_DWORD *)v75 + 14);
      v78 = (signed __int64)(*((float *)v75 + 28) * 0.025);
      byte_1550B6F = BYTE1(v78);
      byte_1550B70 = (signed __int64)(*((float *)v75 + 28) * 0.025);
      v79 = (signed __int64)(*((float *)v75 + 30) * 0.050000001);
      byte_1550B71 = BYTE1(v79);
      byte_1550B72 = (signed __int64)(*((float *)v75 + 30) * 0.050000001);
      sub_42EA60((int)v75, &byte_1550B73);
      byte_1550B78[0] = *((_DWORD *)v75 + 159) >> 24;
      byte_1550B79 = *((_DWORD *)v75 + 159) >> 16;
      byte_1550B7A = *((_WORD *)v75 + 318) >> 8;
      byte_1550B7B = v75[636];
      sub_479790(28);
      LOWORD(v72) = dword_1317E74;
    }
    v80 = word_131ABFE;
    word_131ABFE = dword_131A880;
    dword_131ABF0 = v80;
    if ( byte_48BC38[(unsigned __int16)dword_131A880] == byte_48BC38[v80] )
      goto LABEL_206;
    *(_DWORD *)buf = 0;
    v99 = (unsigned __int16)v72;
    if ( (unsigned __int16)v72 - 1 > 0 )
    {
      do
      {
        sub_41CE40(dword_49DA24);
        ++*(_DWORD *)buf;
      }
      while ( *(_DWORD *)buf < v99 - 1 );
    }
    byte_49D965 = 0;
    dword_13225E0 = dword_48BA58[(unsigned __int16)word_131ABFE];
    sprintf(&v102, a03dMap, (unsigned __int16)word_131ABFE);
    sub_422950(&v102);
    sub_477670((unsigned __int16)word_131ABFE);
    v93 = 0;
    v94 = 1;
    v95 = 95;
    v96 = -113;
    switch ( word_131ABFE )
    {
      case 52:
        sub_41CB10(4540, 3190, (int)&v93);
        break;
      case 85:
        sub_41CB10(3260, 1910, (int)&v93);
        break;
      case 104:
        sub_41CB10(3220, 1970, (int)&v93);
        break;
      default:
        goto LABEL_188;
    }
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1037;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 1;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
    *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
    *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(float *)(dword_49DA1C[dword_1317E74] + 112) + 5.0;
LABEL_188:
    if ( byte_1322628 )
    {
      if ( byte_1322628 == 1 )
      {
        byte_1322628 = 2;
      }
      else if ( byte_1322628 == 2 )
      {
        byte_1322628 = 0;
      }
      if ( byte_133005C )
        goto LABEL_194;
    }
    else
    {
      *((_DWORD *)(&lpString)[dword_131D690] + 23) = 0;
      *((_DWORD *)(&lpString)[dword_131D690] + 150) = 0;
      v81 = 0;
      *((_BYTE *)(&lpString)[dword_131D690] + 174) = 0;
      dword_1322658 = 0;
      LOBYTE(dword_13246D8) = 0;
      byte_1328E45 = 0;
      dword_48CCE4 = -1;
      dword_489040 = -1;
      dword_132260C = 0;
      dword_1330060 = 0;
      dword_48CF70 = -1;
      dword_48CF6C = -1;
      dword_133007C = 0;
      byte_1330080 = 0;
      byte_133005C = 0;
      byte_131D68C = 0;
      byte_131AC00 = 0;
      dword_1330054 = 0;
      dword_133004C = 0;
      dword_1330058 = 0;
      dword_1330050 = 0;
      dword_48CF9C = -1;
      dword_1330018 = 0;
      dword_1330014 = 0;
      dword_133001C = 0;
      dword_1330024 = 0;
      dword_1330020 = 0;
      LOBYTE(dword_132A268) = 0;
      byte_13225E8 = 0;
      byte_13225E9 = 0;
      do
      {
        dword_48CEC8[v81] = -1;
        dword_48CE28[v81] = -1;
        dword_48CECC[v81] = 0;
        dword_48CE2C[v81] = 0;
        v81 += 2;
      }
      while ( v81 < 30 );
      v82 = dword_48CCEC;
      *(_DWORD *)buf = 40;
      do
      {
        *(v82 - 1) = -1;
        *v82 = 0;
        v82 += 2;
      }
      while ( (signed int)v82 < (signed int)dword_48CE2C );
      dword_48CF7C = -1;
      dword_48CF80 = -1;
      dword_48CF84 = -1;
      dword_48CF88 = -1;
      dword_48CF8C = -1;
      dword_48CF90 = -1;
      dword_48CF94 = -1;
      dword_48CF74 = -1;
      dword_48CF78 = -1;
    }
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 19;
    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)(&lpString)[dword_131D690] + 14);
    sub_479790(7);
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 67;
    sub_479790(3);
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 100;
    sub_479790(3);
LABEL_194:
    byte_1560A78 = 2;
    if ( byte_48BC38[(unsigned __int16)word_131ABFE] )
    {
      if ( byte_48BC38[(unsigned __int16)word_131ABFE] == 1 )
      {
        word_1551334 = 8500;
        strcpy(byte_1551F14, byte_49D8D0);
      }
      else if ( byte_48BC38[(unsigned __int16)word_131ABFE] == 2 )
      {
        word_1551334 = 8600;
        strcpy(byte_1551F14, byte_49D8BC);
      }
    }
    else
    {
      word_1551334 = 8700;
      strcpy(byte_1551F14, byte_49D8E4);
    }
LABEL_206:
    BYTE2(dword_1550B62) = dword_131A880;
    byte_1550B60[0] = -9;
    byte_1550B66 = dword_1322594;
    BYTE1(dword_1550B62) = BYTE1(dword_131A880);
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 49;
    HIBYTE(dword_1550B62) = BYTE1(dword_1322594);
    LOBYTE(dword_1550B67) = BYTE1(dword_1322598);
    BYTE1(dword_1550B67) = dword_1322598;
    sub_479790(9);
    dword_13225DC = 1;
    do
      sub_479930();
    while ( dword_13225DC == 1 );
    LOBYTE(v67) = byte_1560A78;
    if ( byte_1560A78 )
    {
      LOBYTE(v67) = sub_41A820(dword_131ABF0, word_131ABFE);
      byte_1560A78 = 0;
    }
    return v67;
  }
  v71 = (unsigned __int8)byte_1330095 - 1;
  if ( byte_1330095 != 1 )
  {
LABEL_169:
    v67 = v71 - 1;
    if ( !v67 )
    {
      byte_1330094 = 0;
      byte_1330095 = 0;
    }
    return v67;
  }
  v83 = 0;
  byte_1330094 = 0;
  byte_1330095 = 0;
  for ( *(_DWORD *)buf = 0; v83 < dword_1317E74; *(_DWORD *)buf = v83 )
  {
    v84 = (&lpString)[v83];
    if ( *((_DWORD *)v84 + 17) && *((_DWORD *)v84 + 19) )
    {
      sub_46F5D0((int)v84, (int)(&lpString)[dword_131D690]);
      v83 = *(_DWORD *)buf;
    }
    ++v83;
  }
  v85 = (&lpString)[dword_131D690];
  if ( *((_DWORD *)v85 + 159) != -1 )
  {
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 113;
    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v85 + 14);
    v86 = (signed __int64)(*((float *)v85 + 28) * 0.025);
    LOBYTE(dword_1550B67) = BYTE1(v86);
    BYTE1(dword_1550B67) = (signed __int64)(*((float *)v85 + 28) * 0.025);
    v87 = (signed __int64)(*((float *)v85 + 30) * 0.050000001);
    BYTE2(dword_1550B67) = BYTE1(v87);
    HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v85 + 30) * 0.050000001);
    dword_1550B6B = *((_DWORD *)v85 + 14);
    v88 = (signed __int64)(*((float *)v85 + 28) * 0.025);
    byte_1550B6F = BYTE1(v88);
    byte_1550B70 = (signed __int64)(*((float *)v85 + 28) * 0.025);
    v89 = (signed __int64)(*((float *)v85 + 30) * 0.050000001);
    byte_1550B71 = BYTE1(v89);
    byte_1550B72 = (signed __int64)(*((float *)v85 + 30) * 0.050000001);
    sub_42EA60((int)v85, &byte_1550B73);
    byte_1550B78[0] = *((_DWORD *)v85 + 159) >> 24;
    byte_1550B79 = *((_DWORD *)v85 + 159) >> 16;
    byte_1550B7A = *((_WORD *)v85 + 318) >> 8;
    byte_1550B7B = v85[636];
    sub_479790(28);
  }
  sub_46F4A0((int)(&lpString)[dword_131D690]);
  dword_49D92C = 1;
  while ( !recv(s, buf, 1, 0) )
    ;
  LOBYTE(v67) = sub_4792D0();
  return v67;
}
// 486194: using guessed type int (__cdecl *off_486194)(int);
// 4861E4: using guessed type int (__cdecl *off_4861E4[18])(int);
// 489040: using guessed type int dword_489040;
// 48A8B8: using guessed type int dword_48A8B8[];
// 48A8BC: using guessed type int dword_48A8BC[];
// 48A8C0: using guessed type int dword_48A8C0[];
// 48A8C4: using guessed type int dword_48A8C4[];
// 48A8C8: using guessed type int dword_48A8C8[];
// 48A8CC: using guessed type int dword_48A8CC[];
// 48A8D0: using guessed type int dword_48A8D0[];
// 48A8D4: using guessed type int dword_48A8D4[];
// 48B998: using guessed type int dword_48B998[];
// 48B99C: using guessed type int dword_48B99C[];
// 48BA58: using guessed type int dword_48BA58[];
// 48CCE4: using guessed type int dword_48CCE4;
// 48CE28: using guessed type int dword_48CE28[];
// 48CE2C: using guessed type int dword_48CE2C[];
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CF6C: using guessed type int dword_48CF6C;
// 48CF70: using guessed type int dword_48CF70;
// 48CF74: using guessed type int dword_48CF74;
// 48CF78: using guessed type int dword_48CF78;
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;
// 48CF9C: using guessed type int dword_48CF9C;
// 49D92C: using guessed type int dword_49D92C;
// 49D965: using guessed type char byte_49D965;
// 49DA1C: using guessed type int dword_49DA1C[];
// 49DA24: using guessed type int dword_49DA24;
// 1317E74: using guessed type int dword_1317E74;
// 1319494: using guessed type int dword_1319494;
// 13194CC: using guessed type int dword_13194CC;
// 131A880: using guessed type int dword_131A880;
// 131ABF0: using guessed type int dword_131ABF0;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131AC00: using guessed type char byte_131AC00;
// 131D68C: using guessed type char byte_131D68C;
// 131D690: using guessed type int dword_131D690;
// 131FE10: using guessed type int dword_131FE10;
// 13211CC: using guessed type int dword_13211CC;
// 1322584: using guessed type int dword_1322584;
// 1322588: using guessed type char byte_1322588;
// 132258C: using guessed type int dword_132258C;
// 1322594: using guessed type int dword_1322594;
// 1322598: using guessed type int dword_1322598;
// 13225DC: using guessed type int dword_13225DC;
// 13225E0: using guessed type int dword_13225E0;
// 13225E8: using guessed type char byte_13225E8;
// 13225E9: using guessed type char byte_13225E9;
// 132260C: using guessed type int dword_132260C;
// 1322614: using guessed type int dword_1322614;
// 132261C: using guessed type int dword_132261C;
// 1322628: using guessed type char byte_1322628;
// 1322634: using guessed type char byte_1322634;
// 1322658: using guessed type int dword_1322658;
// 13226CC: using guessed type int dword_13226CC;
// 13246D8: using guessed type int dword_13246D8;
// 1328E45: using guessed type char byte_1328E45;
// 1329450: using guessed type int dword_1329450[];
// 1329638: using guessed type int dword_1329638;
// 132A268: using guessed type int dword_132A268;
// 132A270: using guessed type int dword_132A270[];
// 1330014: using guessed type int dword_1330014;
// 1330018: using guessed type int dword_1330018;
// 133001C: using guessed type int dword_133001C;
// 1330020: using guessed type int dword_1330020;
// 1330024: using guessed type int dword_1330024;
// 133004C: using guessed type int dword_133004C;
// 1330050: using guessed type int dword_1330050;
// 1330054: using guessed type int dword_1330054;
// 1330058: using guessed type int dword_1330058;
// 133005C: using guessed type char byte_133005C;
// 1330060: using guessed type int dword_1330060;
// 133007C: using guessed type int dword_133007C;
// 1330080: using guessed type char byte_1330080;
// 1330084: using guessed type int dword_1330084;
// 1330094: using guessed type char byte_1330094;
// 1330095: using guessed type char byte_1330095;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 1547958: using guessed type char byte_1547958;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;
// 1560A78: using guessed type char byte_1560A78;

//----- (0042DAB0) --------------------------------------------------------
void sub_42DAB0()
{
  bool v0; // zf
  signed int v1; // eax
  struct _SYSTEMTIME SystemTime; // [esp+0h] [ebp-10h]

  if ( byte_13225C1 )
  {
    if ( byte_13225C1 == 2 )
    {
      sub_4667F0();
    }
    else
    {
      GetSystemTime(&SystemTime);
      if ( SystemTime.wMinute == ::SystemTime.wMinute && SystemTime.wSecond == ::SystemTime.wSecond )
      {
        sub_42DEC0();
        if ( word_1322580 == 8 || word_1322580 == 9 )
        {
          v1 = rand() & 0x80000001;
          v0 = v1 == 0;
          if ( v1 < 0 )
            v0 = (((_BYTE)v1 - 1) | 0xFFFFFFFE) == -1;
          if ( v0 )
            sub_42DC70(9);
          else
            sub_42DC70(8);
        }
        else
        {
          sub_42DC70(word_1322580);
        }
      }
    }
  }
}
// 1322580: using guessed type __int16 word_1322580;
// 13225C1: using guessed type char byte_13225C1;

//----- (0042DB50) --------------------------------------------------------
__int16 sub_42DB50()
{
  __int16 result; // ax
  signed __int16 v1; // cx
  int v2; // eax
  _WORD *v3; // edi
  int v4; // esi
  int v5; // eax
  int v6; // edx
  int v7; // ecx
  int v8; // edx

  mciId = 0;
  word_131ABFC = 0;
  dword_131D6A0 = 516;
  if ( mciSendCommandA(0, 0x803u, 0x3000u, (DWORD_PTR)&unk_131D698) )
    return 0;
  dword_131A890 = 3;
  if ( mciSendCommandA(mciId, 0x814u, 0x102u, (DWORD_PTR)&unk_131A888) )
  {
    mciSendCommandA(mciId, 0x804u, 0, 0);
    result = 0;
  }
  else
  {
    v1 = dword_131A88C[0];
    word_131ABFC = dword_131A88C[0];
    if ( SLOWORD(dword_131A88C[0]) > 100 )
    {
      v1 = 100;
      word_131ABFC = 100;
    }
    v2 = 0;
    dword_131A890 = 1;
    if ( v1 > 0 )
    {
      v3 = &unk_131923C;
      do
      {
        v4 = v2 + 1;
        dword_131A894 = v2 + 1;
        mciSendCommandA(mciId, 0x814u, 0x112u, (DWORD_PTR)&unk_131A888);
        v5 = dword_131A88C[0];
        LOBYTE(v6) = BYTE1(v5);
        LOWORD(v5) = LOBYTE(dword_131A88C[0]);
        LOWORD(v6) = (unsigned __int8)v6;
        ++v3;
        v7 = word_131ABFC;
        v8 = 60 * v5 + v6;
        v2 = v4;
        *(v3 - 1) = v8;
      }
      while ( v4 < v7 );
    }
    mciSendCommandA(mciId, 0x804u, 0, 0);
    result = word_131ABFC;
  }
  return result;
}
// 131A88C: using guessed type int dword_131A88C[];
// 131A890: using guessed type int dword_131A890;
// 131A894: using guessed type int dword_131A894;
// 131ABFC: using guessed type __int16 word_131ABFC;
// 131D6A0: using guessed type int dword_131D6A0;

//----- (0042DC70) --------------------------------------------------------
MCIERROR __cdecl sub_42DC70(__int16 a1)
{
  MCIERROR result; // eax
  int v2; // esi
  unsigned int v3; // edi
  int v4; // edx
  void *v5; // ecx
  void *v6; // ecx
  const CHAR *v7; // [esp-4h] [ebp-24h]
  DWORD_PTR v8; // [esp+8h] [ebp-18h]
  int v9; // [esp+Ch] [ebp-14h]
  int v10; // [esp+10h] [ebp-10h]
  DWORD_PTR dwParam2; // [esp+14h] [ebp-Ch]
  int v12; // [esp+18h] [ebp-8h]

  result = (unsigned __int8)byte_13225C1;
  if ( byte_13225C1 )
  {
    if ( byte_13225C1 == 2 )
    {
      result = a1;
      switch ( a1 )
      {
        case 2:
          v7 = aTheme02;
          goto LABEL_16;
        case 3:
          sub_466730((int)hWndParent, aTheme03);
          goto LABEL_17;
        case 4:
          sub_466730((int)hWndParent, aTheme04);
          goto LABEL_17;
        case 5:
          v7 = aTheme05;
          goto LABEL_16;
        case 6:
          sub_466730((int)hWndParent, aTheme06);
          goto LABEL_17;
        case 7:
          sub_466730((int)hWndParent, aTheme07);
          goto LABEL_17;
        case 8:
          v7 = aTheme08;
LABEL_16:
          sub_466730((int)hWndParent, v7);
LABEL_17:
          result = sub_466560();
          if ( !result )
            goto LABEL_21;
          result = sub_4667A0(v5);
          break;
        case 9:
          sub_466730((int)hWndParent, aTheme09);
          result = sub_466560();
          if ( result )
            result = sub_4667A0(v6);
          else
LABEL_21:
            byte_13225C1 = 0;
          break;
        default:
          return result;
      }
    }
    else
    {
      dword_131D6A0 = 516;
      result = mciSendCommandA(0, 0x803u, 0x3000u, (DWORD_PTR)&unk_131D698);
      if ( !result )
      {
        v12 = 10;
        if ( mciSendCommandA(mciId, 0x80Du, 0x400u, (DWORD_PTR)&dwParam2) )
        {
          result = mciSendCommandA(mciId, 0x804u, 0, 0);
        }
        else
        {
          v9 = (unsigned __int8)a1;
          word_1322580 = a1;
          v8 = 0;
          v10 = (unsigned __int8)(a1 + 1);
          result = mciSendCommandA(mciId, 0x806u, 0xCu, (DWORD_PTR)&v8);
          if ( !result )
          {
            GetSystemTime(&SystemTime);
            v2 = *((signed __int16 *)&dword_1319238 + a1 + 1);
            SystemTime.wSecond += *((_WORD *)&dword_1319238 + a1 + 1) % 60;
            v3 = ((unsigned int)(SystemTime.wSecond + (-2004318071i64 * (unsigned __int64)SystemTime.wSecond >> 32)) >> 31)
               + ((signed int)(SystemTime.wSecond + (-2004318071i64 * (unsigned __int64)SystemTime.wSecond >> 32)) >> 5);
            SystemTime.wSecond %= 60;
            v4 = v2 / 60;
            LOWORD(v4) = SystemTime.wMinute + v2 / 60;
            SystemTime.wMinute = (signed int)((v4 + v3 + 1) & 0xFFFF) % 60;
            result = mciSendCommandA(mciId, 0x804u, 0, 0);
          }
        }
      }
    }
  }
  return result;
}
// 1319238: using guessed type int dword_1319238;
// 131D6A0: using guessed type int dword_131D6A0;
// 1322580: using guessed type __int16 word_1322580;
// 13225C1: using guessed type char byte_13225C1;

//----- (0042DEC0) --------------------------------------------------------
MCIERROR sub_42DEC0()
{
  MCIERROR result; // eax
  DWORD_PTR v1; // [esp+4h] [ebp-10h]
  DWORD_PTR dwParam2; // [esp+8h] [ebp-Ch]
  int v3; // [esp+Ch] [ebp-8h]

  result = (unsigned __int8)byte_13225C1;
  if ( byte_13225C1 )
  {
    if ( byte_13225C1 == 2 )
    {
      result = sub_4668D0();
    }
    else
    {
      dword_131D6A0 = 516;
      result = mciSendCommandA(0, 0x803u, 0x3000u, (DWORD_PTR)&unk_131D698);
      if ( !result )
      {
        v3 = 10;
        if ( mciSendCommandA(mciId, 0x80Du, 0x400u, (DWORD_PTR)&dwParam2)
          || (v1 = 0, (result = mciSendCommandA(mciId, 0x808u, 4u, (DWORD_PTR)&v1)) == 0) )
        {
          result = mciSendCommandA(mciId, 0x804u, 0, 0);
        }
      }
    }
  }
  return result;
}
// 131D6A0: using guessed type int dword_131D6A0;
// 13225C1: using guessed type char byte_13225C1;

//----- (0042DF70) --------------------------------------------------------
int sub_42DF70()
{
  int result; // eax
  signed int v1; // edi
  int v2; // edx

  result = dword_49D8A0;
  v1 = -1;
  dword_48CF9C = -1;
  dword_132A294 = dword_49D89C;
  dword_132A298 = dword_49D8A0;
  if ( byte_1324782 == 2 && dword_49D89C > 123 && dword_49D89C < 163 && dword_49D8A0 > 540 && dword_49D8A0 < 580 )
  {
    v1 = 18;
    dword_48CF9C = 18;
  }
  if ( dword_49D89C <= 619 )
    goto LABEL_216;
  v2 = (unsigned __int16)dword_8D5BE4 + 619;
  if ( dword_49D89C < v2 && dword_49D8A0 > 469 && dword_49D8A0 < HIWORD(dword_8D5BE4) + 469 )
  {
    if ( v1 != 19 )
    {
      v1 = 19;
LABEL_42:
      dword_48CF9C = v1;
      goto LABEL_43;
    }
    goto LABEL_43;
  }
  if ( dword_49D89C >= v2 || dword_49D8A0 <= 511 || dword_49D8A0 >= HIWORD(dword_8D5BE4) + 511 )
  {
LABEL_216:
    if ( dword_49D89C <= 250 || dword_49D89C >= 302 || dword_49D8A0 <= 566 || dword_49D8A0 >= 588 )
    {
      if ( dword_49D89C <= 306 || dword_49D89C >= 357 || dword_49D8A0 <= 566 || dword_49D8A0 >= 588 )
      {
        if ( dword_49D89C <= 177 || dword_49D89C >= 217 || dword_49D8A0 <= 540 || dword_49D8A0 >= 580 )
        {
          if ( dword_49D89C <= 123 || dword_49D89C >= 163 || dword_49D8A0 <= 540 || dword_49D8A0 >= 580 || v1 == 24 )
            goto LABEL_43;
          v1 = 24;
          goto LABEL_42;
        }
        if ( v1 != 23 )
        {
          v1 = 23;
          goto LABEL_42;
        }
      }
      else if ( v1 != 22 )
      {
        v1 = 22;
        goto LABEL_42;
      }
    }
    else if ( v1 != 21 )
    {
      v1 = 21;
      goto LABEL_42;
    }
    goto LABEL_43;
  }
  if ( v1 != 20 )
  {
    v1 = 20;
    goto LABEL_42;
  }
LABEL_43:
  switch ( byte_1328E45 )
  {
    case 2:
      if ( dword_49D89C <= 548 || dword_49D89C >= 580 || dword_49D8A0 <= 392 || dword_49D8A0 >= 424 )
      {
        if ( dword_49D89C <= 582 || dword_49D89C >= 614 || dword_49D8A0 <= 392 || dword_49D8A0 >= 424 )
        {
          if ( byte_1324782 == 2
            && dword_49D89C > 618
            && dword_49D89C < 650
            && dword_49D8A0 > 392
            && dword_49D8A0 < 424
            && v1 != 57 )
          {
            dword_48CF9C = 57;
          }
        }
        else if ( v1 != 56 )
        {
          dword_48CF9C = 56;
        }
      }
      else if ( v1 != 55 )
      {
        dword_48CF9C = 55;
      }
      return result;
    case 3:
      if ( dword_49D89C > 631 && dword_49D89C < 671 && dword_49D8A0 > 114 && dword_49D8A0 < 154 )
      {
        if ( v1 != 26 )
          dword_48CF9C = 26;
        return result;
      }
      if ( dword_49D89C <= 583 || dword_49D89C >= 623 )
        goto LABEL_80;
      if ( dword_49D8A0 > 161 && dword_49D8A0 < 201 )
      {
        if ( v1 != 27 )
          dword_48CF9C = 27;
        return result;
      }
      if ( dword_49D89C < 623 && dword_49D8A0 > 208 && dword_49D8A0 < 248 )
      {
        if ( v1 != 28 )
          dword_48CF9C = 28;
        return result;
      }
LABEL_80:
      if ( dword_49D89C <= 631 || dword_49D89C >= 671 )
        goto LABEL_91;
      if ( dword_49D8A0 <= 161 || dword_49D8A0 >= 201 )
      {
        if ( dword_49D89C >= 671 || dword_49D8A0 <= 114 || dword_49D8A0 >= 248 )
        {
LABEL_91:
          if ( dword_49D89C > 678 && dword_49D89C < 718 )
          {
            if ( dword_49D8A0 <= 161 || dword_49D8A0 >= 201 )
            {
              if ( dword_49D89C < 718 && dword_49D8A0 > 208 && dword_49D8A0 < 248 && v1 != 52 )
                dword_48CF9C = 52;
            }
            else if ( v1 != 51 )
            {
              dword_48CF9C = 51;
            }
          }
        }
        else if ( v1 != 50 )
        {
          dword_48CF9C = 50;
        }
      }
      else if ( v1 != 29 )
      {
        dword_48CF9C = 29;
      }
      return result;
    case 4:
      if ( dword_49D89C > 537 && dword_49D89C < 772 )
      {
        if ( dword_49D8A0 <= 284 || dword_49D8A0 >= 425 )
        {
          if ( dword_49D89C < 772 && dword_49D8A0 > 113 && dword_49D8A0 < 254 && v1 != 54 )
            dword_48CF9C = 54;
        }
        else if ( v1 != 53 )
        {
          dword_48CF9C = 53;
        }
      }
      return result;
    case 5:
      if ( dword_49D89C > 547 && dword_49D89C < 579 && dword_49D8A0 > 392 && dword_49D8A0 < 424 )
        goto LABEL_147;
      if ( dword_49D89C > 583 && dword_49D89C < 615 && dword_49D8A0 > 392 && dword_49D8A0 < 424 )
        goto LABEL_153;
      if ( dword_49D89C <= 618 || dword_49D89C >= 650 || dword_49D8A0 <= 392 || dword_49D8A0 >= 424 )
      {
        if ( dword_49D89C > 654 && dword_49D89C < 686 && dword_49D8A0 > 392 && dword_49D8A0 < 424 )
          goto LABEL_159;
        if ( dword_49D89C <= 689 || dword_49D89C >= 721 || dword_49D8A0 <= 392 || dword_49D8A0 >= 424 )
        {
          if ( dword_49D89C > 724 && dword_49D89C < 756 && dword_49D8A0 > 392 && dword_49D8A0 < 424 && v1 != 62 )
            dword_48CF9C = 62;
        }
        else if ( v1 != 61 )
        {
          dword_48CF9C = 61;
        }
      }
      else if ( v1 != 59 )
      {
        dword_48CF9C = 59;
      }
      return result;
    case 6:
      if ( dword_49D89C <= 547 || dword_49D89C >= 579 || dword_49D8A0 <= 392 || dword_49D8A0 >= 424 )
      {
        if ( dword_49D89C <= 583 || dword_49D89C >= 615 || dword_49D8A0 <= 392 || dword_49D8A0 >= 424 )
        {
          if ( dword_49D89C <= 618 || dword_49D89C >= 650 || dword_49D8A0 <= 392 || dword_49D8A0 >= 424 )
          {
            if ( dword_49D89C <= 654 || dword_49D89C >= 686 || dword_49D8A0 <= 392 || dword_49D8A0 >= 424 )
            {
              if ( dword_49D89C > 689 && dword_49D89C < 721 && dword_49D8A0 > 392 && dword_49D8A0 < 424 && v1 != 64 )
                dword_48CF9C = 64;
            }
            else if ( v1 != 63 )
            {
              dword_48CF9C = 63;
            }
          }
          else
          {
LABEL_159:
            if ( v1 != 60 )
              dword_48CF9C = 60;
          }
        }
        else
        {
LABEL_153:
          if ( v1 != 58 )
            dword_48CF9C = 58;
        }
      }
      else
      {
LABEL_147:
        if ( v1 != 25 )
          dword_48CF9C = 25;
      }
      return result;
    case 9:
      if ( dword_49D89C > 537 && dword_49D89C < 757 )
      {
        if ( dword_49D8A0 <= 321 || dword_49D8A0 >= 423 )
        {
          if ( dword_49D89C < 757 && dword_49D8A0 > 113 && dword_49D8A0 < 303 && v1 != 66 )
            dword_48CF9C = 66;
        }
        else if ( v1 != 65 )
        {
          dword_48CF9C = 65;
        }
      }
      return result;
    case 0xA:
      if ( dword_49D89C <= 644
        || dword_49D89C >= (unsigned __int16)dword_8D5D1C + 644
        || dword_49D8A0 <= 291
        || dword_49D8A0 >= HIWORD(dword_8D5D1C) + 291 )
      {
        if ( dword_49D89C <= 700
          || dword_49D89C >= (unsigned __int16)dword_8D5D28 + 700
          || dword_49D8A0 <= 291
          || dword_49D8A0 >= HIWORD(dword_8D5D28) + 291 )
        {
          if ( dword_49D89C <= 537 || dword_49D89C >= 757 || dword_49D8A0 <= 321 || dword_49D8A0 >= 423 )
          {
            if ( dword_49D89C <= 597 || dword_49D89C >= 697 || dword_49D8A0 <= 113 || dword_49D8A0 >= 133 )
            {
              if ( dword_49D89C > 537 && dword_49D89C < 757 && dword_49D8A0 > 139 && dword_49D8A0 < 275 && v1 != 71 )
                dword_48CF9C = 71;
            }
            else if ( v1 != 70 )
            {
              dword_48CF9C = 70;
            }
          }
          else if ( v1 != 69 )
          {
            dword_48CF9C = 69;
          }
        }
        else if ( v1 != 68 )
        {
          dword_48CF9C = 68;
        }
      }
      else if ( v1 != 67 )
      {
        dword_48CF9C = 67;
      }
      return result;
    default:
      return result;
  }
}
// 48CF9C: using guessed type int dword_48CF9C;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 8D5BE4: using guessed type int dword_8D5BE4;
// 8D5D1C: using guessed type int dword_8D5D1C;
// 8D5D28: using guessed type int dword_8D5D28;
// 1324782: using guessed type char byte_1324782;
// 1328E45: using guessed type char byte_1328E45;
// 132A298: using guessed type int dword_132A298;

//----- (0042E780) --------------------------------------------------------
char __cdecl sub_42E780(int a1, _BYTE *a2)
{
  unsigned int v2; // eax
  __int16 v3; // cx
  unsigned __int16 v4; // cx
  char v6; // [esp+4h] [ebp-104h]

  LOBYTE(v2) = *(_BYTE *)(a1 + 48);
  if ( (_BYTE)v2 == 3 )
    goto LABEL_40;
  if ( (_BYTE)v2 != 1 && (_BYTE)v2 != 4 )
  {
    HIBYTE(v3) = *a2;
    LOBYTE(v3) = a2[1];
    *(_WORD *)(a1 + 756) = v3;
    switch ( a2[2] )
    {
      case 0:
        *(_DWORD *)(a1 + 748) = 0;
        break;
      case 1:
        *(_DWORD *)(a1 + 748) = 700;
        break;
      case 2:
        *(_DWORD *)(a1 + 748) = 701;
        break;
      case 3:
        *(_DWORD *)(a1 + 748) = 702;
        break;
      case 4:
        *(_DWORD *)(a1 + 748) = 703;
        break;
      case 5:
        *(_DWORD *)(a1 + 748) = 704;
        break;
      case 6:
        *(_DWORD *)(a1 + 748) = 706;
        break;
      case 7:
        *(_DWORD *)(a1 + 748) = 707;
        break;
      case 8:
        *(_DWORD *)(a1 + 748) = 708;
        break;
      case 9:
        *(_DWORD *)(a1 + 748) = 800;
        break;
      case 0xA:
        *(_DWORD *)(a1 + 748) = 801;
        break;
      case 0xB:
        *(_DWORD *)(a1 + 748) = 850;
        break;
      case 0xC:
        *(_DWORD *)(a1 + 748) = 500;
        break;
      case 0xD:
        *(_DWORD *)(a1 + 748) = 501;
        break;
      case 0xE:
        *(_DWORD *)(a1 + 748) = 502;
        break;
      case 0xF:
        *(_DWORD *)(a1 + 748) = 600;
        break;
      default:
        break;
    }
    switch ( (unsigned int)(unsigned __int8)a2[3] >> 1 )
    {
      case 0u:
        *(_DWORD *)(a1 + 752) = 0;
        break;
      case 1u:
        *(_DWORD *)(a1 + 752) = 900;
        break;
      case 2u:
        *(_DWORD *)(a1 + 752) = 901;
        break;
      case 3u:
        *(_DWORD *)(a1 + 752) = 902;
        break;
      case 4u:
        *(_DWORD *)(a1 + 752) = 600;
        break;
      default:
        break;
    }
    v2 = (unsigned __int8)a2[4] | ((a2[3] & 1) << 8);
    *(_DWORD *)(a1 + 168) = v2;
    if ( !dword_13083AC[8 * v2] )
    {
      if ( v2 >= 0x5A )
      {
        sprintf(&v6, a03dAni, v2);
        sub_4221A0((int)&v6, *(_DWORD *)(a1 + 168));
      }
      else
      {
        sprintf(&v6, a03dAni, v2);
        sub_4221A0((int)&v6, *(_DWORD *)(a1 + 168));
        sprintf(&v6, a03dAni, *(_DWORD *)(a1 + 168) + 1);
        sub_4221A0((int)&v6, *(_DWORD *)(a1 + 168) + 1);
      }
      v2 = dword_13083AC[8 * *(_DWORD *)(a1 + 168)];
      if ( !v2 )
      {
        v2 = (unsigned int)(&lpString)[dword_131D690];
        *(_DWORD *)(a1 + 168) = *(_DWORD *)(v2 + 168);
      }
    }
    return v2;
  }
  if ( (_BYTE)v2 == 3 )
  {
LABEL_40:
    v2 = ((unsigned __int8)a2[4] | ((a2[3] & 1) << 8)) + 29;
    *(_DWORD *)(a1 + 168) = 3 * v2;
    return v2;
  }
  if ( (_BYTE)v2 == 4 )
  {
    LOBYTE(v2) = (_BYTE)a2;
    HIBYTE(v4) = a2[3];
    LOBYTE(v4) = a2[4];
    *(_DWORD *)(a1 + 168) = v4;
  }
  return v2;
}
// 13083AC: using guessed type int dword_13083AC[];
// 131D690: using guessed type int dword_131D690;

//----- (0042EA60) --------------------------------------------------------
int __cdecl sub_42EA60(int a1, _BYTE *a2)
{
  char v2; // al
  int result; // eax
  signed int v4; // ecx
  signed int v5; // ecx

  v2 = *(_BYTE *)(a1 + 48);
  if ( v2 == 3 )
    goto LABEL_42;
  if ( v2 != 1 && v2 != 4 )
  {
    result = (int)a2;
    *a2 = *(_BYTE *)(a1 + 757);
    a2[1] = *(_BYTE *)(a1 + 756);
    v4 = *(_DWORD *)(a1 + 748);
    if ( v4 > 703 )
    {
      switch ( 0 )
      {
        case 704:
          a2[2] = 5;
          break;
        case 706:
          a2[2] = 6;
          break;
        case 707:
          a2[2] = 7;
          break;
        case 708:
          a2[2] = 8;
          break;
        case 800:
          a2[2] = 9;
          break;
        case 801:
          a2[2] = 10;
          break;
        case 850:
          a2[2] = 11;
          break;
        default:
LABEL_23:
          a2[2] = 0;
          break;
      }
    }
    else if ( v4 == 703 )
    {
      a2[2] = 4;
    }
    else
    {
      switch ( 0 )
      {
        case 500:
          a2[2] = 12;
          break;
        case 501:
          a2[2] = 13;
          break;
        case 502:
          a2[2] = 14;
          break;
        case 600:
          a2[2] = 15;
          break;
        case 700:
          a2[2] = 1;
          break;
        case 701:
          a2[2] = 2;
          break;
        case 702:
          a2[2] = 3;
          break;
        default:
          goto LABEL_23;
      }
    }
    v5 = *(_DWORD *)(a1 + 752);
    if ( v5 > 901 )
    {
      if ( v5 == 902 )
      {
        a2[3] = 6;
        goto LABEL_34;
      }
    }
    else
    {
      switch ( v5 )
      {
        case 901:
          a2[3] = 4;
          goto LABEL_34;
        case 600:
          a2[3] = 8;
          goto LABEL_34;
        case 900:
          a2[3] = 2;
LABEL_34:
          a2[3] |= (*(_WORD *)(a1 + 168) >> 8) & 1;
          a2[4] = *(_BYTE *)(a1 + 168);
          return result;
      }
    }
    a2[3] = 0;
    goto LABEL_34;
  }
  if ( v2 != 3 )
  {
    if ( v2 == 4 )
    {
      result = (int)a2;
      a2[3] = 0;
      a2[2] = 0;
      a2[1] = 0;
      *a2 = 0;
      a2[4] = *(_BYTE *)(a1 + 168);
    }
    else
    {
      result = (int)a2;
      a2[4] = 0;
      a2[3] = 0;
      a2[2] = 0;
      a2[1] = 0;
      *a2 = 0;
    }
  }
  else
  {
LABEL_42:
    a2[3] = 0;
    a2[2] = 0;
    a2[1] = 0;
    *a2 = 0;
    result = -1431655765 * (*(_DWORD *)(a1 + 168) - 90);
    a2[4] = (*(_DWORD *)(a1 + 168) - 90) / 3u + 1;
  }
  return result;
}

//----- (0042EDB0) --------------------------------------------------------
int __stdcall sub_42EDB0(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam)
{
  int result; // eax
  __int16 v5; // ax
  bool v6; // sf
  unsigned __int8 v7; // of
  __int16 v8; // ax
  __int16 v9; // ax
  __int16 v10; // ax
  unsigned int v11; // eax
  __int16 v12; // ax
  int v13; // esi
  __int16 v14; // ax
  size_t v15; // eax
  bool v16; // zf
  int v17; // esi
  int v18; // edx
  FILE *v19; // esi
  FILE *v20; // esi
  FILE *v21; // eax
  __int16 v22; // ax
  char v23; // dl
  int v24; // ecx
  __int16 v25; // ax
  __int16 v26; // ax
  int v27; // edx
  int *v28; // ecx
  unsigned __int8 *v29; // eax
  __int16 v30; // di
  int v31; // esi
  __int16 v32; // ax
  char v33; // al
  int v34; // ecx
  __int16 v35; // ax
  __int16 v36; // ax
  char v37; // bl
  int v38; // esi
  int v39; // ebp
  unsigned int v40; // eax
  signed int v41; // edi
  char v42; // dl
  char v43; // cl
  char v44; // dl
  __int16 v45; // di
  unsigned int v46; // edx
  unsigned int *v47; // ecx
  signed int v48; // edi
  __int16 v49; // dx
  __int16 v50; // cx
  __int16 v51; // ax
  __int16 v52; // ax
  int v53; // ecx
  __int16 v54; // ax
  __int16 v55; // ax
  unsigned int v56; // edx
  unsigned int v57; // ecx
  char v58; // al
  char *v59; // edi
  char *v60; // esi
  int v61; // ecx
  int v62; // eax
  char *v63; // esi
  signed int v64; // eax
  __int16 v65; // di
  __int16 v66; // cx
  __int16 v67; // cx
  int v68; // ebp
  signed int v69; // eax
  int v70; // edi
  signed int v71; // eax
  _WORD *v72; // edx
  __int16 v73; // cx
  __int16 v74; // cx
  __int16 v75; // ax
  __int16 v76; // ax
  unsigned int v77; // edi
  int v78; // esi
  int v79; // eax
  int v80; // eax
  int v81; // eax
  LPCSTR v82; // eax
  int v83; // eax
  unsigned int v84; // edx
  __int16 v85; // ax
  __int16 v86; // ax
  int v87; // esi
  __int16 v88; // ax
  LPCSTR v89; // eax
  __int16 v90; // cx
  __int16 v91; // cx
  __int16 v92; // ax
  __int16 v93; // ax
  __int16 v94; // ax
  __int16 v95; // ax
  __int16 v96; // ax
  __int16 v97; // ax
  __int16 v98; // ax
  __int16 v99; // ax
  __int16 v100; // ax
  __int16 v101; // ax
  int v102; // esi
  __int16 v103; // ax
  int v104; // eax
  unsigned __int16 v105; // dx
  int v106; // eax
  char v107; // al
  unsigned __int16 v108; // dx
  int v109; // esi
  __int16 v110; // cx
  __int16 v111; // ax
  __int16 v112; // ax
  __int16 v113; // ax
  char v114; // cl
  __int16 v115; // ax
  __int16 v116; // ax
  __int16 v117; // ax
  __int16 v118; // ax
  int v119; // eax
  LPCSTR v120; // ecx
  __int16 v121; // ax
  __int16 v122; // ax
  __int16 v123; // ax
  __int16 v124; // ax
  __int16 v125; // ax
  __int16 v126; // ax
  signed int v127; // eax
  LPCSTR v128; // ecx
  __int16 v129; // ax
  unsigned __int8 v130; // cl
  int v131; // esi
  __int16 v132; // ax
  int v133; // ebx
  const char *v134; // ebp
  unsigned int v135; // kr10_4
  const char *v136; // esi
  char *v137; // eax
  bool v138; // cf
  int v139; // eax
  int v140; // eax
  int v141; // edx
  int v142; // eax
  signed int v143; // eax
  LPCSTR v144; // eax
  LPCSTR v145; // ecx
  int v146; // eax
  int v147; // edx
  int v148; // eax
  unsigned int v149; // ecx
  char v150; // dl
  char *v151; // edi
  const void *v152; // esi
  __int16 v153; // ax
  __int16 v154; // ax
  __int16 v155; // ax
  __int16 v156; // ax
  __int16 v157; // ax
  LPCSTR v158; // esi
  __int16 v159; // ax
  __int16 v160; // ax
  __int16 v161; // ax
  __int16 v162; // ax
  __int16 v163; // ax
  __int16 v164; // ax
  __int16 v165; // ax
  __int16 v166; // ax
  int v167; // eax
  __int16 v168; // ax
  int v169; // esi
  int v170; // edi
  int v171; // eax
  LPCSTR v172; // edx
  LPCSTR v173; // ST38_4
  int v174; // edi
  int v175; // ecx
  int v176; // esi
  int v177; // esi
  int v178; // ebp
  int v179; // ebx
  unsigned __int8 *v180; // esi
  LPCSTR v181; // ebp
  unsigned __int8 v182; // t1
  unsigned __int8 v183; // t1
  __int16 v184; // ax
  unsigned __int8 v185; // t1
  unsigned __int8 v186; // t1
  int v187; // edx
  int v188; // edx
  signed __int64 v189; // rax
  double v190; // st7
  signed __int64 v191; // rax
  signed __int64 v192; // rax
  signed __int64 v193; // rax
  signed __int64 v194; // rax
  int v195; // eax
  int *v196; // eax
  int v197; // ebx
  LPCSTR *v198; // edi
  LPCSTR v199; // eax
  LPCSTR v200; // eax
  LPCSTR v201; // esi
  signed __int64 v202; // rax
  signed __int64 v203; // rax
  __int16 v204; // ax
  __int16 v205; // ax
  __int16 v206; // ax
  __int16 v207; // ax
  __int16 v208; // ax
  __int16 v209; // ax
  __int16 v210; // ax
  __int16 v211; // ax
  __int16 v212; // ax
  const char *v213; // [esp-8h] [ebp-24Ch]
  const char *v214; // [esp-8h] [ebp-24Ch]
  int v215; // [esp+10h] [ebp-234h]
  unsigned __int8 *v216; // [esp+14h] [ebp-230h]
  int v217; // [esp+18h] [ebp-22Ch]
  int v218; // [esp+1Ch] [ebp-228h]
  int v219; // [esp+20h] [ebp-224h]
  char *v220; // [esp+24h] [ebp-220h]
  char v221[20]; // [esp+28h] [ebp-21Ch]
  char v222; // [esp+3Ch] [ebp-208h]
  char v223; // [esp+140h] [ebp-104h]

  LOBYTE(dword_48C7B0) = byte_132263C;
  v217 = 0;
  switch ( Msg )
  {
    case 0x2710u:
      if ( dword_48EC4C != 4 )
      {
        if ( dword_48EC4C == 5 || dword_48EC4C == 6 )
        {
          if ( (unsigned __int16)lParam != 1 )
          {
            if ( (unsigned __int16)lParam == 2 )
            {
              if ( dword_156FA80 > 0 )
              {
                dword_156FA78 = 1;
                sub_479840();
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            }
            if ( (unsigned __int16)lParam != 32 )
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            SetFocus(hWndParent);
            if ( dword_13300D4 == 1 )
              sub_4169B0(&byte_48CAAC, Caption, 0x40000);
            if ( (_BYTE)dword_49D8F8 != 1 )
            {
              sub_456CE0(&byte_48CA78, &byte_48CA88);
              dword_49D92C = 1;
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            }
            goto LABEL_29;
          }
          switch ( byte_49CFF0 )
          {
            case 5:
              v23 = byte_4862F5;
              if ( byte_4862F5 == -1 )
              {
                v24 = dword_1322648;
                while ( 1 )
                {
                  v25 = recv(s, &dword_1551740[v24], 4, 0);
                  if ( v25 < 1 )
                    return DefWindowProcA(hWnd, Msg, wParam, lParam);
                  dword_1322648 += v25;
                  if ( dword_1322648 < 4 )
                    return DefWindowProcA(hWnd, Msg, wParam, lParam);
                  v24 = 0;
                  dword_1322648 = 0;
                  if ( dword_1551740[0] != 113 || dword_1551740[1] != -9 )
LABEL_135:
                    sub_4169B0(aWaitingPass, aError_0, 0);
                  if ( dword_1551740[2] != 81 )
                    return DefWindowProcA(hWnd, Msg, wParam, lParam);
                  v23 = dword_1551740[3];
                  byte_4862F5 = dword_1551740[3];
                  if ( !dword_1551740[3] )
                    break;
                  if ( dword_1551740[3] != -1 )
                    goto LABEL_137;
                }
                byte_49CFF0 = 6;
              }
              else
              {
                v24 = dword_1322648;
              }
LABEL_137:
              v26 = recv(s, &dword_1551740[v24], 4 * v23, 0);
              if ( v26 >= 1 )
              {
                v27 = byte_4862F5;
                dword_1322648 += v26;
                if ( dword_1322648 >= 4 * byte_4862F5 )
                {
                  if ( (unsigned int)byte_4862F5 > 0 )
                  {
                    v28 = &dword_49D050;
                    v29 = (unsigned __int8 *)(dword_1551740 + 1);
                    do
                    {
                      v28 += 2;
                      v30 = v29[2];
                      v31 = (unsigned __int16)(*v29 + (*(v29 - 1) << 8));
                      v29 += 4;
                      *(v28 - 1) = v31;
                      --v27;
                      *(v28 - 2) = (unsigned __int16)(v30 + (*(v29 - 3) << 8));
                    }
                    while ( v27 );
                  }
                  dword_1322648 = 0;
                  byte_49CFF0 = 6;
                }
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 16:
              v5 = recv(s, &dword_1551740[dword_1322648], 64, 0);
              if ( v5 >= 1 )
              {
                dword_1322648 += v5;
                if ( dword_1322648 >= 64 )
                {
                  qmemcpy(byte_1550B60, dword_1551740, 0x40u);
                  dword_1322648 = 0;
                  sub_479790(64);
                  v7 = __OFSUB__(dword_132264C + 1, 3);
                  v6 = dword_132264C++ - 2 < 0;
                  if ( !(v6 ^ v7) )
                  {
                    byte_49CFF0 = 24;
                    dword_132264C = 0;
                  }
                }
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 24:
              if ( dword_13300D4 )
              {
                if ( dword_13300D4 == 1 )
                {
                  v8 = recv(s, &dword_1551740[dword_1322648], 29, 0);
                  if ( v8 >= 1 )
                  {
                    dword_1322648 += v8;
                    if ( dword_1322648 >= 29 )
                    {
                      dword_1322648 = 0;
                      if ( dword_1551740[0] == 113 && dword_1551740[1] == -9 )
                      {
                        if ( dword_1551740[2] == 18 )
                        {
                          byte_49CFF0 = 52;
                          return DefWindowProcA(hWnd, Msg, wParam, lParam);
                        }
                        if ( dword_1551740[2] != 19 )
                        {
                          byte_49D88C = dword_1551740[3];
                          qmemcpy(a20324812915, (char *)&dword_1551744 + 1, 0x14u);
                          byte_49D88D = dword_1551744;
                          byte_49CFF0 = 25;
                          *(_DWORD *)&hostshort = (unsigned __int8)dword_155175C | ((HIBYTE(dword_1551758) | ((BYTE2(dword_1551758) | (BYTE1(dword_1551758) << 8)) << 8)) << 8);
                          return DefWindowProcA(hWnd, Msg, wParam, lParam);
                        }
LABEL_29:
                        if ( s )
                        {
                          closesocket(s);
                          s = 0;
                        }
                        byte_1330049 = 1;
                        byte_133004A = 0;
                        byte_49CFF0 = 25;
                        byte_13225C0 = 0;
                        return DefWindowProcA(hWnd, Msg, wParam, lParam);
                      }
                      goto LABEL_58;
                    }
                  }
                }
              }
              else
              {
                v9 = recv(s, &dword_1551740[dword_1322648], 5, 0);
                if ( v9 >= 1 )
                {
                  dword_1322648 += v9;
                  if ( dword_1322648 >= 5 )
                  {
                    dword_1322648 = 0;
                    if ( dword_1551740[0] == 113 && dword_1551740[1] == -9 )
                    {
                      if ( dword_1551740[2] == 18 )
                      {
                        byte_49CFF0 = 52;
                        return DefWindowProcA(hWnd, Msg, wParam, lParam);
                      }
                      if ( dword_1551740[2] != 19 )
                      {
                        byte_49CFF0 = 25;
                        byte_49D88C = dword_1551740[3];
                        byte_49D88D = dword_1551744;
                        return DefWindowProcA(hWnd, Msg, wParam, lParam);
                      }
                      goto LABEL_29;
                    }
LABEL_58:
                    sub_4169B0(aWaitingLogin, aError_0, 0);
                  }
                }
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 26:
              v22 = recv(s, &dword_1551740[dword_1322648], 3, 0);
              if ( v22 < 1 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 += v22;
              if ( dword_1322648 < 3 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 = 0;
              if ( dword_1551740[0] != 113 || dword_1551740[1] != -9 )
                goto LABEL_135;
              switch ( dword_1551740[2] )
              {
                case 9:
                  byte_49CFF0 = 25;
                  break;
                case 0xA:
                  byte_49CFF0 = 27;
                  break;
                case 0xB:
                  byte_49CFF0 = 28;
                  break;
                case 0xC:
                  byte_49CFF0 = 29;
                  break;
                default:
                  return DefWindowProcA(hWnd, Msg, wParam, lParam);
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 31:
              v32 = recv(s, &dword_1551740[dword_1322648], 3, 0);
              if ( v32 < 1 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 += v32;
              if ( dword_1322648 < 3 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 = 0;
              if ( dword_1551740[0] != 113 || dword_1551740[1] != -9 )
                goto LABEL_135;
              switch ( dword_1551740[2] )
              {
                case 1:
                case 3:
                  byte_49CFF0 = 35;
                  break;
                case 2:
                  byte_49CFF0 = 34;
                  break;
                case 4:
                  byte_49CFF0 = 33;
                  break;
                case 5:
                  byte_49CFF0 = 48;
                  break;
                case 6:
                  goto LABEL_153;
                case 7:
                  byte_49CFF0 = 50;
                  break;
                case 8:
                  byte_49CFF0 = 51;
                  break;
                case 0x14:
                  byte_49CFF0 = 36;
                  byte_4862F4 = -1;
                  LOBYTE(dword_132A2BC) = 0;
                  break;
                default:
                  return DefWindowProcA(hWnd, Msg, wParam, lParam);
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 32:
              v53 = dword_1322648;
              while ( 2 )
              {
                if ( (_BYTE)dword_132265C )
                {
                  if ( (unsigned __int8)dword_132265C == 1 )
                  {
                    byte_49CFF0 = 38;
                    LOBYTE(dword_132265C) = 0;
                  }
                  else if ( (unsigned __int8)dword_132265C == 2 )
                  {
                    v55 = recv(s, &dword_1551740[v53], 230, 0);
                    if ( v55 >= 1 )
                    {
                      dword_1322648 += v55;
                      if ( dword_1322648 >= 230 )
                      {
                        dword_1551738 = *(_DWORD *)dword_1551740;
                        v56 = 284 * byte_1329448;
                        dword_1322648 = 0;
                        LOBYTE(dword_132265C) = 0;
                        strcpy(byte_1324688, &byte_1328E98[v56]);
                        v57 = strlen(&byte_1328EAD[v56]) + 1;
                        v58 = v57;
                        v57 >>= 2;
                        qmemcpy(&unk_132A2A0, &byte_1328EAD[v56], 4 * v57);
                        v60 = &byte_1328EAD[4 * v57 + v56];
                        v59 = (char *)&unk_132A2A0 + 4 * v57;
                        v61 = v58 & 3;
                        BYTE2(dword_13246DC) = byte_1328EC4[v56];
                        v62 = dword_1328EE8[v56 / 4];
                        qmemcpy(v59, v60, v61);
                        LOBYTE(v61) = byte_1328EC3[v56];
                        dword_13246AC = v62;
                        byte_1324782 = v61;
                        byte_1329471 = byte_1328EC5[v56];
                        LOWORD(v62) = ((unsigned __int8)dword_1551744 << 8) + BYTE1(dword_1551744);
                        LOWORD(v61) = dword_1551748;
                        word_1328EC8[v56 / 2] = v62;
                        word_1328E7A = v62;
                        LOBYTE(v62) = BYTE2(dword_1551744);
                        byte_1328EC6[v56] = BYTE2(dword_1551744);
                        LOBYTE(dword_13246A4) = v62;
                        LOWORD(v62) = (unsigned __int8)v61 + (HIBYTE(dword_1551744) << 8);
                        word_1328ED6[v56 / 2] = v62;
                        HIWORD(dword_13246D8) = v62;
                        LOWORD(v62) = (BYTE1(v61) << 8) + BYTE2(dword_1551748);
                        LOWORD(v61) = dword_155174C;
                        word_1328ED8[v56 / 2] = v62;
                        word_132A2B6 = v62;
                        LOWORD(v62) = (unsigned __int8)v61 + (HIBYTE(dword_1551748) << 8);
                        word_1328EDA[v56 / 2] = v62;
                        word_13226AA = v62;
                        LOWORD(v62) = (BYTE1(v61) << 8) + BYTE2(dword_155174C);
                        word_1328EDC[v56 / 2] = v62;
                        HIWORD(dword_13246A4) = v62;
                        LOWORD(v62) = (unsigned __int8)dword_1551750 + (HIBYTE(dword_155174C) << 8);
                        LOWORD(v61) = BYTE1(dword_1551750);
                        word_1328EE2[v56 / 2] = v62;
                        HIWORD(dword_1322660) = v62;
                        LOWORD(v62) = ((_WORD)v61 << 8) + BYTE2(dword_1551750);
                        LOWORD(v61) = dword_1551754;
                        word_1328EDE[v56 / 2] = v62;
                        LOWORD(dword_1329424) = v62;
                        LOWORD(v62) = (unsigned __int8)v61 + (HIBYTE(dword_1551750) << 8);
                        word_1328EE0[v56 / 2] = v62;
                        HIWORD(dword_132FFFC) = v62;
                        LOWORD(v62) = (BYTE1(v61) << 8) + BYTE2(dword_1551754);
                        LOWORD(v61) = dword_1551758;
                        word_1328ED4[v56 / 2] = v62;
                        LOWORD(dword_13246DC) = v62;
                        LOWORD(v62) = (unsigned __int8)v61 + (HIBYTE(dword_1551754) << 8);
                        word_1328ECA[v56 / 2] = v62;
                        dword_1324F54 = (unsigned __int16)v62;
                        LOWORD(v62) = (BYTE1(v61) << 8) + BYTE2(dword_1551758);
                        LOWORD(v61) = dword_155175C;
                        word_1328ECC[v56 / 2] = v62;
                        dword_132FFEC = (unsigned __int16)v62;
                        LOWORD(v62) = (unsigned __int8)v61 + (HIBYTE(dword_1551758) << 8);
                        word_1328ECE[v56 / 2] = v62;
                        word_1328E46 = v62;
                        LOWORD(v62) = (BYTE1(v61) << 8) + BYTE2(dword_155175C);
                        LOWORD(v61) = HIBYTE(dword_155175C);
                        word_1328ED0[v56 / 2] = v62;
                        LOWORD(dword_132FFFC) = v62;
                        LOBYTE(v62) = BYTE2(dword_1551760);
                        BYTE1(v62) = BYTE1(dword_1551760);
                        byte_132FFE5 = BYTE1(dword_1551760);
                        LOWORD(v61) = (unsigned __int8)dword_1551760 + ((_WORD)v61 << 8);
                        byte_132FFE7 = BYTE2(dword_1551760);
                        word_1328ED2[v56 / 2] = v61;
                        byte_1328EE4[v56] = BYTE1(v62);
                        LOWORD(dword_1322660) = v61;
                        LOWORD(v61) = dword_1551764;
                        byte_1328EE5[v56] = v62;
                        LOWORD(v62) = (unsigned __int8)v61 + (HIBYTE(dword_1551760) << 8);
                        v63 = (char *)&unk_1328EF0 + v56;
                        word_1328EE6[v56 / 2] = v62;
                        dword_1330074 = (unsigned __int16)v62;
                        dword_1328EEC[v56 / 4] = BYTE1(v61);
                        dword_1330078 = BYTE1(v61);
                        v64 = 0;
                        do
                        {
                          v65 = *(unsigned __int8 *)(v64 * 2 + 22353767);
                          LOBYTE(v66) = 0;
                          v63 += 2;
                          HIBYTE(v66) = *(_BYTE *)(v64 * 2 + 22353766);
                          ++v64;
                          v67 = v65 | v66;
                          word_1328DCA[v64] = v67;
                          *((_WORD *)v63 - 1) = v67;
                        }
                        while ( v64 < 17 );
                        v68 = 0;
                        v69 = 0;
                        do
                          v68 += (unsigned __int8)byte_48C3A8[v69++];
                        while ( v69 < 6 );
                        v70 = 0;
                        v71 = 0;
                        v72 = (_WORD *)((char *)&unk_1328F12 + v56);
                        do
                        {
                          LOBYTE(v73) = 0;
                          HIBYTE(v73) = byte_1551788[v71 * 2];
                          v74 = (unsigned __int8)byte_1551789[v71 * 2] | v73;
                          *v72 = v74;
                          if ( v70 >= v68 )
                            *(_WORD *)((char *)word_132957C + v71 * 2 - 2 * v68) = v74;
                          else
                            word_13246E4[v71] = v74;
                          ++v71;
                          ++v70;
                          ++v72;
                        }
                        while ( v71 < 79 );
                        byte_49CFF0 = 42;
                      }
                    }
                  }
                }
                else
                {
                  v54 = recv(s, &dword_1551740[v53], 3, 0);
                  if ( v54 >= 1 )
                  {
                    dword_1322648 += v54;
                    if ( dword_1322648 >= 3 )
                    {
                      v53 = 0;
                      dword_1322648 = 0;
                      if ( dword_1551740[0] != 113 || dword_1551740[1] != -9 )
LABEL_214:
                        sub_4169B0(aMainServerLogi, aError_0, 0);
                      LOBYTE(dword_132265C) = (dword_1551740[2] == 34) + 1;
                      continue;
                    }
                  }
                }
                break;
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 36:
              v33 = byte_4862F4;
              v34 = dword_1322648;
              if ( byte_4862F4 != -1 )
                goto LABEL_163;
              while ( 1 )
              {
                v35 = recv(s, &dword_1551740[v34], 1, 0);
                if ( v35 < 1 )
                  break;
                dword_1322648 += v35;
                if ( dword_1322648 < 1 )
                  break;
                v33 = dword_1551740[0];
                v34 = 0;
                dword_1322648 = 0;
                byte_4862F4 = dword_1551740[0];
                if ( !dword_1551740[0] )
                {
                  byte_49CFF0 = 37;
LABEL_163:
                  v36 = recv(s, &dword_1551740[v34], 50 * v33, 0);
                  if ( v36 >= 1 )
                  {
                    dword_1322648 += v36;
                    if ( dword_1322648 >= 50 * byte_4862F4 )
                    {
                      if ( (unsigned int)byte_4862F4 > 0 )
                      {
                        v37 = byte_49D88C;
                        v38 = 0;
                        v39 = byte_4862F4;
                        do
                        {
                          v40 = 284 * (unsigned __int8)dword_132A2BC;
                          v41 = 0;
                          byte_1328EC2[v40] = dword_1551740[v38];
                          do
                          {
                            byte_1328E98[v40 + v41] = v37 ^ *(_BYTE *)(v38 + v41 + 22353729);
                            ++v41;
                          }
                          while ( v41 < 21 );
                          v42 = *((_BYTE *)&dword_1551754 + v38 + 1);
                          v43 = *((_BYTE *)&dword_1551754 + v38 + 2);
                          byte_1328EAC[v40] = 0;
                          byte_1328EC3[v40] = v42;
                          v44 = *((_BYTE *)&dword_1551754 + v38 + 3);
                          byte_1328EC4[v40] = v43;
                          byte_1328EC5[v40] = v44;
                          v45 = 1;
                          v46 = ((*((unsigned __int8 *)&dword_1551758 + v38 + 2)
                                + ((*((unsigned __int8 *)&dword_1551758 + v38 + 1)
                                  + (*((unsigned __int8 *)&dword_1551758 + v38) << 8)) << 8)) << 8)
                              + *((unsigned __int8 *)&dword_1551758 + v38 + 3);
                          v47 = (unsigned int *)&unk_489BE8;
                          dword_1328EE8[v40 / 4] = v46;
                          while ( v46 < *(v47 - 1) || v46 >= *v47 )
                          {
                            ++v47;
                            ++v45;
                            if ( (signed int)v47 >= (signed int)&unk_489D74 )
                              goto LABEL_175;
                          }
                          word_1328ED4[v40 / 2] = v45;
LABEL_175:
                          v48 = 0;
                          do
                          {
                            byte_1328EAD[v40 + v48] = v37 ^ *((_BYTE *)&dword_155175C + v38 + v48);
                            ++v48;
                          }
                          while ( v48 < 20 );
                          v49 = (unsigned __int8)byte_1551770[v38];
                          v50 = (unsigned __int8)byte_1551771[v38];
                          byte_1328EC1[v40] = 0;
                          word_1328FB0[v40 / 2] = v50 + (v49 << 8);
                          v38 += 50;
                          --v39;
                          LOBYTE(dword_132A2BC) = dword_132A2BC + 1;
                        }
                        while ( v39 );
                      }
                      dword_1322648 = 0;
                      byte_4862F4 = 0;
                      byte_49CFF0 = 37;
                    }
                  }
                  return DefWindowProcA(hWnd, Msg, wParam, lParam);
                }
                if ( dword_1551740[0] != -1 )
                  goto LABEL_163;
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 39:
              v51 = recv(s, &dword_1551740[dword_1322648], 3, 0);
              if ( v51 < 1 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 += v51;
              if ( dword_1322648 < 3 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 = 0;
              if ( dword_1551740[0] != 113 || dword_1551740[1] != -9 )
                goto LABEL_214;
              if ( dword_1551740[2] == 25 )
              {
                byte_49CFF0 = 41;
              }
              else if ( dword_1551740[2] == 32 )
              {
                byte_49CFF0 = 40;
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 43:
              v52 = recv(s, &dword_1551740[dword_1322648], 3, 0);
              if ( v52 < 1 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 += v52;
              if ( dword_1322648 < 3 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 = 0;
              if ( dword_1551740[0] != 113 || dword_1551740[1] != -9 )
                goto LABEL_214;
              byte_49CFF0 = (dword_1551740[2] == 22) + 44;
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 48:
              v75 = recv(s, &dword_1551740[dword_1322648], 3, 0);
              if ( v75 < 1 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 += v75;
              if ( dword_1322648 < 3 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 = 0;
              if ( dword_1551740[0] != -9 || dword_1551740[1] != 113 )
                sub_4169B0(aRequestConnect, aError_0, 0);
              if ( dword_1551740[2] == 1 )
              {
LABEL_153:
                byte_49CFF0 = 49;
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              }
              if ( dword_1551740[2] == 2 )
                goto LABEL_29;
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 49:
              v76 = recv(s, &dword_1551740[dword_1322648], 49, 0);
              if ( v76 < 1 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 += v76;
              if ( dword_1322648 < 49 )
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              dword_1322648 = 0;
              byte_132263C = -1;
              if ( byte_1560A78 )
              {
                if ( byte_1322628 )
                  sub_466F20((unsigned __int8 *)dword_1551740);
                else
                  sub_4669F0(dword_1551740);
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              }
              dword_131D690 = 0;
              word_131ABFE = (unsigned __int8)dword_1551740[1] + ((unsigned __int8)dword_1551740[0] << 8);
              dword_1317E74 = 0;
              v77 = (unsigned __int8)dword_1551740[3] + ((unsigned __int8)dword_1551740[2] << 8);
              v78 = BYTE1(dword_1551744) + ((unsigned __int8)dword_1551744 << 8);
              if ( v77 > 0xC8 )
                v77 = 0;
              if ( BYTE1(dword_1551744) + ((unsigned int)(unsigned __int8)dword_1551744 << 8) > 0x15E )
                v78 = 350;
              byte_1547958 = BYTE2(dword_1551744);
              switch ( BYTE2(dword_1551744) )
              {
                case 0u:
                case 0x17u:
                  byte_1547959 = 0;
                  break;
                case 1u:
                case 0x16u:
                  byte_1547959 = 1;
                  break;
                case 2u:
                case 0x15u:
                  byte_1547959 = 2;
                  break;
                case 3u:
                  byte_1547959 = 3;
                  break;
                case 4u:
                case 0x14u:
                  byte_1547959 = 4;
                  break;
                case 5u:
                  byte_1547959 = 5;
                  break;
                case 6u:
                case 0x13u:
                  byte_1547959 = 6;
                  break;
                case 7u:
                  byte_1547959 = 7;
                  break;
                case 8u:
                case 0x12u:
                  byte_1547959 = 8;
                  break;
                case 9u:
                case 0x11u:
                  byte_1547959 = 9;
                  break;
                case 0xAu:
                case 0xFu:
                case 0x10u:
                  byte_1547959 = 10;
                  break;
                case 0xBu:
                case 0xCu:
                case 0xDu:
                case 0xEu:
                  byte_1547959 = 11;
                  break;
                default:
                  break;
              }
              LOBYTE(dword_48EB10) = HIBYTE(dword_1551744);
              BYTE1(dword_48EB10) = HIBYTE(dword_1551744);
              if ( HIBYTE(dword_1551744) == 1 )
              {
                sub_416860(57, 0, 0, 0, 1);
                sub_416700(57, 0);
              }
              sub_41CB10(40 * v77 + 20, 20 * v78 + 10, (int)&dword_1551738);
              *((_DWORD *)(&lpString)[dword_131D690] + 42) = 0;
              v79 = 284 * byte_1329448;
              if ( byte_1328EC3[v79] )
              {
                if ( byte_1328EC3[v79] == 1 )
                {
                  v80 = (unsigned __int8)byte_1328EC4[v79];
                  if ( v80 )
                  {
                    if ( v80 == 1 )
                    {
                      *((_DWORD *)(&lpString)[dword_131D690] + 42) = 60;
                      *((_BYTE *)(&lpString)[dword_131D690] + 64) = 10;
                      dword_1329744 = dword_1308330[3 * (unsigned __int8)byte_1328EC5[284 * byte_1329448]];
                      if ( !dword_49CFE0 )
                        goto LABEL_267;
                      sub_416750(76, (LPDIRECTSOUNDBUFFER *)&dword_1308220);
                      sub_416750(77, (LPDIRECTSOUNDBUFFER *)&dword_1308224);
                      sub_416750(78, (LPDIRECTSOUNDBUFFER *)&dword_1308228);
                      sub_416750(79, (LPDIRECTSOUNDBUFFER *)&dword_130822C);
                    }
                  }
                  else
                  {
                    *((_DWORD *)(&lpString)[dword_131D690] + 42) = 40;
                    *((_BYTE *)(&lpString)[dword_131D690] + 64) = 10;
                    dword_1329744 = dword_4BBE98[3 * (unsigned __int8)byte_1328EC5[284 * byte_1329448]];
                    if ( !dword_49CFE0 )
                      goto LABEL_267;
                    sub_416750(72, (LPDIRECTSOUNDBUFFER *)&dword_1308220);
                    sub_416750(73, (LPDIRECTSOUNDBUFFER *)&dword_1308224);
                    sub_416750(74, (LPDIRECTSOUNDBUFFER *)&dword_1308228);
                    sub_416750(75, (LPDIRECTSOUNDBUFFER *)&dword_130822C);
                  }
                }
                else if ( byte_1328EC3[v79] == 2 )
                {
                  *((_DWORD *)(&lpString)[dword_131D690] + 42) = 80;
                  *((_BYTE *)(&lpString)[dword_131D690] + 64) = 9;
                  dword_1329744 = dword_6BE3B0[3 * (unsigned __int8)byte_1328EC5[284 * byte_1329448]];
                  if ( !dword_49CFE0 )
                    goto LABEL_267;
                  sub_416750(80, (LPDIRECTSOUNDBUFFER *)&dword_1308220);
                  sub_416750(81, (LPDIRECTSOUNDBUFFER *)&dword_1308224);
                  sub_416750(82, (LPDIRECTSOUNDBUFFER *)&dword_1308228);
                  sub_416750(83, (LPDIRECTSOUNDBUFFER *)&dword_130822C);
                }
              }
              else
              {
                v81 = (unsigned __int8)byte_1328EC4[v79];
                if ( v81 )
                {
                  if ( v81 == 1 )
                  {
                    *((_DWORD *)(&lpString)[dword_131D690] + 42) = 20;
                    *((_BYTE *)(&lpString)[dword_131D690] + 64) = 8;
                    dword_1329744 = dword_11FDCA8[3 * (unsigned __int8)byte_1328EC5[284 * byte_1329448]];
                    if ( !dword_49CFE0 )
                      goto LABEL_267;
                    sub_416750(68, (LPDIRECTSOUNDBUFFER *)&dword_1308220);
                    sub_416750(69, (LPDIRECTSOUNDBUFFER *)&dword_1308224);
                    sub_416750(70, (LPDIRECTSOUNDBUFFER *)&dword_1308228);
                    sub_416750(71, (LPDIRECTSOUNDBUFFER *)&dword_130822C);
                  }
                }
                else
                {
                  *((_DWORD *)(&lpString)[dword_131D690] + 42) = 0;
                  *((_BYTE *)(&lpString)[dword_131D690] + 64) = 8;
                  dword_1329744 = dword_8C8728[3 * (unsigned __int8)byte_1328EC5[284 * byte_1329448]];
                  if ( !dword_49CFE0 )
                    goto LABEL_267;
                  sub_416750(64, (LPDIRECTSOUNDBUFFER *)&dword_1308220);
                  sub_416750(65, (LPDIRECTSOUNDBUFFER *)&dword_1308224);
                  sub_416750(66, (LPDIRECTSOUNDBUFFER *)&dword_1308228);
                  sub_416750(67, (LPDIRECTSOUNDBUFFER *)&dword_130822C);
                }
              }
              if ( dword_49CFE0 )
              {
                sub_416750(85, (LPDIRECTSOUNDBUFFER *)&dword_1308230);
                sub_416750(86, (LPDIRECTSOUNDBUFFER *)&dword_1308234);
                sub_416750(87, (LPDIRECTSOUNDBUFFER *)&dword_1308238);
                sub_416750(88, (LPDIRECTSOUNDBUFFER *)&dword_130823C);
                sub_416750(89, (LPDIRECTSOUNDBUFFER *)&dword_1308240);
                sub_416750(90, (LPDIRECTSOUNDBUFFER *)&dword_1308244);
                sub_416750(91, (LPDIRECTSOUNDBUFFER *)&dword_1308248);
                sub_416750(92, (LPDIRECTSOUNDBUFFER *)&dword_130824C);
                sub_416750(93, (LPDIRECTSOUNDBUFFER *)&dword_1308250);
                sub_416750(94, (LPDIRECTSOUNDBUFFER *)&dword_1308254);
                sub_416750(95, (LPDIRECTSOUNDBUFFER *)&dword_1308258);
                sub_416750(96, (LPDIRECTSOUNDBUFFER *)&dword_130825C);
                sub_416750(97, (LPDIRECTSOUNDBUFFER *)&dword_1308260);
              }
LABEL_267:
              v82 = (&lpString)[dword_131D690];
              if ( !dword_13083AC[8 * *((_DWORD *)v82 + 42)] )
              {
                sprintf(&v223, a03dAni, *((_DWORD *)v82 + 42));
                sub_4221A0((int)&v223, *((_DWORD *)(&lpString)[dword_131D690] + 42));
                sprintf(&v223, a03dAni, *((_DWORD *)(&lpString)[dword_131D690] + 42) + 1);
                sub_4221A0((int)&v223, *((_DWORD *)(&lpString)[dword_131D690] + 42) + 1);
              }
              *((_WORD *)(&lpString)[dword_131D690] + 378) = word_1328EC8[142 * byte_1329448];
              byte_49CFF0 = 64;
              byte_132263C = -1;
              sprintf(v221, a03dMap, (unsigned __int16)word_131ABFE);
              dword_13225E0 = dword_48BA58[(unsigned __int16)word_131ABFE];
              sub_422950(v221);
              sub_477670((unsigned __int16)word_131ABFE);
              v83 = BYTE2(dword_1551748) | (BYTE1(dword_1551748) << 8);
              if ( v83 && (unsigned __int8)dword_155174C | (HIBYTE(dword_1551748) << 8) )
                sub_4245C0(
                  BYTE2(dword_1551748) | (BYTE1(dword_1551748) << 8),
                  (unsigned __int8)dword_155174C | (HIBYTE(dword_1551748) << 8));
              if ( HIBYTE(dword_155174C) | (BYTE2(dword_155174C) << 8)
                && BYTE1(dword_1551750) | ((unsigned __int8)dword_1551750 << 8) )
              {
                sub_4245C0(
                  HIBYTE(dword_155174C) | (BYTE2(dword_155174C) << 8),
                  BYTE1(dword_1551750) | ((unsigned __int8)dword_1551750 << 8));
              }
              if ( (unsigned __int8)dword_1551754 | (HIBYTE(dword_1551750) << 8)
                && BYTE2(dword_1551754) | (BYTE1(dword_1551754) << 8) )
              {
                sub_4245C0(
                  (unsigned __int8)dword_1551754 | (HIBYTE(dword_1551750) << 8),
                  BYTE2(dword_1551754) | (BYTE1(dword_1551754) << 8));
              }
              if ( BYTE1(dword_1551758) | ((unsigned __int8)dword_1551758 << 8)
                && HIBYTE(dword_1551758) | (BYTE2(dword_1551758) << 8) )
              {
                sub_4245C0(
                  BYTE1(dword_1551758) | ((unsigned __int8)dword_1551758 << 8),
                  HIBYTE(dword_1551758) | (BYTE2(dword_1551758) << 8));
              }
              strcpy((char *)&unk_131949C, (const char *)&dword_155175C);
              byte_13225F5 = byte_1551770[0];
              sub_4248D0();
              if ( !byte_133005C )
              {
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 19;
                *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)(&lpString)[dword_131D690] + 14);
                sub_479790(7);
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 67;
                sub_479790(3);
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 100;
                sub_479790(3);
              }
              sub_424410(byte_4897A8[(unsigned __int16)word_131ABFE], (unsigned __int8)byte_1547958);
              v215 = -1889599232;
              switch ( word_131ABFE )
              {
                case 52:
                  sub_41CB10(4540, 3190, (int)&v215);
                  *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1037;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 1;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
                  *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
                  *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
                  *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(float *)(dword_49DA1C[dword_1317E74] + 112) + 5.0;
                  break;
                case 85:
                  sub_41CB10(3260, 1910, (int)&v215);
                  *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1037;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 1;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
                  *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
                  *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
                  *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(float *)(dword_49DA1C[dword_1317E74] + 112) + 5.0;
                  break;
                case 104:
                  sub_41CB10(3220, 1970, (int)&v215);
                  *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1037;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 1;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
                  *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
                  *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
                  *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
                  *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(float *)(dword_49DA1C[dword_1317E74] + 112) + 5.0;
                  break;
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 52:
              v10 = recv(s, &dword_1551740[dword_1322648], 4, 0);
              if ( v10 >= 1 )
              {
                dword_1322648 += v10;
                if ( dword_1322648 >= 4 )
                {
                  dword_1322648 = 0;
                  if ( dword_1551740[0] != 113 || dword_1551740[1] != -9 || dword_1551740[2] != 36 )
                    sub_4169B0(aWaitingPatch, aError_0, 0);
                  dword_49D024 = 0;
                  byte_49CFF0 = 53;
                  dword_49D038 = (unsigned __int8)dword_1551740[3];
                }
              }
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
            case 53:
              v11 = SBYTE2(dword_48C7B0) + 1;
              while ( 2 )
              {
                switch ( v11 )
                {
                  case 0u:
                    v12 = recv(s, &dword_1551740[dword_1322648], 3, 0);
                    if ( v12 < 1 )
                      return DefWindowProcA(hWnd, Msg, wParam, lParam);
                    dword_1322648 += v12;
                    if ( dword_1322648 < 3 )
                      return DefWindowProcA(hWnd, Msg, wParam, lParam);
                    dword_1322648 = 0;
                    if ( dword_1551740[0] == 113 && dword_1551740[1] == -9 )
                    {
                      BYTE2(dword_48C7B0) = dword_1551740[2];
                      v11 = dword_1551740[2] + 1;
                      if ( v11 > 0x29 )
                        return DefWindowProcA(hWnd, Msg, wParam, lParam);
                      continue;
                    }
                    BYTE2(dword_48C7B0) = -1;
                    break;
                  case 0x26u:
                    v13 = len;
                    if ( len )
                      goto LABEL_84;
                    v14 = recv(s, &dword_1551740[dword_1322648], 38, 0);
                    if ( v14 >= 1 )
                    {
                      dword_1322648 += v14;
                      if ( dword_1322648 >= 38 )
                      {
                        dword_1322648 = 0;
                        qmemcpy(&byte_49D908, dword_1551740, 0x1Cu);
                        v15 = BYTE1(dword_1551760)
                            + (((unsigned __int8)dword_1551760
                              + ((HIBYTE(dword_155175C) + (BYTE2(dword_155175C) << 8)) << 8)) << 8);
                        v16 = dword_49CFF8 == 0;
                        *((_WORD *)&byte_49D908 + 14) = *(_WORD *)&dword_1551740[28];
                        dword_49D044 = v15;
                        if ( v16 )
                        {
                          dword_49CFF8 = sub_41BAF0(v15);
                          v15 = dword_49D044;
                        }
                        v17 = ((unsigned __int8)dword_1551764
                             + ((HIBYTE(dword_1551760) + (BYTE2(dword_1551760) << 8)) << 8)) << 8;
                        v16 = BYTE1(dword_1551764) + v17 == 0;
                        v13 = BYTE1(dword_1551764) + v17;
                        len = v13;
                        if ( v16 )
                        {
                          if ( v15 != dword_49D03C )
                            sub_4169B0(aFileSizeNotMat, aPatching, 0);
                          switch ( byte_49D908 )
                          {
                            case 67:
                              sprintf(&v222, aChrS_0, &unk_49D90A);
                              break;
                            case 69:
                              v213 = aS_0;
                              goto LABEL_95;
                            case 77:
                              sprintf(&v222, aMapS, &unk_49D90A);
                              break;
                            case 83:
                              v213 = aSoundsS_0;
LABEL_95:
                              sprintf(&v222, v213, &unk_49D90A);
                              break;
                            case 85:
                              sprintf(&v222, aSourceS, &unk_49D90A);
                              break;
                            case 87:
                              sprintf(&v222, aWorkS, &unk_49D90A);
                              break;
                            default:
                              break;
                          }
                          v19 = fopen(&v222, aWb);
                          fwrite(dword_49CFF8, 1u, dword_49D044, v19);
                          fclose(v19);
                          sub_41BB80(dword_49CFF8);
                          dword_49CFF8 = 0;
                          dword_49D03C = 0;
                          ++dword_49D024;
                          BYTE2(dword_48C7B0) = -1;
                          byte_1550B60[0] = 113;
                          byte_1550B61[0] = -9;
                          LOBYTE(dword_1550B62) = 38;
                          sub_479790(3);
                        }
                        else
                        {
LABEL_84:
                          dword_1322648 += recv(s, &dword_1551740[dword_1322648], v13, 0);
                          if ( dword_1322648 >= len )
                          {
                            qmemcpy((char *)dword_49CFF8 + dword_49D03C, dword_1551740, len);
                            v18 = len + dword_49D03C;
                            dword_49D03C += len;
                            if ( (unsigned int)len < 0x3E8 )
                            {
                              if ( dword_49D044 != v18 )
                                sub_4169B0(aDataError, aError_1, 0);
                              switch ( byte_49D908 )
                              {
                                case 67:
                                  sprintf(&v222, aChrS_0, &unk_49D90A);
                                  break;
                                case 69:
                                  v214 = aS_0;
                                  goto LABEL_104;
                                case 77:
                                  sprintf(&v222, aMapS, &unk_49D90A);
                                  break;
                                case 83:
                                  v214 = aSoundsS_0;
LABEL_104:
                                  sprintf(&v222, v214, &unk_49D90A);
                                  break;
                                case 85:
                                  sprintf(&v222, aSourceS, &unk_49D90A);
                                  break;
                                case 87:
                                  sprintf(&v222, aWorkS, &unk_49D90A);
                                  break;
                                default:
                                  break;
                              }
                              v20 = fopen(&v222, aWb);
                              fwrite(dword_49CFF8, 1u, dword_49D044, v20);
                              fclose(v20);
                              sub_41BB80(dword_49CFF8);
                              dword_49CFF8 = 0;
                              dword_49D03C = 0;
                              ++dword_49D024;
                            }
                            len = 0;
                            dword_1322648 = 0;
                            BYTE2(dword_48C7B0) = -1;
                            byte_1550B60[0] = 113;
                            byte_1550B61[0] = -9;
                            LOBYTE(dword_1550B62) = 38;
                            sub_479790(3);
                          }
                        }
                      }
                    }
                    return DefWindowProcA(hWnd, Msg, wParam, lParam);
                  case 0x28u:
                    if ( dword_49D024 != dword_49D038 )
                      sub_4169B0(aPatchError, Caption, 0x40000);
                    UnhookWindowsHookEx(hhk);
                    sub_443E30();
                    sub_443C90();
                    sub_479C50();
                    SetWindowPos(hWndParent, 0, 0, 0, 0, 0, 0x80u);
                    v21 = fopen(aTmpExe, aRb);
                    if ( v21 )
                    {
                      fclose(v21);
                      WinExec(aTmpExe, 1u);
                    }
                    else
                    {
                      WinExec(CmdLine, 1u);
                    }
                    sub_4169E0();
                    exit(0);
                    return result;
                  case 0x29u:
                    sub_4169E0();
                    PostQuitMessage(0);
                    return 0;
                  default:
                    return DefWindowProcA(hWnd, Msg, wParam, lParam);
                }
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              }
            case 64:
              v84 = (unsigned __int8)dword_48C7B0;
              break;
            default:
              return DefWindowProcA(hWnd, Msg, wParam, lParam);
          }
          while ( 2 )
          {
            switch ( v84 )
            {
              case 4u:
                v115 = recv(s, &dword_1551740[dword_1322648], 22, 0);
                if ( v115 < 1 )
                  goto LABEL_652;
                dword_1322648 += v115;
                if ( dword_1322648 < 22 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_469210((int)dword_1551740);
                goto LABEL_644;
              case 6u:
                v116 = recv(s, &dword_1551740[dword_1322648], 1, 0);
                if ( v116 < 1 )
                  goto LABEL_652;
                v84 = v116;
                dword_1322648 += v116;
                if ( dword_1322648 < 1 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                {
                  switch ( dword_1551740[0] )
                  {
                    case 0:
                      dword_1330078 = 0;
                      break;
                    case 1:
                      sub_422E80((const char *)&unk_48C974, 3);
                      dword_1330078 = 1;
                      break;
                    case 2:
                      sub_422E80((const char *)&unk_48C958, 3);
                      dword_1330078 = 2;
                      break;
                    case 3:
                      sub_422E80((const char *)&unk_48C944, 3);
                      dword_1330078 = 3;
                      break;
                    default:
                      goto LABEL_644;
                  }
                }
                goto LABEL_644;
              case 8u:
                v117 = recv(s, &dword_1551740[dword_1322648], 17, 0);
                if ( v117 < 1 )
                  goto LABEL_652;
                dword_1322648 += v117;
                if ( dword_1322648 < 17 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_469CA0((int)dword_1551740);
                goto LABEL_644;
              case 0xAu:
                v121 = recv(s, &dword_1551740[dword_1322648], 26, 0);
                if ( v121 < 1 )
                  goto LABEL_652;
                dword_1322648 += v121;
                if ( dword_1322648 < 26 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46A370((int)dword_1551740);
                goto LABEL_644;
              case 0xCu:
                v118 = recv(s, &dword_1551740[dword_1322648], 4, 0);
                if ( v118 < 1 )
                  goto LABEL_652;
                v84 = v118;
                dword_1322648 += v118;
                if ( dword_1322648 < 4 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                {
                  v215 = *(_DWORD *)dword_1551740;
                  v119 = sub_425480(&v215);
                  v120 = (&lpString)[v119];
                  if ( !*((_DWORD *)v120 + 23) )
                  {
                    *((_WORD *)v120 + 88) = 0;
                    *((_BYTE *)(&lpString)[v119] + 174) = 0;
                    *((_DWORD *)(&lpString)[v119] + 150) = 0;
                  }
                  v84 = (unsigned int)(&lpString)[v119];
                  *(_BYTE *)(v84 + 104) = 0;
                }
                goto LABEL_644;
              case 0xDu:
                v122 = recv(s, &dword_1551740[dword_1322648], 35, 0);
                if ( v122 < 1 )
                  goto LABEL_652;
                v84 = v122;
                dword_1322648 += v122;
                if ( dword_1322648 < 35 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46A6F0((int)dword_1551740);
                goto LABEL_644;
              case 0xEu:
                v123 = recv(s, &dword_1551740[dword_1322648], 26, 0);
                if ( v123 < 1 )
                  goto LABEL_652;
                dword_1322648 += v123;
                if ( dword_1322648 < 26 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46B790((int)dword_1551740);
                goto LABEL_644;
              case 0x10u:
                v124 = recv(s, &dword_1551740[dword_1322648], 12, 0);
                if ( v124 < 1 )
                  goto LABEL_652;
                v84 = v124;
                dword_1322648 += v124;
                if ( dword_1322648 < 12 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46BDD0((int)dword_1551740);
                goto LABEL_644;
              case 0x11u:
                v125 = recv(s, &dword_1551740[dword_1322648], 8, 0);
                if ( v125 < 1 )
                  goto LABEL_652;
                dword_1322648 += v125;
                if ( dword_1322648 < 8 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46BFE0((int *)dword_1551740);
                goto LABEL_644;
              case 0x14u:
                v87 = dword_1322648;
                if ( word_49D94E )
                  goto LABEL_310;
                do
                {
                  v88 = recv(s, &dword_1551740[v87], 6, 0);
                  if ( v88 < 1 )
                    goto LABEL_652;
                  dword_1322648 += v88;
                  if ( dword_1322648 < 6 )
                    goto LABEL_652;
                  v87 = 0;
                  v89 = (&lpString)[dword_131D690];
                  dword_1322648 = 0;
                  if ( v89[56] != dword_1551740[0]
                    || v89[57] != dword_1551740[1]
                    || v89[58] != dword_1551740[2]
                    || v89[59] != dword_1551740[3] )
                  {
                    dword_1330060 = 1;
                    byte_1328DEE = 0;
                  }
                  else
                  {
                    byte_1328DEE = 1;
                  }
                  LOBYTE(v90) = 0;
                  HIBYTE(v90) = dword_1551744;
                  v91 = BYTE1(dword_1551744) | v90;
                  word_49D94E = 5 * v91;
                  if ( (unsigned __int16)(5 * v91) < 1u )
                  {
                    dword_1322648 = 0;
LABEL_648:
                    LOBYTE(dword_48C7B0) = -1;
                    byte_132263C = -1;
                    return DefWindowProcA(hWnd, Msg, wParam, lParam);
                  }
                  byte_1330048 = 0;
                }
                while ( !(5 * v91) );
LABEL_310:
                dword_1322648 += recv(s, &dword_1551740[v87], 8, 0);
                if ( dword_1322648 >= 8 )
                {
                  v16 = word_49D94E == 5;
                  word_49D94E -= 5;
                  dword_1322648 = 0;
                  if ( v16 )
                  {
                    LOBYTE(dword_48C7B0) = -1;
                    if ( byte_1328DEE != 1 )
                      byte_1328E45 = 4;
                  }
                  sub_467C10(dword_1551740);
                  goto LABEL_644;
                }
                goto LABEL_652;
              case 0x16u:
                v165 = recv(s, &dword_1551740[dword_1322648], 43, 0);
                if ( v165 < 1 )
                  goto LABEL_652;
                dword_1322648 += v165;
                if ( dword_1322648 < 43 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46D380((int)dword_1551740);
                goto LABEL_644;
              case 0x17u:
                v166 = recv(s, &dword_1551740[dword_1322648], 30, 0);
                if ( v166 < 1 )
                  goto LABEL_652;
                v84 = v166;
                dword_1322648 += v166;
                if ( dword_1322648 < 30 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46E050((int)dword_1551740);
                goto LABEL_644;
              case 0x19u:
                v167 = dword_1322638;
                if ( dword_1322638 )
                  goto LABEL_562;
                while ( 1 )
                {
                  v168 = recv(s, &dword_1551740[dword_1322648], 23, 0);
                  if ( v168 < 1 )
                    goto LABEL_652;
                  dword_1322648 += v168;
                  if ( dword_1322648 < 23 )
                    goto LABEL_652;
                  v84 = BYTE2(dword_1551754);
                  dword_1322648 = 0;
                  dword_1322638 = 21 * (BYTE2(dword_1551754) | (BYTE1(dword_1551754) << 8));
                  if ( !dword_1322638 )
                    goto LABEL_593;
                  v215 = *(_DWORD *)dword_1551740;
                  v169 = BYTE1(dword_1551744) | 16 * (unsigned __int8)dword_1551744;
                  v170 = HIBYTE(dword_1551744) | (BYTE2(dword_1551744) << 8);
                  v171 = sub_425480(&v215);
                  v172 = (&lpString)[v171];
                  v219 = v171;
                  *((_DWORD *)v172 + 37) = v169;
                  *((_DWORD *)(&lpString)[v171] + 38) = v170;
                  *((_DWORD *)(&lpString)[v171] + 47) = 0;
                  *((_BYTE *)(&lpString)[v171] + 104) = 0;
                  *((_DWORD *)(&lpString)[v171] + 25) = -1;
                  if ( v171 != dword_131D690 )
                  {
                    v173 = (&lpString)[v171];
                    dword_1322640 = (unsigned __int8)dword_1551750
                                  + ((HIBYTE(dword_155174C) + ((BYTE2(dword_155174C) + (BYTE1(dword_155174C) << 8)) << 8)) << 8);
                    sub_42E780((int)v173, &dword_1551748);
                  }
                  v167 = dword_1322638;
                  if ( dword_1322638 )
                  {
LABEL_562:
                    dword_1322648 += recv(s, &dword_1551740[dword_1322648], v167, 0);
                    if ( dword_1322648 >= dword_1322638 )
                    {
                      dword_1322648 = 0;
                      v218 = 0;
                      v84 = dword_1322638 / 21;
                      if ( dword_1322638 / 21 > 0 )
                      {
                        v216 = (unsigned __int8 *)&dword_1551744;
                        do
                        {
                          v174 = dword_1317E74;
                          v175 = *v216;
                          v215 = *((_DWORD *)v216 - 1);
                          v176 = v175;
                          BYTE1(v175) = v216[2];
                          LOBYTE(v175) = v216[3];
                          v177 = v216[1] | 16 * v176;
                          v178 = (unsigned __int16)v175;
                          v179 = sub_425480(&v215);
                          if ( v174 != dword_1317E74 )
                          {
                            *((_DWORD *)(&lpString)[v179] + 37) = v177;
                            *((_DWORD *)(&lpString)[v179] + 38) = v178;
                            sub_423330((int)(&lpString)[v179]);
                            *((_BYTE *)(&lpString)[v179] + 174) = 0;
                            *((_WORD *)(&lpString)[v179] + 88) = 0;
                            *((_DWORD *)(&lpString)[v179] + 47) = 0;
                            *((_BYTE *)(&lpString)[v179] + 104) = 0;
                            *((_DWORD *)(&lpString)[v179] + 25) = -1;
                          }
                          v180 = v216;
                          sub_42E780((int)(&lpString)[v179], v216 + 4);
                          v181 = (&lpString)[v179];
                          v182 = v180[9];
                          v183 = v180[10];
                          HIBYTE(v184) = v180[11];
                          LOBYTE(v184) = v180[12];
                          *((_WORD *)v181 + 42) = v184;
                          v185 = v180[13];
                          v186 = v180[14];
                          LOBYTE(v184) = 0;
                          HIBYTE(v184) = v180[15];
                          v187 = *((_DWORD *)v181 + 13);
                          *((_WORD *)v181 + 43) = (unsigned __int8)dword_1551754 | v184;
                          if ( v187 == dword_131D690 )
                          {
                            dword_1324F54 = *((unsigned __int16 *)v181 + 42);
                            dword_132FFEC = *((unsigned __int16 *)v181 + 43);
                          }
                          if ( *((_WORD *)v181 + 43) )
                          {
                            *((_WORD *)v181 + 302) = 0;
                            *((_BYTE *)v181 + 174) = 11;
                            *((_DWORD *)v181 + 150) = 1;
                            *((_WORD *)v181 + 88) = 0;
                          }
                          else
                          {
                            v188 = v219;
                            v220 = (char *)((&lpString)[v219] + 768);
                            strcpy(v220, aLastHit);
                            *((_DWORD *)(&lpString)[v188] + 197) = dword_13211C8;
                            v189 = (signed __int64)*((float *)v181 + 28);
                            v190 = *((float *)v181 + 30);
                            *((_DWORD *)v181 + 33) = v189;
                            *((_DWORD *)v181 + 35) = v189;
                            *((_DWORD *)v181 + 34) = (signed __int64)v190;
                            *((_DWORD *)v181 + 36) = (signed __int64)v190;
                            *((_DWORD *)v181 + 23) = 1;
                            *((_DWORD *)v181 + 47) = 0;
                            *((_DWORD *)v181 + 18) = 0;
                            *((_BYTE *)v181 + 104) = 0;
                            *((_BYTE *)(&lpString)[v179] + 104) = 0;
                            if ( *((_DWORD *)v181 + 159) != -1
                              && (*((_DWORD *)v181 + 13) == dword_131D690
                               || *((_DWORD *)v181 + 17) && *((_DWORD *)v181 + 19)) )
                            {
                              byte_1550B60[0] = -9;
                              byte_1550B61[0] = 113;
                              LOBYTE(dword_1550B62) = 113;
                              *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v181 + 14);
                              v191 = (signed __int64)(*((float *)v181 + 28) * 0.025);
                              LOBYTE(dword_1550B67) = BYTE1(v191);
                              BYTE1(dword_1550B67) = (signed __int64)(*((float *)v181 + 28) * 0.025);
                              v192 = (signed __int64)(*((float *)v181 + 30) * 0.050000001);
                              BYTE2(dword_1550B67) = BYTE1(v192);
                              HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v181 + 30) * 0.050000001);
                              dword_1550B6B = *((_DWORD *)v181 + 14);
                              v193 = (signed __int64)(*((float *)v181 + 28) * 0.025);
                              byte_1550B6F = BYTE1(v193);
                              byte_1550B70 = (signed __int64)(*((float *)v181 + 28) * 0.025);
                              v194 = (signed __int64)(*((float *)v181 + 30) * 0.050000001);
                              byte_1550B71 = BYTE1(v194);
                              byte_1550B72 = (signed __int64)(*((float *)v181 + 30) * 0.050000001);
                              sub_42EA60((int)v181, &byte_1550B73);
                              byte_1550B78[0] = *((_DWORD *)v181 + 159) >> 24;
                              byte_1550B79 = *((_DWORD *)v181 + 159) >> 16;
                              byte_1550B7A = *((_WORD *)v181 + 318) >> 8;
                              byte_1550B7B = v181[636];
                              sub_479790(28);
                            }
                            v195 = *((_DWORD *)v181 + 19);
                            *((_DWORD *)v181 + 159) = -1;
                            if ( v195 )
                            {
                              sub_46F7A0((int)v181);
                              sub_46F5D0((int)v181, (int)(&lpString)[dword_131D690]);
                            }
                            if ( v179 == dword_131D690 )
                              sub_46F7A0((int)(&lpString)[v179]);
                            if ( *((_DWORD *)v181 + 13) == dword_131D690 )
                            {
                              v196 = dword_48CECC;
                              do
                              {
                                *(v196 - 1) = -1;
                                *v196 = 0;
                                v196 += 2;
                              }
                              while ( (signed int)v196 < (signed int)&unk_48CF44 );
                              v197 = 0;
                              if ( dword_1317E74 > 0 )
                              {
                                v198 = &lpString;
                                do
                                {
                                  v199 = *v198;
                                  if ( *((_DWORD *)*v198 + 19) && *((_DWORD *)v199 + 17) )
                                  {
                                    *((_BYTE *)v199 + 104) = 0;
                                    *((_DWORD *)*v198 + 25) = -1;
                                    v200 = *v198;
                                    byte_1550B60[0] = -9;
                                    byte_1550B61[0] = 113;
                                    LOBYTE(dword_1550B62) = 11;
                                    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v200 + 14);
                                    sub_479790(7);
                                    v201 = *v198;
                                    byte_1550B60[0] = -9;
                                    byte_1550B61[0] = 113;
                                    LOBYTE(dword_1550B62) = 18;
                                    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v201 + 14);
                                    v202 = (signed __int64)(*((float *)v201 + 28) * 0.025);
                                    LOBYTE(dword_1550B67) = BYTE1(v202);
                                    BYTE1(dword_1550B67) = (signed __int64)(*((float *)v201 + 28) * 0.025);
                                    v203 = (signed __int64)(*((float *)v201 + 30) * 0.050000001);
                                    BYTE2(dword_1550B67) = BYTE1(v203);
                                    HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v201 + 30) * 0.050000001);
                                    dword_1550B6B = *((_DWORD *)(&lpString)[dword_131D690] + 14);
                                    sub_479790(15);
                                  }
                                  ++v197;
                                  ++v198;
                                }
                                while ( v197 < dword_1317E74 );
                              }
                            }
                            if ( *(_DWORD *)(dword_8D3C24[*((_DWORD *)v181 + 42)] + 140) )
                            {
                              *((_BYTE *)v181 + 99) = 0;
                              *((_BYTE *)v181 + 174) = 17;
                              *((_DWORD *)v181 + 150) = 1;
                              *((_WORD *)v181 + 88) = 0;
                            }
                          }
                          v84 = dword_1322638 / 21;
                          v7 = __OFSUB__(v218 + 1, dword_1322638 / 21);
                          v6 = v218++ + 1 - dword_1322638 / 21 < 0;
                          v216 += 21;
                        }
                        while ( v6 ^ v7 );
                      }
                      dword_1322638 = 0;
LABEL_593:
                      LOBYTE(dword_48C7B0) = -1;
                      goto LABEL_644;
                    }
                    goto LABEL_652;
                  }
                }
              case 0x1Bu:
                v153 = recv(s, &dword_1551740[dword_1322648], 9, 0);
                if ( v153 < 1 )
                  goto LABEL_652;
                dword_1322648 += v153;
                if ( dword_1322648 < 9 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                {
                  switch ( dword_1551740[0] )
                  {
                    case 1:
                      sub_42BDE0(
                        (unsigned __int8)dword_1551744 | (((unsigned __int8)dword_1551740[3] | (((unsigned __int8)dword_1551740[2] | ((unsigned __int8)dword_1551740[1] << 8)) << 8)) << 8),
                        1);
                      sub_422E80((const char *)&unk_48C904, 4);
                      sub_4233F0(10);
                      dword_1322658 = 1;
                      break;
                    case 2:
                      sub_42BDE0(
                        (unsigned __int8)dword_1551744 | (((unsigned __int8)dword_1551740[3] | (((unsigned __int8)dword_1551740[2] | ((unsigned __int8)dword_1551740[1] << 8)) << 8)) << 8),
                        1);
                      sub_422E80((const char *)&unk_48C924, 4);
                      break;
                    case 3:
                      sub_42BDE0(
                        (unsigned __int8)dword_1551744 | (((unsigned __int8)dword_1551740[3] | (((unsigned __int8)dword_1551740[2] | ((unsigned __int8)dword_1551740[1] << 8)) << 8)) << 8),
                        1);
                      sub_422E80((const char *)&unk_48C934, 4);
                      sub_4233F0(11);
                      break;
                  }
                }
                goto LABEL_644;
              case 0x1Cu:
                v154 = recv(s, &dword_1551740[dword_1322648], 1, 0);
                if ( v154 < 1 )
                  goto LABEL_652;
                dword_1322648 += v154;
                if ( dword_1322648 < 1 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                {
                  switch ( dword_1551740[0] )
                  {
                    case 1:
                      sub_422E80((const char *)&unk_48C8D4, 4);
                      break;
                    case 2:
                      sub_422E80((const char *)&unk_48C8E4, 4);
                      break;
                    case 3:
                      sub_422E80((const char *)&unk_48C8F4, 4);
                      break;
                  }
                }
                goto LABEL_644;
              case 0x1Eu:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                dword_131D688 = 1;
                goto LABEL_644;
              case 0x21u:
                v86 = recv(s, &dword_1551740[dword_1322648], 24, 0);
                if ( v86 < 1 )
                  goto LABEL_652;
                dword_1322648 += v86;
                if ( dword_1322648 < 24 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_467770(dword_1551740);
                goto LABEL_644;
              case 0x22u:
                sub_4169B0(aMapChangeError, aError_0, 0x40000);
                return result;
              case 0x24u:
                v155 = recv(s, &dword_1551740[dword_1322648], 4, 0);
                if ( v155 < 1 )
                  goto LABEL_652;
                v84 = v155;
                dword_1322648 += v155;
                if ( dword_1322648 < 4 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46C0F0((int *)dword_1551740);
                goto LABEL_644;
              case 0x25u:
                v156 = recv(s, &dword_1551740[dword_1322648], 4, 0);
                if ( v156 < 1 )
                  goto LABEL_652;
                dword_1322648 += v156;
                if ( dword_1322648 < 4 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46C3A0((int *)dword_1551740);
                goto LABEL_644;
              case 0x27u:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                byte_1328E45 = 1;
                v158 = (&lpString)[dword_131D690];
                dword_1330074 = 7;
                sub_416860(181, (signed __int64)*((float *)v158 + 28), (signed __int64)*((float *)v158 + 30), 0, 0);
                sub_41C960((signed __int64)*((float *)v158 + 28), (signed __int64)*((float *)v158 + 30));
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1059;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 2;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
                v84 = dword_49DA1C[dword_1317E74];
                *(_DWORD *)(v84 + 636) = -1;
                goto LABEL_644;
              case 0x29u:
                v157 = recv(s, &dword_1551740[dword_1322648], 5, 0);
                if ( v157 < 1 )
                  goto LABEL_652;
                v84 = v157;
                dword_1322648 += v157;
                if ( dword_1322648 < 5 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46C510((unsigned __int8 *)dword_1551740);
                goto LABEL_644;
              case 0x2Bu:
                v97 = recv(s, &dword_1551740[dword_1322648], 28, 0);
                if ( v97 < 1 )
                  goto LABEL_652;
                dword_1322648 += v97;
                if ( dword_1322648 < 28 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_467CB0((int *)dword_1551740);
                goto LABEL_644;
              case 0x2Du:
                v98 = recv(s, &dword_1551740[dword_1322648], 9, 0);
                if ( v98 < 1 )
                  goto LABEL_652;
                dword_1322648 += v98;
                if ( dword_1322648 < 9 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_467DE0((int)dword_1551740);
                goto LABEL_644;
              case 0x2Fu:
                v99 = recv(s, &dword_1551740[dword_1322648], 18, 0);
                if ( v99 < 1 )
                  goto LABEL_652;
                dword_1322648 += v99;
                if ( dword_1322648 < 18 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_468270((int)dword_1551740);
                goto LABEL_644;
              case 0x32u:
                v159 = recv(s, &dword_1551740[dword_1322648], 28, 0);
                if ( v159 < 1 )
                  goto LABEL_652;
                dword_1322648 += v159;
                if ( dword_1322648 < 28 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_46C600(dword_1551740);
                dword_13225DC = 0;
                goto LABEL_644;
              case 0x33u:
                v92 = recv(s, &dword_1551740[dword_1322648], 6, 0);
                if ( v92 < 1 )
                  goto LABEL_652;
                v84 = v92;
                dword_1322648 += v92;
                if ( dword_1322648 < 6 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                byte_1330048 = 0;
                byte_1328E45 = 0;
                dword_1330060 = 0;
                goto LABEL_644;
              case 0x35u:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                dword_1330060 = 1;
                switch ( (unsigned __int8)dword_13246D8 )
                {
                  case 3u:
                    LOBYTE(dword_13246D8) = 7;
                    break;
                  case 4u:
                    LOBYTE(dword_13246D8) = 8;
                    break;
                  case 0x14u:
                    LOBYTE(dword_13246D8) = 21;
                    dword_1330060 = 0;
                    break;
                }
                goto LABEL_644;
              case 0x36u:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                LOBYTE(dword_13246D8) = 0;
                dword_1330060 = 0;
                goto LABEL_644;
              case 0x39u:
                v160 = recv(s, &dword_1551740[dword_1322648], 52, 0);
                if ( v160 < 1 )
                  goto LABEL_652;
                v84 = v160;
                dword_1322648 += v160;
                if ( dword_1322648 < 52 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46CEE0((int)dword_1551740);
                goto LABEL_644;
              case 0x3Bu:
                v100 = recv(s, &dword_1551740[dword_1322648], 9, 0);
                if ( v100 < 1 )
                  goto LABEL_652;
                dword_1322648 += v100;
                if ( dword_1322648 < 9 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_4684B0((int)dword_1551740);
                goto LABEL_644;
              case 0x3Cu:
                v101 = recv(s, &dword_1551740[dword_1322648], 1, 0);
                if ( v101 < 1 )
                  goto LABEL_652;
                dword_1322648 += v101;
                if ( dword_1322648 < 1 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_468500(dword_1551740);
                goto LABEL_644;
              case 0x3Du:
                v93 = recv(s, &dword_1551740[dword_1322648], 28, 0);
                if ( v93 < 1 )
                  goto LABEL_652;
                dword_1322648 += v93;
                if ( dword_1322648 < 28 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_468130(dword_1551740);
                goto LABEL_644;
              case 0x41u:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( (unsigned __int8)dword_13246D8 == 3 )
                {
                  LOBYTE(dword_13246D8) = 5;
                }
                else if ( (unsigned __int8)dword_13246D8 == 4 )
                {
                  LOBYTE(dword_13246D8) = 6;
                }
                goto LABEL_644;
              case 0x42u:
              case 0x58u:
              case 0x63u:
                goto LABEL_345;
              case 0x44u:
                v94 = recv(s, &dword_1551740[dword_1322648], 28, 0);
                if ( v94 < 1 )
                  goto LABEL_652;
                dword_1322648 += v94;
                if ( dword_1322648 < 28 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_468640(dword_1551740);
                goto LABEL_644;
              case 0x45u:
                v161 = recv(s, &dword_1551740[dword_1322648], 4, 0);
                if ( v161 < 1 )
                  goto LABEL_652;
                dword_1322648 += v161;
                if ( dword_1322648 < 4 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46D090((int *)dword_1551740);
                goto LABEL_644;
              case 0x49u:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( (_BYTE)dword_13246D8 == 11 )
                  LOBYTE(dword_13246D8) = 13;
                goto LABEL_644;
              case 0x4Bu:
                v95 = recv(s, &dword_1551740[dword_1322648], 4, 0);
                if ( v95 < 1 )
                  goto LABEL_652;
                dword_1322648 += v95;
                if ( dword_1322648 < 4 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_4681C0(dword_1551740);
                LOBYTE(dword_13246D8) = 0;
                goto LABEL_644;
              case 0x4Cu:
                v96 = recv(s, &dword_1551740[dword_1322648], 4, 0);
                if ( v96 < 1 )
                  goto LABEL_652;
                v84 = v96;
                dword_1322648 += v96;
                if ( dword_1322648 < 4 )
                  goto LABEL_652;
LABEL_345:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                LOBYTE(dword_13246D8) = 0;
                goto LABEL_644;
              case 0x50u:
                v112 = recv(s, &dword_1551740[dword_1322648], 1, 0);
                if ( v112 < 1 )
                  goto LABEL_652;
                dword_1322648 += v112;
                if ( dword_1322648 < 1 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                sub_468FA0(dword_1551740);
                goto LABEL_644;
              case 0x51u:
                v113 = recv(s, &dword_1551740[dword_1322648], 2, 0);
                if ( v113 < 1 )
                  goto LABEL_652;
                v84 = v113;
                dword_1322648 += v113;
                if ( dword_1322648 < 2 )
                  goto LABEL_652;
                v114 = dword_48EB10;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                BYTE1(dword_48EB10) = dword_48EB10;
                LOBYTE(dword_48EB10) = dword_1551740[1];
                if ( dword_1551740[1] == 1 )
                {
                  sub_416860(57, 0, 0, 0, 1);
                  sub_416700(57, 0);
                }
                else if ( v114 == 1 )
                {
                  sub_416860(57, 0, 0, 0, 1);
                }
                goto LABEL_644;
              case 0x52u:
              case 0x55u:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                LOBYTE(dword_13246D8) = 0;
                dword_1322680 = 0;
                goto LABEL_644;
              case 0x54u:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( (_BYTE)dword_13246D8 == 12 )
                  LOBYTE(dword_13246D8) = 14;
                goto LABEL_644;
              case 0x57u:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( (_BYTE)dword_13246D8 == 3 )
                  LOBYTE(dword_13246D8) = 17;
                goto LABEL_644;
              case 0x61u:
                v130 = byte_49D94C;
                v131 = dword_1322648;
                if ( byte_49D94C )
                  goto LABEL_445;
                do
                {
                  v132 = recv(s, &dword_1551740[v131], 6, 0);
                  if ( v132 < 1 )
                    goto LABEL_652;
                  dword_1322648 += v132;
                  if ( dword_1322648 < 6 )
                    goto LABEL_652;
                  v131 = 0;
                  dword_1322648 = 0;
                  v217 = (unsigned __int8)dword_1551744;
                  v130 = BYTE1(dword_1551744);
                  v215 = *(_DWORD *)dword_1551740;
                  byte_49D94C = BYTE1(dword_1551744);
                }
                while ( !BYTE1(dword_1551744) );
LABEL_445:
                dword_1322648 += recv(s, &dword_1551740[v131], v130, 0);
                if ( dword_1322648 < (unsigned __int8)byte_49D94C )
                  goto LABEL_652;
                dword_1551740[(unsigned __int8)byte_49D94C] = 0;
                if ( dword_49D970 )
                {
                  v133 = 0;
                  if ( dword_49D970 > 0 )
                  {
                    v134 = (const char *)&unk_49D0A0;
                    do
                    {
                      v135 = strlen(v134) + 1;
                      strncpy(v221, dword_1551740, v135 - 1);
                      v221[v135 - 1] = 0;
                      v136 = v134;
                      v137 = v221;
                      while ( 1 )
                      {
                        LOBYTE(v84) = *v137;
                        v138 = (unsigned __int8)*v137 < *v136;
                        if ( *v137 != *v136 )
                          break;
                        if ( !*v137 )
                          goto LABEL_454;
                        LOBYTE(v84) = v137[1];
                        v138 = (unsigned __int8)v84 < v136[1];
                        if ( (_BYTE)v84 != v136[1] )
                          break;
                        v137 += 2;
                        v136 += 2;
                        if ( !(_BYTE)v84 )
                        {
LABEL_454:
                          v139 = 0;
                          goto LABEL_456;
                        }
                      }
                      v139 = -v138 - (v138 - 1);
LABEL_456:
                      if ( !v139 )
                        goto LABEL_485;
                      ++v133;
                      v134 += 20;
                    }
                    while ( v133 < dword_49D970 );
                  }
                }
                v140 = sub_416B90(dword_1551740) - 2;
                if ( v140 )
                {
                  if ( v140 != 1 )
                  {
                    if ( !v217
                      && (dword_1551740[0] != 47
                       || dword_1551740[1] != 99
                       || dword_1551740[2] != 35
                       || dword_1551740[3] != 90
                       || (_BYTE)dword_1551744 != 96) )
                    {
                      v143 = sub_4254F0(&v215);
                      v84 = v143;
                      if ( v143 != -1 )
                      {
                        v144 = (&lpString)[v143];
                        if ( v144 )
                        {
                          strcpy((char *)v144 + 644, dword_1551740);
                          v145 = (&lpString)[v84];
                          v84 = dword_13211C8;
                          *((_DWORD *)v145 + 186) = dword_13211C8;
                        }
                      }
                      goto LABEL_485;
                    }
                    v141 = dword_1330050;
                    v138 = (unsigned int)dword_1330050 < 0x62;
                    v142 = 9 * dword_1330050;
                    byte_132DFD8[81 * dword_1330050] = v217;
                    if ( v138 )
                    {
                      strcpy(&byte_132DFD9[9 * v142], dword_1551740);
                      v84 = v141 + 1;
                      dword_1330050 = v84;
                      if ( v84 < 0xE )
                      {
                        dword_1330058 = 0;
                        goto LABEL_485;
                      }
                    }
                    else
                    {
                      v84 = 98;
                      strcpy(&byte_132DFD9[9 * v142], dword_1551740);
                      dword_1330050 = 98;
                      qmemcpy(byte_132DFD8, byte_132E029, 0x1F53u);
                    }
                    v84 -= 14;
                    dword_1330058 = v84;
LABEL_485:
                    byte_49D94C = 0;
                    dword_1322648 = 0;
                    LOBYTE(dword_48C7B0) = -1;
                    goto LABEL_644;
                  }
                  v84 = dword_133004C;
                  v16 = dword_133004C == 98;
                  v146 = 9 * dword_133004C;
                  byte_13226E0[81 * dword_133004C] = 4;
                  if ( v16 )
                  {
                    strcpy(byte_13245E3, (_BYTE *)&dword_1551744 + 1);
                    qmemcpy(byte_13226E0, &unk_1322731, 0x1F53u);
LABEL_483:
                    dword_133004C = v84;
                    goto LABEL_484;
                  }
                  strcpy(&byte_13226E1[9 * v146], (_BYTE *)&dword_1551744 + 1);
                  dword_133004C = ++v84;
                  if ( v84 <= 0x63 )
                    goto LABEL_477;
                }
                else
                {
                  v147 = dword_133004C;
                  v16 = dword_133004C == 98;
                  v148 = 9 * dword_133004C;
                  byte_13226E0[81 * dword_133004C] = v217;
                  if ( v16 )
                  {
                    v149 = strlen((_BYTE *)&dword_1551744 + 1) + 1;
                    v150 = v149;
                    v149 >>= 2;
                    qmemcpy(byte_13245E3, (char *)&dword_1551744 + 1, 4 * v149);
                    v152 = (const void *)(4 * v149 + 22353733);
                    v151 = &byte_13245E3[4 * v149];
                    LOBYTE(v149) = v150;
                    v84 = 98;
                    qmemcpy(v151, v152, v149 & 3);
                    qmemcpy(byte_13226E0, &unk_1322731, 0x1F53u);
                    goto LABEL_483;
                  }
                  strcpy(&byte_13226E1[9 * v148], (_BYTE *)&dword_1551744 + 1);
                  v84 = v147 + 1;
                  dword_133004C = v84;
                  if ( v84 <= 0x63 )
                  {
LABEL_477:
                    if ( v84 < 5 )
                    {
                      dword_1330054 = 0;
                      goto LABEL_485;
                    }
LABEL_484:
                    v84 -= 5;
                    dword_1330054 = v84;
                    goto LABEL_485;
                  }
                }
                v84 = 99;
                goto LABEL_483;
              case 0x62u:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( (_BYTE)dword_13246D8 == 4 )
                  LOBYTE(dword_13246D8) = 18;
                goto LABEL_644;
              case 0x65u:
                v102 = dword_1322648;
                if ( word_49D94E )
                  goto LABEL_366;
                do
                {
                  v103 = recv(s, &dword_1551740[v102], 2, 0);
                  if ( v103 < 1 )
                    goto LABEL_652;
                  dword_1322648 += v103;
                  if ( dword_1322648 < 2 )
                    goto LABEL_652;
                  v104 = *(_DWORD *)dword_1551740;
                  LOBYTE(v105) = 0;
                  HIBYTE(v105) = dword_1551740[0];
                  v102 = 0;
                  LOWORD(v104) = BYTE1(v104);
                  dword_1322648 = 0;
                  v106 = 5 * (v105 | v104);
                  word_49D94E = v106;
                  if ( (unsigned __int16)v106 < 1u )
                  {
                    dword_1322648 = 0;
                    LOBYTE(dword_48C7B0) = -1;
                    if ( !byte_133005C )
                    {
                      byte_133005C = 1;
                      if ( dword_489040 == 16 )
                        byte_1328E45 = 13;
                    }
                    goto LABEL_652;
                  }
                  byte_1330048 = 0;
                }
                while ( !(_WORD)v106 );
LABEL_366:
                dword_1322648 += recv(s, &dword_1551740[v102], 8, 0);
                if ( dword_1322648 >= 8 )
                {
                  v16 = word_49D94E == 5;
                  word_49D94E -= 5;
                  dword_1322648 = 0;
                  if ( v16 )
                  {
                    LOBYTE(dword_48C7B0) = -1;
                    if ( !byte_133005C )
                    {
                      byte_133005C = 1;
                      if ( dword_489040 == 16 )
                        byte_1328E45 = 13;
                    }
                  }
                  v107 = byte_1330048;
                  LOBYTE(v108) = 0;
                  HIBYTE(v108) = dword_1551740[0];
                  v109 = 2 * (unsigned __int8)byte_1330048;
                  v110 = dword_1551744;
                  dword_48CCE8[v109] = (unsigned __int8)dword_1551740[3] | (((unsigned __int8)dword_1551740[2] | (((unsigned __int8)dword_1551740[1] | v108) << 8)) << 8);
                  v84 = HIBYTE(dword_1551744) | ((BYTE2(dword_1551744) | ((HIBYTE(v110) | ((unsigned __int8)v110 << 8)) << 8)) << 8);
                  dword_48CCEC[v109] = v84;
                  byte_1330048 = v107 + 1;
LABEL_644:
                  if ( (unsigned int)(unsigned __int8)dword_48C7B0 - 4 > 0xFB )
                  {
                    byte_132263C = dword_48C7B0;
                    return DefWindowProcA(hWnd, Msg, wParam, lParam);
                  }
                  continue;
                }
LABEL_652:
                byte_132263C = dword_48C7B0;
                return DefWindowProcA(hWnd, Msg, wParam, lParam);
              case 0x66u:
                v111 = recv(s, &dword_1551740[dword_1322648], 2, 0);
                if ( v111 < 1 )
                  goto LABEL_652;
                v84 = v111;
                dword_1322648 += v111;
                if ( dword_1322648 < 2 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                byte_1330048 = 0;
                byte_1328E45 = 0;
                goto LABEL_644;
              case 0x68u:
                v204 = recv(s, &dword_1551740[dword_1322648], 30, 0);
                if ( v204 < 1 )
                  goto LABEL_652;
                dword_1322648 += v204;
                if ( dword_1322648 < 30 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46E420((int)dword_1551740);
                goto LABEL_644;
              case 0x69u:
                v205 = recv(s, &dword_1551740[dword_1322648], 29, 0);
                if ( v205 < 1 )
                  goto LABEL_652;
                v84 = v205;
                dword_1322648 += v205;
                if ( dword_1322648 < 29 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46E690((int)dword_1551740);
                goto LABEL_644;
              case 0x70u:
                v206 = recv(s, &dword_1551740[dword_1322648], 29, 0);
                if ( v206 < 1 )
                  goto LABEL_652;
                dword_1322648 += v206;
                if ( dword_1322648 < 29 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46EC10((int)dword_1551740);
                goto LABEL_644;
              case 0x73u:
                v207 = recv(s, &dword_1551740[dword_1322648], 22, 0);
                if ( v207 < 1 )
                  goto LABEL_652;
                v84 = v207;
                dword_1322648 += v207;
                if ( dword_1322648 < 22 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46F0D0((int)dword_1551740);
                goto LABEL_644;
              case 0x74u:
                v126 = recv(s, &dword_1551740[dword_1322648], 8, 0);
                if ( v126 < 1 )
                  goto LABEL_652;
                v84 = v126;
                dword_1322648 += v126;
                if ( dword_1322648 < 8 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                {
                  v215 = *(_DWORD *)dword_1551740;
                  v127 = sub_4254F0(&v215);
                  if ( v127 != -1 )
                  {
                    v128 = (&lpString)[v127];
                    if ( !*((_DWORD *)v128 + 23) && !*((_DWORD *)v128 + 19) )
                    {
                      *((_DWORD *)v128 + 20) = 1;
                      v84 = (unsigned int)(&lpString)[v127];
                      *(_DWORD *)(v84 + 76) = 0;
                    }
                  }
                }
                goto LABEL_644;
              case 0x76u:
                v164 = recv(s, &dword_1551740[dword_1322648], 1, 0);
                if ( v164 < 1 )
                  goto LABEL_652;
                v84 = v164;
                dword_1322648 += v164;
                if ( dword_1322648 < 1 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                {
                  switch ( dword_1551740[0] )
                  {
                    case 1:
                      LOBYTE(dword_132A268) = 7;
                      break;
                    case 2:
                      LOBYTE(dword_132A268) = 8;
                      break;
                    case 3:
                      LOBYTE(dword_132A268) = 9;
                      break;
                  }
                }
                goto LABEL_644;
              case 0x77u:
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                LOBYTE(dword_132A268) = 6;
                goto LABEL_644;
              case 0x78u:
                v163 = recv(s, &dword_1551740[dword_1322648], 783, 0);
                if ( v163 < 1 )
                  goto LABEL_652;
                dword_1322648 += v163;
                if ( dword_1322648 < 783 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46D290((int)dword_1551740);
                goto LABEL_644;
              case 0x80u:
                v162 = recv(s, &dword_1551740[dword_1322648], 762, 0);
                if ( v162 < 1 )
                  goto LABEL_652;
                v84 = v162;
                dword_1322648 += v162;
                if ( dword_1322648 < 762 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46D1C0(dword_1551740);
                goto LABEL_644;
              case 0x81u:
                v129 = recv(s, &dword_1551740[dword_1322648], 1, 0);
                if ( v129 < 1 )
                  goto LABEL_652;
                dword_1322648 += v129;
                if ( dword_1322648 < 1 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_46C0A0(dword_1551740);
                goto LABEL_644;
              case 0x82u:
                v208 = recv(s, &dword_1551740[dword_1322648], 24, 0);
                if ( v208 < 1 )
                  goto LABEL_652;
                dword_1322648 += v208;
                if ( dword_1322648 < 24 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                  sub_424A20(&dword_1551740[1], (unsigned __int8)dword_1551740[0]);
                goto LABEL_644;
              case 0x84u:
                v209 = recv(s, &dword_1551740[dword_1322648], 1, 0);
                if ( v209 < 1 )
                  goto LABEL_652;
                dword_1322648 += v209;
                if ( dword_1322648 < 1 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                {
                  v84 = (unsigned __int8)dword_1551740[0];
                  switch ( dword_1551740[0] )
                  {
                    case 1:
                      sub_422E80((const char *)&unk_48C8AC, 3);
                      break;
                    case 2:
                      sub_422E80((const char *)&unk_48C890, 3);
                      break;
                    case 3:
                      sub_422E80((const char *)&unk_48C880, 3);
                      break;
                    case 4:
                      sub_422E80((const char *)&unk_48C864, 3);
                      break;
                    case 5:
                      sub_422E80((const char *)&unk_48C840, 3);
                      break;
                    default:
                      goto LABEL_644;
                  }
                }
                goto LABEL_644;
              case 0x85u:
                v210 = recv(s, &dword_1551740[dword_1322648], 24, 0);
                if ( v210 < 1 )
                  goto LABEL_652;
                dword_1322648 += v210;
                if ( dword_1322648 < 24 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                {
                  sub_4245C0(
                    BYTE1(dword_1551754) | ((unsigned __int8)dword_1551754 << 8),
                    HIBYTE(dword_1551754) | (BYTE2(dword_1551754) << 8));
                  sub_4248D0();
                  sub_42BD80(412, 1);
                }
                goto LABEL_644;
              case 0x86u:
                v211 = recv(s, &dword_1551740[dword_1322648], 21, 0);
                if ( v211 < 1 )
                  goto LABEL_652;
                dword_1322648 += v211;
                if ( dword_1322648 < 21 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                {
                  LOBYTE(v84) = dword_1551740[0];
                  byte_13225F5 = dword_1551740[0];
                  strcpy((char *)&unk_131949C, &dword_1551740[1]);
                  if ( (char)v84 == 1 )
                  {
                    sprintf(&v222, &byte_48C80C, &unk_131949C);
                    sub_422E80(&v222, 4);
                  }
                  else if ( (char)v84 == 2 )
                  {
                    sprintf(&v222, &byte_48C824, &unk_131949C);
                    sub_422E80(&v222, 4);
                  }
                }
                goto LABEL_644;
              case 0x87u:
                v212 = recv(s, &dword_1551740[dword_1322648], 1, 0);
                if ( v212 < 1 )
                  goto LABEL_652;
                v84 = v212;
                dword_1322648 += v212;
                if ( dword_1322648 < 1 )
                  goto LABEL_652;
                dword_1322648 = 0;
                LOBYTE(dword_48C7B0) = -1;
                if ( dword_13225DC != 1 )
                {
                  if ( dword_1551740[0] )
                  {
                    if ( dword_1551740[0] == 1 )
                    {
                      sprintf(&v222, aS_4, &unk_131949C);
                      sub_422E80(&v222, 4);
                    }
                    else if ( dword_1551740[0] == 2 )
                    {
                      sprintf(&v222, aS_3, &unk_131949C);
                      sub_422E80(&v222, 4);
                    }
                  }
                  else
                  {
                    sprintf(&v222, aS_5, &unk_131949C);
                    sub_422E80(&v222, 4);
                  }
                  byte_13225F5 = 0;
                  strcpy((char *)&unk_131949C, byte_49D994);
                }
                goto LABEL_644;
              case 0xFFu:
                v85 = recv(s, &dword_1551740[dword_1322648], 3, 0);
                if ( v85 < 1 )
                  goto LABEL_652;
                v84 = v85;
                dword_1322648 += v85;
                if ( dword_1322648 < 3 )
                  goto LABEL_652;
                dword_1322648 = 0;
                if ( dword_1551740[0] != -9 || dword_1551740[1] != 113 )
                  goto LABEL_648;
                LOBYTE(dword_48C7B0) = dword_1551740[2];
                goto LABEL_644;
              default:
                goto LABEL_652;
            }
          }
        }
        return DefWindowProcA(hWnd, Msg, wParam, lParam);
      }
      if ( (_WORD)lParam != 16 )
        return DefWindowProcA(hWnd, Msg, wParam, lParam);
      if ( (unsigned int)lParam >> 16 )
      {
        __setargv();
        result = 0;
      }
      else
      {
        dword_48EC4C = 5;
        WSAAsyncSelect(s, hWndParent, 0x2710u, 35);
LABEL_657:
        result = 0;
      }
      return result;
    case 0x2711u:
      if ( dword_48EC4C != 3 || wParam != dword_1551330 )
        goto LABEL_657;
      if ( (unsigned int)lParam >> 16 )
        __setargv();
      else
        sub_4795A0(&hWndParent, **(_DWORD **)dword_1560A88);
      return 0;
    case 0x2713u:
      if ( dword_48EC50 != 3 || wParam != dword_1551F10 )
        goto LABEL_657;
      if ( (unsigned int)lParam >> 16 )
        __setargv_0((unsigned int)lParam >> 16);
      else
        sub_4796C0(&hWndParent, **(_DWORD **)dword_1551344);
      return 0;
    case 0x2714u:
      if ( dword_48EC4C != 3 || wParam != dword_1551330 )
        goto LABEL_657;
      if ( (unsigned int)lParam >> 16 )
        __setargv();
      else
        sub_4793C0(&hWndParent, **(_DWORD **)dword_1560A88);
      return 0;
    default:
      return DefWindowProcA(hWnd, Msg, wParam, lParam);
  }
}
// 479780: using guessed type int __thiscall __setargv_0(_DWORD);
// 4862F4: using guessed type char byte_4862F4;
// 4862F5: using guessed type char byte_4862F5;
// 489040: using guessed type int dword_489040;
// 48BA58: using guessed type int dword_48BA58[];
// 48C7B0: using guessed type int dword_48C7B0;
// 48CCE8: using guessed type int dword_48CCE8[];
// 48EB10: using guessed type int dword_48EB10;
// 48EC4C: using guessed type int dword_48EC4C;
// 48EC50: using guessed type int dword_48EC50;
// 49CFE0: using guessed type int dword_49CFE0;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D024: using guessed type int dword_49D024;
// 49D038: using guessed type int dword_49D038;
// 49D03C: using guessed type int dword_49D03C;
// 49D050: using guessed type int dword_49D050;
// 49D88C: using guessed type char byte_49D88C;
// 49D88D: using guessed type char byte_49D88D;
// 49D8F8: using guessed type int dword_49D8F8;
// 49D908: using guessed type char byte_49D908;
// 49D92C: using guessed type int dword_49D92C;
// 49D94C: using guessed type char byte_49D94C;
// 49D94E: using guessed type __int16 word_49D94E;
// 49D970: using guessed type int dword_49D970;
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1308220: using guessed type int dword_1308220;
// 1308224: using guessed type int dword_1308224;
// 1308228: using guessed type int dword_1308228;
// 130822C: using guessed type int dword_130822C;
// 1308230: using guessed type int dword_1308230;
// 1308234: using guessed type int dword_1308234;
// 1308238: using guessed type int dword_1308238;
// 130823C: using guessed type int dword_130823C;
// 1308240: using guessed type int dword_1308240;
// 1308244: using guessed type int dword_1308244;
// 1308248: using guessed type int dword_1308248;
// 130824C: using guessed type int dword_130824C;
// 1308250: using guessed type int dword_1308250;
// 1308254: using guessed type int dword_1308254;
// 1308258: using guessed type int dword_1308258;
// 130825C: using guessed type int dword_130825C;
// 1308260: using guessed type int dword_1308260;
// 13083AC: using guessed type int dword_13083AC[];
// 1317E74: using guessed type int dword_1317E74;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131D688: using guessed type int dword_131D688;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13225C0: using guessed type char byte_13225C0;
// 13225DC: using guessed type int dword_13225DC;
// 13225E0: using guessed type int dword_13225E0;
// 13225F5: using guessed type char byte_13225F5;
// 1322628: using guessed type char byte_1322628;
// 132263C: using guessed type char byte_132263C;
// 1322640: using guessed type int dword_1322640;
// 1322648: using guessed type int dword_1322648;
// 132264C: using guessed type int dword_132264C;
// 1322658: using guessed type int dword_1322658;
// 132265C: using guessed type int dword_132265C;
// 1322660: using guessed type int dword_1322660;
// 1322680: using guessed type int dword_1322680;
// 13226AA: using guessed type __int16 word_13226AA;
// 13246A4: using guessed type int dword_13246A4;
// 13246AC: using guessed type int dword_13246AC;
// 13246D8: using guessed type int dword_13246D8;
// 13246DC: using guessed type int dword_13246DC;
// 1324782: using guessed type char byte_1324782;
// 1324F54: using guessed type int dword_1324F54;
// 1328DCA: using guessed type __int16 word_1328DCA[];
// 1328DEE: using guessed type char byte_1328DEE;
// 1328E45: using guessed type char byte_1328E45;
// 1328E46: using guessed type __int16 word_1328E46;
// 1328E7A: using guessed type __int16 word_1328E7A;
// 1328EC8: using guessed type __int16 word_1328EC8[];
// 1328ECA: using guessed type __int16 word_1328ECA[];
// 1328ECC: using guessed type __int16 word_1328ECC[];
// 1328ECE: using guessed type __int16 word_1328ECE[];
// 1328ED0: using guessed type __int16 word_1328ED0[];
// 1328ED2: using guessed type __int16 word_1328ED2[];
// 1328ED4: using guessed type __int16 word_1328ED4[];
// 1328ED6: using guessed type __int16 word_1328ED6[];
// 1328ED8: using guessed type __int16 word_1328ED8[];
// 1328EDA: using guessed type __int16 word_1328EDA[];
// 1328EDC: using guessed type __int16 word_1328EDC[];
// 1328EDE: using guessed type __int16 word_1328EDE[];
// 1328EE0: using guessed type __int16 word_1328EE0[];
// 1328EE2: using guessed type __int16 word_1328EE2[];
// 1328EE6: using guessed type __int16 word_1328EE6[];
// 1328EE8: using guessed type int dword_1328EE8[];
// 1328EEC: using guessed type int dword_1328EEC[];
// 1328FB0: using guessed type __int16 word_1328FB0[];
// 1329424: using guessed type int dword_1329424;
// 1329448: using guessed type char byte_1329448;
// 1329471: using guessed type char byte_1329471;
// 1329744: using guessed type int dword_1329744;
// 132A268: using guessed type int dword_132A268;
// 132A2B6: using guessed type __int16 word_132A2B6;
// 132A2BC: using guessed type int dword_132A2BC;
// 132FFE5: using guessed type char byte_132FFE5;
// 132FFE7: using guessed type char byte_132FFE7;
// 132FFFC: using guessed type int dword_132FFFC;
// 1330048: using guessed type char byte_1330048;
// 1330049: using guessed type char byte_1330049;
// 133004A: using guessed type char byte_133004A;
// 133004C: using guessed type int dword_133004C;
// 1330050: using guessed type int dword_1330050;
// 1330054: using guessed type int dword_1330054;
// 1330058: using guessed type int dword_1330058;
// 133005C: using guessed type char byte_133005C;
// 1330060: using guessed type int dword_1330060;
// 1330074: using guessed type int dword_1330074;
// 1330078: using guessed type int dword_1330078;
// 13300D4: using guessed type int dword_13300D4;
// 1547958: using guessed type char byte_1547958;
// 1547959: using guessed type char byte_1547959;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;
// 1551330: using guessed type int dword_1551330;
// 1551344: using guessed type int dword_1551344;
// 1551738: using guessed type int dword_1551738;
// 1551744: using guessed type int dword_1551744;
// 1551748: using guessed type int dword_1551748;
// 155174C: using guessed type int dword_155174C;
// 1551750: using guessed type int dword_1551750;
// 1551754: using guessed type int dword_1551754;
// 1551758: using guessed type int dword_1551758;
// 155175C: using guessed type int dword_155175C;
// 1551760: using guessed type int dword_1551760;
// 1551764: using guessed type int dword_1551764;
// 1551F10: using guessed type int dword_1551F10;
// 1560A78: using guessed type char byte_1560A78;
// 1560A88: using guessed type int dword_1560A88;
// 156FA78: using guessed type int dword_156FA78;
// 42EDB0: using guessed type char var_21C[20];

//----- (00433AC0) --------------------------------------------------------
LRESULT __stdcall sub_433AC0(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam)
{
  LRESULT result; // eax
  unsigned int v5; // eax
  __int16 v6; // ax

  switch ( Msg )
  {
    case 0x2710u:
      if ( dword_48EC4C != 4 )
      {
        if ( dword_48EC4C == 5 || dword_48EC4C == 6 )
        {
          switch ( (unsigned __int16)lParam )
          {
            case 1u:
              if ( byte_49CFF0 == 64 )
              {
                v5 = dword_156FA74;
                do
                {
                  if ( v5 >= 0xE678 )
                    break;
                  v6 = recv(s, &byte_1552018[v5], 1000, 0);
                  if ( v6 < 1 )
                    break;
                  v5 = v6 + dword_156FA74;
                  dword_156FA74 = v5;
                }
                while ( v5 <= 0xEA60 );
              }
              break;
            case 2u:
              dword_156FA78 = 1;
              if ( dword_156FA80 > 0 )
                sub_479840();
              break;
            case 0x20u:
              SetFocus(hWndParent);
              if ( dword_13300D4 == 1 )
                sub_4169B0(&byte_48CAAC, Caption, 0x40000);
              if ( (_BYTE)dword_49D8F8 == 1 )
              {
                if ( s )
                {
                  closesocket(s);
                  s = 0;
                }
                byte_1330049 = 1;
                byte_133004A = 0;
                byte_49CFF0 = 25;
                byte_13225C0 = 0;
              }
              else
              {
                sub_456CE0(&byte_48CA78, &byte_48CA88);
                dword_49D92C = 1;
              }
              break;
          }
        }
        goto LABEL_32;
      }
      if ( (_WORD)lParam != 16 )
        goto LABEL_32;
      if ( !((unsigned int)lParam >> 16) )
      {
        dword_48EC4C = 5;
        WSAAsyncSelect(s, hWndParent, 0x2710u, 35);
        goto LABEL_46;
      }
      __setargv();
      result = 0;
      break;
    case 0x2711u:
      if ( dword_48EC4C != 3 || wParam != dword_1551330 )
        goto LABEL_46;
      if ( (unsigned int)lParam >> 16 )
        __setargv();
      else
        sub_4795A0(&hWndParent, **(_DWORD **)dword_1560A88);
      result = 0;
      break;
    case 0x2713u:
      if ( dword_48EC50 != 3 || wParam != dword_1551F10 )
        goto LABEL_46;
      if ( (unsigned int)lParam >> 16 )
        __setargv_0(wParam);
      else
        sub_4796C0(&hWndParent, **(_DWORD **)dword_1551344);
      result = 0;
      break;
    case 0x2714u:
      if ( dword_48EC4C != 3 || wParam != dword_1551330 )
      {
LABEL_46:
        result = 0;
      }
      else
      {
        if ( (unsigned int)lParam >> 16 )
          __setargv();
        else
          sub_4793C0(&hWndParent, **(_DWORD **)dword_1560A88);
        result = 0;
      }
      break;
    default:
LABEL_32:
      result = DefWindowProcA(hWnd, Msg, wParam, lParam);
      break;
  }
  return result;
}
// 479780: using guessed type int __thiscall __setargv_0(_DWORD);
// 48EC4C: using guessed type int dword_48EC4C;
// 48EC50: using guessed type int dword_48EC50;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D8F8: using guessed type int dword_49D8F8;
// 49D92C: using guessed type int dword_49D92C;
// 13225C0: using guessed type char byte_13225C0;
// 1330049: using guessed type char byte_1330049;
// 133004A: using guessed type char byte_133004A;
// 13300D4: using guessed type int dword_13300D4;
// 1551330: using guessed type int dword_1551330;
// 1551344: using guessed type int dword_1551344;
// 1551F10: using guessed type int dword_1551F10;
// 1560A88: using guessed type int dword_1560A88;
// 156FA74: using guessed type int dword_156FA74;
// 156FA78: using guessed type int dword_156FA78;

//----- (00433D80) --------------------------------------------------------
void sub_433D80()
{
  signed int v0; // ecx
  signed int v1; // eax
  LPCSTR v2; // ebp
  signed int v3; // edi
  char v4; // cl
  int v5; // edx
  LPCSTR v6; // edi
  __int16 v7; // si
  signed __int64 v8; // rax
  __int16 v9; // di
  signed int v10; // ecx
  signed int v11; // eax
  double v12; // st7
  double v13; // st7
  int *v14; // eax
  unsigned int v15; // edx
  signed __int64 v16; // rax
  signed __int64 v17; // rax
  double v18; // st7
  LPCSTR v19; // esi
  LPCSTR v20; // esi
  LPCSTR v21; // esi
  LPCSTR v22; // esi
  LPCSTR v23; // esi
  LPCSTR v24; // esi
  LPCSTR v25; // esi
  signed int v26; // eax
  LPCSTR v27; // esi
  LPCSTR v28; // esi
  LPCSTR v29; // esi
  LPCSTR v30; // edi
  __int16 v31; // bp
  signed __int64 v32; // rax
  LPCSTR v33; // edi
  int v34; // ebp
  signed __int64 v35; // rax
  LPCSTR v36; // esi
  LPCSTR v37; // esi
  signed int v38; // edi
  signed int v39; // ST3C_4
  int v40; // ebp
  LPCSTR v41; // edi
  signed int v42; // esi
  signed __int64 v43; // rax
  double v44; // st7
  int v45; // esi
  double v46; // st7
  LPCSTR v47; // edi
  LPCSTR v48; // edi
  LPCSTR v49; // edi
  LPCSTR v50; // edi
  LPCSTR v51; // esi
  signed int v52; // ebp
  __int16 v53; // cx
  int v54; // esi
  LPCSTR v55; // edi
  int v56; // eax
  LPCSTR v57; // esi
  LPCSTR v58; // esi
  LPCSTR v59; // edi
  LPCSTR v60; // edi
  signed __int64 v61; // rax
  int v62; // esi
  signed __int64 v63; // rax
  int v64; // edi
  signed int v65; // ecx
  signed int v66; // eax
  double v67; // st7
  double v68; // st7
  int v69; // eax
  signed int v70; // esi
  signed int v71; // ecx
  LPCSTR v72; // esi
  signed int v73; // ST3C_4
  int v74; // ebp
  signed int v75; // esi
  signed __int64 v76; // rax
  int v77; // eax
  LPCSTR v78; // esi
  LPCSTR v79; // esi
  LPCSTR v80; // edi
  LPCSTR v81; // eax
  __int16 v82; // si
  signed __int64 v83; // rax
  int v84; // esi
  float v85; // ST64_4
  bool v86; // zf
  bool v87; // sf
  unsigned __int8 v88; // of
  int v89; // edx
  __int16 v90; // fps
  char v91; // ah
  bool v92; // c0
  char v93; // c2
  bool v94; // c3
  char v95; // ah
  __int16 v96; // fps
  char v97; // ah
  bool v98; // c0
  char v99; // c2
  bool v100; // c3
  char v101; // ah
  __int16 v102; // fps
  bool v103; // c0
  char v104; // c2
  bool v105; // c3
  __int16 v106; // fps
  char v107; // ah
  bool v108; // c0
  char v109; // c2
  bool v110; // c3
  LPCSTR v111; // esi
  signed __int64 v112; // rax
  int v113; // edi
  signed __int64 v114; // rax
  int v115; // esi
  signed int v116; // ecx
  signed int v117; // eax
  double v118; // st7
  double v119; // st7
  int v120; // eax
  signed int v121; // esi
  signed int v122; // eax
  signed int v123; // edi
  signed int v124; // esi
  int v125; // eax
  LPCSTR v126; // esi
  int v127; // eax
  LPCSTR v128; // esi
  LPCSTR v129; // esi
  LPCSTR v130; // edi
  signed __int64 v131; // rax
  int v132; // esi
  signed __int64 v133; // rax
  int v134; // edi
  signed int v135; // ecx
  signed int v136; // eax
  double v137; // st7
  double v138; // st7
  int v139; // eax
  signed int v140; // esi
  signed int v141; // ecx
  LPCSTR v142; // edi
  signed __int64 v143; // rax
  int v144; // esi
  signed __int64 v145; // rax
  int v146; // edi
  signed int v147; // ecx
  signed int v148; // eax
  double v149; // st7
  double v150; // st7
  int v151; // eax
  signed int v152; // esi
  signed int v153; // ecx
  __int16 v154; // si
  signed __int64 v155; // rax
  double v156; // st7
  signed int v157; // edi
  LPCSTR v158; // edi
  LPCSTR v159; // esi
  signed int v160; // ST3C_4
  int v161; // ebp
  LPCSTR v162; // esi
  LPCSTR v163; // esi
  LPCSTR v164; // edi
  signed int v165; // esi
  __int16 v166; // cx
  LPCSTR v167; // edi
  LPCSTR v168; // esi
  LPCSTR v169; // edi
  signed int v170; // esi
  __int16 v171; // ax
  LPCSTR v172; // esi
  LPCSTR v173; // edi
  double v174; // st7
  __int16 v175; // bp
  signed __int64 v176; // rax
  LPCSTR v177; // edi
  int v178; // ebp
  signed __int64 v179; // rax
  LPCSTR v180; // esi
  LPCSTR v181; // edi
  LPCSTR v182; // esi
  LPCSTR v183; // esi
  signed int v184; // ebp
  __int16 v185; // dx
  LPCSTR v186; // esi
  signed int v187; // ebp
  __int16 v188; // dx
  LPCSTR v189; // esi
  int v190; // ecx
  int v191; // edi
  LPCSTR *v192; // ebp
  int v193; // eax
  LPCSTR v194; // esi
  signed int v195; // ebp
  LPCSTR v196; // edi
  int v197; // eax
  LPCSTR v198; // esi
  LPCSTR v199; // esi
  LPCSTR v200; // edi
  LPCSTR v201; // esi
  signed __int64 v202; // rax
  int v203; // edi
  signed __int64 v204; // rax
  int v205; // esi
  signed int v206; // ecx
  signed int v207; // eax
  double v208; // st7
  double v209; // st7
  int v210; // eax
  signed int v211; // esi
  signed int v212; // eax
  int v213; // ecx
  LPCSTR v214; // edi
  signed int v215; // esi
  signed __int64 v216; // rax
  LPCSTR v217; // edi
  LPCSTR v218; // esi
  signed __int64 v219; // rax
  int v220; // edi
  signed __int64 v221; // rax
  int v222; // esi
  signed int v223; // ecx
  signed int v224; // eax
  double v225; // st7
  double v226; // st7
  int v227; // eax
  signed int v228; // esi
  signed int v229; // eax
  LPCSTR v230; // esi
  signed int v231; // edi
  int v232; // edx
  LPCSTR *v233; // edi
  LPCSTR v234; // ecx
  int v235; // eax
  LPCSTR v236; // esi
  LPCSTR v237; // esi
  LPCSTR v238; // edi
  signed __int64 v239; // rax
  int v240; // esi
  signed __int64 v241; // rax
  int v242; // edi
  signed int v243; // ecx
  signed int v244; // eax
  double v245; // st7
  double v246; // st7
  int v247; // eax
  signed int v248; // esi
  signed int v249; // ecx
  LPCSTR v250; // edi
  signed __int64 v251; // rax
  int v252; // esi
  signed __int64 v253; // rax
  int v254; // edi
  signed int v255; // ecx
  signed int v256; // eax
  double v257; // st7
  double v258; // st7
  int v259; // eax
  signed int v260; // esi
  signed int v261; // ecx
  LPCSTR v262; // edi
  __int16 v263; // si
  signed __int64 v264; // rax
  double v265; // st7
  signed int v266; // edi
  signed int v267; // edi
  LPCSTR v268; // edi
  LPCSTR v269; // esi
  signed int v270; // ST3C_4
  int v271; // ebp
  LPCSTR v272; // esi
  LPCSTR v273; // [esp-4h] [ebp-344h]
  float v274; // [esp+10h] [ebp-330h]
  signed int v275; // [esp+10h] [ebp-330h]
  float v276; // [esp+10h] [ebp-330h]
  signed int v277; // [esp+10h] [ebp-330h]
  signed int v278; // [esp+10h] [ebp-330h]
  signed int v279; // [esp+10h] [ebp-330h]
  int v280; // [esp+10h] [ebp-330h]
  signed int v281; // [esp+10h] [ebp-330h]
  signed int v282; // [esp+10h] [ebp-330h]
  signed int v283; // [esp+10h] [ebp-330h]
  signed int v284; // [esp+10h] [ebp-330h]
  float v285; // [esp+14h] [ebp-32Ch]
  int v286; // [esp+14h] [ebp-32Ch]
  signed int v287; // [esp+14h] [ebp-32Ch]
  float v288; // [esp+14h] [ebp-32Ch]
  signed int v289; // [esp+14h] [ebp-32Ch]
  signed int v290; // [esp+14h] [ebp-32Ch]
  signed int v291; // [esp+14h] [ebp-32Ch]
  signed int v292; // [esp+14h] [ebp-32Ch]
  signed int v293; // [esp+14h] [ebp-32Ch]
  signed int v294; // [esp+14h] [ebp-32Ch]
  signed int v295; // [esp+14h] [ebp-32Ch]
  int v296; // [esp+18h] [ebp-328h]
  signed int v297; // [esp+18h] [ebp-328h]
  int v298; // [esp+18h] [ebp-328h]
  LPCSTR *v299; // [esp+18h] [ebp-328h]
  LPCSTR *v300; // [esp+18h] [ebp-328h]
  signed int v301; // [esp+18h] [ebp-328h]
  LPCSTR *v302; // [esp+18h] [ebp-328h]
  LPCSTR *v303; // [esp+18h] [ebp-328h]
  LPCSTR *v304; // [esp+18h] [ebp-328h]
  signed int v305; // [esp+18h] [ebp-328h]
  LPCSTR *v306; // [esp+18h] [ebp-328h]
  signed int v307; // [esp+1Ch] [ebp-324h]
  float v308; // [esp+1Ch] [ebp-324h]
  float v309; // [esp+1Ch] [ebp-324h]
  int v310; // [esp+1Ch] [ebp-324h]
  int v311; // [esp+1Ch] [ebp-324h]
  int v312; // [esp+20h] [ebp-320h]
  float v313; // [esp+20h] [ebp-320h]
  int v314; // [esp+20h] [ebp-320h]
  float v315; // [esp+20h] [ebp-320h]
  int v316; // [esp+20h] [ebp-320h]
  int v317; // [esp+20h] [ebp-320h]
  int v318; // [esp+20h] [ebp-320h]
  int v319; // [esp+20h] [ebp-320h]
  int v320; // [esp+20h] [ebp-320h]
  int v321; // [esp+20h] [ebp-320h]
  int v322; // [esp+20h] [ebp-320h]
  char v323; // [esp+28h] [ebp-318h]
  float v324; // [esp+98h] [ebp-2A8h]
  float v325; // [esp+9Ch] [ebp-2A4h]
  float v326; // [esp+A0h] [ebp-2A0h]

  v0 = dword_49D8A0;
  if ( dword_49D8A0 > 452 )
  {
    v1 = dword_49D89C;
    if ( dword_49D89C > 177 && dword_49D89C < 217 && dword_49D8A0 > 540 && dword_49D8A0 < 580 )
    {
      sub_416860(20, 0, 0, 0, 0);
      v0 = dword_49D8A0;
      v1 = dword_49D89C;
      dword_48CF6C = -1;
    }
    if ( v1 > 123 && v1 < 163 && v0 > 540 && v0 < 580 )
    {
      sub_416860(20, 0, 0, 0, 0);
      dword_48CF70 = -1;
    }
    return;
  }
  v2 = (&lpString)[dword_131D690];
  if ( *((_DWORD *)v2 + 150) || dword_48CCE4 != -1 && !*((_DWORD *)(&lpString)[dword_48CCE4] + 17) && !byte_1330125 )
    return;
  v3 = dword_49D89C + dword_154794C;
  v312 = dword_49D8A0 + dword_1547950;
  v4 = byte_1328EC3[284 * byte_1329448];
  v5 = dword_48CF70;
  if ( v4 != 2 || dword_48CF70 != -1 || byte_13225E8 == 2 )
    goto LABEL_47;
  if ( dword_13225F8 )
  {
    if ( dword_13225F8 == 1 )
    {
      if ( (unsigned __int16)dword_132FFFC >= 0xFu )
      {
        if ( dword_48CCE4 == -1 && !*((_DWORD *)v2 + 150) )
          sub_46F7D0((int)v2, (int)v2, 301);
      }
      else
      {
        sub_422E80((const char *)&unk_48CB40, 4);
      }
      return;
    }
    v5 = dword_48CF70;
LABEL_47:
    if ( v4 == 2 && v5 != -1 )
      return;
    if ( *((_DWORD *)v2 + 150) )
    {
LABEL_1195:
      dword_156FA74 = 0;
      return;
    }
    switch ( 0 )
    {
      case 4294967295:
        if ( byte_13225E8 != 2 )
          return;
        if ( word_131ABFE == 52 || word_131ABFE == 85 || word_131ABFE == 104 )
          goto LABEL_1195;
        v14 = dword_48CEC8;
        while ( *v14 != 412 )
        {
          v14 += 2;
          if ( (signed int)v14 >= (signed int)&unk_48CF40 )
            return;
        }
        v15 = (signed int)((unsigned __int64)(1717986919i64 * (signed int)(signed __int64)*((float *)v2 + 28)) >> 32) >> 4;
        if ( *((_BYTE *)dword_13307A0 + dword_1540B4C * ((signed __int64)*((float *)v2 + 30) / 20) + (v15 >> 31) + v15) )
        {
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = -125;
          v16 = (signed __int64)(*((float *)v2 + 28) * 0.025);
          BYTE1(dword_1550B62) = BYTE1(v16);
          BYTE2(dword_1550B62) = (signed __int64)(*((float *)v2 + 28) * 0.025);
          v17 = (signed __int64)(*((float *)v2 + 30) * 0.050000001);
          HIBYTE(dword_1550B62) = BYTE1(v17);
          byte_1550B66 = (signed __int64)(*((float *)v2 + 30) * 0.050000001);
          sub_479790(7);
          byte_13225E8 = 3;
        }
        return;
      case 100:
        if ( !dword_1322600 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 500;
        sub_423330((int)v2);
        if ( !sub_45E870(0x64u, (int)v2, (int)v2) )
          goto LABEL_101;
        qmemcpy(&v323, v2, 0x318u);
        v324 = (double)dword_1322604;
        v18 = (double)dword_1322608;
        v326 = v18;
        v325 = v18;
        sub_46F7D0((int)v2, (int)&v323, 100);
        dword_156FA74 = 0;
        return;
      case 101:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v19 = v2;
        else
          v19 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x65u, (int)v2, (int)v19) )
          goto LABEL_101;
        sub_46F7D0((int)v2, (int)v19, 101);
        dword_156FA74 = 0;
        return;
      case 102:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v20 = v2;
        else
          v20 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x66u, (int)v2, (int)v20) )
          goto LABEL_101;
        sub_46F7D0((int)v2, (int)v20, 102);
        dword_156FA74 = 0;
        return;
      case 103:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v21 = v2;
        else
          v21 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x67u, (int)v2, (int)v21) )
          goto LABEL_101;
        sub_46F7D0((int)v2, (int)v21, 103);
        dword_156FA74 = 0;
        return;
      case 104:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v22 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x68u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          goto LABEL_101;
        sub_46F7D0((int)v2, (int)v22, 104);
        dword_156FA74 = 0;
        return;
      case 105:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v23 = v2;
        else
          v23 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x69u, (int)v2, (int)v23) )
          goto LABEL_101;
        sub_46F7D0((int)v2, (int)v23, 105);
        dword_156FA74 = 0;
        return;
      case 106:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v24 = v2;
        else
          v24 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x6Au, (int)v2, (int)v24) )
          goto LABEL_101;
        sub_46F7D0((int)v2, (int)v24, 106);
        dword_156FA74 = 0;
        return;
      case 107:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
        {
          v25 = v2;
          v273 = v2;
        }
        else
        {
          v25 = (&lpString)[dword_48CCE4];
          v273 = (&lpString)[dword_48CCE4];
        }
        v26 = sub_45E870(0x6Bu, (int)v2, (int)v273);
        goto LABEL_100;
      case 108:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v25 = v2;
        else
          v25 = (&lpString)[dword_48CCE4];
        v26 = sub_45E870(0x6Cu, (int)v2, (int)v25);
LABEL_100:
        if ( v26 )
        {
          sub_46F7D0((int)v2, (int)v25, 107);
          dword_156FA74 = 0;
        }
        else
        {
LABEL_101:
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 109:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 500;
        sub_423330((int)v2);
        if ( sub_45E870(0x6Du, (int)v2, (int)v2) )
          sub_46F7D0((int)v2, (int)v2, 109);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 110:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v27 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x6Eu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          sub_46F7D0((int)v2, (int)v27, 110);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 111:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v28 = v2;
        else
          v28 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x6Fu, (int)v2, (int)v28) )
          sub_46F7D0((int)v2, (int)v28, 111);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 112:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( sub_45E870(0x70u, (int)v2, (int)v2) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 4;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(155, (signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30), 0, 0);
          sub_41C960(40 * ((dword_49D89C + dword_154794C) / 40) + 20, 20 * ((dword_49D8A0 + dword_1547950) / 20) + 10);
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1067;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 50;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 4;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            184,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 113:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( !sub_45E870(0x71u, (int)v2, (int)v2) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960(
          (signed __int64)*((float *)(&lpString)[dword_131D690] + 28),
          (signed __int64)*((float *)(&lpString)[dword_131D690] + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = (&lpString)[dword_131D690];
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1035;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        v29 = (&lpString)[dword_131D690];
        if ( dword_48CCE4 == -1 )
        {
          v31 = (signed __int64)((double)((dword_49D89C + dword_154794C) / 40) - *((float *)v29 + 28) * 0.025);
          v32 = (signed __int64)((double)((dword_1547950 + dword_49D8A0) / 20) - *((float *)v29 + 30) * 0.050000001);
        }
        else
        {
          v30 = (&lpString)[dword_48CCE4];
          v31 = (signed __int64)(*((float *)v30 + 28) * 0.025 - *((float *)v29 + 28) * 0.025);
          v32 = (signed __int64)(*((float *)v30 + 30) * 0.050000001 - *((float *)v29 + 30) * 0.050000001);
        }
        if ( v31 )
        {
          if ( v31 >= 0 )
          {
            if ( (_WORD)v32 )
            {
              if ( (v32 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v29 + 172) = 6;
                *((_BYTE *)v29 + 173) = 6;
              }
              else
              {
                *((_BYTE *)v29 + 172) = 4;
                *((_BYTE *)v29 + 173) = 4;
              }
            }
            else
            {
              *((_BYTE *)v29 + 172) = 5;
              *((_BYTE *)v29 + 173) = 5;
            }
          }
          else if ( (_WORD)v32 )
          {
            if ( (v32 & 0x8000u) == 0i64 )
            {
              *((_BYTE *)v29 + 172) = 0;
              *((_BYTE *)v29 + 173) = 0;
            }
            else
            {
              *((_BYTE *)v29 + 172) = 2;
              *((_BYTE *)v29 + 173) = 2;
            }
          }
          else
          {
            *((_BYTE *)v29 + 172) = 1;
            *((_BYTE *)v29 + 173) = 1;
          }
        }
        else if ( (v32 & 0x8000u) == 0i64 )
        {
          *((_BYTE *)v29 + 172) = 7;
          *((_BYTE *)v29 + 173) = 7;
        }
        else
        {
          *((_BYTE *)v29 + 172) = 3;
          *((_BYTE *)v29 + 173) = 3;
        }
        if ( dword_48CCE4 == -1 )
        {
          v34 = dword_154794C + dword_49D89C;
          LODWORD(v35) = dword_1547950 + dword_49D8A0;
        }
        else
        {
          v33 = (&lpString)[dword_48CCE4];
          v34 = (signed __int64)*((float *)v33 + 28);
          v35 = (signed __int64)*((float *)v33 + 30);
        }
        sub_426260(*((_DWORD *)v29 + 13), v34, v35);
        *((_BYTE *)dword_1542DA4
        + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v29 + 30) * 0.050000001)
        + (unsigned __int16)(signed __int64)(*((float *)v29 + 28) * 0.025)) = 0;
        sub_42A140(
          (int)v29,
          (signed __int64)*((float *)v29 + 28) / 40,
          (signed __int64)*((float *)v29 + 30) / 20,
          *((_DWORD *)v29 + 33) / 40,
          *((_DWORD *)v29 + 34) / 20);
        if ( *((_DWORD *)v29 + 13) != dword_131D690 )
          goto LABEL_1195;
        v36 = (&lpString)[dword_131D690];
        dword_154794C = (unsigned __int64)(signed __int64)*((float *)v36 + 28) + 145 * (byte_1328E45 != 0) - 400;
        dword_1547950 = (unsigned __int64)(signed __int64)*((float *)v36 + 30) - 250;
        sub_4166A0((signed __int64)*((float *)v36 + 28), (signed __int64)*((float *)v36 + 30), 0);
        if ( dword_154794C >= 0 )
        {
          if ( dword_154794C <= 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0) )
          {
            dword_1319238 = 1;
          }
          else
          {
            dword_1319238 = 0;
            dword_154794C = 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0);
          }
        }
        else
        {
          dword_1319238 = 0;
          dword_154794C = 0;
        }
        if ( dword_1547950 >= 0 )
        {
          if ( dword_1547950 <= 4 * (5 * dword_1540B50 - 125) )
          {
            dword_1319498 = 1;
            dword_156FA74 = 0;
          }
          else
          {
            dword_1319498 = 0;
            dword_156FA74 = 0;
            dword_1547950 = 4 * (5 * dword_1540B50 - 125);
          }
        }
        else
        {
          dword_1319498 = 0;
          dword_1547950 = 0;
          dword_156FA74 = 0;
        }
        return;
      case 114:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v37 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x72u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          v38 = 5;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          do
          {
            v39 = (unsigned __int64)(signed __int64)*((float *)v37 + 30) + rand() % 30 - 15;
            v40 = rand() % 40;
            sub_41C960((unsigned __int64)(signed __int64)*((float *)v37 + 28) + v40 - 20, v39);
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v37;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v37;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1062;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 4;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 100;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 3;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = rand() % 10;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 114;
            *((_DWORD *)v37 + 159) = 114;
            sub_416860(
              161,
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
              0,
              0);
            --v38;
          }
          while ( v38 );
          *((_DWORD *)v37 + 156) = dword_49DA1C[dword_1317E74];
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 115:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v41 = v2;
        else
          v41 = (&lpString)[dword_48CCE4];
        *((_DWORD *)v41 + 159) = -1;
        if ( sub_45E870(0x73u, (int)v2, (int)v41) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*((float *)v41 + 28), (signed __int64)*((float *)v41 + 30));
          *((_DWORD *)v41 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v41;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v41;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            155,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 116:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( sub_45E870(0x74u, (int)v2, (int)v2) )
        {
          dword_13225EC = 1;
          dword_13225F0 = 8;
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1061;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            182,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          sub_416790(
            (int *)dword_1308224,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          v42 = 0;
          do
          {
            sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 16;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 26;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)(*(double *)(v42 + 9243040) * 1000.0);
            v43 = (signed __int64)(*(double *)(v42 + 18864872) * 500.0);
            v42 += 8;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = v43;
          }
          while ( v42 < 320 );
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 117:
        if ( byte_1324782 )
        {
          if ( byte_1324782 == 1 )
          {
            if ( word_131ABFE == 85 )
            {
              dword_156FA74 = 0;
              return;
            }
          }
          else if ( byte_1324782 == 2 && word_131ABFE == 104 )
          {
            dword_156FA74 = 0;
            return;
          }
        }
        else if ( word_131ABFE == 52 )
        {
          goto LABEL_1195;
        }
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 500;
        sub_423330((int)v2);
        if ( sub_45E870(0x75u, (int)v2, (int)v2) )
        {
          v44 = *((float *)v2 + 30) * -0.050000001;
          v45 = (signed __int64)*((float *)v2 + 28) / 40;
          if ( *((_WORD *)dword_1547440 + v45 - dword_1540B4C * (unsigned __int64)(signed __int64)(v44 + 1.0))
            || (v296 = v45 - dword_1540B4C * (unsigned __int64)(signed __int64)v44, *((_WORD *)dword_1547440 + v296))
            || (v46 = *((float *)v2 + 30) * 0.050000001,
                *((_WORD *)dword_1547440 + v45 + dword_1540B4C * (unsigned __int64)(signed __int64)(v46 + 1.0)))
            || *((_WORD *)dword_1547440 + v45 + dword_1540B4C * (unsigned __int64)(signed __int64)(v46 + 2.0))
            || *((_WORD *)dword_1547440 + v296 - 1)
            || *((_WORD *)dword_1547440 + v296 + 1) )
          {
            sub_422E80((const char *)&unk_48CAEC, 3);
            dword_156FA74 = 0;
          }
          else
          {
            sub_46F7D0((int)v2, (int)v2, 117);
            dword_156FA74 = 0;
          }
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 118:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8;
        sub_423330((int)v2);
        if ( sub_45E870(0x76u, (int)v2, (int)v2) )
          sub_46F7D0((int)v2, (int)v2, 118);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 119:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v47 = v2;
        else
          v47 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x77u, (int)v2, (int)v47) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1014;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            154,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          sub_41C960((signed __int64)*((float *)v47 + 28), (signed __int64)*((float *)v47 + 30));
          *((_DWORD *)v47 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v47;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v47;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 119;
          *((_DWORD *)v47 + 159) = 119;
          sub_416860(
            155,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 120:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v48 = v2;
        else
          v48 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x78u, (int)v2, (int)v48) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            155,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          sub_41C960((signed __int64)*((float *)v48 + 28), (signed __int64)*((float *)v48 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v48;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v48;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1014;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            154,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 121:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v49 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x79u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*((float *)v49 + 28), (signed __int64)*((float *)v49 + 30));
          *((_DWORD *)v49 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v49;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v49;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1033;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 3;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 121;
          *((_DWORD *)v49 + 159) = 121;
          sub_416860(
            155,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 122:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v50 = v2;
        else
          v50 = (&lpString)[dword_48CCE4];
        *((_DWORD *)v50 + 159) = -1;
        if ( sub_45E870(0x7Au, (int)v2, (int)v50) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*((float *)v50 + 28), (signed __int64)*((float *)v50 + 30));
          *((_DWORD *)v50 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v50;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v50;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1014;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 3;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            154,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 123:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v51 = v2;
        else
          v51 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x7Bu, (int)v2, (int)v51) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1014;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_416860(
          154,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        v52 = 0;
        do
        {
          sub_41C960((signed __int64)*((float *)v51 + 28), (signed __int64)*((float *)v51 + 30));
          *((_DWORD *)v51 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v51;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v51;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1030;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 14;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          v53 = 10 * v52;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
          ++v52;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = v53;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 30;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 620) = -30;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 50;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 97) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 123;
        }
        while ( v52 < 4 );
        *((_DWORD *)v51 + 159) = 123;
        v54 = dword_49DA1C[dword_1317E74];
        goto LABEL_755;
      case 124:
        if ( dword_48CCE4 == -1 || !*((_DWORD *)(&lpString)[dword_48CCE4] + 23) )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v55 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x7Cu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            155,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          sub_41C960((signed __int64)*((float *)v55 + 28), (signed __int64)*((float *)v55 + 30));
          *((_DWORD *)v55 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v55;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v55;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1059;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            181,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 125:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        v56 = *((_DWORD *)v2 + 42);
        if ( v56 == 9 || v56 == 12 || v56 == 26 )
          *((_BYTE *)v2 + 174) = 6;
        else
          *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 500;
        sub_423330((int)v2);
        v57 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x7Du, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          sub_46F7D0((int)v2, (int)v57, 125);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 126:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v58 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x7Eu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          sub_46F7D0((int)v2, (int)v58, 126);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 127:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v59 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x7Fu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*((float *)v59 + 28), (signed __int64)*((float *)v59 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1070;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            166,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 128:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v60 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x80u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v60;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1023;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 128;
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*((float *)v60 + 28);
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*((float *)v60 + 30);
        v61 = (signed __int64)(*((float *)v60 + 28) * 0.025 - *((float *)v2 + 28) * 0.025);
        v62 = (signed __int16)v61;
        v275 = (signed __int16)v61;
        v63 = (signed __int64)(*((float *)v60 + 30) * 0.050000001 - *((float *)v2 + 30) * 0.050000001);
        v64 = (signed __int16)v63;
        v287 = (signed __int16)v63;
        if ( (_WORD)v62 )
        {
          if ( (v62 & 0x8000u) == 0 )
          {
            if ( (_WORD)v63 )
            {
              if ( (v63 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v2 + 172) = 6;
                *((_BYTE *)v2 + 173) = 6;
              }
              else
              {
                *((_BYTE *)v2 + 172) = 4;
                *((_BYTE *)v2 + 173) = 4;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
          }
          else if ( (_WORD)v63 )
          {
            if ( (v63 & 0x8000u) == 0i64 )
            {
              *((_BYTE *)v2 + 172) = 0;
              *((_BYTE *)v2 + 173) = 0;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 2;
              *((_BYTE *)v2 + 173) = 2;
            }
          }
          else
          {
            *((_BYTE *)v2 + 172) = 1;
            *((_BYTE *)v2 + 173) = 1;
          }
        }
        else if ( (v63 & 0x8000u) == 0i64 )
        {
          *((_BYTE *)v2 + 172) = 7;
          *((_BYTE *)v2 + 173) = 7;
        }
        else
        {
          *((_BYTE *)v2 + 172) = 3;
          *((_BYTE *)v2 + 173) = 3;
        }
        v65 = abs((signed __int16)v63);
        v66 = abs(v62);
        if ( v66 <= v65 )
        {
          if ( v66 >= v65 )
          {
            if ( v62 && v64 )
            {
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v275 / (double)v66 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v287 / (double)v65 * 1000.0);
              goto LABEL_288;
            }
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          }
          else
          {
            if ( v64 )
            {
              v68 = (double)v65;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v275 / v68 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v287 / v68 * 1000.0);
              goto LABEL_288;
            }
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v275 * 1000.0);
          }
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
        }
        else if ( v62 )
        {
          v67 = (double)v66;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v275 / v67 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v287 / v67 * 1000.0);
        }
        else
        {
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v287 * 1000.0);
        }
LABEL_288:
        v69 = dword_49DA1C[dword_1317E74];
        v70 = *(signed __int16 *)(v69 + 612);
        v71 = *(signed __int16 *)(v69 + 614);
        switch ( *((unsigned __int8 *)v2 + 172) )
        {
          case 0u:
            if ( v70 != -1000 || v71 >= 500 )
            {
              if ( v71 == 1000 && v70 > -250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 2u:
            if ( v70 != -1000 || v71 <= -500 )
            {
              if ( v71 == -1000 && v70 > -250 )
                goto LABEL_312;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 4u:
            if ( v70 != 1000 || v71 <= -500 )
            {
              if ( v71 == -1000 && v70 < 250 )
              {
LABEL_312:
                *((_BYTE *)v2 + 172) = 3;
                *((_BYTE *)v2 + 173) = 3;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          case 6u:
            if ( v70 != 1000 || v71 >= 500 )
            {
              if ( v71 == 1000 && v70 < 250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          default:
            break;
        }
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = v2[172];
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
        dword_156FA74 = 0;
        return;
      case 129:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v72 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x81u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          v297 = 20;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          do
          {
            v73 = (unsigned __int64)(signed __int64)*((float *)v72 + 30) + rand() % 300 - 150;
            v74 = rand() % 400;
            sub_41C960((unsigned __int64)(signed __int64)*((float *)v72 + 28) + v74, v73);
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v72;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v72;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1004;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 1;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 40;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = rand() % 50 + 20;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = -4;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 120) - 500.0;
            sub_416860(
              181,
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
              0,
              0);
            --v297;
          }
          while ( v297 );
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 130:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( sub_45E870(0x82u, (int)v2, (int)v2) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            178,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          v75 = 0;
          do
          {
            sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1044;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 16;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 26;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)(*(double *)(v75 + 9243040) * 1000.0);
            v76 = (signed __int64)(*(double *)(v75 + 18864872) * 500.0);
            v75 += 16;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = v76;
          }
          while ( v75 < 320 );
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 131:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        v77 = *((_DWORD *)v2 + 42);
        if ( v77 == 9 || v77 == 12 || v77 == 26 )
          *((_BYTE *)v2 + 174) = 6;
        else
          *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 500;
        sub_423330((int)v2);
        v78 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x83u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          sub_46F7D0((int)v2, (int)v78, 131);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 132:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v79 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x84u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          sub_46F7D0((int)v2, (int)v79, 132);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 133:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v80 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x85u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_416860(
          174,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        sub_41C960((signed __int64)*((float *)v80 + 28), (signed __int64)*((float *)v80 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v80;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1022;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_416860(
          175,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        v81 = (&lpString)[dword_48CCE4];
        v313 = *((float *)v2 + 28);
        v276 = *((float *)v81 + 28);
        v288 = *((float *)v81 + 30);
        v308 = *((float *)v2 + 30);
        v82 = (signed __int64)(v276 - *((float *)v2 + 28));
        v83 = (signed __int64)(v288 - *((float *)v2 + 30));
        if ( v82 )
        {
          if ( v82 >= 0 )
          {
            if ( (_WORD)v83 )
            {
              if ( (v83 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v2 + 172) = 6;
                *((_BYTE *)v2 + 173) = 6;
                v84 = 4;
              }
              else
              {
                *((_BYTE *)v2 + 172) = 4;
                *((_BYTE *)v2 + 173) = 4;
                v84 = 28;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
              v84 = 0;
            }
          }
          else if ( (_WORD)v83 )
          {
            if ( (v83 & 0x8000u) == 0i64 )
            {
              *((_BYTE *)v2 + 172) = 0;
              *((_BYTE *)v2 + 173) = 0;
              v84 = 12;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 2;
              *((_BYTE *)v2 + 173) = 2;
              v84 = 20;
            }
          }
          else
          {
            *((_BYTE *)v2 + 172) = 1;
            *((_BYTE *)v2 + 173) = 1;
            v84 = 16;
          }
        }
        else if ( (v83 & 0x8000u) == 0i64 )
        {
          *((_BYTE *)v2 + 172) = 7;
          v84 = 8;
          *((_BYTE *)v2 + 173) = 7;
        }
        else
        {
          *((_BYTE *)v2 + 172) = 3;
          v84 = 24;
          *((_BYTE *)v2 + 173) = 3;
        }
        v298 = 0;
        while ( 2 )
        {
          sub_41C960((signed __int64)v313, (signed __int64)v308);
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1019;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 8;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = v84 / 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 10 * (v84 % 2);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          v313 = (double)dword_6BE420[2 * v84] * 0.001 + v313;
          v308 = (double)dword_6BE424[2 * v84] * 0.001 + v308;
          v85 = v276 - 30.0;
          if ( v313 > (double)v85 && v276 + 30.0 > v313 && v288 - 40.0 < v308 && v288 + 20.0 > v308 )
            goto LABEL_1195;
          v88 = __OFSUB__(v298, 50);
          v86 = v298 == 50;
          v87 = v298++ - 50 < 0;
          if ( !((unsigned __int8)(v87 ^ v88) | v86) )
            goto LABEL_1195;
          v89 = rand() % 3 + 4;
          switch ( v84 )
          {
            case 0:
            case 1:
            case 2:
            case 3:
            case 4:
            case 29:
            case 30:
            case 31:
              v91 = HIBYTE(v90);
              v92 = v308 < (double)v288;
              v93 = 0;
              v94 = v308 == v288;
              v86 = (v91 & 0x41) == 0;
              v95 = HIBYTE(v90);
              if ( !v86 )
                goto LABEL_375;
              if ( v92 || v94 )
                goto LABEL_379;
              v84 -= v89;
              goto LABEL_380;
            case 5:
            case 6:
            case 7:
            case 8:
            case 9:
            case 10:
            case 11:
            case 12:
              v97 = HIBYTE(v96);
              v98 = v313 < (double)v276;
              v99 = 0;
              v100 = v313 == v276;
              v86 = (v97 & 0x41) == 0;
              v101 = HIBYTE(v96);
              if ( !v86 )
                goto LABEL_372;
              if ( !v98 && !v100 )
                goto LABEL_379;
              v84 -= v89;
              goto LABEL_380;
            case 13:
            case 14:
            case 15:
            case 16:
            case 17:
            case 18:
            case 19:
            case 20:
              v103 = v308 < (double)v288;
              v104 = 0;
              v105 = v308 == v288;
              v101 = HIBYTE(v102);
LABEL_372:
              if ( !(v101 & 0x41) )
                goto LABEL_379;
              v84 -= v89;
              goto LABEL_380;
            case 21:
            case 22:
            case 23:
            case 24:
            case 25:
            case 26:
            case 27:
            case 28:
              v107 = HIBYTE(v106);
              v108 = v313 < (double)v276;
              v109 = 0;
              v110 = v313 == v276;
              v86 = (v107 & 1) == 0;
              v95 = HIBYTE(v106);
              if ( v86 )
              {
                if ( !v108 && !v110 )
                {
                  v84 -= v89;
                  goto LABEL_380;
                }
              }
              else
              {
LABEL_375:
                if ( !(v95 & 0x41) )
                {
                  v84 -= v89;
LABEL_380:
                  v84 = (v84 + 32) % 32;
                  continue;
                }
              }
LABEL_379:
              v84 += v89;
              goto LABEL_380;
            default:
              goto LABEL_380;
          }
        }
      case 134:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( !sub_45E870(0x86u, (int)v2, (int)v2) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_416860(
          174,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        v314 = 0;
        if ( dword_1317E74 <= 0 )
          goto LABEL_1195;
        v299 = &lpString;
        while ( 1 )
        {
          v111 = *v299;
          if ( (*v299)[48] == 2
            && *((_DWORD *)v111 + 13) != dword_131D690
            && !*((_DWORD *)v111 + 23)
            && (byte_1330125 || *((_DWORD *)v111 + 17))
            && *((float *)v111 + 28) + 400.0 > *((float *)v2 + 28)
            && *((float *)v111 + 28) - 400.0 < *((float *)v2 + 28)
            && *((float *)v111 + 30) + 200.0 > *((float *)v2 + 30)
            && *((float *)v111 + 30) - 200.0 < *((float *)v2 + 30) )
          {
            break;
          }
LABEL_448:
          v88 = __OFSUB__(v314 + 1, dword_1317E74);
          v87 = v314++ + 1 - dword_1317E74 < 0;
          ++v299;
          if ( !(v87 ^ v88) )
          {
            dword_156FA74 = 0;
            return;
          }
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v111;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1020;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 131;
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*((float *)v111 + 28);
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*((float *)v111 + 30);
        v112 = (signed __int64)(*((float *)v111 + 28) * 0.025 - *((float *)v2 + 28) * 0.025);
        v113 = (signed __int16)v112;
        v277 = (signed __int16)v112;
        v114 = (signed __int64)(*((float *)v111 + 30) * 0.050000001 - *((float *)v2 + 30) * 0.050000001);
        v115 = (signed __int16)v114;
        v289 = (signed __int16)v114;
        if ( (_WORD)v113 )
        {
          if ( (v113 & 0x8000u) == 0 )
          {
            if ( (_WORD)v114 )
            {
              if ( (v114 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v2 + 172) = 6;
                *((_BYTE *)v2 + 173) = 6;
              }
              else
              {
                *((_BYTE *)v2 + 172) = 4;
                *((_BYTE *)v2 + 173) = 4;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
          }
          else if ( (_WORD)v114 )
          {
            if ( (v114 & 0x8000u) == 0i64 )
            {
              *((_BYTE *)v2 + 172) = 0;
              *((_BYTE *)v2 + 173) = 0;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 2;
              *((_BYTE *)v2 + 173) = 2;
            }
          }
          else
          {
            *((_BYTE *)v2 + 172) = 1;
            *((_BYTE *)v2 + 173) = 1;
          }
        }
        else if ( (v114 & 0x8000u) == 0i64 )
        {
          *((_BYTE *)v2 + 172) = 7;
          *((_BYTE *)v2 + 173) = 7;
        }
        else
        {
          *((_BYTE *)v2 + 172) = 3;
          *((_BYTE *)v2 + 173) = 3;
        }
        v116 = abs((signed __int16)v114);
        v117 = abs(v113);
        if ( v117 > v116 )
        {
          if ( v113 )
          {
            v118 = (double)v117;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v277 / v118 * 1000.0);
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v289 / v118 * 1000.0);
          }
          else
          {
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v289 * 1000.0);
          }
          goto LABEL_422;
        }
        if ( v117 >= v116 )
        {
          if ( !v113 || !v115 )
          {
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
            goto LABEL_421;
          }
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v277 / (double)v117 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v289 / (double)v116 * 1000.0);
        }
        else
        {
          if ( !v115 )
          {
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v277 * 1000.0);
LABEL_421:
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
            goto LABEL_422;
          }
          v119 = (double)v116;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v277 / v119 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v289 / v119 * 1000.0);
        }
LABEL_422:
        v120 = dword_49DA1C[dword_1317E74];
        v121 = *(signed __int16 *)(v120 + 612);
        v122 = *(signed __int16 *)(v120 + 614);
        switch ( *((unsigned __int8 *)v2 + 172) )
        {
          case 0u:
            if ( v121 != -1000 || v122 >= 500 )
            {
              if ( v122 == 1000 && v121 > -250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 2u:
            if ( v121 != -1000 || v122 <= -500 )
            {
              if ( v122 == -1000 && v121 > -250 )
                goto LABEL_446;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 4u:
            if ( v121 != 1000 || v122 <= -500 )
            {
              if ( v122 == -1000 && v121 < 250 )
              {
LABEL_446:
                *((_BYTE *)v2 + 172) = 3;
                *((_BYTE *)v2 + 173) = 3;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          case 6u:
            if ( v121 != 1000 || v122 >= 500 )
            {
              if ( v122 == 1000 && v121 < 250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          default:
            break;
        }
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = v2[172];
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
        goto LABEL_448;
      case 135:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( sub_45E870(0x87u, (int)v2, (int)v2) )
        {
          sub_41C960(
            (signed __int64)*((float *)(&lpString)[dword_131D690] + 28),
            (signed __int64)*((float *)(&lpString)[dword_131D690] + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = (&lpString)[dword_131D690];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            174,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          v123 = 0;
          do
          {
            v315 = *((float *)v2 + 28);
            v309 = *((float *)v2 + 30);
            v124 = 0;
            do
            {
              sub_41C960((signed __int64)v315, (signed __int64)v309);
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1019;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 8;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = *((_WORD *)v2 + 305) / 2;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = v124 % 10;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 10 * (*((_WORD *)v2 + 305) % 2);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
              *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
              v125 = 2 * *((signed __int16 *)v2 + 305);
              v315 = (double)dword_6BE420[v125] * 0.001 + v315;
              v309 = (double)dword_6BE424[v125] * 0.001 + v309;
              ++v124;
              *((_WORD *)v2 + 305) = (rand() % 7 + v123 + 29) % 32;
            }
            while ( v124 < 10 );
            v123 += 2;
          }
          while ( v123 < 32 );
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 136:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( sub_45E870(0x88u, (int)v2, (int)v2) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(174, (signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30), 0, 0);
          v316 = 0;
          if ( dword_1317E74 > 0 )
          {
            v300 = &lpString;
            do
            {
              v126 = *v300;
              if ( (*v300)[48] == 2
                && *((_DWORD *)v126 + 13) != dword_131D690
                && !*((_DWORD *)v126 + 23)
                && (byte_1330125 || *((_DWORD *)v126 + 17))
                && *((float *)v126 + 28) + 400.0 > *((float *)v2 + 28)
                && *((float *)v126 + 28) - 400.0 < *((float *)v2 + 28)
                && *((float *)v126 + 30) + 200.0 > *((float *)v2 + 30)
                && *((float *)v126 + 30) - 200.0 < *((float *)v2 + 30) )
              {
                sub_41C960((signed __int64)*((float *)v126 + 28), (signed __int64)*((float *)v126 + 30));
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v126;
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1018;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 40;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 7;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = rand() % 20 + 20;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
                sub_416860(
                  171,
                  (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                  (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                  0,
                  0);
              }
              v88 = __OFSUB__(v316 + 1, dword_1317E74);
              v87 = v316++ + 1 - dword_1317E74 < 0;
              ++v300;
            }
            while ( v87 ^ v88 );
          }
          sub_416860(63, (signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30), 0, 0);
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 137:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        v127 = *((_DWORD *)v2 + 42);
        if ( v127 == 9 || v127 == 12 || v127 == 26 )
          *((_BYTE *)v2 + 174) = 6;
        else
          *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 500;
        sub_423330((int)v2);
        v128 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x89u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          sub_46F7D0((int)v2, (int)v128, 137);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 138:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v129 = v2;
        else
          v129 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x8Au, (int)v2, (int)v129) )
          sub_46F7D0((int)v2, (int)v129, 138);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 139:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v130 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x8Bu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v130;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1027;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 128;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*((float *)v130 + 28);
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*((float *)v130 + 30);
        sub_416860(
          181,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        v131 = (signed __int64)(*((float *)v130 + 28) * 0.025 - *((float *)v2 + 28) * 0.025);
        v132 = (signed __int16)v131;
        v278 = (signed __int16)v131;
        v133 = (signed __int64)(*((float *)v130 + 30) * 0.050000001 - *((float *)v2 + 30) * 0.050000001);
        v134 = (signed __int16)v133;
        v290 = (signed __int16)v133;
        if ( (_WORD)v132 )
        {
          if ( (v132 & 0x8000u) == 0 )
          {
            if ( (_WORD)v133 )
            {
              if ( (v133 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v2 + 172) = 6;
                *((_BYTE *)v2 + 173) = 6;
              }
              else
              {
                *((_BYTE *)v2 + 172) = 4;
                *((_BYTE *)v2 + 173) = 4;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
          }
          else if ( (_WORD)v133 )
          {
            if ( (v133 & 0x8000u) == 0i64 )
            {
              *((_BYTE *)v2 + 172) = 0;
              *((_BYTE *)v2 + 173) = 0;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 2;
              *((_BYTE *)v2 + 173) = 2;
            }
          }
          else
          {
            *((_BYTE *)v2 + 172) = 1;
            *((_BYTE *)v2 + 173) = 1;
          }
        }
        else if ( (v133 & 0x8000u) == 0i64 )
        {
          *((_BYTE *)v2 + 172) = 7;
          *((_BYTE *)v2 + 173) = 7;
        }
        else
        {
          *((_BYTE *)v2 + 172) = 3;
          *((_BYTE *)v2 + 173) = 3;
        }
        v135 = abs((signed __int16)v133);
        v136 = abs(v132);
        if ( v136 <= v135 )
        {
          if ( v136 >= v135 )
          {
            if ( v132 && v134 )
            {
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v278 / (double)v136 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v290 / (double)v135 * 1000.0);
              goto LABEL_521;
            }
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          }
          else
          {
            if ( v134 )
            {
              v138 = (double)v135;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v278 / v138 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v290 / v138 * 1000.0);
              goto LABEL_521;
            }
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v278 * 1000.0);
          }
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
        }
        else if ( v132 )
        {
          v137 = (double)v136;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v278 / v137 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v290 / v137 * 1000.0);
        }
        else
        {
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v290 * 1000.0);
        }
LABEL_521:
        v139 = dword_49DA1C[dword_1317E74];
        v140 = *(signed __int16 *)(v139 + 612);
        v141 = *(signed __int16 *)(v139 + 614);
        switch ( *((unsigned __int8 *)v2 + 172) )
        {
          case 0u:
            if ( v140 != -1000 || v141 >= 500 )
            {
              if ( v141 == 1000 && v140 > -250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 2u:
            if ( v140 != -1000 || v141 <= -500 )
            {
              if ( v141 == -1000 && v140 > -250 )
                goto LABEL_545;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 4u:
            if ( v140 != 1000 || v141 <= -500 )
            {
              if ( v141 == -1000 && v140 < 250 )
              {
LABEL_545:
                *((_BYTE *)v2 + 172) = 3;
                *((_BYTE *)v2 + 173) = 3;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          case 6u:
            if ( v140 != 1000 || v141 >= 500 )
            {
              if ( v141 == 1000 && v140 < 250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          default:
            break;
        }
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = v2[172];
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
        dword_156FA74 = 0;
        return;
      case 140:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v142 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x8Cu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v142;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1025;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 128;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*((float *)v142 + 28);
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*((float *)v142 + 30);
        sub_416860(
          181,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        v143 = (signed __int64)(*((float *)v142 + 28) * 0.025 - *((float *)v2 + 28) * 0.025);
        v144 = (signed __int16)v143;
        v279 = (signed __int16)v143;
        v145 = (signed __int64)(*((float *)v142 + 30) * 0.050000001 - *((float *)v2 + 30) * 0.050000001);
        v146 = (signed __int16)v145;
        v291 = (signed __int16)v145;
        if ( (_WORD)v144 )
        {
          if ( (v144 & 0x8000u) == 0 )
          {
            if ( (_WORD)v145 )
            {
              if ( (v145 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v2 + 172) = 6;
                *((_BYTE *)v2 + 173) = 6;
              }
              else
              {
                *((_BYTE *)v2 + 172) = 4;
                *((_BYTE *)v2 + 173) = 4;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
          }
          else if ( (_WORD)v145 )
          {
            if ( (v145 & 0x8000u) == 0i64 )
            {
              *((_BYTE *)v2 + 172) = 0;
              *((_BYTE *)v2 + 173) = 0;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 2;
              *((_BYTE *)v2 + 173) = 2;
            }
          }
          else
          {
            *((_BYTE *)v2 + 172) = 1;
            *((_BYTE *)v2 + 173) = 1;
          }
        }
        else if ( (v145 & 0x8000u) == 0i64 )
        {
          *((_BYTE *)v2 + 172) = 7;
          *((_BYTE *)v2 + 173) = 7;
        }
        else
        {
          *((_BYTE *)v2 + 172) = 3;
          *((_BYTE *)v2 + 173) = 3;
        }
        v147 = abs((signed __int16)v145);
        v148 = abs(v144);
        if ( v148 <= v147 )
        {
          if ( v148 >= v147 )
          {
            if ( v144 && v146 )
            {
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v279 / (double)v148 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v291 / (double)v147 * 1000.0);
              goto LABEL_578;
            }
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          }
          else
          {
            if ( v146 )
            {
              v150 = (double)v147;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v279 / v150 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v291 / v150 * 1000.0);
              goto LABEL_578;
            }
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v279 * 1000.0);
          }
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
        }
        else if ( v144 )
        {
          v149 = (double)v148;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v279 / v149 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v291 / v149 * 1000.0);
        }
        else
        {
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v291 * 1000.0);
        }
LABEL_578:
        v151 = dword_49DA1C[dword_1317E74];
        v152 = *(signed __int16 *)(v151 + 612);
        v153 = *(signed __int16 *)(v151 + 614);
        switch ( *((unsigned __int8 *)v2 + 172) )
        {
          case 0u:
            if ( v152 != -1000 || v153 >= 500 )
            {
              if ( v153 == 1000 && v152 > -250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 2u:
            if ( v152 != -1000 || v153 <= -500 )
            {
              if ( v153 == -1000 && v152 > -250 )
                goto LABEL_602;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 4u:
            if ( v152 != 1000 || v153 <= -500 )
            {
              if ( v153 == -1000 && v152 < 250 )
              {
LABEL_602:
                *((_BYTE *)v2 + 172) = 3;
                *((_BYTE *)v2 + 173) = 3;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          case 6u:
            if ( v152 != 1000 || v153 >= 500 )
            {
              if ( v153 == 1000 && v152 < 250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          default:
            break;
        }
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = v2[172];
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
        dword_156FA74 = 0;
        return;
      case 141:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 1000;
        sub_423330((int)v2);
        if ( sub_45E870(0x8Du, (int)v2, (int)v2) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          v310 = 40 * ((dword_154794C + dword_49D89C) / 40) + 20;
          v317 = 20 * ((dword_49D8A0 + dword_1547950) / 20) + 10;
          v154 = (signed __int64)((double)(v310 / 40) - *((float *)v2 + 28) * 0.025);
          v155 = (signed __int64)((double)(v317 / 20) - *((float *)v2 + 30) * 0.050000001);
          if ( v154 )
          {
            if ( v154 >= 0 )
            {
              if ( (_WORD)v155 )
              {
                if ( (v155 & 0x8000u) == 0i64 )
                {
                  *((_BYTE *)v2 + 172) = 6;
                  *((_BYTE *)v2 + 173) = 6;
                }
                else
                {
                  *((_BYTE *)v2 + 172) = 4;
                  *((_BYTE *)v2 + 173) = 4;
                }
              }
              else
              {
                *((_BYTE *)v2 + 172) = 5;
                *((_BYTE *)v2 + 173) = 5;
              }
            }
            else if ( (_WORD)v155 )
            {
              if ( (v155 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v2 + 172) = 0;
                *((_BYTE *)v2 + 173) = 0;
              }
              else
              {
                *((_BYTE *)v2 + 172) = 2;
                *((_BYTE *)v2 + 173) = 2;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
          }
          else if ( (v155 & 0x8000u) == 0i64 )
          {
            *((_BYTE *)v2 + 172) = 7;
            *((_BYTE *)v2 + 173) = 7;
          }
          else
          {
            *((_BYTE *)v2 + 172) = 3;
            *((_BYTE *)v2 + 173) = 3;
          }
          switch ( *((unsigned __int8 *)v2 + 173) )
          {
            case 0u:
            case 4u:
              v274 = (double)v310 - 120.0;
              v156 = (double)v317 - 60.0;
              goto LABEL_626;
            case 1u:
            case 5u:
              v274 = (double)v310;
              v156 = (double)v317 - 60.0;
              goto LABEL_626;
            case 2u:
            case 6u:
              v274 = (double)v310 - 120.0;
              v156 = (double)v317 + 40.0;
              goto LABEL_626;
            case 3u:
            case 7u:
              v274 = (double)v310 - 120.0;
              v156 = (double)v317;
LABEL_626:
              v285 = v156;
              break;
            default:
              break;
          }
          v157 = 5;
          do
          {
            switch ( *((unsigned __int8 *)v2 + 173) )
            {
              case 0u:
              case 4u:
                v274 = v274 + 40.0;
                goto LABEL_630;
              case 1u:
              case 5u:
LABEL_630:
                v285 = v285 + 20.0;
                break;
              case 2u:
              case 6u:
                v274 = v274 + 40.0;
                v285 = v285 - 20.0;
                break;
              case 3u:
              case 7u:
                v274 = v274 + 40.0;
                break;
              default:
                break;
            }
            sub_41C960((signed __int64)v274, (signed __int64)v285);
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1028;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 17;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
            if ( byte_1330125 )
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 100;
            else
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 1;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            sub_416860(
              184,
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
              0,
              0);
            --v157;
          }
          while ( v157 );
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 142:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v158 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0x8Eu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_41C960((unsigned __int64)(signed __int64)*((float *)v158 + 28) + 250, (signed __int64)*((float *)v158 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v158;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1028;
        goto LABEL_812;
      case 143:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v159 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0x8Fu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          v301 = 20;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          do
          {
            v160 = (unsigned __int64)(signed __int64)*((float *)v159 + 30) + rand() % 300 - 150;
            v161 = rand() % 400;
            sub_41C960((unsigned __int64)(signed __int64)*((float *)v159 + 28) + v161, v160);
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v159;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v159;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1028;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 1;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 40;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = rand() % 50 + 20;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = -4;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 120) - 500.0;
            sub_416860(
              181,
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
              0,
              0);
            --v301;
          }
          while ( v301 );
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 200:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v162 = v2;
        else
          v162 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xC8u, (int)v2, (int)v162) )
          sub_46F7D0((int)v2, (int)v162, 200);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 201:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v163 = v2;
        else
          v163 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xC9u, (int)v2, (int)v163) )
          sub_46F7D0((int)v2, (int)v163, 201);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 202:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v164 = v2;
        else
          v164 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0xCAu, (int)v2, (int)v164) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_416860(
          155,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        v165 = 0;
        do
        {
          sub_41C960((signed __int64)*((float *)v164 + 28), (signed __int64)*((float *)v164 + 30));
          *((_DWORD *)v164 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v164;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v164;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1052;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 15;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          v166 = 13 * v165++;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = v166;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 50;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 620) = -20;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 50;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 97) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 98) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 202;
        }
        while ( v165 < 3 );
        *((_DWORD *)v164 + 159) = 202;
        v54 = dword_49DA1C[dword_1317E74];
        goto LABEL_755;
      case 203:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        v167 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xCBu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            150,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          sub_41C960((signed __int64)*((float *)v167 + 28), (signed __int64)*((float *)v167 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1011;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            169,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 204:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v168 = v2;
        else
          v168 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xCCu, (int)v2, (int)v168) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            150,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          sub_41C960((signed __int64)*((float *)v168 + 28), (signed __int64)*((float *)v168 + 30));
          *((_DWORD *)v168 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v168;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v168;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1033;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 201;
          *((_DWORD *)v168 + 159) = 201;
          sub_41C960((signed __int64)*((float *)v168 + 28), (signed __int64)*((float *)v168 + 30));
          *((_DWORD *)v168 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v168;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v168;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          *((_DWORD *)v168 + 159) = 201;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 205:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v169 = v2;
        else
          v169 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0xCDu, (int)v2, (int)v169) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_416860(
          155,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        v170 = 0;
        do
        {
          sub_41C960((signed __int64)*((float *)v169 + 28), (signed __int64)*((float *)v169 + 30));
          *((_DWORD *)v169 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v169;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v169;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1038;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 15;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          v171 = 13 * v170++;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = v171;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 50;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 620) = -20;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 50;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 97) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 98) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 202;
        }
        while ( v170 < 3 );
        *((_DWORD *)v169 + 159) = 202;
        goto LABEL_754;
      case 206:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( !sub_45E870(0xCEu, (int)v2, (int)v2) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960(
          (signed __int64)*((float *)(&lpString)[dword_131D690] + 28),
          (signed __int64)*((float *)(&lpString)[dword_131D690] + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = (&lpString)[dword_131D690];
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        v172 = (&lpString)[dword_131D690];
        if ( dword_48CCE4 == -1 )
        {
          v175 = (signed __int64)((double)((dword_49D89C + dword_154794C) / 40) - *((float *)v172 + 28) * 0.025);
          v174 = (double)((dword_1547950 + dword_49D8A0) / 20);
        }
        else
        {
          v173 = (&lpString)[dword_48CCE4];
          v174 = *((float *)v173 + 30) * 0.050000001;
          v175 = (signed __int64)(*((float *)v173 + 28) * 0.025 - *((float *)v172 + 28) * 0.025);
        }
        v176 = (signed __int64)(v174 - *((float *)v172 + 30) * 0.050000001);
        if ( v175 )
        {
          if ( v175 >= 0 )
          {
            if ( (_WORD)v176 )
            {
              if ( (v176 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v172 + 172) = 6;
                *((_BYTE *)v172 + 173) = 6;
              }
              else
              {
                *((_BYTE *)v172 + 172) = 4;
                *((_BYTE *)v172 + 173) = 4;
              }
            }
            else
            {
              *((_BYTE *)v172 + 172) = 5;
              *((_BYTE *)v172 + 173) = 5;
            }
          }
          else if ( (_WORD)v176 )
          {
            if ( (v176 & 0x8000u) == 0i64 )
            {
              *((_BYTE *)v172 + 172) = 0;
              *((_BYTE *)v172 + 173) = 0;
            }
            else
            {
              *((_BYTE *)v172 + 172) = 2;
              *((_BYTE *)v172 + 173) = 2;
            }
          }
          else
          {
            *((_BYTE *)v172 + 172) = 1;
            *((_BYTE *)v172 + 173) = 1;
          }
        }
        else if ( (v176 & 0x8000u) == 0i64 )
        {
          *((_BYTE *)v172 + 172) = 7;
          *((_BYTE *)v172 + 173) = 7;
        }
        else
        {
          *((_BYTE *)v172 + 172) = 3;
          *((_BYTE *)v172 + 173) = 3;
        }
        if ( dword_48CCE4 == -1 )
        {
          v178 = dword_154794C + dword_49D89C;
          LODWORD(v179) = dword_1547950 + dword_49D8A0;
        }
        else
        {
          v177 = (&lpString)[dword_48CCE4];
          v178 = (signed __int64)*((float *)v177 + 28);
          v179 = (signed __int64)*((float *)v177 + 30);
        }
        sub_426260(*((_DWORD *)v172 + 13), v178, v179);
        *((_BYTE *)dword_1542DA4
        + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v172 + 30) * 0.050000001)
        + (unsigned __int16)(signed __int64)(*((float *)v172 + 28) * 0.025)) = 0;
        sub_42A140(
          (int)v172,
          (signed __int64)*((float *)v172 + 28) / 40,
          (signed __int64)*((float *)v172 + 30) / 20,
          *((_DWORD *)v172 + 33) / 40,
          *((_DWORD *)v172 + 34) / 20);
        if ( *((_DWORD *)v172 + 13) != dword_131D690 )
          goto LABEL_1195;
        v180 = (&lpString)[dword_131D690];
        dword_154794C = 145 * (byte_1328E45 != 0) + (unsigned __int64)(signed __int64)*((float *)v180 + 28) - 400;
        dword_1547950 = (unsigned __int64)(signed __int64)*((float *)v180 + 30) - 250;
        sub_4166A0((signed __int64)*((float *)v180 + 28), (signed __int64)*((float *)v180 + 30), 0);
        if ( dword_154794C >= 0 )
        {
          if ( dword_154794C <= 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0) )
          {
            dword_1319238 = 1;
          }
          else
          {
            dword_1319238 = 0;
            dword_154794C = 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0);
          }
        }
        else
        {
          dword_1319238 = 0;
          dword_154794C = 0;
        }
        if ( dword_1547950 >= 0 )
        {
          if ( dword_1547950 <= 4 * (5 * dword_1540B50 - 125) )
          {
            dword_156FA74 = 0;
            dword_1319498 = 1;
          }
          else
          {
            dword_1319498 = 0;
            dword_156FA74 = 0;
            dword_1547950 = 4 * (5 * dword_1540B50 - 125);
          }
        }
        else
        {
          dword_1319498 = 0;
          dword_1547950 = 0;
          dword_156FA74 = 0;
        }
        return;
      case 207:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        v181 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xCFu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            150,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          sub_41C960(
            (signed __int64)*((float *)v181 + 28),
            (unsigned __int64)(signed __int64)*((float *)v181 + 30) - 20);
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v181;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = *((_DWORD *)v2 + 42);
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 9;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 5;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 7;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 7;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 184) = 4;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 208:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 500;
        sub_423330((int)v2);
        if ( sub_45E870(0xD0u, (int)v2, (int)v2) )
          sub_46F7D0((int)v2, (int)v2, 208);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 209:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        v182 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xD1u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          sub_46F7D0((int)v2, (int)v182, 209);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 210:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v183 = v2;
        else
          v183 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0xD2u, (int)v2, (int)v183) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_416860(
          150,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        v184 = 0;
        do
        {
          sub_41C960((signed __int64)*((float *)v183 + 28), (signed __int64)*((float *)v183 + 30));
          *((_DWORD *)v183 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v183;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v183;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1017;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 15;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          v185 = 10 * v184;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
          ++v184;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = v185;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 30;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 620) = -30;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 50;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 97) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 98) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 210;
        }
        while ( v184 < 4 );
        *((_DWORD *)v183 + 159) = 210;
        goto LABEL_754;
      case 211:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v186 = v2;
        else
          v186 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xD3u, (int)v2, (int)v186) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            150,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          v187 = 0;
          do
          {
            sub_41C960((signed __int64)*((float *)v186 + 28), (signed __int64)*((float *)v186 + 30));
            *((_DWORD *)v186 + 156) = dword_49DA1C[dword_1317E74];
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v186;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v186;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 15;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
            v188 = 10 * v187;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
            ++v187;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = v188;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 30;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 1;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 620) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 50;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 97) = 0;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 98) = 0;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 211;
          }
          while ( v187 < 4 );
          *((_DWORD *)v186 + 159) = 211;
LABEL_754:
          v54 = dword_49DA1C[dword_1317E74];
LABEL_755:
          sub_416860(161, (signed __int64)*(float *)(v54 + 112), (signed __int64)*(float *)(v54 + 120), 0, 0);
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 212:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        v189 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xD1u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            150,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          *((_DWORD *)v189 + 190) = 1;
          *((_DWORD *)v189 + 191) = dword_13211C8 + 8000;
          sub_41C960((signed __int64)*((float *)v189 + 28), (signed __int64)*((float *)v189 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v189;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v189;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1033;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 7;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 8;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 3;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 212;
          *((_DWORD *)v189 + 159) = 212;
          sub_41C960((signed __int64)*((float *)v189 + 28), (signed __int64)*((float *)v189 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v189;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v189;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1062;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 7;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 21;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 100;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 3;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 120) + 20.0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 213:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)(&lpString)[dword_131D690] + 88) = 0;
        *((_DWORD *)(&lpString)[dword_131D690] + 150) = 1;
        dword_13225A0 = 1;
        dword_13225B0 = 0;
        if ( dword_48CCE4 == -1 )
        {
          v190 = dword_1317E74;
          v191 = 0;
          if ( dword_1317E74 > 0 )
          {
            v192 = &lpString;
            do
            {
              v193 = (int)*v192;
              if ( *((_DWORD *)*v192 + 17) && *(_DWORD *)(v193 + 76) )
              {
                sub_46F5D0(v193, (int)(&lpString)[dword_131D690]);
                v190 = dword_1317E74;
              }
              ++v191;
              ++v192;
            }
            while ( v191 < v190 );
          }
          *(_DWORD *)(dword_49DA1C[v190] + 628) = (&lpString)[dword_131D690];
          *((_DWORD *)(&lpString)[dword_131D690] + 45) = 1;
        }
        else
        {
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = (&lpString)[dword_48CCE4];
          *((_DWORD *)(&lpString)[dword_48CCE4] + 45) = 1;
        }
        sub_41C960(
          (signed __int64)*((float *)(&lpString)[dword_131D690] + 28),
          (signed __int64)*((float *)(&lpString)[dword_131D690] + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = (&lpString)[dword_131D690];
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 10;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 4;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        dword_156FA74 = 0;
        return;
      case 214:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2000;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v194 = v2;
        else
          v194 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xD6u, (int)v2, (int)v194) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            150,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          v195 = v312;
          *((_DWORD *)v194 + 190) = 1;
          v280 = 0;
          *((_DWORD *)v194 + 191) = dword_13211C8 + 8000;
          do
          {
            switch ( v280 )
            {
              case 0:
                v3 = (signed __int64)*((float *)v194 + 28);
                v195 = (unsigned __int64)(signed __int64)*((float *)v194 + 30) - 20;
                break;
              case 1:
                v3 = (unsigned __int64)(signed __int64)*((float *)v194 + 28) - 30;
                v195 = (signed __int64)*((float *)v194 + 30);
                break;
              case 2:
                v3 = (signed __int64)*((float *)v194 + 28);
                v195 = (signed __int64)*((float *)v194 + 30);
                break;
              case 3:
                v3 = (unsigned __int64)(signed __int64)*((float *)v194 + 28) + 30;
                v195 = (signed __int64)*((float *)v194 + 30);
                break;
              case 4:
                v3 = (signed __int64)*((float *)v194 + 28);
                v195 = (unsigned __int64)(signed __int64)*((float *)v194 + 30) + 20;
                break;
              default:
                break;
            }
            sub_41C960(v3, v195);
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v194;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1036;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 7;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 7;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 3;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            v88 = __OFSUB__(v280 + 1, 5);
            v87 = v280++ - 4 < 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 214;
          }
          while ( v87 ^ v88 );
          *((_DWORD *)v194 + 159) = 214;
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 215:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v196 = v2;
        else
          v196 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xD7u, (int)v2, (int)v196) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            150,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          sub_41C960((signed __int64)*((float *)v196 + 28), (signed __int64)*((float *)v196 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v196;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v196;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1047;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            179,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 216:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        v197 = *((_DWORD *)v2 + 42);
        if ( v197 == 9 || v197 == 12 || v197 == 26 )
          *((_BYTE *)v2 + 174) = 6;
        else
          *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 500;
        sub_423330((int)v2);
        v198 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xD8u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          sub_46F7D0((int)v2, (int)v198, 216);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 217:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v199 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xD9u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          sub_46F7D0((int)v2, (int)v199, 217);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 218:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v200 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xDAu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960(
            (unsigned __int64)(signed __int64)*((float *)v200 + 28) + 250,
            (signed __int64)*((float *)v200 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v200;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1036;
LABEL_812:
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 40;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 20;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = -4;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 120) - 500.0;
          sub_416860(
            181,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 219:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( !sub_45E870(0xDBu, (int)v2, (int)v2) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_416860(
          152,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        v318 = 0;
        if ( dword_1317E74 <= 0 )
          goto LABEL_1195;
        v302 = &lpString;
        do
        {
          v201 = *v302;
          if ( (*v302)[48] == 2
            && *((_DWORD *)v201 + 13) != dword_131D690
            && !*((_DWORD *)v201 + 23)
            && (byte_1330125 || *((_DWORD *)v201 + 17))
            && *((float *)v201 + 28) + 400.0 > *((float *)v2 + 28)
            && *((float *)v201 + 28) - 400.0 < *((float *)v2 + 28)
            && *((float *)v201 + 30) + 200.0 > *((float *)v2 + 30)
            && *((float *)v201 + 30) - 200.0 < *((float *)v2 + 30) )
          {
            sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v201;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1038;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 131;
            *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*((float *)v201 + 28);
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*((float *)v201 + 30);
            v202 = (signed __int64)(*((float *)v201 + 28) * 0.025 - *((float *)v2 + 28) * 0.025);
            v203 = (signed __int16)v202;
            v281 = (signed __int16)v202;
            v204 = (signed __int64)(*((float *)v201 + 30) * 0.050000001 - *((float *)v2 + 30) * 0.050000001);
            v205 = (signed __int16)v204;
            v292 = (signed __int16)v204;
            if ( (_WORD)v203 )
            {
              if ( (v203 & 0x8000u) == 0 )
              {
                if ( (_WORD)v204 )
                {
                  if ( (v204 & 0x8000u) == 0i64 )
                  {
                    *((_BYTE *)v2 + 172) = 6;
                    *((_BYTE *)v2 + 173) = 6;
                  }
                  else
                  {
                    *((_BYTE *)v2 + 172) = 4;
                    *((_BYTE *)v2 + 173) = 4;
                  }
                }
                else
                {
                  *((_BYTE *)v2 + 172) = 5;
                  *((_BYTE *)v2 + 173) = 5;
                }
              }
              else if ( (_WORD)v204 )
              {
                if ( (v204 & 0x8000u) == 0i64 )
                {
                  *((_BYTE *)v2 + 172) = 0;
                  *((_BYTE *)v2 + 173) = 0;
                }
                else
                {
                  *((_BYTE *)v2 + 172) = 2;
                  *((_BYTE *)v2 + 173) = 2;
                }
              }
              else
              {
                *((_BYTE *)v2 + 172) = 1;
                *((_BYTE *)v2 + 173) = 1;
              }
            }
            else if ( (v204 & 0x8000u) == 0i64 )
            {
              *((_BYTE *)v2 + 172) = 7;
              *((_BYTE *)v2 + 173) = 7;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 3;
              *((_BYTE *)v2 + 173) = 3;
            }
            v206 = abs((signed __int16)v204);
            v207 = abs(v203);
            if ( v207 <= v206 )
            {
              if ( v207 >= v206 )
              {
                if ( v203 && v205 )
                {
                  *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v281 / (double)v207 * 1000.0);
                  *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v292 / (double)v206 * 1000.0);
                }
                else
                {
                  *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
                  *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
                }
              }
              else if ( v205 )
              {
                v209 = (double)v206;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v281 / v209 * 1000.0);
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v292 / v209 * 1000.0);
              }
              else
              {
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 612) = (unsigned __int16)(signed __int64)((double)v281 * 1000.0);
              }
            }
            else if ( v203 )
            {
              v208 = (double)v207;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v281 / v208 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v292 / v208 * 1000.0);
            }
            else
            {
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v292 * 1000.0);
            }
            v210 = dword_49DA1C[dword_1317E74];
            v211 = *(signed __int16 *)(v210 + 612);
            v212 = *(signed __int16 *)(v210 + 614);
            switch ( *((unsigned __int8 *)v2 + 172) )
            {
              case 0u:
                if ( v211 != -1000 || v212 >= 500 )
                {
                  if ( v212 == 1000 && v211 > -250 )
                  {
                    *((_BYTE *)v2 + 172) = 7;
                    *((_BYTE *)v2 + 173) = 7;
                  }
                }
                else
                {
                  *((_BYTE *)v2 + 172) = 1;
                  *((_BYTE *)v2 + 173) = 1;
                }
                break;
              case 2u:
                if ( v211 != -1000 || v212 <= -500 )
                {
                  if ( v212 == -1000 && v211 > -250 )
                    goto LABEL_877;
                }
                else
                {
                  *((_BYTE *)v2 + 172) = 1;
                  *((_BYTE *)v2 + 173) = 1;
                }
                break;
              case 4u:
                if ( v211 != 1000 || v212 <= -500 )
                {
                  if ( v212 == -1000 && v211 < 250 )
                  {
LABEL_877:
                    *((_BYTE *)v2 + 172) = 3;
                    *((_BYTE *)v2 + 173) = 3;
                  }
                }
                else
                {
                  *((_BYTE *)v2 + 172) = 5;
                  *((_BYTE *)v2 + 173) = 5;
                }
                break;
              case 6u:
                if ( v211 != 1000 || v212 >= 500 )
                {
                  if ( v212 == 1000 && v211 < 250 )
                  {
                    *((_BYTE *)v2 + 172) = 7;
                    *((_BYTE *)v2 + 173) = 7;
                  }
                }
                else
                {
                  *((_BYTE *)v2 + 172) = 5;
                  *((_BYTE *)v2 + 173) = 5;
                }
                break;
              default:
                break;
            }
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = v2[172];
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
          }
          v88 = __OFSUB__(v318 + 1, dword_1317E74);
          v87 = v318++ + 1 - dword_1317E74 < 0;
          ++v302;
        }
        while ( v87 ^ v88 );
        dword_156FA74 = 0;
        return;
      case 220:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( sub_45E870(0xDCu, (int)v2, (int)v2) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(150, (signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30), 0, 0);
          v213 = dword_1317E74;
          v319 = 0;
          if ( dword_1317E74 > 0 )
          {
            v303 = &lpString;
            do
            {
              v214 = *v303;
              if ( (*v303)[48] == 2
                && *((_DWORD *)v214 + 13) != dword_131D690
                && !*((_DWORD *)v214 + 23)
                && (byte_1330125 || *((_DWORD *)v214 + 17))
                && *((float *)v214 + 28) + 400.0 > *((float *)v2 + 28)
                && *((float *)v214 + 28) - 400.0 < *((float *)v2 + 28)
                && *((float *)v214 + 30) + 200.0 > *((float *)v2 + 30)
                && *((float *)v214 + 30) - 200.0 < *((float *)v2 + 30) )
              {
                sub_41C960((signed __int64)*((float *)v214 + 28), (signed __int64)*((float *)v214 + 30));
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1011;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 40;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
                v213 = dword_1317E74;
              }
              v88 = __OFSUB__(v319 + 1, v213);
              v87 = v319++ + 1 - v213 < 0;
              ++v303;
            }
            while ( v87 ^ v88 );
          }
          sub_416860(
            169,
            (signed __int64)*(float *)(dword_49DA1C[v213] + 112),
            (signed __int64)*(float *)(dword_49DA1C[v213] + 120),
            0,
            0);
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 221:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( sub_45E870(0xDDu, (int)v2, (int)v2) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1000;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            165,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          v215 = 0;
          do
          {
            sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1011;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 16;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 30;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)(*(double *)(v215 + 9243040) * 1000.0);
            v216 = (signed __int64)(*(double *)(v215 + 18864872) * 500.0);
            v215 += 8;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = v216;
          }
          while ( v215 < 320 );
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 222:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v217 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xDEu, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*((float *)v217 + 28), (signed __int64)*((float *)v217 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v217;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v217;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1012;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            187,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          *((_DWORD *)v217 + 190) = 1;
          *((_DWORD *)v217 + 191) = dword_13211C8 + 3000;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 223:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( !sub_45E870(0xDBu, (int)v2, (int)v2) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_416860(
          152,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        v320 = 0;
        if ( dword_1317E74 <= 0 )
          goto LABEL_1195;
        v304 = &lpString;
        break;
      case 224:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v230 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0xE0u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        v231 = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        do
        {
          sub_41C960((signed __int64)*((float *)v230 + 28), (signed __int64)*((float *)v230 + 30));
          *((_DWORD *)v230 + 156) = dword_49DA1C[dword_1317E74];
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v230;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v230;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1030;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 15;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 10 * v231;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 50;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 620) = -10 * v231++;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 50;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 97) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 98) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 224;
        }
        while ( v231 < 4 );
        *((_DWORD *)v230 + 159) = 224;
        sub_416860(
          161,
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
          (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
          0,
          0);
        sub_46FC00((int)v230, (int)v2);
        *((_DWORD *)v230 + 18) = 0;
        *((_BYTE *)v230 + 97) = 0;
        *((_BYTE *)v230 + 104) = 0;
        v232 = 0;
        if ( dword_1317E74 <= 0 )
          goto LABEL_1195;
        v233 = &lpString;
        while ( 1 )
        {
          v234 = *v233;
          if ( (*v233)[48] == 2 && *((_DWORD *)v234 + 159) != 224 )
          {
            v235 = *((_DWORD *)v234 + 13);
            if ( v235 != dword_131D690
              && v235 != *((_DWORD *)v230 + 13)
              && !*((_DWORD *)v234 + 23)
              && *((_DWORD *)v234 + 17)
              && *((float *)v234 + 28) + 400.0 > *((float *)v230 + 28)
              && *((float *)v234 + 28) - 400.0 < *((float *)v230 + 28)
              && *((float *)v234 + 30) + 200.0 > *((float *)v230 + 30)
              && *((float *)v234 + 30) - 200.0 < *((float *)v230 + 30) )
            {
              break;
            }
          }
          ++v232;
          ++v233;
          if ( v232 >= dword_1317E74 )
          {
            dword_156FA74 = 0;
            return;
          }
        }
        *((_DWORD *)v230 + 157) = v234;
        dword_156FA74 = 0;
        return;
      case 225:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 500;
        sub_423330((int)v2);
        if ( dword_48CCE4 == -1 )
          v236 = v2;
        else
          v236 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xE1u, (int)v2, (int)v236) )
          sub_46F7D0((int)v2, (int)v236, 225);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 226:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v237 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xE2u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
          sub_46F7D0((int)v2, (int)v237, 226);
        else
          *((_DWORD *)v2 + 160) = 0;
        dword_156FA74 = 0;
        return;
      case 227:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v238 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0xE2u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v238;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1006;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 128;
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*((float *)v238 + 28);
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*((float *)v238 + 30);
        v239 = (signed __int64)(*((float *)v238 + 28) * 0.025 - *((float *)v2 + 28) * 0.025);
        v240 = (signed __int16)v239;
        v283 = (signed __int16)v239;
        v241 = (signed __int64)(*((float *)v238 + 30) * 0.050000001 - *((float *)v2 + 30) * 0.050000001);
        v242 = (signed __int16)v241;
        v294 = (signed __int16)v241;
        if ( (_WORD)v240 )
        {
          if ( (v240 & 0x8000u) == 0 )
          {
            if ( (_WORD)v241 )
            {
              if ( (v241 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v2 + 172) = 6;
                *((_BYTE *)v2 + 173) = 6;
              }
              else
              {
                *((_BYTE *)v2 + 172) = 4;
                *((_BYTE *)v2 + 173) = 4;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
          }
          else if ( (_WORD)v241 )
          {
            if ( (v241 & 0x8000u) == 0i64 )
            {
              *((_BYTE *)v2 + 172) = 0;
              *((_BYTE *)v2 + 173) = 0;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 2;
              *((_BYTE *)v2 + 173) = 2;
            }
          }
          else
          {
            *((_BYTE *)v2 + 172) = 1;
            *((_BYTE *)v2 + 173) = 1;
          }
        }
        else if ( (v241 & 0x8000u) == 0i64 )
        {
          *((_BYTE *)v2 + 172) = 7;
          *((_BYTE *)v2 + 173) = 7;
        }
        else
        {
          *((_BYTE *)v2 + 172) = 3;
          *((_BYTE *)v2 + 173) = 3;
        }
        v243 = abs((signed __int16)v241);
        v244 = abs(v240);
        if ( v244 <= v243 )
        {
          if ( v244 >= v243 )
          {
            if ( v240 && v242 )
            {
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v283 / (double)v244 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v294 / (double)v243 * 1000.0);
              goto LABEL_1039;
            }
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          }
          else
          {
            if ( v242 )
            {
              v246 = (double)v243;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v283 / v246 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v294 / v246 * 1000.0);
              goto LABEL_1039;
            }
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v283 * 1000.0);
          }
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
        }
        else if ( v240 )
        {
          v245 = (double)v244;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v283 / v245 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v294 / v245 * 1000.0);
        }
        else
        {
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v294 * 1000.0);
        }
LABEL_1039:
        v247 = dword_49DA1C[dword_1317E74];
        v248 = *(signed __int16 *)(v247 + 612);
        v249 = *(signed __int16 *)(v247 + 614);
        switch ( *((unsigned __int8 *)v2 + 172) )
        {
          case 0u:
            if ( v248 != -1000 || v249 >= 500 )
            {
              if ( v249 == 1000 && v248 > -250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 2u:
            if ( v248 != -1000 || v249 <= -500 )
            {
              if ( v249 == -1000 && v248 > -250 )
                goto LABEL_1063;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 4u:
            if ( v248 != 1000 || v249 <= -500 )
            {
              if ( v249 == -1000 && v248 < 250 )
              {
LABEL_1063:
                *((_BYTE *)v2 + 172) = 3;
                *((_BYTE *)v2 + 173) = 3;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          case 6u:
            if ( v248 != 1000 || v249 >= 500 )
            {
              if ( v249 == 1000 && v248 < 250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          default:
            break;
        }
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = v2[172];
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
        dword_156FA74 = 0;
        return;
      case 228:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v250 = (&lpString)[dword_48CCE4];
        if ( !sub_45E870(0xE2u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v250;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1007;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 128;
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*((float *)v250 + 28);
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*((float *)v250 + 30);
        v251 = (signed __int64)(*((float *)v250 + 28) * 0.025 - *((float *)v2 + 28) * 0.025);
        v252 = (signed __int16)v251;
        v284 = (signed __int16)v251;
        v253 = (signed __int64)(*((float *)v250 + 30) * 0.050000001 - *((float *)v2 + 30) * 0.050000001);
        v254 = (signed __int16)v253;
        v295 = (signed __int16)v253;
        if ( (_WORD)v252 )
        {
          if ( (v252 & 0x8000u) == 0 )
          {
            if ( (_WORD)v253 )
            {
              if ( (v253 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v2 + 172) = 6;
                *((_BYTE *)v2 + 173) = 6;
              }
              else
              {
                *((_BYTE *)v2 + 172) = 4;
                *((_BYTE *)v2 + 173) = 4;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
          }
          else if ( (_WORD)v253 )
          {
            if ( (v253 & 0x8000u) == 0i64 )
            {
              *((_BYTE *)v2 + 172) = 0;
              *((_BYTE *)v2 + 173) = 0;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 2;
              *((_BYTE *)v2 + 173) = 2;
            }
          }
          else
          {
            *((_BYTE *)v2 + 172) = 1;
            *((_BYTE *)v2 + 173) = 1;
          }
        }
        else if ( (v253 & 0x8000u) == 0i64 )
        {
          *((_BYTE *)v2 + 172) = 7;
          *((_BYTE *)v2 + 173) = 7;
        }
        else
        {
          *((_BYTE *)v2 + 172) = 3;
          *((_BYTE *)v2 + 173) = 3;
        }
        v255 = abs((signed __int16)v253);
        v256 = abs(v252);
        if ( v256 <= v255 )
        {
          if ( v256 >= v255 )
          {
            if ( v252 && v254 )
            {
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v284 / (double)v256 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v295 / (double)v255 * 1000.0);
              goto LABEL_1096;
            }
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          }
          else
          {
            if ( v254 )
            {
              v258 = (double)v255;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v284 / v258 * 1000.0);
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v295 / v258 * 1000.0);
              goto LABEL_1096;
            }
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v284 * 1000.0);
          }
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
        }
        else if ( v252 )
        {
          v257 = (double)v256;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v284 / v257 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v295 / v257 * 1000.0);
        }
        else
        {
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v295 * 1000.0);
        }
LABEL_1096:
        v259 = dword_49DA1C[dword_1317E74];
        v260 = *(signed __int16 *)(v259 + 612);
        v261 = *(signed __int16 *)(v259 + 614);
        switch ( *((unsigned __int8 *)v2 + 172) )
        {
          case 0u:
            if ( v260 != -1000 || v261 >= 500 )
            {
              if ( v261 == 1000 && v260 > -250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 2u:
            if ( v260 != -1000 || v261 <= -500 )
            {
              if ( v261 == -1000 && v260 > -250 )
                goto LABEL_1120;
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
            break;
          case 4u:
            if ( v260 != 1000 || v261 <= -500 )
            {
              if ( v261 == -1000 && v260 < 250 )
              {
LABEL_1120:
                *((_BYTE *)v2 + 172) = 3;
                *((_BYTE *)v2 + 173) = 3;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          case 6u:
            if ( v260 != 1000 || v261 >= 500 )
            {
              if ( v261 == 1000 && v260 < 250 )
              {
                *((_BYTE *)v2 + 172) = 7;
                *((_BYTE *)v2 + 173) = 7;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 5;
              *((_BYTE *)v2 + 173) = 5;
            }
            break;
          default:
            break;
        }
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = v2[172];
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
        dword_156FA74 = 0;
        return;
      case 229:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v262 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xE5u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(150, (signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30), 0, 0);
          sub_41C960((signed __int64)*((float *)v262 + 28), (signed __int64)*((float *)v262 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1011;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 40;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960((signed __int64)*((float *)v262 + 28), (signed __int64)*((float *)v262 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1003;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 40;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_416860(
            169,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 230:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 1000;
        sub_423330((int)v2);
        if ( sub_45E870(0xE6u, (int)v2, (int)v2) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          v311 = 40 * ((dword_49D89C + dword_154794C) / 40) + 20;
          v321 = 20 * ((dword_1547950 + dword_49D8A0) / 20) + 10;
          v263 = (signed __int64)((double)(v311 / 40) - *((float *)v2 + 28) * 0.025);
          v264 = (signed __int64)((double)(v321 / 20) - *((float *)v2 + 30) * 0.050000001);
          if ( v263 )
          {
            if ( v263 >= 0 )
            {
              if ( (_WORD)v264 )
              {
                if ( (v264 & 0x8000u) == 0i64 )
                {
                  *((_BYTE *)v2 + 172) = 6;
                  *((_BYTE *)v2 + 173) = 6;
                }
                else
                {
                  *((_BYTE *)v2 + 172) = 4;
                  *((_BYTE *)v2 + 173) = 4;
                }
              }
              else
              {
                *((_BYTE *)v2 + 172) = 5;
                *((_BYTE *)v2 + 173) = 5;
              }
            }
            else if ( (_WORD)v264 )
            {
              if ( (v264 & 0x8000u) == 0i64 )
              {
                *((_BYTE *)v2 + 172) = 0;
                *((_BYTE *)v2 + 173) = 0;
              }
              else
              {
                *((_BYTE *)v2 + 172) = 2;
                *((_BYTE *)v2 + 173) = 2;
              }
            }
            else
            {
              *((_BYTE *)v2 + 172) = 1;
              *((_BYTE *)v2 + 173) = 1;
            }
          }
          else if ( (v264 & 0x8000u) == 0i64 )
          {
            *((_BYTE *)v2 + 172) = 7;
            *((_BYTE *)v2 + 173) = 7;
          }
          else
          {
            *((_BYTE *)v2 + 172) = 3;
            *((_BYTE *)v2 + 173) = 3;
          }
          switch ( *((unsigned __int8 *)v2 + 173) )
          {
            case 0u:
            case 4u:
              v274 = (double)v311 - 120.0;
              v265 = (double)v321 - 60.0;
              goto LABEL_1149;
            case 1u:
            case 5u:
              v274 = (double)v311;
              v265 = (double)v321 - 60.0;
              goto LABEL_1149;
            case 2u:
            case 6u:
              v274 = (double)v311 - 120.0;
              v265 = (double)v321 + 40.0;
              goto LABEL_1149;
            case 3u:
            case 7u:
              v274 = (double)v311 - 120.0;
              v265 = (double)v321;
LABEL_1149:
              v285 = v265;
              break;
            default:
              break;
          }
          v266 = 10;
          do
          {
            switch ( *((unsigned __int8 *)v2 + 173) )
            {
              case 0u:
              case 4u:
                v274 = v274 + 20.0;
                goto LABEL_1153;
              case 1u:
              case 5u:
LABEL_1153:
                v285 = v285 + 10.0;
                break;
              case 2u:
              case 6u:
                v274 = v274 + 20.0;
                v285 = v285 - 10.0;
                break;
              case 3u:
              case 7u:
                v274 = v274 + 20.0;
                break;
              default:
                break;
            }
            sub_41C960((signed __int64)v274, (signed __int64)v285);
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1009;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 17;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 10;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = rand() % 20;
            if ( byte_1330125 )
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 100;
            else
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 1;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            sub_416860(
              184,
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
              0,
              0);
            --v266;
          }
          while ( v266 );
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 231:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 1000;
        sub_423330((int)v2);
        if ( sub_45E870(0xE7u, (int)v2, (int)v2) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          v267 = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          do
          {
            sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1009;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 17;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 10;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = rand() % 20;
            if ( byte_1330125 )
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 100;
            else
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
            v267 += 16;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 1;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(double *)(v267 + 9243024) * 80.0 + *((float *)v2 + 28);
            *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(double *)(v267 + 18864856) * 40.0 + *((float *)v2 + 29);
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 120) = *(_DWORD *)(dword_49DA1C[dword_1317E74] + 116);
          }
          while ( v267 < 320 );
          sub_416860(
            184,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 232:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v268 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xE8u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          sub_41C960(
            (unsigned __int64)(signed __int64)*((float *)v268 + 28) + 250,
            (signed __int64)*((float *)v268 + 30));
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v268;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1010;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 40;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 20;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = -4;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 232;
          *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 120) - 500.0;
          sub_416860(
            181,
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
            (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
            0,
            0);
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
        }
        dword_156FA74 = 0;
        return;
      case 233:
        if ( dword_48CCE4 == -1 )
          goto LABEL_1195;
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        v269 = (&lpString)[dword_48CCE4];
        if ( sub_45E870(0xE9u, (int)v2, (int)(&lpString)[dword_48CCE4]) )
        {
          sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
          v305 = 20;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
          *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
          *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
          do
          {
            v270 = (unsigned __int64)(signed __int64)*((float *)v269 + 30) + rand() % 300 - 150;
            v271 = rand() % 400;
            sub_41C960((unsigned __int64)(signed __int64)*((float *)v269 + 28) + v271, v270);
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v269;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v269;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1010;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 1;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 40;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = rand() % 50 + 20;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = -4;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
            *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 120) - 500.0;
            sub_416860(
              181,
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
              0,
              0);
            --v305;
          }
          while ( v305 );
          dword_156FA74 = 0;
        }
        else
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
        }
        return;
      case 234:
        *((_BYTE *)v2 + 174) = 10;
        *((_WORD *)v2 + 88) = 0;
        *((_DWORD *)v2 + 150) = 1;
        *((_DWORD *)v2 + 160) = dword_13211C8 + 2500;
        sub_423330((int)v2);
        if ( !sub_45E870(0xEAu, (int)v2, (int)v2) )
        {
          *((_DWORD *)v2 + 160) = 0;
          dword_156FA74 = 0;
          return;
        }
        sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
        v322 = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
        if ( dword_1317E74 > 0 )
        {
          v306 = &lpString;
          do
          {
            v272 = *v306;
            if ( (*v306)[48] == 2
              && *((_DWORD *)v272 + 13) != dword_131D690
              && !*((_DWORD *)v272 + 23)
              && (byte_1330125 || *((_DWORD *)v272 + 17))
              && *((float *)v272 + 28) + 400.0 > *((float *)v2 + 28)
              && *((float *)v272 + 28) - 400.0 < *((float *)v2 + 28)
              && *((float *)v272 + 30) + 200.0 > *((float *)v2 + 30)
              && *((float *)v272 + 30) - 200.0 < *((float *)v2 + 30) )
            {
              sub_41C960(
                (unsigned __int64)(signed __int64)*((float *)v272 + 28) + 250,
                (signed __int64)*((float *)v272 + 30));
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v272;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1010;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 1;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 40;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 20;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = -4;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
              *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 120) - 500.0;
              sub_416860(
                171,
                (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                0,
                0);
            }
            v88 = __OFSUB__(v322 + 1, dword_1317E74);
            v87 = v322++ + 1 - dword_1317E74 < 0;
            ++v306;
          }
          while ( v87 ^ v88 );
        }
        goto LABEL_1195;
      default:
        goto LABEL_1195;
    }
    while ( 1 )
    {
      v218 = *v304;
      if ( (*v304)[48] == 2
        && *((_DWORD *)v218 + 13) != dword_131D690
        && !*((_DWORD *)v218 + 23)
        && (byte_1330125 || *((_DWORD *)v218 + 17))
        && *((float *)v218 + 28) + 400.0 > *((float *)v2 + 28)
        && *((float *)v218 + 28) - 400.0 < *((float *)v2 + 28)
        && *((float *)v218 + 30) + 200.0 > *((float *)v2 + 30)
        && *((float *)v218 + 30) - 200.0 < *((float *)v2 + 30) )
      {
        break;
      }
LABEL_974:
      v88 = __OFSUB__(v320 + 1, dword_1317E74);
      v87 = v320++ + 1 - dword_1317E74 < 0;
      ++v304;
      if ( !(v87 ^ v88) )
      {
        dword_156FA74 = 0;
        return;
      }
    }
    sub_41C960((signed __int64)*((float *)v2 + 28), (signed __int64)*((float *)v2 + 30));
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = v218;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v2;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1013;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 131;
    *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*((float *)v218 + 28);
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*((float *)v218 + 30);
    v219 = (signed __int64)(*((float *)v218 + 28) * 0.025 - *((float *)v2 + 28) * 0.025);
    v220 = (signed __int16)v219;
    v282 = (signed __int16)v219;
    v221 = (signed __int64)(*((float *)v218 + 30) * 0.050000001 - *((float *)v2 + 30) * 0.050000001);
    v222 = (signed __int16)v221;
    v293 = (signed __int16)v221;
    if ( (_WORD)v220 )
    {
      if ( (v220 & 0x8000u) == 0 )
      {
        if ( (_WORD)v221 )
        {
          if ( (v221 & 0x8000u) == 0i64 )
          {
            *((_BYTE *)v2 + 172) = 6;
            *((_BYTE *)v2 + 173) = 6;
          }
          else
          {
            *((_BYTE *)v2 + 172) = 4;
            *((_BYTE *)v2 + 173) = 4;
          }
        }
        else
        {
          *((_BYTE *)v2 + 172) = 5;
          *((_BYTE *)v2 + 173) = 5;
        }
      }
      else if ( (_WORD)v221 )
      {
        if ( (v221 & 0x8000u) == 0i64 )
        {
          *((_BYTE *)v2 + 172) = 0;
          *((_BYTE *)v2 + 173) = 0;
        }
        else
        {
          *((_BYTE *)v2 + 172) = 2;
          *((_BYTE *)v2 + 173) = 2;
        }
      }
      else
      {
        *((_BYTE *)v2 + 172) = 1;
        *((_BYTE *)v2 + 173) = 1;
      }
    }
    else if ( (v221 & 0x8000u) == 0i64 )
    {
      *((_BYTE *)v2 + 172) = 7;
      *((_BYTE *)v2 + 173) = 7;
    }
    else
    {
      *((_BYTE *)v2 + 172) = 3;
      *((_BYTE *)v2 + 173) = 3;
    }
    v223 = abs((signed __int16)v221);
    v224 = abs(v220);
    if ( v224 > v223 )
    {
      if ( v220 )
      {
        v225 = (double)v224;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v282 / v225 * 1000.0);
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v293 / v225 * 1000.0);
      }
      else
      {
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v293 * 1000.0);
      }
      goto LABEL_948;
    }
    if ( v224 >= v223 )
    {
      if ( !v220 || !v222 )
      {
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
        goto LABEL_947;
      }
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v282 / (double)v224 * 1000.0);
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v293 / (double)v223 * 1000.0);
    }
    else
    {
      if ( !v222 )
      {
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v282 * 1000.0);
LABEL_947:
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
        goto LABEL_948;
      }
      v226 = (double)v223;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v282 / v226 * 1000.0);
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v293 / v226 * 1000.0);
    }
LABEL_948:
    v227 = dword_49DA1C[dword_1317E74];
    v228 = *(signed __int16 *)(v227 + 612);
    v229 = *(signed __int16 *)(v227 + 614);
    switch ( *((unsigned __int8 *)v2 + 172) )
    {
      case 0u:
        if ( v228 != -1000 || v229 >= 500 )
        {
          if ( v229 == 1000 && v228 > -250 )
          {
            *((_BYTE *)v2 + 172) = 7;
            *((_BYTE *)v2 + 173) = 7;
          }
        }
        else
        {
          *((_BYTE *)v2 + 172) = 1;
          *((_BYTE *)v2 + 173) = 1;
        }
        break;
      case 2u:
        if ( v228 != -1000 || v229 <= -500 )
        {
          if ( v229 == -1000 && v228 > -250 )
            goto LABEL_972;
        }
        else
        {
          *((_BYTE *)v2 + 172) = 1;
          *((_BYTE *)v2 + 173) = 1;
        }
        break;
      case 4u:
        if ( v228 != 1000 || v229 <= -500 )
        {
          if ( v229 == -1000 && v228 < 250 )
          {
LABEL_972:
            *((_BYTE *)v2 + 172) = 3;
            *((_BYTE *)v2 + 173) = 3;
          }
        }
        else
        {
          *((_BYTE *)v2 + 172) = 5;
          *((_BYTE *)v2 + 173) = 5;
        }
        break;
      case 6u:
        if ( v228 != 1000 || v229 >= 500 )
        {
          if ( v229 == 1000 && v228 < 250 )
          {
            *((_BYTE *)v2 + 172) = 7;
            *((_BYTE *)v2 + 173) = 7;
          }
        }
        else
        {
          *((_BYTE *)v2 + 172) = 5;
          *((_BYTE *)v2 + 173) = 5;
        }
        break;
      default:
        break;
    }
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = v2[172];
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
    goto LABEL_974;
  }
  if ( (unsigned __int16)dword_132FFFC < 0xAu )
  {
    sub_422E80((const char *)&unk_48CB14, 4);
    return;
  }
  if ( dword_48CCE4 != -1 && !*((_DWORD *)v2 + 150) )
  {
    v6 = (&lpString)[dword_48CCE4];
    v286 = (int)v6;
    v7 = (signed __int64)(*((float *)v6 + 28) * 0.025 - *((float *)v2 + 28) * 0.025);
    v8 = (signed __int64)(*((float *)v6 + 30) * 0.050000001 - *((float *)v2 + 30) * 0.050000001);
    v9 = v8;
    v307 = (signed __int16)v8;
    v10 = abs((signed __int16)v8);
    v11 = abs(v7);
    if ( v11 > v10 )
    {
      if ( !v7 )
      {
        v12 = (double)v307;
        *((_WORD *)v2 + 304) = 0;
LABEL_33:
        *((_WORD *)v2 + 305) = (signed __int64)(v12 * 1000.0);
LABEL_45:
        sub_46F7D0((int)v2, v286, 300);
        return;
      }
      v13 = (double)v11;
LABEL_39:
      *((_WORD *)v2 + 304) = (signed __int64)((double)v7 / v13 * 1000.0);
      *((_WORD *)v2 + 305) = (signed __int64)((double)v307 / v13 * 1000.0);
      goto LABEL_45;
    }
    if ( v11 >= v10 )
    {
      if ( v7 && v9 )
      {
        *((_WORD *)v2 + 304) = (signed __int64)((double)v7 / (double)v11 * 1000.0);
        v12 = (double)v307 / (double)v10;
        goto LABEL_33;
      }
      *((_WORD *)v2 + 304) = 0;
    }
    else
    {
      if ( v9 )
      {
        v13 = (double)v10;
        goto LABEL_39;
      }
      *((_WORD *)v2 + 304) = (signed __int64)((double)v7 * 1000.0);
    }
    *((_WORD *)v2 + 305) = 0;
    goto LABEL_45;
  }
}
// 48CCE4: using guessed type int dword_48CCE4;
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CF6C: using guessed type int dword_48CF6C;
// 48CF70: using guessed type int dword_48CF70;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 49DA1C: using guessed type int dword_49DA1C[];
// 6BE420: using guessed type int dword_6BE420[];
// 1308224: using guessed type int dword_1308224;
// 1317E74: using guessed type int dword_1317E74;
// 1319238: using guessed type int dword_1319238;
// 1319498: using guessed type int dword_1319498;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13225A0: using guessed type int dword_13225A0;
// 13225B0: using guessed type int dword_13225B0;
// 13225E8: using guessed type char byte_13225E8;
// 13225EC: using guessed type int dword_13225EC;
// 13225F0: using guessed type int dword_13225F0;
// 13225F8: using guessed type int dword_13225F8;
// 1322600: using guessed type int dword_1322600;
// 1322604: using guessed type int dword_1322604;
// 1322608: using guessed type int dword_1322608;
// 1324782: using guessed type char byte_1324782;
// 1328E45: using guessed type char byte_1328E45;
// 1329448: using guessed type char byte_1329448;
// 132FFFC: using guessed type int dword_132FFFC;
// 1330125: using guessed type char byte_1330125;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;
// 156FA74: using guessed type int dword_156FA74;

//----- (004419E0) --------------------------------------------------------
char sub_4419E0()
{
  int v0; // esi
  signed int v1; // edi
  int v2; // kr00_4
  int v3; // eax
  LPCSTR v4; // esi
  signed int v5; // ebx
  LPCSTR v6; // eax
  LPCSTR v7; // edi
  __int16 v8; // bx
  signed __int64 v9; // rax
  __int16 v10; // bp
  int v11; // ecx
  int v12; // eax
  double v13; // st7
  signed __int64 v14; // rax
  double v15; // st7
  double v16; // st6
  double v17; // st7
  LPCSTR v18; // eax
  char v19; // cl
  LPCSTR v20; // esi
  LPCSTR v21; // edi
  double v22; // st7
  double v23; // st7
  int v24; // esi
  signed __int64 v25; // rax
  double v26; // st7
  double v27; // st7
  LPCSTR v28; // eax
  int v29; // ecx
  double v30; // st7
  double v31; // st7
  int v32; // ebx
  signed __int64 v33; // rax
  double v34; // st7
  int v35; // ebp
  int v36; // ebx
  int v37; // ecx
  LPCSTR v38; // esi
  int v39; // ebp
  int v40; // eax
  LPCSTR v41; // edi
  int v42; // ebx
  double v43; // st7
  int v44; // eax
  LPCSTR v45; // eax
  LPCSTR v46; // esi
  int v47; // eax
  LPCSTR v48; // ST10_4
  LPCSTR v49; // edi
  signed __int64 v50; // rax
  signed __int64 v51; // rax
  signed __int64 v52; // rax
  signed __int64 v53; // rax
  __int16 v54; // cx
  int v55; // eax
  LPCSTR v56; // eax
  char v57; // al
  LPCSTR v58; // edi
  signed __int64 v59; // rax
  signed __int64 v60; // rax
  signed __int64 v61; // rax
  signed __int64 v62; // rax
  LPCSTR v63; // ebp
  int v64; // edi
  LPCSTR v65; // edx
  int v66; // ebp
  double v67; // st7
  double v68; // st7
  CHAR v69; // dl
  char v70; // al
  int v71; // eax
  int v72; // eax
  _WORD *v73; // eax
  __int16 v74; // cx
  signed __int64 v75; // rax
  signed __int64 v76; // rax
  LPCSTR v77; // esi
  signed __int64 v78; // rax
  signed __int64 v79; // rax
  LPCSTR v80; // ecx
  signed __int64 v81; // rax
  signed __int64 v82; // rax
  __int16 v83; // ax
  int v84; // ecx
  int v85; // ecx
  int v86; // ecx
  double v87; // st7
  double v88; // st7
  int *v89; // eax
  LPCSTR v90; // ebx
  signed __int64 v91; // rax
  double v92; // st7
  int v93; // esi
  signed __int64 v94; // rax
  double v95; // st7
  int v96; // eax
  LPCSTR v97; // ecx
  LPCSTR v98; // edx
  LPCSTR v99; // ecx
  CHAR v100; // al
  double v101; // st7
  double v102; // st7
  LPCSTR v103; // eax
  LPCSTR v104; // ecx
  DWORD v105; // eax
  LPCSTR v106; // esi
  int v107; // ecx
  int *v108; // eax
  signed int v109; // edi
  LPCSTR v110; // esi
  signed __int64 v111; // rax
  signed __int64 v112; // rax
  __int16 v113; // cx
  int v114; // eax
  int v115; // edx
  LPCSTR v116; // esi
  int v117; // edi
  signed __int64 v118; // rax
  signed __int64 v119; // rax
  signed __int64 v120; // rax
  signed __int64 v121; // rax
  int v122; // eax
  LPCSTR v123; // esi
  LPCSTR v124; // edi
  signed __int64 v125; // rax
  signed __int64 v126; // rax
  signed __int64 v127; // rax
  signed __int64 v128; // rax
  int v130; // [esp+10h] [ebp-18h]
  int v131; // [esp+14h] [ebp-14h]
  int v132; // [esp+18h] [ebp-10h]
  int v133; // [esp+1Ch] [ebp-Ch]
  int v134; // [esp+20h] [ebp-8h]
  int v135; // [esp+24h] [ebp-4h]

  v0 = dword_49D89C;
  v1 = dword_49D8A0;
  v130 = dword_49D89C + dword_154794C;
  v135 = dword_49D8A0 + dword_1547950;
  dword_49D890 = 2;
  if ( !(_BYTE)dword_13246D8 && (unsigned __int16)dword_1322660 < 0x64u && dword_1322600 )
  {
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    dword_1550B62 = -182;
    byte_1550B66 = -1;
    sub_479790(7);
    v0 = dword_49D89C;
    v1 = dword_49D8A0;
    LOBYTE(dword_13246D8) = 30;
  }
  if ( byte_1322628 == 2 && dword_13225FC == 1 )
    dword_13225FC = 2;
  if ( dword_133002C < dword_1330020 )
  {
    v2 = 760 - 280 * (byte_1328E45 != 0) - (unsigned __int16)dword_13082E4;
    v3 = v2 / 2 + 20;
    x = v2 / 2 + 20;
    if ( v0 > v2 / 2 + 66 )
    {
      v3 = v2 / 2 + 128;
      if ( v0 < v3 )
      {
        if ( v1 <= 323 || v1 >= 339 )
        {
          if ( v1 > 345 && v1 < 361 )
            dword_133002C = dword_1330020;
        }
        else
        {
          LOBYTE(v3) = dword_133002C++ + 1;
        }
      }
    }
    return v3;
  }
  v4 = (&lpString)[dword_131D690];
  v3 = *((_DWORD *)v4 + 150);
  if ( v3 )
    return v3;
  v5 = dword_48CCE4;
  if ( !(&lpString)[dword_48CCE4] )
  {
    v5 = -1;
    dword_48CCE4 = -1;
  }
  if ( (*((_DWORD *)v4 + 188) == 600 || byte_1324782 == 2 && *((_DWORD *)v4 + 187) == 600)
    && v5 != -1
    && !*((_DWORD *)v4 + 150) )
  {
    if ( byte_1330126 )
    {
      v6 = (&lpString)[v5];
      if ( !*((_DWORD *)v6 + 23) && (*((_DWORD *)v6 + 17) || byte_1330125) )
      {
        *((_DWORD *)v4 + 150) = 1;
        v7 = (&lpString)[dword_48CCE4];
        v8 = (signed __int64)(*((float *)v7 + 28) * 0.025 - *((float *)v4 + 28) * 0.025);
        v9 = (signed __int64)(*((float *)v7 + 30) * 0.050000001 - *((float *)v4 + 30) * 0.050000001);
        v10 = v9;
        v132 = (signed __int16)v9;
        v131 = v8;
        v11 = abs((signed __int16)v9);
        v134 = v11;
        v12 = abs(v8);
        v133 = v12;
        if ( v12 <= v11 )
        {
          if ( v12 >= v11 )
          {
            LOWORD(v14) = 0;
            if ( v8 && v10 )
            {
              v17 = (double)v132;
              *((_WORD *)v4 + 304) = (signed __int64)((double)v131 / (double)v133 * 1000.0);
              v14 = (signed __int64)(v17 / (double)v134 * 1000.0);
            }
            else
            {
              *((_WORD *)v4 + 304) = 0;
            }
            goto LABEL_42;
          }
          if ( !v10 )
          {
            *((_WORD *)v4 + 304) = (signed __int64)((double)v131 * 1000.0);
            *((_WORD *)v4 + 305) = 0;
LABEL_43:
            sub_46F7D0((int)v4, (int)v7, 302);
            v5 = dword_48CCE4;
            goto LABEL_44;
          }
          v15 = (double)v134;
        }
        else
        {
          if ( !v8 )
          {
            v13 = (double)v132;
            *((_WORD *)v4 + 304) = 0;
            v14 = (signed __int64)(v13 * 1000.0);
LABEL_42:
            *((_WORD *)v4 + 305) = v14;
            goto LABEL_43;
          }
          v15 = (double)v133;
        }
        v16 = (double)v132;
        *((_WORD *)v4 + 304) = (signed __int64)((double)v131 / v15 * 1000.0);
        v14 = (signed __int64)(v16 / v15 * 1000.0);
        goto LABEL_42;
      }
    }
  }
LABEL_44:
  if ( byte_1322634 )
  {
    byte_1322634 = 0;
    byte_1330080 = 0;
    v18 = (&lpString)[dword_131D690];
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 44;
    *(int *)((char *)&dword_1550B62 + 1) = dword_13211CC;
    dword_1550B67 = *((_DWORD *)v18 + 14);
    LOBYTE(dword_1550B6B) = 2;
    sub_479790(12);
    v5 = dword_48CCE4;
    v19 = 0;
    LOBYTE(dword_132A268) = 0;
    byte_1328E45 = 0;
    LOBYTE(dword_13246D8) = 0;
  }
  else
  {
    v19 = byte_1328E45;
  }
  if ( v5 == -1
    || (v20 = (&lpString)[dword_131D690], *((_DWORD *)v20 + 23))
    || ((v21 = (&lpString)[v5], v22 = (double)v130, v22 <= *((float *)v21 + 28) - 40.0)
     || v22 >= *((float *)v21 + 28) + 40.0
     || (v23 = (double)v135, v23 <= *((float *)v21 + 30) - 70.0)
     || v23 >= *((float *)v21 + 30) + 30.0)
    && (!byte_1330124 || byte_1330126 && (*((_DWORD *)v20 + 188) == 600 || *((_DWORD *)v20 + 187) == 600)) )
  {
    if ( dword_133007C )
    {
      dword_133007C = 0;
      if ( v19 == 12 || v19 == 13 )
      {
        byte_1328E45 = 0;
        dword_489040 = -1;
      }
    }
    if ( dword_1330060 )
    {
      dword_1330060 = 0;
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      v97 = (&lpString)[dword_131D690];
      LOBYTE(dword_1550B62) = 55;
      *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v97 + 15);
      sub_479790(7);
      *((_DWORD *)(&lpString)[dword_131D690] + 15) = 0;
      if ( byte_1328E45 == 4 )
        byte_1328E45 = 0;
      v5 = dword_48CCE4;
      LOBYTE(dword_13246D8) = 0;
    }
    v98 = (&lpString)[dword_131D690];
    if ( !*((_DWORD *)v98 + 23) )
    {
      if ( *((_DWORD *)v98 + 150) )
      {
LABEL_316:
        v116 = (&lpString)[dword_131D690];
        v3 = *((_DWORD *)v116 + 25);
        if ( v3 == -1 || *((_DWORD *)v116 + 150) || !(&lpString)[v3] )
          return v3;
        v117 = *((_DWORD *)v116 + 25);
        *((_DWORD *)v116 + 150) = 0;
        *((_BYTE *)v116 + 174) = 2;
        *((_DWORD *)v116 + 47) = 1;
        *((_DWORD *)v116 + 33) = 20
                               - 40 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[v117] + 28) * -0.025);
        *((_DWORD *)v116 + 34) = 10
                               - 20
                               * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[v117] + 30) * -0.050000001);
        if ( *((_DWORD *)(&lpString)[v117] + 23) )
        {
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 3;
          *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v116 + 14);
          sub_42EA60((int)v116, &dword_1550B67);
          v118 = (signed __int64)(*((float *)v116 + 28) * 0.025);
          BYTE1(dword_1550B6B) = BYTE1(v118);
          BYTE2(dword_1550B6B) = (signed __int64)(*((float *)v116 + 28) * 0.025);
          v119 = (signed __int64)(*((float *)v116 + 30) * 0.050000001);
          HIBYTE(dword_1550B6B) = BYTE1(v119);
          byte_1550B6F = (signed __int64)(*((float *)v116 + 30) * 0.050000001);
          v120 = (signed __int64)(*((float *)(&lpString)[*((_DWORD *)v116 + 25)] + 28) * 0.025);
          byte_1550B70 = BYTE1(v120);
          byte_1550B71 = (signed __int64)(*((float *)(&lpString)[*((_DWORD *)v116 + 25)] + 28) * 0.025);
          v121 = (signed __int64)(*((float *)(&lpString)[*((_DWORD *)v116 + 25)] + 30) * 0.050000001);
          byte_1550B72 = BYTE1(v121);
          v54 = 0;
          byte_1550B73 = (signed __int64)(*((float *)(&lpString)[*((_DWORD *)v116 + 25)] + 30) * 0.050000001);
          v130 = 0;
          v122 = *((_DWORD *)v116 + 159);
          if ( v122 != -1 )
          {
            sub_466490((int)v116, v122, &v130);
            v54 = v130;
          }
          byte_1550B74 = *((_WORD *)v116 + 318) >> 8;
          v57 = v116[636];
          goto LABEL_129;
        }
        LOBYTE(v3) = dword_131D690;
        v123 = (&lpString)[dword_131D690];
        v124 = (&lpString)[*((_DWORD *)v123 + 25)];
        if ( !v124 )
          return v3;
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 9;
        *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v123 + 14);
        dword_1550B67 = *((_DWORD *)v124 + 14);
        v125 = (signed __int64)(*((float *)v123 + 28) * 0.025);
        LOBYTE(dword_1550B6B) = BYTE1(v125);
        BYTE1(dword_1550B6B) = (signed __int64)(*((float *)v123 + 28) * 0.025);
        v126 = (signed __int64)(*((float *)v123 + 30) * 0.050000001);
        BYTE2(dword_1550B6B) = BYTE1(v126);
        HIBYTE(dword_1550B6B) = (signed __int64)(*((float *)v123 + 30) * 0.050000001);
        v127 = (signed __int64)(*((float *)v124 + 28) * 0.025);
        byte_1550B6F = BYTE1(v127);
        byte_1550B70 = (signed __int64)(*((float *)v124 + 28) * 0.025);
        v128 = (signed __int64)(*((float *)v124 + 30) * 0.050000001);
        byte_1550B71 = BYTE1(v128);
        byte_1550B72 = (signed __int64)(*((float *)v124 + 30) * 0.050000001);
        sub_42EA60((int)v123, &byte_1550B73);
        sub_42EA60((int)v124, byte_1550B78);
LABEL_325:
        LOBYTE(v3) = sub_479790(29);
        return v3;
      }
      if ( (*((_DWORD *)v98 + 188) != 600 || !byte_1330126) && v5 != -1 )
      {
        v99 = (&lpString)[v5];
        if ( v99 )
        {
          v100 = v99[48];
          if ( v100 == 2 || v100 == 3 || v100 == 4 )
          {
            v101 = (double)v130;
            if ( v101 > *((float *)v99 + 28) - 20.0 && v101 < *((float *)v99 + 28) + 20.0 )
            {
              v102 = (double)v135;
              if ( v102 > *((float *)v99 + 30) - 50.0 && v102 < *((float *)v99 + 30) + 10.0 )
              {
                *((_DWORD *)v98 + 25) = *((_DWORD *)v99 + 13);
                v103 = (&lpString)[dword_131D690];
                dword_48CCE4 = *((_DWORD *)v99 + 13);
                if ( v103[104] )
                {
                  *((_BYTE *)v103 + 104) = 0;
                  byte_1550B60[0] = -9;
                  byte_1550B61[0] = 113;
                  v104 = (&lpString)[dword_131D690];
                  LOBYTE(dword_1550B62) = 11;
                  *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v104 + 14);
                  sub_479790(7);
                }
                goto LABEL_316;
              }
            }
          }
        }
      }
    }
    if ( !*((_DWORD *)v98 + 150) && (!byte_1330126 || *((_DWORD *)v98 + 188) != 600 && *((_DWORD *)v98 + 187) != 600) )
    {
      v105 = GetTickCount();
      if ( v105 - dword_1322654 > 0x3E8 )
      {
        dword_1322654 = v105;
        v130 = 40 * ((dword_49D89C + dword_154794C) / 40) + 20;
        v3 = 20 * ((dword_1547950 + dword_49D8A0) / 20) + 10;
        v106 = (&lpString)[dword_131D690];
        if ( v130 == *((_DWORD *)v106 + 33) && v3 == *((_DWORD *)v106 + 34) )
        {
          if ( dword_48CF6C == 9 )
          {
            v107 = 0;
            v108 = dword_48CEC8;
            do
            {
              if ( *v108 == -1 )
                break;
              v108 += 2;
              ++v107;
            }
            while ( (signed int)v108 < (signed int)&unk_48CF40 );
            if ( v107 == 15 )
            {
              LOBYTE(v3) = sub_422E80((const char *)&unk_48CB78, 3);
            }
            else
            {
              v109 = 0;
              do
              {
                v110 = (&lpString)[dword_131D690];
                v3 = *((_DWORD *)dword_1330790
                     + 2
                     * (v109 % 3
                      + (signed __int64)*((float *)v110 + 28) / 40
                      + dword_1540B4C
                      * (v109 / 3 - (unsigned __int64)(signed __int64)(*((float *)v110 + 30) * -0.050000001) - 1))
                     - 1);
                if ( v3 != -1 && (unsigned int)v3 > 0xFFFF )
                {
                  if ( dword_1322658 )
                  {
                    LOBYTE(v3) = sub_422E80((const char *)&unk_48CB64, 3);
                  }
                  else
                  {
                    v3 = v3 / 128 - 512;
                    if ( v3 >= 61 && (v3 <= 62 || v3 == 68) )
                    {
                      *((_DWORD *)v110 + 150) = 1;
                      v109 = 9;
                      *((_BYTE *)(&lpString)[dword_131D690] + 174) = 14;
                      v3 = (int)(&lpString)[dword_131D690];
                      *(_WORD *)(v3 + 176) = 0;
                    }
                  }
                }
                ++v109;
              }
              while ( v109 < 9 );
            }
          }
          return v3;
        }
        dword_48CCE4 = -1;
        *((_DWORD *)v106 + 25) = -1;
        *((_DWORD *)v106 + 150) = 0;
        *((_BYTE *)v106 + 174) = 2;
        *((_DWORD *)v106 + 47) = 1;
        *((_DWORD *)v106 + 33) = v130;
        *((_DWORD *)v106 + 34) = v3;
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 3;
        *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v106 + 14);
        sub_42EA60((int)v106, &dword_1550B67);
        v111 = (signed __int64)(*((float *)v106 + 28) * 0.025);
        BYTE1(dword_1550B6B) = BYTE1(v111);
        BYTE2(dword_1550B6B) = (signed __int64)(*((float *)v106 + 28) * 0.025);
        v112 = (signed __int64)(*((float *)v106 + 30) * 0.050000001);
        HIBYTE(dword_1550B6B) = BYTE1(v112);
        byte_1550B6F = (signed __int64)(*((float *)v106 + 30) * 0.050000001);
        byte_1550B71 = ((((unsigned __int64)(1717986919i64 * (dword_154794C + dword_49D89C)) >> 32) & 0x80000000) != 0i64)
                     + ((signed int)((unsigned __int64)(1717986919i64 * (dword_154794C + dword_49D89C)) >> 32) >> 4);
        byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64
                                                                           * (dword_154794C + dword_49D89C)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * (dword_154794C + dword_49D89C)) >> 32) >> 4)) >> 8;
        HIDWORD(v112) = (dword_49D8A0 + dword_1547950) / 20;
        v113 = 0;
        byte_1550B72 = BYTE5(v112);
        byte_1550B73 = BYTE4(v112);
        v130 = 0;
        v114 = *((_DWORD *)v106 + 159);
        if ( v114 != -1 )
        {
          sub_466490((int)v106, v114, &v130);
          v113 = v130;
        }
        v115 = *((_DWORD *)v106 + 159);
        byte_1550B74 = BYTE1(v115);
        byte_1550B75[0] = v106[636];
        byte_1550B76[0] = HIBYTE(v113);
        byte_1550B77[0] = v113;
        sub_479790(24);
      }
    }
    goto LABEL_316;
  }
  LOBYTE(v3) = v20[104];
  if ( !(_BYTE)v3 )
  {
    v32 = (signed __int64)(*((float *)v20 + 28) * -0.025);
    v33 = (signed __int64)(*((float *)v21 + 28) * -0.025);
    v34 = *((float *)v20 + 30) * -0.050000001;
    v35 = v33 - v32;
    v134 = v33 - v32;
    v36 = (signed __int64)(*((float *)v21 + 30) * -0.050000001) - (signed __int64)v34;
    if ( v35 != -1 && v35 != 1 && v35
      || v36 != -1
      && v36 != 1
      && (unsigned int)(signed __int64)(*((float *)v21 + 30) * -0.050000001) != (unsigned int)(signed __int64)v34 )
    {
      v37 = dword_48CCE4;
      v3 = *((_DWORD *)v20 + 25);
      if ( v3 == dword_48CCE4 )
        return v3;
      if ( !v21 )
        return v3;
      if ( byte_1330126 )
      {
        LOBYTE(v3) = 88;
        if ( *((_DWORD *)v20 + 188) == 600 || *((_DWORD *)v20 + 187) == 600 )
          return v3;
      }
      if ( dword_1330060 )
      {
        dword_1330060 = 0;
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 55;
        *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v20 + 15);
        sub_479790(7);
        *((_DWORD *)(&lpString)[dword_131D690] + 15) = 0;
        if ( byte_1328E45 == 4 )
          byte_1328E45 = 0;
        v37 = dword_48CCE4;
        LOBYTE(dword_13246D8) = 0;
      }
      v38 = (&lpString)[v37];
      v39 = *((_DWORD *)v38 + 42);
      v40 = dword_8D3C24[v39];
      if ( !v40 || !*(_WORD *)(v40 + 88) && v38[48] == 2 && (v39 != 237 || *((_WORD *)v38 + 308) > 99) )
      {
        v41 = (&lpString)[dword_131D690];
        if ( *((float *)v38 + 28) - 280.0 < *((float *)v41 + 28)
          && *((float *)v38 + 28) + 280.0 > *((float *)v41 + 28)
          && *((float *)v38 + 30) - 160.0 < *((float *)v41 + 30)
          && *((float *)v38 + 30) + 160.0 > *((float *)v41 + 30) )
        {
          v42 = (signed __int64)(*((float *)v41 + 28) * -0.025) - (signed __int64)(*((float *)v38 + 28) * -0.025);
          v43 = *((float *)v41 + 30) * -0.050000001;
          v135 = (signed __int64)(*((float *)v38 + 30) * -0.050000001);
          v44 = (unsigned __int64)(signed __int64)v43 - v135;
          if ( v39 != 200 )
          {
            if ( v42 >= 0 )
            {
              if ( v42 <= 0 )
              {
                if ( v44 >= 0 )
                {
                  if ( v44 > 0 )
                    *((_BYTE *)v38 + 172) = 3;
                  v45 = (&lpString)[dword_48CCE4];
                }
                else
                {
                  *((_BYTE *)v38 + 172) = 7;
                  v45 = (&lpString)[dword_48CCE4];
                }
              }
              else if ( v44 >= 0 )
              {
                if ( v44 <= 0 )
                  *((_BYTE *)v38 + 172) = 1;
                else
                  *((_BYTE *)v38 + 172) = 2;
                v45 = (&lpString)[dword_48CCE4];
              }
              else
              {
                *((_BYTE *)v38 + 172) = 0;
                v45 = (&lpString)[dword_48CCE4];
              }
            }
            else if ( v44 >= 0 )
            {
              if ( v44 <= 0 )
                *((_BYTE *)v38 + 172) = 5;
              else
                *((_BYTE *)v38 + 172) = 4;
              v45 = (&lpString)[dword_48CCE4];
            }
            else
            {
              *((_BYTE *)v38 + 172) = 6;
              v45 = (&lpString)[dword_48CCE4];
            }
LABEL_263:
            *((_BYTE *)v45 + 173) = v45[172];
            goto LABEL_264;
          }
          goto LABEL_264;
        }
      }
      *((_DWORD *)(&lpString)[dword_131D690] + 25) = v37;
      v46 = (&lpString)[dword_48CCE4];
      v47 = *((_DWORD *)v46 + 23);
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      if ( v47 )
      {
        LOBYTE(dword_1550B62) = 3;
        v48 = (&lpString)[dword_131D690];
        *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v48 + 14);
        sub_42EA60((int)v48, &dword_1550B67);
        v49 = (&lpString)[dword_131D690];
        v50 = (signed __int64)(*((float *)v49 + 28) * 0.025);
        BYTE1(dword_1550B6B) = BYTE1(v50);
        BYTE2(dword_1550B6B) = (signed __int64)(*((float *)v49 + 28) * 0.025);
        v51 = (signed __int64)(*((float *)v49 + 30) * 0.050000001);
        HIBYTE(dword_1550B6B) = BYTE1(v51);
        byte_1550B6F = (signed __int64)(*((float *)v49 + 30) * 0.050000001);
        v52 = (signed __int64)(*((float *)v46 + 28) * 0.025);
        byte_1550B70 = BYTE1(v52);
        byte_1550B71 = (signed __int64)(*((float *)v46 + 28) * 0.025);
        v53 = (signed __int64)(*((float *)v46 + 30) * 0.050000001);
        byte_1550B72 = BYTE1(v53);
        v54 = 0;
        byte_1550B73 = (signed __int64)(*((float *)v46 + 30) * 0.050000001);
        v130 = 0;
        v55 = *((_DWORD *)v49 + 159);
        if ( v55 != -1 )
        {
          sub_466490((int)v49, v55, &v130);
          v54 = v130;
        }
        v56 = (&lpString)[dword_131D690];
        byte_1550B74 = *((_WORD *)v56 + 318) >> 8;
        v57 = v56[636];
LABEL_129:
        byte_1550B75[0] = v57;
        byte_1550B76[0] = HIBYTE(v54);
        byte_1550B77[0] = v54;
        LOBYTE(v3) = sub_479790(24);
        return v3;
      }
      LOBYTE(dword_1550B62) = 9;
      v58 = (&lpString)[dword_131D690];
      *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v58 + 14);
      dword_1550B67 = *((_DWORD *)v46 + 14);
      v59 = (signed __int64)(*((float *)v58 + 28) * 0.025);
      LOBYTE(dword_1550B6B) = BYTE1(v59);
      BYTE1(dword_1550B6B) = (signed __int64)(*((float *)v58 + 28) * 0.025);
      v60 = (signed __int64)(*((float *)v58 + 30) * 0.050000001);
      BYTE2(dword_1550B6B) = BYTE1(v60);
      HIBYTE(dword_1550B6B) = (signed __int64)(*((float *)v58 + 30) * 0.050000001);
      v61 = (signed __int64)(*((float *)v46 + 28) * 0.025);
      byte_1550B6F = BYTE1(v61);
      byte_1550B70 = (signed __int64)(*((float *)v46 + 28) * 0.025);
      v62 = (signed __int64)(*((float *)v46 + 30) * 0.050000001);
      byte_1550B71 = BYTE1(v62);
      byte_1550B72 = (signed __int64)(*((float *)v46 + 30) * 0.050000001);
      sub_42EA60((int)v58, &byte_1550B73);
      sub_42EA60((int)v46, byte_1550B78);
      goto LABEL_325;
    }
    if ( v35 == -1 )
    {
      if ( v36 == -1 )
      {
        *((_BYTE *)v20 + 172) = 6;
      }
      else if ( (unsigned int)(signed __int64)(*((float *)v21 + 30) * -0.050000001) == (unsigned int)(signed __int64)v34 )
      {
        *((_BYTE *)v20 + 172) = 5;
      }
      else if ( v36 == 1 )
      {
        *((_BYTE *)v20 + 172) = 4;
      }
    }
    else if ( v35 )
    {
      if ( v35 == 1 )
      {
        if ( v36 == -1 )
        {
          *((_BYTE *)v20 + 172) = 0;
        }
        else if ( (unsigned int)(signed __int64)(*((float *)v21 + 30) * -0.050000001) == (unsigned int)(signed __int64)v34 )
        {
          *((_BYTE *)v20 + 172) = 1;
        }
        else if ( v36 == 1 )
        {
          *((_BYTE *)v20 + 172) = 2;
        }
      }
    }
    else if ( v36 == -1 )
    {
      *((_BYTE *)v20 + 172) = 7;
    }
    else if ( v36 == 1 )
    {
      *((_BYTE *)v20 + 172) = 3;
    }
    sub_423330((int)v20);
    LOBYTE(v3) = dword_48CCE4;
    v63 = (&lpString)[dword_48CCE4];
    if ( !v63 || (v64 = *((_DWORD *)v63 + 42), (v3 = dword_8D3C24[v64]) == 0) )
    {
      dword_48CCE4 = -1;
      return v3;
    }
    if ( !*(_WORD *)(v3 + 88) && v63[48] == 2 && (v64 != 237 || *((_WORD *)v63 + 308) > 99) )
    {
      v90 = (&lpString)[dword_131D690];
      v91 = (signed __int64)(*((float *)v90 + 28) * -0.025);
      v92 = *((float *)v63 + 30) * -0.050000001;
      v135 = (signed __int64)(*((float *)v63 + 28) * -0.025);
      v93 = v91 - v135;
      v94 = (signed __int64)v92;
      v95 = *((float *)v90 + 30) * -0.050000001;
      v135 = v94;
      v96 = (signed __int64)v95 - v94;
      if ( v64 != 200 )
      {
        if ( v93 >= 0 )
        {
          if ( v93 <= 0 )
          {
            if ( v96 >= 0 )
            {
              if ( v96 > 0 )
                *((_BYTE *)v63 + 172) = 3;
            }
            else
            {
              *((_BYTE *)v63 + 172) = 7;
            }
          }
          else if ( v96 >= 0 )
          {
            if ( v96 <= 0 )
              *((_BYTE *)v63 + 172) = 1;
            else
              *((_BYTE *)v63 + 172) = 2;
          }
          else
          {
            *((_BYTE *)v63 + 172) = 0;
          }
        }
        else if ( v96 >= 0 )
        {
          if ( v96 <= 0 )
            *((_BYTE *)v63 + 172) = 5;
          else
            *((_BYTE *)v63 + 172) = 4;
        }
        else
        {
          *((_BYTE *)v63 + 172) = 6;
        }
        v45 = (&lpString)[dword_48CCE4];
        goto LABEL_263;
      }
LABEL_264:
      *((_BYTE *)(&lpString)[dword_48CCE4] + 174) = 14;
      *((_WORD *)(&lpString)[dword_48CCE4] + 88) = 0;
      LOBYTE(v3) = sub_479190(0, *((signed __int16 *)(&lpString)[dword_48CCE4] + 308) - 100);
      return v3;
    }
    LOBYTE(v3) = 88;
    v65 = (&lpString)[dword_131D690];
    if ( *((_DWORD *)v65 + 188) == 600
      || *((_DWORD *)v65 + 187) == 600
      || (v3 = *((_DWORD *)v63 + 23)) != 0
      || ((v3 = *((_DWORD *)v63 + 17)) != 0 || !byte_1330125)
      && (v64 != 207 && v64 != 208 && v64 != 211 || !byte_1330125)
      && (v64 == 207 || v64 == 208 || v64 == 211 || !v3) )
    {
      if ( byte_1330125
        || dword_48CF6C != 11
        || (LOBYTE(v3) = dword_48CCE4, dword_48CCE4 == -1)
        || (v3 = *((_DWORD *)v63 + 17)) != 0
        || (LOBYTE(v3) = byte_1322634) != 0 )
      {
        if ( *((_DWORD *)v63 + 23) == 1 )
        {
          v3 = *((_DWORD *)v63 + 17);
          if ( v3 )
          {
            if ( v20[60] != v63[56] || v20[61] != v63[57] || v20[62] != v63[58] || v20[63] != v63[59] )
            {
              if ( !byte_133005C )
              {
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 19;
                *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v65 + 14);
                sub_479790(7);
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 67;
                sub_479790(3);
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOBYTE(dword_1550B62) = 100;
                sub_479790(3);
              }
              *((_BYTE *)(&lpString)[dword_131D690] + 60) = (&lpString)[dword_48CCE4][56];
              *((_BYTE *)(&lpString)[dword_131D690] + 61) = (&lpString)[dword_48CCE4][57];
              *((_BYTE *)(&lpString)[dword_131D690] + 62) = (&lpString)[dword_48CCE4][58];
              *((_BYTE *)(&lpString)[dword_131D690] + 63) = (&lpString)[dword_48CCE4][59];
              v89 = dword_48CE2C;
              do
              {
                *(v89 - 1) = -1;
                *v89 = 0;
                v89 += 2;
              }
              while ( (signed int)v89 < (signed int)&unk_48CEA4 );
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 19;
              *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)(&lpString)[dword_48CCE4] + 14);
              LOBYTE(v3) = sub_479790(7);
            }
            else
            {
              LOBYTE(v3) = dword_1330060;
              if ( dword_1330060 )
                byte_1328E45 = 4;
            }
          }
        }
      }
      else
      {
        byte_1330080 = 1;
        dword_1330084 = 2;
        byte_1322634 = 1;
        strcpy(byte_1324784, (const char *)&unk_48CBAC);
        strcpy((char *)&unk_13247E8, (const char *)&unk_48CBA0);
        dword_13211CC = *((_DWORD *)v63 + 14);
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 42;
        *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v65 + 14);
        dword_1550B67 = *((_DWORD *)v63 + 14);
        LOBYTE(v3) = sub_479790(11);
      }
      return v3;
    }
    if ( dword_1330060 )
    {
      dword_1330060 = 0;
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      LOBYTE(dword_1550B62) = 55;
      *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v65 + 15);
      sub_479790(7);
      *((_DWORD *)(&lpString)[dword_131D690] + 15) = 0;
      if ( byte_1328E45 == 4 )
        byte_1328E45 = 0;
      LOBYTE(dword_13246D8) = 0;
    }
    if ( *((_DWORD *)(&lpString)[dword_48CCE4] + 159) == 106 )
    {
      switch ( *((unsigned __int8 *)v20 + 172) )
      {
        case 0u:
          v66 = (unsigned __int64)(signed __int64)*((float *)v20 + 28) + 200;
          v36 = (unsigned __int64)(signed __int64)*((float *)v20 + 30) - 100;
          break;
        case 1u:
          v66 = (unsigned __int64)(signed __int64)*((float *)v20 + 28) + 200;
          v36 = (signed __int64)*((float *)v20 + 30);
          break;
        case 2u:
          v66 = (unsigned __int64)(signed __int64)*((float *)v20 + 28) + 200;
          v36 = (unsigned __int64)(signed __int64)*((float *)v20 + 30) + 100;
          break;
        case 3u:
          v66 = (signed __int64)*((float *)v20 + 28);
          v36 = (unsigned __int64)(signed __int64)*((float *)v20 + 30) + 100;
          break;
        case 4u:
          v66 = (unsigned __int64)(signed __int64)*((float *)v20 + 28) - 200;
          v36 = (unsigned __int64)(signed __int64)*((float *)v20 + 30) + 100;
          break;
        case 5u:
          v66 = (unsigned __int64)(signed __int64)*((float *)v20 + 28) - 200;
          v36 = (signed __int64)*((float *)v20 + 30);
          break;
        case 6u:
          v66 = (unsigned __int64)(signed __int64)*((float *)v20 + 28) - 200;
          v36 = (unsigned __int64)(signed __int64)*((float *)v20 + 30) - 100;
          break;
        case 7u:
          v66 = (signed __int64)*((float *)v20 + 28);
          v36 = (unsigned __int64)(signed __int64)*((float *)v20 + 30) - 100;
          break;
        default:
          v66 = v134;
          break;
      }
      sub_426260(dword_131D690, v66, v36);
      v67 = *((float *)v20 + 28) * 0.025;
      v135 = *((_DWORD *)v20 + 33) / 40;
      if ( (double)v135 != v67
        || (v68 = *((float *)v20 + 30) * 0.025, v135 = *((_DWORD *)v20 + 34) / 40, (double)v135 != v68) )
      {
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 114;
        *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v20 + 14);
        sub_42EA60((int)v20, &dword_1550B67);
        v81 = (signed __int64)(*((float *)v20 + 28) * 0.025);
        BYTE1(dword_1550B6B) = BYTE1(v81);
        BYTE2(dword_1550B6B) = (signed __int64)(*((float *)v20 + 28) * 0.025);
        v82 = (signed __int64)(*((float *)v20 + 30) * 0.050000001);
        HIBYTE(dword_1550B6B) = BYTE1(v82);
        byte_1550B6F = (signed __int64)(*((float *)v20 + 30) * 0.050000001);
        byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *((signed int *)v20 + 33)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * *((signed int *)v20 + 33)) >> 32) >> 4)) >> 8;
        byte_1550B71 = (char)*((_DWORD *)v20 + 33) / 40;
        byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *((signed int *)v20 + 34)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * *((signed int *)v20 + 34)) >> 32) >> 3)) >> 8;
        v83 = 0;
        HIDWORD(v82) = *((_DWORD *)v20 + 34) / 20;
        v130 = 0;
        byte_1550B73 = BYTE4(v82);
        v84 = *((_DWORD *)v20 + 159);
        if ( v84 != -1 )
        {
          sub_466490((int)v20, v84, &v130);
          v83 = v130;
        }
        v85 = *((_DWORD *)v20 + 159);
        byte_1550B74 = BYTE1(v85);
        byte_1550B75[0] = v20[636];
        byte_1550B76[0] = HIBYTE(v83);
        byte_1550B77[0] = v83;
        sub_479790(24);
        *((_BYTE *)dword_1542DA4
        + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v20 + 30) * 0.050000001)
        + (unsigned __int16)(signed __int64)(*((float *)v20 + 28) * 0.025)) = 0;
        sub_429A60(
          (int)v20,
          (signed __int64)*((float *)v20 + 28) / 40,
          (signed __int64)*((float *)v20 + 30) / 20,
          *((_DWORD *)v20 + 33) / 40,
          *((_DWORD *)v20 + 34) / 20);
        v86 = *((_DWORD *)v20 + 34);
        v135 = *((_DWORD *)v20 + 33);
        v3 = v135;
        v87 = (double)v135;
        v135 = v86;
        *((_DWORD *)v20 + 47) = 0;
        *((_WORD *)v20 + 88) = 0;
        *((_DWORD *)v20 + 35) = v3;
        *((float *)v20 + 28) = v87;
        v88 = (double)v135;
        *((_DWORD *)v20 + 36) = v86;
        *((_BYTE *)v20 + 174) = 0;
        *((_DWORD *)v20 + 150) = 1;
        *((float *)v20 + 30) = v88;
        *((float *)v20 + 29) = v88;
        return v3;
      }
    }
    v69 = v20[172];
    *((_BYTE *)v20 + 104) = 1;
    *((_BYTE *)v20 + 173) = v69;
    *((_DWORD *)v20 + 47) = 0;
    *((_DWORD *)v20 + 25) = -1;
    *((_WORD *)v20 + 88) = 0;
    if ( dword_48CF80 != -1 )
    {
      switch ( *((char *)dword_1308324 + 68 * dword_48CF80) )
      {
        case 0:
        case 1:
        case 4:
        case 5:
          v70 = dword_132258C;
          goto LABEL_189;
        case 2:
        case 3:
        case 7:
          v70 = dword_132258C;
          if ( byte_1324782 == 2 )
          {
LABEL_189:
            v71 = v70 & 1;
            if ( !v71 )
              goto LABEL_211;
            if ( v71 == 1 )
            {
              if ( !*(_WORD *)(dword_8D3C24[*((_DWORD *)v20 + 42)] + 48) )
                goto LABEL_211;
              *((_BYTE *)v20 + 174) = 6;
            }
            goto LABEL_212;
          }
          if ( dword_132258C & 1 )
          {
            if ( (dword_132258C & 1) != 1 )
              goto LABEL_212;
            if ( *(_WORD *)(dword_8D3C24[*((_DWORD *)v20 + 42)] + 64) )
            {
              *((_BYTE *)v20 + 174) = 8;
              goto LABEL_212;
            }
            goto LABEL_211;
          }
          if ( !*(_WORD *)(dword_8D3C24[*((_DWORD *)v20 + 42)] + 56) )
            goto LABEL_211;
          *((_BYTE *)v20 + 174) = 7;
          break;
        case 6:
          if ( !*(_WORD *)(dword_8D3C24[*((_DWORD *)v20 + 42)] + 120) )
            goto LABEL_211;
          *((_BYTE *)v20 + 174) = 15;
          goto LABEL_212;
        case 8:
          if ( *(_WORD *)(dword_8D3C24[*((_DWORD *)v20 + 42)] + 56) )
            *((_BYTE *)v20 + 174) = 7;
          goto LABEL_212;
        default:
          goto LABEL_212;
      }
      goto LABEL_212;
    }
    if ( !(dword_132258C & 1) )
      goto LABEL_211;
    if ( (dword_132258C & 1) != 1 )
      goto LABEL_212;
    v72 = *((_DWORD *)v20 + 42);
    if ( v72 != 9 && v72 != 12 && v72 != 24 && *(_WORD *)(dword_8D3C24[v72] + 48) )
      *((_BYTE *)v20 + 174) = 6;
    else
LABEL_211:
      *((_BYTE *)v20 + 174) = 5;
LABEL_212:
    *((_DWORD *)v20 + 150) = 1;
    if ( dword_13225AC )
    {
      dword_13225AC = 0;
      v73 = (_WORD *)*((_DWORD *)(&lpString)[dword_131D690] + 156);
      if ( v73 )
      {
        v74 = v73[304];
        v73[302] = 1;
        v73[305] = v74 + 1;
      }
    }
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 7;
    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v20 + 14);
    v75 = (signed __int64)(*((float *)v20 + 28) * 0.025);
    LOBYTE(dword_1550B67) = BYTE1(v75);
    BYTE1(dword_1550B67) = (signed __int64)(*((float *)v20 + 28) * 0.025);
    v76 = (signed __int64)(*((float *)v20 + 30) * 0.050000001);
    BYTE2(dword_1550B67) = BYTE1(v76);
    HIBYTE(dword_1550B67) = (signed __int64)(*((float *)v20 + 30) * 0.050000001);
    v77 = (&lpString)[dword_48CCE4];
    dword_1550B6B = *((_DWORD *)v77 + 14);
    v78 = (signed __int64)(*((float *)v77 + 28) * 0.025);
    byte_1550B6F = BYTE1(v78);
    byte_1550B70 = (signed __int64)(*((float *)v77 + 28) * 0.025);
    v79 = (signed __int64)(*((float *)v77 + 30) * 0.050000001);
    byte_1550B71 = BYTE1(v79);
    byte_1550B72 = (signed __int64)(*((float *)v77 + 30) * 0.050000001);
    sub_479790(19);
    v3 = (int)(&lpString)[dword_131D690];
    if ( !*(_DWORD *)(v3 + 92) && !*(_DWORD *)(v3 + 180) )
    {
      v80 = (&lpString)[dword_48CCE4];
      if ( !*((_DWORD *)v80 + 23)
        && *((_DWORD *)v80 + 17)
        && !*((_DWORD *)v80 + 19)
        && !*((_DWORD *)v80 + 20)
        && *((_DWORD *)v80 + 42) < 0xDCu )
      {
        LOBYTE(v3) = sub_46FC00((int)v80, (int)(&lpString)[dword_131D690]);
      }
    }
    return v3;
  }
  if ( (_BYTE)v3 && (unsigned __int8)v3 <= 2u )
  {
    if ( *((_DWORD *)v21 + 23) == 1 )
    {
      *((_BYTE *)v20 + 104) = 0;
    }
    else
    {
      if ( *((_DWORD *)v21 + 159) == 106 )
      {
        switch ( *((unsigned __int8 *)v21 + 172) )
        {
          case 0u:
            v24 = (unsigned __int64)(signed __int64)*((float *)v21 + 28) + 200;
            LODWORD(v25) = (unsigned __int64)(signed __int64)*((float *)v21 + 30) - 100;
            break;
          case 1u:
            v24 = (unsigned __int64)(signed __int64)*((float *)v21 + 28) + 200;
            v25 = (signed __int64)*((float *)v21 + 30);
            break;
          case 2u:
            v24 = (unsigned __int64)(signed __int64)*((float *)v21 + 28) + 200;
            LODWORD(v25) = (unsigned __int64)(signed __int64)*((float *)v21 + 30) + 100;
            break;
          case 3u:
            v24 = (signed __int64)*((float *)v21 + 28);
            LODWORD(v25) = (unsigned __int64)(signed __int64)*((float *)v21 + 30) + 100;
            break;
          case 4u:
            v24 = (unsigned __int64)(signed __int64)*((float *)v21 + 28) - 200;
            LODWORD(v25) = (unsigned __int64)(signed __int64)*((float *)v21 + 30) + 100;
            break;
          case 5u:
            v24 = (unsigned __int64)(signed __int64)*((float *)v21 + 28) - 200;
            v25 = (signed __int64)*((float *)v21 + 30);
            break;
          case 6u:
            v24 = (unsigned __int64)(signed __int64)*((float *)v21 + 28) - 200;
            LODWORD(v25) = (unsigned __int64)(signed __int64)*((float *)v21 + 30) - 100;
            break;
          case 7u:
            v24 = (signed __int64)*((float *)v21 + 28);
            LODWORD(v25) = (unsigned __int64)(signed __int64)*((float *)v21 + 30) - 100;
            break;
          default:
            v24 = v134;
            LODWORD(v25) = v135;
            break;
        }
        sub_426260(dword_131D690, v24, v25);
        v26 = *((float *)v21 + 28) * 0.025;
        v135 = *((_DWORD *)v21 + 33) / 40;
        if ( (double)v135 != v26
          || (v27 = *((float *)v21 + 30) * 0.025, v135 = *((_DWORD *)v21 + 34) / 40, (double)v135 != v27) )
        {
          sub_46FAA0((int)v21);
          *((_BYTE *)dword_1542DA4
          + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v21 + 30) * 0.050000001)
          + (unsigned __int16)(signed __int64)(*((float *)v21 + 28) * 0.025)) = 0;
          sub_429A60(
            (int)v21,
            (signed __int64)*((float *)v21 + 28) / 40,
            (signed __int64)*((float *)v21 + 30) / 20,
            *((_DWORD *)v21 + 33) / 40,
            *((_DWORD *)v21 + 34) / 20);
          v3 = *((_DWORD *)v21 + 33);
          v30 = (double)v3;
          v135 = *((_DWORD *)v21 + 34);
          v29 = v135;
          *((_DWORD *)v21 + 35) = v3;
          LOBYTE(v3) = 0;
          *((_DWORD *)v21 + 36) = v29;
          *((float *)v21 + 28) = v30;
          v31 = (double)v135;
          *((_DWORD *)v21 + 47) = 0;
          *((_BYTE *)v21 + 174) = 0;
          *((_DWORD *)v21 + 150) = 1;
          *((_WORD *)v21 + 88) = 0;
          *((float *)v21 + 30) = v31;
          *((float *)v21 + 29) = v31;
          return v3;
        }
        v5 = dword_48CCE4;
      }
      v28 = (&lpString)[v5];
      if ( *((_DWORD *)v28 + 17) && byte_48818C[*((_DWORD *)v28 + 42)] == 18 )
      {
        sub_46F7D0((int)v28, (int)(&lpString)[dword_131D690], 303);
        sub_46FD80((int)(&lpString)[dword_48CCE4], (int)(&lpString)[dword_131D690], 303);
      }
      LOBYTE(v3) = dword_131D690;
      *((_BYTE *)(&lpString)[dword_131D690] + 104) = 2;
    }
  }
  return v3;
}
// 489040: using guessed type int dword_489040;
// 48CCE4: using guessed type int dword_48CCE4;
// 48CE2C: using guessed type int dword_48CE2C[];
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CF6C: using guessed type int dword_48CF6C;
// 48CF80: using guessed type int dword_48CF80;
// 49D890: using guessed type int dword_49D890;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 8D3C24: using guessed type int dword_8D3C24[];
// 13082E4: using guessed type int dword_13082E4;
// 131D690: using guessed type int dword_131D690;
// 13211CC: using guessed type int dword_13211CC;
// 132258C: using guessed type int dword_132258C;
// 13225AC: using guessed type int dword_13225AC;
// 13225FC: using guessed type int dword_13225FC;
// 1322600: using guessed type int dword_1322600;
// 1322628: using guessed type char byte_1322628;
// 1322634: using guessed type char byte_1322634;
// 1322654: using guessed type int dword_1322654;
// 1322658: using guessed type int dword_1322658;
// 1322660: using guessed type int dword_1322660;
// 13246D8: using guessed type int dword_13246D8;
// 1324782: using guessed type char byte_1324782;
// 1328E45: using guessed type char byte_1328E45;
// 132A268: using guessed type int dword_132A268;
// 1330020: using guessed type int dword_1330020;
// 133002C: using guessed type int dword_133002C;
// 133005C: using guessed type char byte_133005C;
// 1330060: using guessed type int dword_1330060;
// 133007C: using guessed type int dword_133007C;
// 1330080: using guessed type char byte_1330080;
// 1330084: using guessed type int dword_1330084;
// 1330124: using guessed type char byte_1330124;
// 1330125: using guessed type char byte_1330125;
// 1330126: using guessed type char byte_1330126;
// 1540B4C: using guessed type int dword_1540B4C;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (00443C70) --------------------------------------------------------
char __cdecl sub_443C70(char a1, char a2, char a3)
{
  char result; // al

  result = a1;
  LOBYTE(off_48CCE0) = a1;
  BYTE1(off_48CCE0) = a2;
  BYTE2(off_48CCE0) = a3;
  return result;
}
// 48CCE0: using guessed type void *off_48CCE0;

//----- (00443C90) --------------------------------------------------------
HGDIOBJ sub_443C90()
{
  HGDIOBJ *v0; // esi
  HGDIOBJ result; // eax

  v0 = &h;
  do
  {
    result = *v0;
    if ( *v0 )
      result = (HGDIOBJ)DeleteObject(*v0);
    ++v0;
  }
  while ( (signed int)v0 < (signed int)byte_13226E0 );
  return result;
}

//----- (00443CC0) --------------------------------------------------------
HFONT sub_443CC0()
{
  HFONT result; // eax

  if ( !h )
    h = CreateFontA(12, 0, 0, 0, 400, 0, 0, 0, 1u, 0, 0, 0, 2u, &pszFaceName);
  if ( !dword_13226D4 )
    dword_13226D4 = (int)CreateFontA(11, 0, 0, 0, 400, 0, 0, 0, 1u, 0, 0, 0, 2u, &pszFaceName);
  if ( !dword_13226D8 )
    dword_13226D8 = (int)CreateFontA(9, 0, 0, 0, 400, 0, 0, 0, 1u, 0, 0, 0, 2u, &pszFaceName);
  result = (HFONT)dword_13226DC;
  if ( !dword_13226DC )
  {
    result = CreateFontA(30, 0, 0, 0, 400, 1u, 0, 0, 1u, 0, 0, 0, 2u, &pszFaceName);
    dword_13226DC = (int)result;
  }
  return result;
}
// 13226D4: using guessed type int dword_13226D4;
// 13226D8: using guessed type int dword_13226D8;
// 13226DC: using guessed type int dword_13226DC;

//----- (00443DA0) --------------------------------------------------------
HGDIOBJ __cdecl sub_443DA0(unsigned __int8 a1)
{
  LOBYTE(dword_132FFF0) = a1;
  return SelectObject(hdc, *(&h + a1));
}
// 132FFF0: using guessed type int dword_132FFF0;

//----- (00443DD0) --------------------------------------------------------
HRGN sub_443DD0()
{
  HRGN result; // eax

  ho = CreateRectRgn(0, 0, 800, 600);
  dword_1329740 = CreateRectRgn(248, 248, 626, 558);
  result = CreateRectRgn(248, 248, 611, 529);
  dword_1329634 = result;
  return result;
}

//----- (00443E30) --------------------------------------------------------
HGDIOBJ sub_443E30()
{
  HGDIOBJ result; // eax

  if ( ho )
    DeleteObject(ho);
  if ( dword_1329740 )
    DeleteObject(dword_1329740);
  result = dword_1329634;
  if ( dword_1329634 )
    result = (HGDIOBJ)DeleteObject(dword_1329634);
  return result;
}

//----- (00443E60) --------------------------------------------------------
HGDIOBJ sub_443E60()
{
  HGDIOBJ result; // eax

  (*(void (__stdcall **)(int, HDC *))(*(_DWORD *)dword_156FAA4 + 68))(dword_156FAA4, &hdc);
  result = SelectObject(hdc, *(&h + (unsigned __int8)dword_132FFF0));
  dword_157023C = result;
  return result;
}
// 132FFF0: using guessed type int dword_132FFF0;
// 156FAA4: using guessed type int dword_156FAA4;

//----- (00443EA0) --------------------------------------------------------
int sub_443EA0()
{
  SelectObject(hdc, dword_157023C);
  return (*(int (__stdcall **)(int, HDC))(*(_DWORD *)dword_156FAA4 + 104))(dword_156FAA4, hdc);
}
// 156FAA4: using guessed type int dword_156FAA4;

//----- (00443ED0) --------------------------------------------------------
BOOL __cdecl sub_443ED0(int x, int y, LPCSTR lpString)
{
  int v3; // eax

  SetBkMode(hdc, 1);
  SetTextColor(hdc, (unsigned __int8)off_48CCE0 | (*(unsigned __int16 *)((char *)&off_48CCE0 + 1) << 8));
  v3 = lstrlenA(lpString);
  return TextOutA(hdc, x, y, lpString, v3);
}
// 48CCE0: using guessed type void *off_48CCE0;

//----- (00443F30) --------------------------------------------------------
BOOL __cdecl sub_443F30(int x, int y, int a3)
{
  int v3; // eax
  CHAR String; // [esp+0h] [ebp-104h]

  _itoa(a3, &String, 10);
  SetBkMode(hdc, 1);
  SetTextColor(hdc, (unsigned __int8)off_48CCE0 | (*(unsigned __int16 *)((char *)&off_48CCE0 + 1) << 8));
  v3 = lstrlenA(&String);
  return TextOutA(hdc, x, y, &String, v3);
}
// 48CCE0: using guessed type void *off_48CCE0;

//----- (00443FC0) --------------------------------------------------------
BOOL __cdecl sub_443FC0(int a1, int a2, LPCSTR lpString)
{
  int v3; // edi
  int v4; // ebx
  int v5; // eax
  struct tagSIZE psizl; // [esp+Ch] [ebp-8h]

  GetTextExtentPoint32A(hdc, lpString, strlen(lpString), &psizl);
  v3 = psizl.cx / -2 + a1;
  v4 = psizl.cy / -2 + a2;
  SetBkMode(hdc, 1);
  SetTextColor(hdc, (unsigned __int8)off_48CCE0 | (*(unsigned __int16 *)((char *)&off_48CCE0 + 1) << 8));
  v5 = lstrlenA(lpString);
  return TextOutA(hdc, v3, v4, lpString, v5);
}
// 48CCE0: using guessed type void *off_48CCE0;

//----- (00444070) --------------------------------------------------------
BOOL __cdecl sub_444070(int a1, int a2, int a3)
{
  int v3; // esi
  int v4; // edi
  int v5; // eax
  struct tagSIZE psizl; // [esp+8h] [ebp-10Ch]
  CHAR String; // [esp+10h] [ebp-104h]

  _itoa(a3, &String, 10);
  GetTextExtentPoint32A(hdc, &String, strlen(&String), &psizl);
  v3 = psizl.cx / -2 + a1;
  v4 = psizl.cy / -2 + a2;
  SetBkMode(hdc, 1);
  SetTextColor(hdc, (unsigned __int8)off_48CCE0 | (*(unsigned __int16 *)((char *)&off_48CCE0 + 1) << 8));
  v5 = lstrlenA(&String);
  return TextOutA(hdc, v3, v4, &String, v5);
}
// 48CCE0: using guessed type void *off_48CCE0;

//----- (00444140) --------------------------------------------------------
int sub_444140()
{
  int result; // eax
  unsigned __int8 v1; // bl
  int v2; // ecx
  int v3; // eax
  int v4; // ebp
  int *v5; // eax
  unsigned __int8 v6; // bl
  int v7; // ecx
  int v8; // eax
  int v9; // ebp
  int *v10; // eax

  if ( byte_1328E45 == 5 )
  {
    v6 = byte_131AC00;
    if ( !dword_1322624 )
    {
      v7 = 0;
      v8 = (unsigned __int8)byte_48C3A8[(unsigned __int8)byte_131AC00];
      byte_48C3B8[(unsigned __int8)byte_131AC00] = 0;
      v9 = v8;
      if ( v8 > 0 )
      {
        do
        {
          v10 = dword_48CEC8;
          while ( *v10 != byte_48C2F0[15 * v6 + v7] + 210 )
          {
            v10 += 2;
            if ( (signed int)v10 >= (signed int)&unk_48CF40 )
              goto LABEL_22;
          }
          ++v7;
          ++byte_48C3B8[v6];
        }
        while ( v7 < v9 );
      }
    }
LABEL_22:
    result = v6;
    if ( !byte_48C3B8[v6] && dword_48CF8C != -1 && *((_BYTE *)dword_1308324 + 68 * dword_48CF8C) == 12 )
      byte_48C3B8[v6] = 1;
  }
  else
  {
    result = (unsigned __int8)byte_1328E45 - 6;
    if ( byte_1328E45 == 6 )
    {
      v1 = byte_131D68C;
      if ( !dword_1322624 )
      {
        v2 = 0;
        v3 = (unsigned __int8)byte_48C3B0[(unsigned __int8)byte_131D68C];
        byte_48C3C0[(unsigned __int8)byte_131D68C] = 0;
        v4 = v3;
        if ( v3 > 0 )
        {
          do
          {
            v5 = dword_48CEC8;
            while ( *v5 != byte_48C34C[15 * v1 + v2] + 254 )
            {
              v5 += 2;
              if ( (signed int)v5 >= (signed int)&unk_48CF40 )
                goto LABEL_10;
            }
            ++v2;
            ++byte_48C3C0[v1];
          }
          while ( v2 < v4 );
        }
      }
LABEL_10:
      result = v1;
      if ( !byte_48C3C0[v1] && v1 != 3 && dword_48CF8C != -1 && *((_BYTE *)dword_1308324 + 68 * dword_48CF8C) == 13 )
        byte_48C3C0[v1] = 1;
    }
  }
  return result;
}
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CF8C: using guessed type int dword_48CF8C;
// 131AC00: using guessed type char byte_131AC00;
// 131D68C: using guessed type char byte_131D68C;
// 1322624: using guessed type int dword_1322624;
// 1328E45: using guessed type char byte_1328E45;

//----- (004442B0) --------------------------------------------------------
int sub_4442B0()
{
  int result; // eax

  if ( dword_13246D0 == 410 )
  {
    sub_416860(10, 0, 0, 0, 0);
    BYTE1(dword_1550B62) = HIBYTE(dword_13246D0);
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 74;
    BYTE2(dword_1550B62) = BYTE2(dword_13246D0);
    HIBYTE(dword_1550B62) = BYTE1(dword_13246D0);
    byte_1550B66 = dword_13246D0;
    result = sub_479790(7);
    LOBYTE(dword_13246D8) = 30;
  }
  else
  {
    result = dword_13246D0 - 411;
    if ( dword_13246D0 == 411 )
    {
      dword_1330064 = 1;
      result = sub_416860(10, 0, 0, 0, 0);
    }
    LOBYTE(dword_13246D8) = 0;
  }
  return result;
}
// 13246D0: using guessed type int dword_13246D0;
// 13246D8: using guessed type int dword_13246D8;
// 1330064: using guessed type int dword_1330064;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;

//----- (00444350) --------------------------------------------------------
char sub_444350()
{
  int v0; // eax
  signed int v1; // esi
  int v2; // ecx
  int v3; // edi
  unsigned __int16 v4; // ax
  HWND (__stdcall *v5)(); // ebx
  LPCSTR v6; // eax
  signed int v7; // ecx
  int v8; // ebx
  int v9; // esi
  int v10; // ebp
  signed int v11; // ebx
  int v12; // esi
  int *v13; // ebp
  bool v14; // zf
  int v15; // edx
  int v16; // ebp
  int v17; // ecx
  int v18; // esi
  int v19; // eax
  int v20; // edx
  int v21; // ecx
  int v22; // esi
  int v23; // ebx
  int v24; // ecx
  int v25; // esi
  int v26; // ebx
  signed int v27; // ecx
  int v28; // ebp
  signed int v29; // esi
  int v30; // ecx
  int v31; // ebp
  signed int v32; // esi
  int v33; // esi
  int v34; // ecx
  signed int v35; // ebx
  int v36; // esi
  int *v37; // ebp
  int v38; // ebx
  signed int v39; // esi
  int *v40; // ebp
  int v41; // eax
  int v42; // edx
  int v43; // eax
  signed int v44; // esi
  _DWORD *v45; // ecx
  int v46; // edx
  int v47; // esi
  int *v48; // ebx
  int v49; // edx
  signed int v50; // eax

  if ( byte_1330094 )
  {
    LOBYTE(v0) = dword_49D8A0;
    if ( dword_49D89C <= 435 || dword_49D89C >= 485 || dword_49D8A0 <= 278 || dword_49D8A0 >= 299 )
    {
      if ( dword_49D89C <= 492 || dword_49D89C >= 542 || dword_49D8A0 <= 278 || dword_49D8A0 >= 299 )
      {
        dword_1329F6C = 0;
        return v0;
      }
      v1 = 2;
    }
    else
    {
      v1 = 1;
    }
    if ( dword_1329F6C != v1 )
    {
      LOBYTE(v0) = sub_416860(21, 0, 0, 0, 0);
      dword_1329F6C = v1;
    }
    return v0;
  }
  v2 = dword_49D8A0;
  v3 = dword_49D89C;
  if ( byte_1324782 == 2 && dword_49D89C > 123 && dword_49D89C < 163 && dword_49D8A0 > 540 && dword_49D8A0 < 580 )
  {
    LOBYTE(v0) = dword_13225F8 ^ 1;
    dword_13225F8 ^= 1u;
    return v0;
  }
  LOBYTE(v0) = dword_1322680;
  if ( dword_1322680 )
    return v0;
  LOBYTE(v0) = dword_132A2B8;
  if ( dword_132A2B8 )
    return v0;
  if ( dword_49D89C > 619 )
  {
    v4 = dword_8D5BE4;
    if ( dword_49D89C < (unsigned __int16)dword_8D5BE4 + 619
      && dword_49D8A0 > 469
      && dword_49D8A0 < HIWORD(dword_8D5BE4) + 469 )
    {
      sub_416860(23, 0, 0, 0, 0);
      v3 = dword_49D89C;
      v2 = dword_49D8A0;
      v4 = dword_8D5BE4;
      LOBYTE(dword_1330040) = 1;
    }
    if ( v3 > 619 && v3 < v4 + 619 && v2 > 511 && v2 < HIWORD(dword_8D5BE4) + 511 )
    {
      sub_416860(23, 0, 0, 0, 0);
      v3 = dword_49D89C;
      v2 = dword_49D8A0;
      LOBYTE(dword_1330040) = 2;
    }
  }
  v5 = GetFocus;
  if ( v3 > 250 && v3 < 302 && v2 > 566 && v2 < 588 )
  {
    if ( byte_1330030 != 1 )
    {
      sub_416860(21, 0, 0, 0, 0);
      byte_1330030 = 1;
LABEL_50:
      v3 = dword_49D89C;
      goto LABEL_51;
    }
LABEL_46:
    sub_416860(22, 0, 0, 0, 0);
    byte_1330030 = 0;
    goto LABEL_50;
  }
  if ( v3 > 306 && v3 < 357 && dword_49D8A0 > 566 && dword_49D8A0 < 588 )
  {
    if ( byte_1330030 != 2 )
    {
      if ( GetFocus() != dword_49D01C )
        SetFocus(dword_49D01C);
      sub_416860(21, 0, 0, 0, 0);
      byte_1330030 = 2;
      goto LABEL_50;
    }
    if ( GetFocus() == dword_49D01C )
      SetFocus(hWndParent);
    goto LABEL_46;
  }
LABEL_51:
  if ( (_BYTE)dword_48CFC8 == 2 )
  {
    if ( v3 > 536 && v3 < 568 && dword_49D8A0 > 11 && dword_49D8A0 < 43 )
    {
      sub_416860(12, 0, 0, 0, 0);
      v3 = dword_49D89C;
      byte_1328E45 = 1;
    }
    if ( v3 > 586 && v3 < 618 && dword_49D8A0 > 11 && dword_49D8A0 < 43 )
    {
      v6 = (&lpString)[dword_131D690];
      if ( !*((_DWORD *)v6 + 23) )
      {
        if ( byte_133005C )
        {
          sub_416860(12, 0, 0, 0, 0);
          v3 = dword_49D89C;
          byte_1328E45 = 3;
        }
        else
        {
          byte_1550B61[0] = 113;
          byte_1550B60[0] = -9;
          LOBYTE(dword_1550B62) = 19;
          *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v6 + 14);
          sub_479790(7);
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 67;
          sub_479790(3);
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 100;
          sub_479790(3);
          v3 = dword_49D89C;
          v5 = GetFocus;
        }
      }
    }
    if ( v3 > 635 && v3 < 667 )
    {
      v7 = dword_49D8A0;
      if ( dword_49D8A0 <= 11 || dword_49D8A0 >= 43 || byte_1328EC3[284 * byte_1329448] == 2 )
        goto LABEL_72;
      sub_416860(12, 0, 0, 0, 0);
      byte_1328E45 = (dword_1328DB8 != 0) + 5;
      sub_444140();
      v3 = dword_49D89C;
    }
    v7 = dword_49D8A0;
LABEL_72:
    if ( v3 > 685 && v3 < 717 && v7 > 11 && v7 < 43 )
    {
      sub_416860(12, 0, 0, 0, 0);
      v3 = dword_49D89C;
      byte_1328E45 = 7;
    }
    if ( v3 > 734 && v3 < 766 && dword_49D8A0 > 11 && dword_49D8A0 < 43 )
    {
      sub_416860(12, 0, 0, 0, 0);
      v3 = dword_49D89C;
      byte_1328E45 = 9;
    }
  }
  LOBYTE(v0) = byte_1328E45 - 1;
  switch ( byte_1328E45 )
  {
    case 1:
      if ( v3 <= 658 || v3 >= (unsigned __int16)dword_8D5C14 + 698 )
        goto LABEL_122;
      v0 = dword_49D8A0;
      if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C14) + 57 )
      {
        sub_416860(12, 0, 0, 0, 0);
        v3 = dword_49D89C;
        byte_1328E45 = 2;
LABEL_122:
        v0 = dword_49D8A0;
      }
      if ( dword_1330074 )
      {
        if ( v3 > 633 && v3 < 653 )
        {
          if ( v0 > 212 && v0 < 232 )
            BYTE2(dword_132A268) = 1;
          if ( v3 < 653 )
          {
            if ( v0 > 234 && v0 < 254 )
              BYTE2(dword_132A268) = 2;
            if ( v3 < 653 )
            {
              if ( v0 > 256 && v0 < 276 )
                BYTE2(dword_132A268) = 3;
              if ( v3 < 653 && v0 > 278 && v0 < 298 )
                BYTE2(dword_132A268) = 4;
            }
          }
        }
        if ( v3 > 748 && v3 < 768 )
        {
          if ( v0 > 351 && v0 < 371 )
            BYTE2(dword_132A268) = 5;
          if ( v3 < 768 && v0 > 329 && v0 < 349 )
            BYTE2(dword_132A268) = 6;
        }
      }
      return v0;
    case 2:
      if ( v3 <= 497 || v3 >= (unsigned __int16)dword_8D5C08 + 537 )
        goto LABEL_88;
      v8 = dword_49D8A0;
      if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C08) + 57 )
      {
        sub_416860(12, 0, 0, 0, 0);
        v3 = dword_49D89C;
        byte_1328E45 = 1;
LABEL_88:
        v8 = dword_49D8A0;
      }
      if ( v3 <= 548 || v3 >= 580 || v8 <= 392 || v8 >= 424 )
      {
        if ( v3 <= 582 || v3 >= 614 || v8 <= 392 || v8 >= 424 )
        {
          if ( byte_1324782 != 2 || v3 <= 618 || v3 >= 650 || v8 <= 392 || v8 >= 424 )
          {
LABEL_106:
            v9 = 0;
            v10 = 0;
            v0 = (unsigned __int8)dword_132A268;
            while ( 1 )
            {
              if ( byte_48C398[v10] == v0 )
              {
                x = 85 * (v9 % 3) + 534;
                y = 70 * (v9 / 3) + 114;
                if ( v3 > x && v3 < 85 * (v9 % 3) + 584 && v8 > 70 * (v9 / 3) + 114 && v8 < 70 * (v9 / 3) + 164 )
                {
                  LOBYTE(v0) = byte_48C398[v10];
                  if ( (_BYTE)v0 )
                  {
                    dword_48CF68 = v10;
                    LOBYTE(v0) = sub_416860(19, 0, 0, 0, 0);
                  }
                  return v0;
                }
                v0 = (unsigned __int8)dword_132A268;
                ++v9;
              }
              if ( ++v10 >= 14 )
                return v0;
            }
          }
          sub_416860(21, 0, 0, 0, 0);
          LOBYTE(dword_132A268) = 2;
        }
        else
        {
          sub_416860(21, 0, 0, 0, 0);
          LOBYTE(dword_132A268) = 1;
        }
      }
      else
      {
        sub_416860(21, 0, 0, 0, 0);
        LOBYTE(dword_132A268) = 0;
      }
      v3 = dword_49D89C;
      v8 = dword_49D8A0;
      goto LABEL_106;
    case 3:
      if ( v3 <= 658 || v3 >= (unsigned __int16)dword_8D5C2C + 698 )
      {
        v11 = dword_49D8A0;
      }
      else
      {
        v11 = dword_49D8A0;
        if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C2C) + 57 && dword_1330060 && byte_133005C )
        {
          LOBYTE(v0) = sub_416860(12, 0, 0, 0, 0);
          byte_1328E45 = 4;
          return v0;
        }
      }
      LOBYTE(v0) = dword_13246D8;
      if ( (_BYTE)dword_13246D8 || dword_48CF6C == 10 )
        return v0;
      if ( v11 <= 284 )
      {
        LOBYTE(v0) = -1;
        if ( dword_48CF7C != -1 && v3 > 631 && v3 < 671 && v11 > 114 && v11 < 154 )
        {
          sub_416860(14, 0, 0, 0, 0);
          v0 = dword_48CF7C;
          goto LABEL_482;
        }
        if ( dword_48CF80 != -1 && v3 > 583 && v3 < 623 && v11 > 161 && v11 < 201 )
        {
          LOBYTE(v0) = sub_416860(14, 0, 0, 0, 0);
          dword_13246D0 = dword_48CF80;
          goto LABEL_483;
        }
        if ( dword_48CF84 != -1 && v3 > 583 && v3 < 623 && v11 > 208 && v11 < 248 )
        {
          LOBYTE(v0) = sub_416860(14, 0, 0, 0, 0);
          dword_13246D0 = dword_48CF84;
          goto LABEL_483;
        }
        if ( dword_48CF88 != -1 && v3 > 631 && v3 < 671 && v11 > 161 && v11 < 201 )
        {
          sub_416860(23, 0, 0, 0, 0);
          v0 = dword_48CF88;
          goto LABEL_482;
        }
        if ( dword_48CF8C != -1 && v3 > 631 && v3 < 671 && v11 > 208 && v11 < 248 )
        {
          LOBYTE(v0) = sub_416860(14, 0, 0, 0, 0);
          dword_13246D0 = dword_48CF8C;
          goto LABEL_483;
        }
        if ( dword_48CF90 != -1 && v3 > 678 && v3 < 718 && v11 > 161 && v11 < 201 )
        {
          LOBYTE(v0) = sub_416860(14, 0, 0, 0, 0);
          dword_13246D0 = dword_48CF90;
          goto LABEL_483;
        }
        if ( dword_48CF94 != -1 && v3 > 678 && v3 < 718 && v11 > 208 && v11 < 248 )
        {
          sub_416860(23, 0, 0, 0, 0);
          v0 = dword_48CF94;
          goto LABEL_482;
        }
      }
      else
      {
        v12 = 0;
        v13 = dword_48CEC8;
        while ( 1 )
        {
          x = 47 * (v12 % 5) + 537;
          v0 = 47 * (v12 / 5) + 284;
          v14 = *v13 == -1;
          y = 47 * (v12 / 5) + 284;
          if ( !v14 && v3 > 47 * (v12 % 5) + 537 && v3 < 47 * (v12 % 5) + 577 && v11 > v0 )
          {
            v0 = 47 * (v12 / 5) + 324;
            if ( v11 < v0 )
              break;
          }
          v13 += 2;
          ++v12;
          if ( (signed int)v13 >= (signed int)&unk_48CF40 )
            return v0;
        }
        v15 = dword_48CECC[2 * v12];
        dword_13246D0 = dword_48CEC8[2 * v12];
        dword_13246D4 = v15;
        LOBYTE(dword_13246D8) = 2;
        LOBYTE(v0) = sub_416860(16, 0, 0, 0, 0);
      }
      return v0;
    case 4:
      if ( v3 <= 497 || v3 >= (unsigned __int16)dword_8D5C20 + 537 )
      {
        v16 = dword_49D8A0;
      }
      else
      {
        v16 = dword_49D8A0;
        if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C20) + 57 )
        {
          LOBYTE(v0) = sub_416860(12, 0, 0, 0, 0);
          byte_1328E45 = 3;
          return v0;
        }
      }
      LOBYTE(v0) = dword_13246D8;
      if ( (_BYTE)dword_13246D8 )
        return v0;
      v17 = 0;
      while ( 2 )
      {
        v18 = 47 * (v17 % 5) + 537;
        x = 47 * (v17 % 5) + 537;
        v19 = 47 * (v17 / 5);
        v14 = dword_48CE28[2 * v17] == -1;
        y = v19 + 113;
        if ( v14
          || v3 <= v18
          || (v16 = dword_49D8A0, v3 >= 47 * (v17 % 5) + 577)
          || dword_49D8A0 <= v19 + 113
          || dword_49D8A0 >= v19 + 153 )
        {
          v20 = dword_48CEC8[2 * v17];
          v0 = v19 + 284;
          x = 47 * (v17 % 5) + 537;
          y = v0;
          if ( v20 == -1 || v3 <= v18 || v3 >= 47 * (v17 % 5) + 577 || v16 <= v0 || (v0 += 40, v16 >= v0) )
          {
            if ( ++v17 >= 15 )
              return v0;
            continue;
          }
          v0 = dword_48CECC[2 * v17];
          dword_13246D0 = dword_48CEC8[2 * v17];
          dword_13246D4 = v0;
          LOBYTE(dword_13246D8) = 2;
        }
        else
        {
          v0 = dword_48CE2C[2 * v17];
          dword_13246D0 = dword_48CE28[2 * v17];
          dword_13246D4 = v0;
          LOBYTE(dword_13246D8) = 1;
        }
        break;
      }
      return v0;
    case 5:
      if ( v3 <= 658 || v3 >= (unsigned __int16)dword_8D5C44 + 698 )
        goto LABEL_239;
      v21 = dword_49D8A0;
      if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C44) + 57 )
      {
        sub_416860(12, 0, 0, 0, 0);
        byte_1328E45 = 6;
        dword_1328DB8 = 1;
        sub_444140();
        v3 = dword_49D89C;
LABEL_239:
        v21 = dword_49D8A0;
      }
      if ( v3 <= 547 || v3 >= 579 || v21 <= 392 || v21 >= 424 )
      {
        if ( v3 <= 583 || v3 >= 615 || v21 <= 392 || v21 >= 424 )
        {
          if ( v3 <= 618 || v3 >= 650 || v21 <= 392 || v21 >= 424 )
          {
            if ( v3 <= 654 || v3 >= 686 || v21 <= 392 || v21 >= 424 )
            {
              if ( v3 <= 689 || v3 >= 721 || v21 <= 392 || v21 >= 424 )
              {
                if ( v3 <= 724 || v3 >= 756 || v21 <= 392 || v21 >= 424 )
                {
LABEL_271:
                  LOBYTE(v0) = byte_131AC00;
                  v22 = 0;
                  v23 = (unsigned __int8)byte_48C3B8[(unsigned __int8)byte_131AC00];
                  if ( v23 > 0 )
                  {
                    while ( 1 )
                    {
                      v0 = 17 * (v22 % 3);
                      if ( v3 > 85 * (v22 % 3) + 534 )
                      {
                        v0 = 85 * (v22 % 3) + 584;
                        if ( v3 < v0 )
                        {
                          v0 = 70 * (v22 / 3);
                          if ( v21 > v0 + 114 )
                          {
                            v0 += 164;
                            if ( v21 < v0 )
                              break;
                          }
                        }
                      }
                      if ( ++v22 >= v23 )
                        return v0;
                    }
                    sub_416860(19, 0, 0, 0, 0);
                    v0 = 3 * (unsigned __int8)byte_131AC00;
                    dword_48CF68 = byte_48C2F0[12 * (unsigned __int8)byte_131AC00 + v0 + v22] + 100;
                  }
                  return v0;
                }
                sub_416860(21, 0, 0, 0, 0);
                byte_131AC00 = 5;
              }
              else
              {
                sub_416860(21, 0, 0, 0, 0);
                byte_131AC00 = 4;
              }
            }
            else
            {
              sub_416860(21, 0, 0, 0, 0);
              byte_131AC00 = 3;
            }
          }
          else
          {
            sub_416860(21, 0, 0, 0, 0);
            byte_131AC00 = 2;
          }
        }
        else
        {
          sub_416860(21, 0, 0, 0, 0);
          byte_131AC00 = 1;
        }
      }
      else
      {
        sub_416860(21, 0, 0, 0, 0);
        byte_131AC00 = 0;
      }
      sub_444140();
      v3 = dword_49D89C;
      v21 = dword_49D8A0;
      goto LABEL_271;
    case 6:
      if ( v3 <= 497 || v3 >= (unsigned __int16)dword_8D5C38 + 537 )
        goto LABEL_284;
      v24 = dword_49D8A0;
      if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C38) + 57 )
      {
        sub_416860(12, 0, 0, 0, 0);
        byte_1328E45 = 5;
        dword_1328DB8 = 0;
        sub_444140();
        v3 = dword_49D89C;
LABEL_284:
        v24 = dword_49D8A0;
      }
      if ( v3 <= 547 || v3 >= 579 || v24 <= 392 || v24 >= 424 )
      {
        if ( v3 <= 583 || v3 >= 615 || v24 <= 392 || v24 >= 424 )
        {
          if ( v3 <= 618 || v3 >= 650 || v24 <= 392 || v24 >= 424 )
          {
            if ( v3 <= 654 || v3 >= 686 || v24 <= 392 || v24 >= 424 )
            {
              if ( v3 <= 689 || v3 >= 721 || v24 <= 392 || v24 >= 424 )
              {
LABEL_311:
                LOBYTE(v0) = byte_131D68C;
                v25 = 0;
                v26 = (unsigned __int8)byte_48C3C0[(unsigned __int8)byte_131D68C];
                if ( v26 > 0 )
                {
                  while ( 1 )
                  {
                    v0 = 17 * (v25 % 3);
                    if ( v3 > 85 * (v25 % 3) + 534 )
                    {
                      v0 = 85 * (v25 % 3) + 584;
                      if ( v3 < v0 )
                      {
                        v0 = 70 * (v25 / 3);
                        if ( v24 > v0 + 114 )
                        {
                          v0 += 164;
                          if ( v24 < v0 )
                            break;
                        }
                      }
                    }
                    if ( ++v25 >= v26 )
                      return v0;
                  }
                  sub_416860(19, 0, 0, 0, 0);
                  v0 = 3 * (unsigned __int8)byte_131D68C;
                  dword_48CF68 = byte_48C34C[12 * (unsigned __int8)byte_131D68C + v0 + v25] + 200;
                }
                return v0;
              }
              sub_416860(21, 0, 0, 0, 0);
              byte_131D68C = 4;
            }
            else
            {
              sub_416860(21, 0, 0, 0, 0);
              byte_131D68C = 3;
            }
          }
          else
          {
            sub_416860(21, 0, 0, 0, 0);
            byte_131D68C = 2;
          }
        }
        else
        {
          sub_416860(21, 0, 0, 0, 0);
          byte_131D68C = 1;
        }
      }
      else
      {
        sub_416860(21, 0, 0, 0, 0);
        byte_131D68C = 0;
      }
      sub_444140();
      v3 = dword_49D89C;
      v24 = dword_49D8A0;
      goto LABEL_311;
    case 7:
      if ( v3 <= 658 || v3 >= (unsigned __int16)dword_8D5C5C + 698 )
        goto LABEL_324;
      v0 = dword_49D8A0;
      if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C5C) + 57 )
      {
        sub_416860(12, 0, 0, 0, 0);
        v3 = dword_49D89C;
        byte_1328E45 = 8;
LABEL_324:
        v0 = dword_49D8A0;
      }
      if ( v3 <= 757 || v3 >= 777 )
        goto LABEL_603;
      if ( v0 <= 157 || v0 >= 177 )
      {
        if ( v3 >= 777 || v0 <= 226 || v0 >= 246 )
          goto LABEL_603;
        LOBYTE(dword_132A268) = 2;
      }
      else
      {
        LOBYTE(dword_132A268) = 1;
      }
      return v0;
    case 8:
      if ( v3 <= 497 || v3 >= (unsigned __int16)dword_8D5C50 + 537 )
        goto LABEL_339;
      v27 = dword_49D8A0;
      if ( dword_49D8A0 > 57 )
      {
        v0 = HIWORD(dword_8D5C50) + 57;
        if ( dword_49D8A0 < v0 )
        {
          LOBYTE(v0) = sub_416860(12, 0, 0, 0, 0);
          v3 = dword_49D89C;
          byte_1328E45 = 7;
LABEL_339:
          v27 = dword_49D8A0;
        }
      }
      if ( v3 <= 660 )
        return v0;
      if ( v3 >= (unsigned __int16)dword_8D5D10 + 660 )
        goto LABEL_350;
      if ( v27 <= 198 )
        goto LABEL_350;
      v0 = HIWORD(dword_8D5D10) + 198;
      if ( v27 >= v0 )
        goto LABEL_350;
      LOBYTE(v0) = byte_13225E8;
      if ( !byte_13225E8 )
        goto LABEL_350;
      if ( byte_13225E8 == 1 )
      {
        LOBYTE(v0) = sub_416860(21, 0, 0, 0, 0);
        byte_13225E8 = 2;
      }
      else
      {
        LOBYTE(v0) = byte_13225E8 - 2;
        if ( byte_13225E8 != 2 )
          goto LABEL_350;
        LOBYTE(v0) = sub_416860(21, 0, 0, 0, 0);
        byte_13225E8 = 1;
      }
      v3 = dword_49D89C;
      v27 = dword_49D8A0;
LABEL_350:
      if ( v3 > 660 && v3 < (unsigned __int16)dword_8D5E3C + 660 && v27 > 352 )
      {
        v0 = HIWORD(dword_8D5E3C) + 352;
        if ( v27 < v0 )
        {
          LOBYTE(v0) = byte_13225E9;
          if ( byte_13225E9 )
          {
            if ( byte_13225E9 == 1 )
            {
              LOBYTE(v0) = sub_416860(21, 0, 0, 0, 0);
              byte_13225E9 = 2;
            }
            else
            {
              LOBYTE(v0) = byte_13225E9 - 2;
              if ( byte_13225E9 == 2 )
              {
                LOBYTE(v0) = sub_416860(21, 0, 0, 0, 0);
                byte_13225E9 = 1;
              }
            }
          }
        }
      }
      return v0;
    case 9:
      if ( v3 <= 658 || v3 >= (unsigned __int16)dword_8D5C74 + 698 )
        goto LABEL_364;
      v0 = dword_49D8A0;
      if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C74) + 57 )
      {
        sub_416860(12, 0, 0, 0, 0);
        v3 = dword_49D89C;
        byte_1328E45 = 10;
        byte_133009C = 0;
LABEL_364:
        v0 = dword_49D8A0;
      }
      if ( v3 <= 757 || v3 >= 777 )
        goto LABEL_383;
      if ( v0 <= 329 || v0 >= 349 )
      {
        if ( v3 >= 777 )
          goto LABEL_383;
        if ( v0 <= 403 || v0 >= 423 )
        {
          if ( v3 >= 777 )
            goto LABEL_383;
          if ( v0 <= 120 || v0 >= 140 )
          {
            if ( v3 >= 777 || v0 <= 286 || v0 >= 306 )
            {
LABEL_383:
              v28 = 0;
              v29 = 321;
              do
              {
                x = 538;
                y = v29;
                if ( v3 > 538 && v3 < 758 && v0 > v29 && v0 < v29 + 17 )
                {
                  sub_416860(9, 0, 0, 0, 0);
                  v3 = dword_49D89C;
                  v0 = dword_49D8A0;
                  dword_49D97C = 0;
                  dword_1330028 = v28 + dword_1330024;
                }
                v29 += 17;
                ++v28;
              }
              while ( v29 < 423 );
              return v0;
            }
            sub_416860(23, 0, 0, 0, 0);
            LOBYTE(dword_132A268) = 4;
          }
          else
          {
            sub_416860(23, 0, 0, 0, 0);
            LOBYTE(dword_132A268) = 3;
          }
        }
        else
        {
          sub_416860(23, 0, 0, 0, 0);
          LOBYTE(dword_132A268) = 2;
        }
      }
      else
      {
        sub_416860(23, 0, 0, 0, 0);
        LOBYTE(dword_132A268) = 1;
      }
      v3 = dword_49D89C;
      v0 = dword_49D8A0;
      goto LABEL_383;
    case 0xA:
      if ( v3 <= 497 )
        goto LABEL_396;
      v0 = (unsigned __int16)dword_8D5C68 + 537;
      if ( v3 >= v0 )
        goto LABEL_396;
      v30 = dword_49D8A0;
      if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C68) + 57 )
      {
        LOBYTE(v0) = sub_416860(12, 0, 0, 0, 0);
        v3 = dword_49D89C;
        byte_1328E45 = 9;
        LOBYTE(dword_132A268) = 0;
LABEL_396:
        v30 = dword_49D8A0;
      }
      if ( v3 > 540 && v3 < 560 && v30 > 291 && v30 < 311 )
        byte_133009C ^= 1u;
      if ( (_BYTE)dword_132A268 == 5 )
        return v0;
      if ( v3 <= 644 || v3 >= (unsigned __int16)dword_8D5D1C + 644 || v30 <= 291 || v30 >= HIWORD(dword_8D5D1C) + 291 )
      {
        if ( dword_1330090 != 1
          || v3 <= 700
          || v3 >= (unsigned __int16)dword_8D5D28 + 700
          || v30 <= 291
          || v30 >= HIWORD(dword_8D5D28) + 291 )
        {
          dword_1330068 = 0;
        }
        else
        {
          sub_416860(21, 0, 0, 0, 0);
          v3 = dword_49D89C;
          v30 = dword_49D8A0;
          dword_1330068 = 2;
        }
      }
      else
      {
        sub_416860(21, 0, 0, 0, 0);
        v3 = dword_49D89C;
        v30 = dword_49D8A0;
        dword_1330068 = 1;
      }
      LOBYTE(v0) = dword_1330090;
      if ( dword_1330090 )
      {
        LOBYTE(v0) = dword_1330090 - 1;
        if ( dword_1330090 == 1 )
        {
          if ( v5() != dword_49D030
            && dword_49D89C > 597
            && dword_49D89C < 697
            && dword_49D8A0 > 113
            && dword_49D8A0 < 133 )
          {
            SetFocus(dword_49D030);
          }
          v0 = (int)v5();
          if ( (HWND)v0 != dword_49D028 )
          {
            LOBYTE(v0) = dword_49D89C;
            if ( dword_49D89C > 537 && dword_49D89C < 737 )
            {
              LOBYTE(v0) = dword_49D8A0;
              if ( dword_49D8A0 > 139 && dword_49D8A0 < 339 )
                LOBYTE(v0) = (unsigned int)SetFocus(dword_49D028);
            }
          }
        }
        return v0;
      }
      if ( v3 <= 757 || v3 >= 777 )
        goto LABEL_447;
      if ( v30 <= 329 || v30 >= 349 )
      {
        if ( v3 >= 777 )
          goto LABEL_447;
        if ( v30 <= 403 || v30 >= 423 )
        {
          if ( v3 >= 777 )
            goto LABEL_447;
          if ( v30 <= 146 || v30 >= 166 )
          {
            if ( v3 >= 777 || v30 <= 267 || v30 >= 287 )
            {
LABEL_447:
              v31 = 0;
              v32 = 321;
              do
              {
                x = 538;
                y = v32;
                if ( v3 > 538 && v3 < 748 && dword_49D8A0 > v32 )
                {
                  LOBYTE(v0) = v32 + 17;
                  if ( dword_49D8A0 < v32 + 17 )
                  {
                    LOBYTE(v0) = sub_416860(9, 0, 0, 0, 0);
                    v3 = dword_49D89C;
                    dword_133001C = v31 + dword_1330018;
                    dword_49D97C = 0;
                    if ( dword_49D89C > x + 190 )
                      LOBYTE(dword_132A268) = 5;
                  }
                }
                v32 += 17;
                ++v31;
              }
              while ( v32 < 423 );
              return v0;
            }
            LOBYTE(v0) = sub_416860(23, 0, 0, 0, 0);
            LOBYTE(dword_132A268) = 4;
          }
          else
          {
            LOBYTE(v0) = sub_416860(23, 0, 0, 0, 0);
            LOBYTE(dword_132A268) = 3;
          }
        }
        else
        {
          LOBYTE(v0) = sub_416860(23, 0, 0, 0, 0);
          LOBYTE(dword_132A268) = 2;
        }
      }
      else
      {
        LOBYTE(v0) = sub_416860(23, 0, 0, 0, 0);
        LOBYTE(dword_132A268) = 1;
      }
      v3 = dword_49D89C;
      goto LABEL_447;
    case 0xC:
      LOBYTE(v0) = dword_1330070;
      v33 = 0;
      if ( dword_1330070 )
      {
        if ( v3 > 497 && v3 < (unsigned __int16)dword_8D5C8C + 537 )
        {
          v34 = dword_49D8A0;
          if ( dword_49D8A0 <= 57 || dword_49D8A0 >= HIWORD(dword_8D5C8C) + 57 )
          {
LABEL_463:
            if ( v3 > 760 && v3 < 780 )
            {
              if ( v34 > 142 && v34 < 162 )
              {
                sub_416860(23, 0, 0, 0, 0);
                LOBYTE(dword_132A268) = 1;
LABEL_472:
                v3 = dword_49D89C;
                v34 = dword_49D8A0;
                goto LABEL_473;
              }
              if ( v3 < 780 && v34 > 234 && v34 < 254 )
              {
                sub_416860(23, 0, 0, 0, 0);
                LOBYTE(dword_132A268) = 2;
                goto LABEL_472;
              }
            }
LABEL_473:
            LOBYTE(v0) = dword_13246D8;
            if ( (_BYTE)dword_13246D8 )
              return v0;
            x = 540;
            v0 = 148;
            while ( 1 )
            {
              y = v0;
              if ( v3 > 540 && v3 < 590 && v34 > v0 && v34 < v0 + 50 )
                break;
              v0 += 50;
              ++v33;
              if ( v0 >= 248 )
                return v0;
            }
            sub_416860(16, 0, 0, 0, 0);
            v0 = dword_488500[v33 + dword_132260C + 40 * dword_489040 + 5 * dword_489040];
LABEL_482:
            dword_13246D0 = v0;
LABEL_483:
            dword_13246D4 = 1;
            LOBYTE(dword_13246D8) = 1;
            return v0;
          }
          sub_416860(12, 0, 0, 0, 0);
          v3 = dword_49D89C;
          dword_1330070 = 0;
        }
        v34 = dword_49D8A0;
        goto LABEL_463;
      }
      if ( v3 <= 658 || v3 >= (unsigned __int16)dword_8D5C98 + 698 )
        goto LABEL_489;
      v35 = dword_49D8A0;
      if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C98) + 57 )
      {
        LOBYTE(v0) = sub_416860(12, 0, 0, 0, 0);
        v3 = dword_49D89C;
        dword_1330070 = 1;
LABEL_489:
        v35 = dword_49D8A0;
      }
      if ( v35 <= 284 )
        return v0;
      v36 = 0;
      v37 = dword_48CEC8;
      while ( 1 )
      {
        x = 47 * (v36 % 5) + 537;
        v0 = 47 * (v36 / 5) + 284;
        v14 = *v37 == -1;
        y = 47 * (v36 / 5) + 284;
        if ( !v14 && v3 > 47 * (v36 % 5) + 537 && v3 < 47 * (v36 % 5) + 577 && v35 > v0 )
        {
          v0 = 47 * (v36 / 5) + 324;
          if ( v35 < v0 )
            break;
        }
        v37 += 2;
        ++v36;
        if ( (signed int)v37 >= (signed int)&unk_48CF40 )
          return v0;
      }
      LOBYTE(v0) = sub_416860(16, 0, 0, 0, 0);
      dword_13246D0 = dword_48CEC8[2 * v36];
      dword_13246D4 = 1;
      LOBYTE(dword_13246D8) = 2;
      return v0;
    case 0xD:
      if ( v3 <= 658 || v3 >= (unsigned __int16)dword_8D5CA4 + 698 )
      {
        v38 = dword_49D8A0;
      }
      else
      {
        v38 = dword_49D8A0;
        if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5CA4) + 57 && byte_133005C )
        {
          LOBYTE(v0) = sub_416860(12, 0, 0, 0, 0);
          byte_1328E45 = 14;
          return v0;
        }
      }
      LOBYTE(v0) = dword_13246D8;
      if ( (_BYTE)dword_13246D8 )
        return v0;
      if ( v3 > 545 && v3 < 565 && v38 > 403 && v38 < 423 )
      {
        sub_416860(23, 0, 0, 0, 0);
        LOBYTE(dword_132A268) = 1;
LABEL_528:
        v3 = dword_49D89C;
        v38 = dword_49D8A0;
        goto LABEL_529;
      }
      if ( v3 > 751 && v3 < 771 && v38 > 403 && v38 < 423 )
      {
        sub_416860(23, 0, 0, 0, 0);
        LOBYTE(dword_132A268) = 2;
        goto LABEL_528;
      }
      if ( v3 > 545 && v3 < 565 && v38 > 314 && v38 < 334 )
      {
        sub_416860(23, 0, 0, 0, 0);
        LOBYTE(dword_132A268) = 3;
        goto LABEL_528;
      }
      if ( v3 > 751 && v3 < 771 && v38 > 314 && v38 < 334 )
      {
        sub_416860(23, 0, 0, 0, 0);
        LOBYTE(dword_132A268) = 4;
        goto LABEL_528;
      }
LABEL_529:
      v39 = 0;
      v40 = &dword_48CCE8[40 * dword_1322610];
      while ( 1 )
      {
        if ( *v40 != -1 )
        {
          x = 47 * (v39 % 5) + 537;
          y = 47 * (v39 / 5) + 113;
          if ( v3 > x && v3 < 47 * (v39 % 5) + 577 && v38 > 47 * (v39 / 5) + 113 && v38 < 47 * (v39 / 5) + 153 )
            break;
        }
        ++v39;
        v40 += 2;
        if ( v39 >= 20 )
          goto LABEL_538;
      }
      sub_416860(16, 0, 0, 0, 0);
      v3 = dword_49D89C;
      LOBYTE(dword_13246D8) = 1;
      v41 = 2 * (v39 + 20 * dword_1322610);
      v42 = dword_48CCE8[v41];
      v43 = dword_48CCEC[v41];
      dword_13246D0 = v42;
      dword_13246D4 = v43;
LABEL_538:
      LOBYTE(v0) = dword_132260C;
      v44 = 0;
      v45 = (_DWORD *)(40 * dword_132260C + 4771528);
      while ( 1 )
      {
        if ( *v45 != -1 )
        {
          y = 343;
          v0 = 47 * (v44 % 5) + 536;
          x = 47 * (v44 % 5) + 536;
          if ( v3 > v0 )
          {
            v0 = 47 * (v44 % 5) + 576;
            if ( v3 < v0 )
            {
              LOBYTE(v0) = dword_49D8A0;
              if ( dword_49D8A0 > 343 && dword_49D8A0 < 383 )
                break;
            }
          }
        }
        ++v44;
        v45 += 2;
        if ( v44 >= 5 )
          return v0;
      }
      sub_416860(16, 0, 0, 0, 0);
      LOBYTE(dword_13246D8) = 2;
      v0 = 8 * (v44 + 4 * dword_132260C + dword_132260C);
      v46 = *(int *)((char *)dword_48CECC + v0);
      dword_13246D0 = *(int *)((char *)dword_48CEC8 + v0);
      dword_13246D4 = v46;
      return v0;
    case 0xE:
      if ( v3 > 497 )
      {
        v0 = (unsigned __int16)dword_8D5C80 + 537;
        if ( v3 < v0 )
        {
          LOBYTE(v0) = dword_49D8A0;
          if ( dword_49D8A0 > 57 && dword_49D8A0 < HIWORD(dword_8D5C80) + 57 )
          {
            LOBYTE(v0) = byte_133005C;
            if ( byte_133005C )
            {
              LOBYTE(v0) = sub_416860(12, 0, 0, 0, 0);
              byte_1328E45 = 13;
            }
          }
        }
      }
      return v0;
    case 0xF:
      LOBYTE(v0) = dword_13246D8;
      if ( (_BYTE)dword_13246D8 )
        return v0;
      if ( dword_49D8A0 <= 284 )
      {
        v50 = 0;
        do
        {
          switch ( v50 )
          {
            case 0:
              if ( (unsigned int)(dword_13211C8 - dword_1324F58) > 0xBB8
                && dword_132A270[0] != -1
                && v3 > 540
                && v3 < 580
                && dword_49D8A0 > 118
                && dword_49D8A0 < 158 )
              {
                dword_13246D0 = dword_132A270[0];
                dword_13246D4 = dword_132A274[0];
                LOBYTE(dword_13246D8) = 22;
                sub_416860(16, 0, 0, 0, 0);
                LOBYTE(dword_132A268) = 0;
                LOBYTE(dword_13246A8) = 0;
                goto LABEL_595;
              }
              break;
            case 1:
              if ( (unsigned int)(dword_13211C8 - dword_1324F58) > 0xBB8
                && dword_132A278 != -1
                && v3 > 585
                && v3 < 625
                && dword_49D8A0 > 118
                && dword_49D8A0 < 158 )
              {
                dword_13246D0 = dword_132A278;
                dword_13246D4 = dword_132A27C;
                LOBYTE(dword_13246D8) = 22;
                sub_416860(16, 0, 0, 0, 0);
                LOBYTE(dword_132A268) = 0;
                LOBYTE(dword_13246A8) = 1;
                goto LABEL_595;
              }
              break;
            case 2:
              if ( (unsigned int)(dword_13211C8 - dword_1324F58) > 0xBB8
                && dword_132A280 != -1
                && v3 > 540
                && v3 < 580
                && dword_49D8A0 > 163
                && dword_49D8A0 < 203 )
              {
                dword_13246D0 = dword_132A280;
                dword_13246D4 = dword_132A284;
                LOBYTE(dword_13246D8) = 22;
                sub_416860(16, 0, 0, 0, 0);
                LOBYTE(dword_132A268) = 0;
                LOBYTE(dword_13246A8) = 2;
                goto LABEL_595;
              }
              break;
            case 3:
              if ( (unsigned int)(dword_13211C8 - dword_1324F58) > 0xBB8
                && dword_132A288 != -1
                && v3 > 585
                && v3 < 625
                && dword_49D8A0 > 163
                && dword_49D8A0 < 203 )
              {
                dword_13246D0 = dword_132A288;
                dword_13246D4 = dword_132A28C;
                LOBYTE(dword_13246D8) = 22;
                sub_416860(16, 0, 0, 0, 0);
                LOBYTE(dword_132A268) = 0;
                LOBYTE(dword_13246A8) = 3;
LABEL_595:
                v3 = dword_49D89C;
                v50 = 4;
              }
              break;
            default:
              break;
          }
          ++v50;
        }
        while ( v50 < 4 );
      }
      else
      {
        v47 = 0;
        v48 = dword_48CEC8;
        while ( 1 )
        {
          x = 47 * (v47 % 5) + 537;
          y = 47 * (v47 / 5) + 284;
          if ( (unsigned int)(dword_13211C8 - dword_1324F58) > 0xBB8
            && *v48 != -1
            && v3 > 47 * (v47 % 5) + 537
            && v3 < 47 * (v47 % 5) + 577
            && dword_49D8A0 > 47 * (v47 / 5) + 284
            && dword_49D8A0 < 47 * (v47 / 5) + 324 )
          {
            break;
          }
          v48 += 2;
          ++v47;
          if ( (signed int)v48 >= (signed int)&unk_48CF40 )
          {
            LOBYTE(dword_132A268) = 0;
            goto LABEL_597;
          }
        }
        v49 = dword_48CECC[2 * v47];
        dword_13246D0 = dword_48CEC8[2 * v47];
        dword_13246D4 = v49;
        LOBYTE(dword_13246D8) = 23;
        sub_416860(16, 0, 0, 0, 0);
        v3 = dword_49D89C;
        LOBYTE(dword_132A268) = 0;
      }
LABEL_597:
      LOBYTE(v0) = dword_13211C8 - dword_1324F58;
      if ( (unsigned int)(dword_13211C8 - dword_1324F58) <= 0xBB8
        || v3 <= 615
        || (v0 = (unsigned __int16)dword_13081FC + 615, v3 >= v0)
        || (LOBYTE(v0) = dword_49D8A0, dword_49D8A0 <= 230)
        || dword_49D8A0 >= HIWORD(dword_13081FC) + 230 )
      {
LABEL_603:
        LOBYTE(dword_132A268) = 0;
      }
      else
      {
        LOBYTE(v0) = sub_416860(21, 0, 0, 0, 0);
        LOBYTE(dword_132A268) = 1;
      }
      return v0;
    default:
      return v0;
  }
}
// 489040: using guessed type int dword_489040;
// 48CCE8: using guessed type int dword_48CCE8[];
// 48CE28: using guessed type int dword_48CE28[];
// 48CE2C: using guessed type int dword_48CE2C[];
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CF68: using guessed type int dword_48CF68;
// 48CF6C: using guessed type int dword_48CF6C;
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;
// 48CFC8: using guessed type int dword_48CFC8;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 49D97C: using guessed type int dword_49D97C;
// 8D5BE4: using guessed type int dword_8D5BE4;
// 8D5C08: using guessed type int dword_8D5C08;
// 8D5C14: using guessed type int dword_8D5C14;
// 8D5C20: using guessed type int dword_8D5C20;
// 8D5C2C: using guessed type int dword_8D5C2C;
// 8D5C38: using guessed type int dword_8D5C38;
// 8D5C44: using guessed type int dword_8D5C44;
// 8D5C50: using guessed type int dword_8D5C50;
// 8D5C5C: using guessed type int dword_8D5C5C;
// 8D5C68: using guessed type int dword_8D5C68;
// 8D5C74: using guessed type int dword_8D5C74;
// 8D5C80: using guessed type int dword_8D5C80;
// 8D5C8C: using guessed type int dword_8D5C8C;
// 8D5C98: using guessed type int dword_8D5C98;
// 8D5CA4: using guessed type int dword_8D5CA4;
// 8D5D10: using guessed type int dword_8D5D10;
// 8D5D1C: using guessed type int dword_8D5D1C;
// 8D5D28: using guessed type int dword_8D5D28;
// 8D5E3C: using guessed type int dword_8D5E3C;
// 13081FC: using guessed type int dword_13081FC;
// 131AC00: using guessed type char byte_131AC00;
// 131D68C: using guessed type char byte_131D68C;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13225E8: using guessed type char byte_13225E8;
// 13225E9: using guessed type char byte_13225E9;
// 13225F8: using guessed type int dword_13225F8;
// 132260C: using guessed type int dword_132260C;
// 1322610: using guessed type int dword_1322610;
// 1322680: using guessed type int dword_1322680;
// 13246A8: using guessed type int dword_13246A8;
// 13246D0: using guessed type int dword_13246D0;
// 13246D8: using guessed type int dword_13246D8;
// 1324782: using guessed type char byte_1324782;
// 1324F58: using guessed type int dword_1324F58;
// 1328DB8: using guessed type int dword_1328DB8;
// 1328E45: using guessed type char byte_1328E45;
// 1329448: using guessed type char byte_1329448;
// 1329F6C: using guessed type int dword_1329F6C;
// 132A268: using guessed type int dword_132A268;
// 132A270: using guessed type int dword_132A270[];
// 132A274: using guessed type int dword_132A274[];
// 132A278: using guessed type int dword_132A278;
// 132A27C: using guessed type int dword_132A27C;
// 132A280: using guessed type int dword_132A280;
// 132A284: using guessed type int dword_132A284;
// 132A288: using guessed type int dword_132A288;
// 132A28C: using guessed type int dword_132A28C;
// 132A2B8: using guessed type int dword_132A2B8;
// 1330018: using guessed type int dword_1330018;
// 133001C: using guessed type int dword_133001C;
// 1330024: using guessed type int dword_1330024;
// 1330028: using guessed type int dword_1330028;
// 1330030: using guessed type char byte_1330030;
// 1330040: using guessed type int dword_1330040;
// 133005C: using guessed type char byte_133005C;
// 1330060: using guessed type int dword_1330060;
// 1330068: using guessed type int dword_1330068;
// 1330070: using guessed type int dword_1330070;
// 1330074: using guessed type int dword_1330074;
// 1330090: using guessed type int dword_1330090;
// 1330094: using guessed type char byte_1330094;
// 133009C: using guessed type char byte_133009C;
// 1550B62: using guessed type int dword_1550B62;

//----- (00446640) --------------------------------------------------------
void sub_446640()
{
  int v0; // esi
  int v1; // ebp
  char v2; // bl
  char v3; // al
  char *v4; // ecx
  _BYTE *v5; // ebp
  char v6; // al
  int v7; // ebx
  int v8; // edx
  int *v9; // eax
  int *v10; // eax
  char v11; // al
  int *v12; // eax
  int *v13; // eax
  char v14; // al
  int v15; // edx
  int *v16; // eax
  int *v17; // eax
  signed int v18; // edi
  signed int v19; // ecx
  int *v20; // eax
  int *v21; // eax
  int v22; // ecx
  int *v23; // eax
  int *v24; // eax
  char v25; // al
  int v26; // edx
  int *v27; // eax
  int *v28; // eax
  char v29; // al
  signed int v30; // edi
  signed int v31; // ecx
  int *v32; // eax
  int *v33; // eax
  int v34; // ecx
  int *v35; // eax
  int *v36; // eax
  int v37; // edx
  int *v38; // eax
  int *v39; // eax
  int v40; // edx
  int *v41; // eax
  int *v42; // eax
  int v43; // edx
  int *v44; // eax
  int *v45; // eax
  int *v46; // eax
  int *v47; // eax
  char v48; // al
  signed int v49; // edi
  signed int v50; // ecx
  int *v51; // eax
  int *v52; // eax
  char v53; // cl
  int v54; // ecx
  int *v55; // eax
  int *v56; // eax
  int v57; // edx
  int *v58; // eax
  int *v59; // eax
  double v60; // st7
  double v61; // st7
  double v62; // st6
  double v63; // st6
  char v64; // al
  int v65; // ecx
  int *v66; // eax
  int *v67; // eax
  double v68; // st7
  double v69; // st7
  double v70; // st6
  double v71; // st6
  int v72; // ecx
  int *v73; // eax
  int *v74; // eax
  double v75; // st7
  double v76; // st7
  double v77; // st6
  double v78; // st6
  int v79; // ecx
  int *v80; // eax
  int *v81; // eax
  double v82; // st7
  double v83; // st7
  double v84; // st6
  double v85; // st6
  int v86; // ecx
  int v87; // edx
  int v88; // ebp
  int v89; // ebx
  int v90; // edi
  CHAR *v91; // edx
  CHAR *v92; // edi
  int v93; // ecx
  int v94; // eax
  int v95; // eax
  int v96; // ecx
  int v97; // eax
  int v98; // edx
  int *v99; // eax
  int *v100; // eax
  int *v101; // eax
  int v102; // ecx
  int *v103; // eax
  int *v104; // eax
  double v105; // st7
  double v106; // st7
  double v107; // st6
  double v108; // st6
  int v109; // eax
  int v110; // ecx
  int *v111; // eax
  int *v112; // eax
  double v113; // st7
  double v114; // st7
  double v115; // st6
  double v116; // st6
  int v117; // ecx
  int *v118; // eax
  int *v119; // eax
  double v120; // st7
  double v121; // st7
  double v122; // st6
  double v123; // st6
  int v124; // esi
  int v125; // edi
  int v126; // eax
  int *v127; // ecx
  double v128; // st7
  double v129; // st6
  double v130; // st5
  double v131; // st5
  int v132; // eax
  int *v133; // ecx
  double v134; // st7
  double v135; // st6
  double v136; // st5
  double v137; // st5
  int v138; // ecx
  int *v139; // eax
  int *v140; // eax
  double v141; // st7
  double v142; // st7
  double v143; // st6
  double v144; // st6
  unsigned __int16 v145; // cx
  int *v146; // eax
  int *v147; // eax
  LPCSTR v148; // ecx
  LPCSTR v149; // ecx
  float v150; // [esp+10h] [ebp-10h]
  float v151; // [esp+10h] [ebp-10h]
  float v152; // [esp+10h] [ebp-10h]
  float v153; // [esp+10h] [ebp-10h]
  float v154; // [esp+10h] [ebp-10h]
  float v155; // [esp+10h] [ebp-10h]
  float v156; // [esp+10h] [ebp-10h]
  float v157; // [esp+10h] [ebp-10h]
  signed int v158; // [esp+14h] [ebp-Ch]
  float v159; // [esp+14h] [ebp-Ch]
  float v160; // [esp+14h] [ebp-Ch]
  _BYTE *v161; // [esp+1Ch] [ebp-4h]

  if ( (_BYTE)dword_1330040 )
    LOBYTE(dword_1330040) = 0;
  if ( byte_1330094 )
  {
    if ( dword_49D89C <= 435 || dword_49D89C >= 485 || dword_49D8A0 <= 278 || dword_49D8A0 >= 299 )
    {
      if ( dword_49D89C <= 492 || dword_49D89C >= 542 || dword_49D8A0 <= 278 || dword_49D8A0 >= 299 )
        goto LABEL_15;
      byte_1330095 = 2;
    }
    else
    {
      byte_1330095 = 1;
    }
    sub_416860(22, 0, 0, 0, 0);
LABEL_15:
    if ( byte_1330121 )
      byte_1330095 = 1;
    if ( byte_133012F )
      byte_1330095 = 2;
    dword_1329F6C = 0;
    return;
  }
  if ( dword_132A2B8 )
  {
    if ( dword_49D89C > 627 && dword_49D89C < 657 && dword_49D8A0 > 214 && dword_49D8A0 < 224 )
    {
      dword_132A2B8 = 0;
      LOBYTE(dword_13246D8) = 0;
    }
    return;
  }
  if ( dword_1322680 != 1 && dword_1322680 != 4 )
  {
    switch ( byte_1328E45 )
    {
      case 1:
        if ( !dword_1330074 )
          return;
        switch ( BYTE2(dword_132A268) )
        {
          case 1:
            if ( dword_49D89C > 633 && dword_49D89C < 653 && dword_49D8A0 > 212 && dword_49D8A0 < 232 )
            {
              sub_416860(23, 0, 0, 0, 0);
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOWORD(dword_1550B62) = 40;
              break;
            }
LABEL_69:
            BYTE2(dword_132A268) = 0;
            return;
          case 2:
            if ( dword_49D89C <= 633 || dword_49D89C >= 653 || dword_49D8A0 <= 234 || dword_49D8A0 >= 254 )
              goto LABEL_69;
            sub_416860(23, 0, 0, 0, 0);
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOWORD(dword_1550B62) = 296;
            break;
          case 3:
            if ( dword_49D89C <= 633 || dword_49D89C >= 653 || dword_49D8A0 <= 256 || dword_49D8A0 >= 276 )
              goto LABEL_69;
            sub_416860(23, 0, 0, 0, 0);
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOWORD(dword_1550B62) = 552;
            break;
          case 4:
            if ( dword_49D89C <= 633 || dword_49D89C >= 653 || dword_49D8A0 <= 278 || dword_49D8A0 >= 298 )
              goto LABEL_69;
            sub_416860(23, 0, 0, 0, 0);
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOWORD(dword_1550B62) = 808;
            break;
          case 6:
            if ( dword_49D89C <= 748 || dword_49D89C >= 768 || dword_49D8A0 <= 329 || dword_49D8A0 >= 349 )
              goto LABEL_69;
            sub_416860(23, 0, 0, 0, 0);
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOWORD(dword_1550B62) = 1320;
            break;
          default:
            if ( BYTE2(dword_132A268) == 5
              && dword_49D89C > 748
              && dword_49D89C < 768
              && dword_49D8A0 > 351
              && dword_49D8A0 < 371 )
            {
              sub_416860(23, 0, 0, 0, 0);
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOWORD(dword_1550B62) = 1576;
              sub_479790(4);
              if ( (unsigned int)dword_1330074 > 0 )
              {
LABEL_68:
                --dword_1330074;
                goto LABEL_69;
              }
            }
            goto LABEL_69;
        }
        sub_479790(4);
        if ( (unsigned int)dword_1330074 <= 0 )
          goto LABEL_69;
        goto LABEL_68;
      case 2:
        v0 = 0;
        v1 = 0;
        while ( 2 )
        {
          v2 = byte_48C398[v1];
          if ( v2 != (unsigned __int8)dword_132A268 )
            goto LABEL_78;
          x = 85 * (v0 % 3) + 534;
          y = 70 * (v0 / 3) + 114;
          if ( dword_49D89C <= x
            || dword_49D89C >= 85 * (v0 % 3) + 584
            || dword_49D8A0 <= 70 * (v0 / 3) + 114
            || dword_49D8A0 >= 70 * (v0 / 3) + 164
            || !v2 )
          {
            ++v0;
LABEL_78:
            if ( ++v1 >= 14 )
            {
              dword_48CF68 = -1;
              return;
            }
            continue;
          }
          break;
        }
        if ( dword_48CF6C == dword_48CF68 )
        {
          dword_48CF6C = -1;
          sub_416860(20, 0, 0, 0, 0);
        }
        else
        {
          dword_48CF6C = dword_48CF68;
        }
        dword_48CF68 = -1;
        return;
      case 3:
        if ( (unsigned __int8)dword_13246D8 == 1 )
        {
          sub_416860(10, 0, 0, 0, 0);
          if ( (dword_48CF80 == -1 || *((_BYTE *)dword_1308324 + 68 * dword_48CF80) != 8)
            && (dword_48CF7C == -1 || *((_BYTE *)dword_1308324 + 68 * dword_48CF7C) != 30)
            || (v64 = *((_BYTE *)dword_1308324 + 68 * dword_13246D0), v64 != 12) && v64 != 13 )
          {
            if ( dword_49D89C > 504 && dword_49D8A0 > 284 )
            {
              v65 = 0;
              v66 = dword_48CEC8;
              while ( v66 != (int *)&unk_48CF40 )
              {
                if ( *v66 != dword_13246D0 )
                {
                  v66 += 2;
                  ++v65;
                  if ( (signed int)v66 < (signed int)&unk_48CF48 )
                    continue;
                }
                goto LABEL_368;
              }
              v65 = 0;
              v67 = dword_48CEC8;
              do
              {
                if ( *v67 == -1 )
                  break;
                v67 += 2;
                ++v65;
              }
              while ( (signed int)v67 < (signed int)&unk_48CF40 );
LABEL_368:
              if ( v65 == 15 )
                goto LABEL_688;
              *(float *)&dword_1328DF4 = (double)(47 * (v65 % 5) + 537);
              *(float *)&dword_1328DF8 = (double)(47 * (v65 / 5) + 284);
              flt_13246B4 = (double)(dword_49D89C - 20);
              flt_13246B0 = (double)(dword_49D8A0 - 20);
              v68 = *(float *)&dword_1328DF4 - flt_13246B4;
              v151 = v68;
              flt_132FFF8 = (double)(signed int)abs((unsigned int)(signed __int64)v68);
              v69 = *(float *)&dword_1328DF8 - flt_13246B0;
              v70 = (double)(signed int)abs((unsigned int)(signed __int64)v69);
              if ( flt_132FFF8 <= v70 )
              {
                flt_132FFF4 = 1.0;
                flt_132FFF8 = flt_132FFF8 / v70;
              }
              else
              {
                v71 = v70 / flt_132FFF8;
                flt_132FFF8 = 1.0;
                flt_132FFF4 = v71;
              }
              if ( v151 < 0.0 )
                flt_132FFF8 = flt_132FFF8 * -1.0;
              if ( v69 < 0.0 )
                flt_132FFF4 = flt_132FFF4 * -1.0;
              LOBYTE(dword_13246D8) = 3;
              HIBYTE(dword_13246DC) = 0;
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              dword_1550B62 = 64;
              byte_1550B66 = 0;
              LOWORD(dword_1550B67) = 512;
              BYTE2(dword_1550B67) = HIBYTE(dword_13246D0);
              HIBYTE(dword_1550B67) = BYTE2(dword_13246D0);
              LOBYTE(dword_1550B6B) = BYTE1(dword_13246D0);
              BYTE1(dword_1550B6B) = dword_13246D0;
LABEL_377:
              HIWORD(dword_1550B6B) = 0;
              byte_1550B6F = 0;
              byte_1550B70 = 0;
              byte_1550B71 = 0;
              sub_479790(18);
              return;
            }
          }
        }
        else
        {
          if ( (unsigned __int8)dword_13246D8 != 2 )
            return;
          if ( dword_49D89C > 504 && dword_49D8A0 < 284 )
          {
            v3 = *((_BYTE *)dword_1308324 + 68 * dword_13246D0);
            v4 = (char *)dword_1308324 + 68 * dword_13246D0;
            if ( v3 == 16 )
            {
              if ( (signed int)(unsigned __int16)dword_13246DC < *((_DWORD *)v4 + 16) )
                goto LABEL_688;
LABEL_97:
              v158 = -1;
              sub_416860(10, 0, 0, 0, 0);
              v5 = dword_1308324;
              v161 = (char *)dword_1308324 + 68 * dword_13246D0;
              switch ( *v161 )
              {
                case 0:
                case 1:
                case 4:
                case 5:
                case 6:
                  if ( dword_48CF8C != -1 )
                  {
                    v25 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                    if ( v25 == 12 || v25 == 13 )
                      goto LABEL_688;
                  }
                  v7 = dword_48CF80;
                  dword_1328DF4 = 1142013952;
                  dword_1328DF8 = 1126236160;
                  if ( dword_48CF80 == -1 )
                    goto LABEL_337;
                  v26 = 0;
                  v27 = dword_48CEC8;
                  while ( v27 != (int *)&unk_48CF40 )
                  {
                    if ( *v27 != dword_48CF80 && (*v27 != dword_13246D0 || v27[1] >= 2) )
                    {
                      v27 += 2;
                      ++v26;
                      if ( (signed int)v27 < (signed int)&unk_48CF48 )
                        continue;
                    }
                    goto LABEL_190;
                  }
                  v26 = 0;
                  v28 = dword_48CEC8;
                  do
                  {
                    if ( *v28 == -1 )
                      break;
                    v28 += 2;
                    ++v26;
                  }
                  while ( (signed int)v28 < (signed int)&unk_48CF40 );
LABEL_190:
                  if ( v26 != 15 )
                    goto LABEL_337;
                  goto LABEL_688;
                case 2:
                case 3:
                case 7:
                  goto LABEL_193;
                case 8:
                  if ( dword_48CF8C == -1 )
                    goto LABEL_688;
                  v14 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                  if ( v14 != 12 && v14 != 13 )
                    goto LABEL_688;
                  v7 = dword_48CF80;
                  dword_1328DF4 = 1142013952;
                  dword_1328DF8 = 1126236160;
                  if ( dword_48CF80 == -1 )
                    goto LABEL_337;
                  v15 = 0;
                  v16 = dword_48CEC8;
                  while ( v16 != (int *)&unk_48CF40 )
                  {
                    if ( *v16 != dword_48CF80 && (*v16 != dword_13246D0 || v16[1] >= 2) )
                    {
                      v16 += 2;
                      ++v15;
                      if ( (signed int)v16 < (signed int)&unk_48CF48 )
                        continue;
                    }
                    goto LABEL_143;
                  }
                  v15 = 0;
                  v17 = dword_48CEC8;
                  do
                  {
                    if ( *v17 == -1 )
                      break;
                    v17 += 2;
                    ++v15;
                  }
                  while ( (signed int)v17 < (signed int)&unk_48CF40 );
LABEL_143:
                  if ( v15 != 15 )
                    goto LABEL_337;
                  goto LABEL_688;
                case 9:
                  if ( byte_1324782 == 2 )
                    goto LABEL_688;
LABEL_193:
                  if ( dword_48CF8C != -1 )
                  {
                    v29 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                    if ( v29 == 12 || v29 == 13 )
                      goto LABEL_688;
                  }
                  v7 = dword_48CF80;
                  v30 = -1;
                  dword_1328DF4 = 1142013952;
                  dword_1328DF8 = 1126236160;
                  if ( dword_48CF80 == -1 )
                    goto LABEL_210;
                  v31 = 0;
                  v32 = dword_48CEC8;
                  while ( 2 )
                  {
                    if ( v32 == (int *)&unk_48CF40 )
                    {
                      v31 = 0;
                      v33 = dword_48CEC8;
                      while ( *v33 != -1 )
                      {
                        v33 += 2;
                        ++v31;
                        if ( (signed int)v33 >= (signed int)&unk_48CF40 )
                          goto LABEL_209;
                      }
                    }
                    else if ( *v32 != dword_48CF80 && (*v32 != dword_13246D0 || v32[1] >= 2) )
                    {
                      v32 += 2;
                      ++v31;
                      if ( (signed int)v32 >= (signed int)&unk_48CF48 )
                        goto LABEL_209;
                      continue;
                    }
                    break;
                  }
                  v30 = v31;
LABEL_209:
                  if ( v31 == 15 )
                    goto LABEL_688;
LABEL_210:
                  if ( dword_48CF90 != -1 && byte_1324782 != 2 )
                  {
                    v34 = 0;
                    v35 = dword_48CEC8;
                    while ( v35 != (int *)&unk_48CF40 )
                    {
                      if ( v30 == v34 || *v35 != dword_48CF90 && (*v35 != dword_13246D0 || v35[1] >= 2) )
                      {
                        v35 += 2;
                        ++v34;
                        if ( (signed int)v35 < (signed int)&unk_48CF48 )
                          continue;
                      }
                      goto LABEL_224;
                    }
                    v34 = 0;
                    v36 = dword_48CEC8;
                    do
                    {
                      if ( v34 != v30 && *v36 == -1 )
                        break;
                      v36 += 2;
                      ++v34;
                    }
                    while ( (signed int)v36 < (signed int)&unk_48CF40 );
LABEL_224:
                    if ( v34 == 15 )
                      goto LABEL_688;
                  }
                  v5 = dword_1308324;
                  v158 = dword_48CF90;
                  goto LABEL_337;
                case 10:
                  if ( byte_1324782 != 2 )
                    goto LABEL_688;
                  v7 = dword_48CF80;
                  v18 = -1;
                  dword_1328DF4 = 1142013952;
                  dword_1328DF8 = 1126236160;
                  if ( dword_48CF80 == -1 )
                    goto LABEL_160;
                  v19 = 0;
                  v20 = dword_48CEC8;
                  while ( 2 )
                  {
                    if ( v20 == (int *)&unk_48CF40 )
                    {
                      v19 = 0;
                      v21 = dword_48CEC8;
                      while ( *v21 != -1 )
                      {
                        v21 += 2;
                        ++v19;
                        if ( (signed int)v21 >= (signed int)&unk_48CF40 )
                          goto LABEL_159;
                      }
                    }
                    else if ( *v20 != dword_48CF80 && (*v20 != dword_13246D0 || v20[1] >= 2) )
                    {
                      v20 += 2;
                      ++v19;
                      if ( (signed int)v20 >= (signed int)&unk_48CF48 )
                        goto LABEL_159;
                      continue;
                    }
                    break;
                  }
                  v18 = v19;
LABEL_159:
                  if ( v19 == 15 )
                    goto LABEL_688;
LABEL_160:
                  if ( dword_48CF90 == -1 )
                  {
                    v5 = dword_1308324;
                    v158 = -1;
                    goto LABEL_337;
                  }
                  v22 = 0;
                  v23 = dword_48CEC8;
                  while ( v23 != (int *)&unk_48CF40 )
                  {
                    if ( v22 == v18 || *v23 != dword_48CF90 && (*v23 != dword_13246D0 || v23[1] >= 2) )
                    {
                      v23 += 2;
                      ++v22;
                      if ( (signed int)v23 < (signed int)&unk_48CF48 )
                        continue;
                    }
                    goto LABEL_173;
                  }
                  v22 = 0;
                  v24 = dword_48CEC8;
                  do
                  {
                    if ( v22 != v18 && *v24 == -1 )
                      break;
                    v24 += 2;
                    ++v22;
                  }
                  while ( (signed int)v24 < (signed int)&unk_48CF40 );
LABEL_173:
                  if ( v22 != 15 )
                  {
                    v5 = dword_1308324;
                    v158 = dword_48CF90;
                    goto LABEL_337;
                  }
                  goto LABEL_688;
                case 11:
                  v158 = -1;
                  if ( dword_48CF80 != -1 && *((_BYTE *)dword_1308324 + 68 * dword_48CF80) == 8
                    || dword_48CF7C != -1 && *((_BYTE *)dword_1308324 + 68 * dword_48CF7C) == 30 )
                  {
                    goto LABEL_688;
                  }
                  v7 = dword_48CF8C;
                  if ( dword_48CF8C == -1 )
                    goto LABEL_286;
                  v43 = 0;
                  v46 = dword_48CEC8;
                  while ( v46 != (int *)&unk_48CF40 )
                  {
                    if ( *v46 != dword_48CF8C && (*v46 != dword_13246D0 || v46[1] >= 2) )
                    {
                      v46 += 2;
                      ++v43;
                      if ( (signed int)v46 < (signed int)&unk_48CF48 )
                        continue;
                    }
                    goto LABEL_285;
                  }
                  v43 = 0;
                  v47 = dword_48CEC8;
                  do
                  {
                    if ( *v47 == -1 )
                      break;
                    v47 += 2;
                    ++v43;
                  }
                  while ( (signed int)v47 < (signed int)&unk_48CF40 );
                  goto LABEL_285;
                case 12:
                case 13:
                  if ( byte_1324782 == 2
                    || dword_48CF80 != -1 && *((_BYTE *)dword_1308324 + 68 * dword_48CF80) != 8
                    || dword_48CF90 != -1
                    || dword_48CF7C != -1 && *((_BYTE *)dword_1308324 + 68 * dword_48CF7C) != 30 )
                  {
                    goto LABEL_688;
                  }
                  v7 = dword_48CF8C;
                  if ( dword_48CF8C == -1 )
                    goto LABEL_286;
                  v43 = 0;
                  v44 = dword_48CEC8;
                  while ( v44 != (int *)&unk_48CF40 )
                  {
                    if ( *v44 != dword_48CF8C && (*v44 != dword_13246D0 || v44[1] >= 2) )
                    {
                      v44 += 2;
                      ++v43;
                      if ( (signed int)v44 < (signed int)&unk_48CF48 )
                        continue;
                    }
                    goto LABEL_285;
                  }
                  v43 = 0;
                  v45 = dword_48CEC8;
                  do
                  {
                    if ( *v45 == -1 )
                      break;
                    v45 += 2;
                    ++v43;
                  }
                  while ( (signed int)v45 < (signed int)&unk_48CF40 );
LABEL_285:
                  if ( v43 == 15 )
                    goto LABEL_688;
LABEL_286:
                  dword_1328DF4 = 1142800384;
                  goto LABEL_336;
                case 14:
                  if ( dword_48CF8C != -1 )
                  {
                    v48 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                    if ( v48 == 12 || v48 == 13 )
                      goto LABEL_688;
                  }
                  v7 = dword_48CF90;
                  v49 = -1;
                  if ( dword_48CF90 == -1 )
                    goto LABEL_304;
                  v50 = 0;
                  v51 = dword_48CEC8;
                  while ( 2 )
                  {
                    if ( v51 == (int *)&unk_48CF40 )
                    {
                      v50 = 0;
                      v52 = dword_48CEC8;
                      while ( *v52 != -1 )
                      {
                        v52 += 2;
                        ++v50;
                        if ( (signed int)v52 >= (signed int)&unk_48CF40 )
                          goto LABEL_303;
                      }
                    }
                    else if ( *v51 != dword_48CF90 && (*v51 != dword_13246D0 || v51[1] >= 2) )
                    {
                      v51 += 2;
                      ++v50;
                      if ( (signed int)v51 >= (signed int)&unk_48CF48 )
                        goto LABEL_303;
                      continue;
                    }
                    break;
                  }
                  v49 = v50;
LABEL_303:
                  if ( v50 == 15 )
                    goto LABEL_688;
LABEL_304:
                  v53 = *((_BYTE *)dword_1308324 + 68 * dword_48CF80);
                  switch ( v53 )
                  {
                    case 2:
                    case 3:
                    case 7:
                    case 9:
                    case 10:
                      if ( byte_1324782 != 2 || v53 == 10 )
                      {
                        v54 = 0;
                        v55 = dword_48CEC8;
                        while ( v55 != (int *)&unk_48CF40 )
                        {
                          if ( v54 == v49 || *v55 != dword_48CF80 && (*v55 != dword_13246D0 || v55[1] >= 2) )
                          {
                            v55 += 2;
                            ++v54;
                            if ( (signed int)v55 < (signed int)&unk_48CF48 )
                              continue;
                          }
                          goto LABEL_319;
                        }
                        v54 = 0;
                        v56 = dword_48CEC8;
                        do
                        {
                          if ( v54 != v49 && *v56 == -1 )
                            break;
                          v56 += 2;
                          ++v54;
                        }
                        while ( (signed int)v56 < (signed int)&unk_48CF40 );
LABEL_319:
                        if ( v54 == 15 )
                          goto LABEL_688;
                      }
                      v158 = dword_48CF80;
                      break;
                    default:
                      v158 = -1;
                      break;
                  }
                  v5 = dword_1308324;
                  dword_1328DF4 = 1143570432;
                  dword_1328DF8 = 1126236160;
                  goto LABEL_337;
                case 15:
                  if ( dword_48CF8C != -1 )
                  {
                    v11 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                    if ( v11 == 12 || v11 == 13 )
                      goto LABEL_688;
                  }
                  v7 = dword_48CF7C;
                  if ( dword_48CF7C == -1 )
                    goto LABEL_128;
                  v8 = 0;
                  v12 = dword_48CEC8;
                  while ( v12 != (int *)&unk_48CF40 )
                  {
                    if ( *v12 != dword_48CF7C && (*v12 != dword_13246D0 || v12[1] >= 2) )
                    {
                      v12 += 2;
                      ++v8;
                      if ( (signed int)v12 < (signed int)&unk_48CF48 )
                        continue;
                    }
                    goto LABEL_127;
                  }
                  v8 = 0;
                  v13 = dword_48CEC8;
                  do
                  {
                    if ( *v13 == -1 )
                      break;
                    v13 += 2;
                    ++v8;
                  }
                  while ( (signed int)v13 < (signed int)&unk_48CF40 );
                  goto LABEL_127;
                case 16:
                  v7 = dword_48CF84;
                  if ( dword_48CF84 == -1 )
                    goto LABEL_238;
                  v37 = 0;
                  v38 = dword_48CEC8;
                  while ( v38 != (int *)&unk_48CF40 )
                  {
                    if ( *v38 != dword_48CF84 && (*v38 != dword_13246D0 || v38[1] >= 2) )
                    {
                      v38 += 2;
                      ++v37;
                      if ( (signed int)v38 < (signed int)&unk_48CF48 )
                        continue;
                    }
                    goto LABEL_237;
                  }
                  v37 = 0;
                  v39 = dword_48CEC8;
                  do
                  {
                    if ( *v39 == -1 )
                      break;
                    v39 += 2;
                    ++v37;
                  }
                  while ( (signed int)v39 < (signed int)&unk_48CF40 );
LABEL_237:
                  if ( v37 == 15 )
                    goto LABEL_688;
LABEL_238:
                  dword_1328DF4 = 1142013952;
                  goto LABEL_336;
                case 17:
                  v7 = dword_48CF94;
                  if ( dword_48CF94 == -1 )
                    goto LABEL_335;
                  v57 = 0;
                  v58 = dword_48CEC8;
                  while ( v58 != (int *)&unk_48CF40 )
                  {
                    if ( *v58 != dword_48CF94 && (*v58 != dword_13246D0 || v58[1] >= 2) )
                    {
                      v58 += 2;
                      ++v57;
                      if ( (signed int)v58 < (signed int)&unk_48CF48 )
                        continue;
                    }
                    goto LABEL_334;
                  }
                  v57 = 0;
                  v59 = dword_48CEC8;
                  do
                  {
                    if ( *v59 == -1 )
                      break;
                    v59 += 2;
                    ++v57;
                  }
                  while ( (signed int)v59 < (signed int)&unk_48CF40 );
LABEL_334:
                  if ( v57 == 15 )
                    goto LABEL_688;
LABEL_335:
                  dword_1328DF4 = 1143570432;
LABEL_336:
                  dword_1328DF8 = 1129316352;
                  goto LABEL_337;
                case 18:
                  v7 = dword_48CF88;
                  if ( dword_48CF88 == -1 )
                    goto LABEL_251;
                  v40 = 0;
                  v41 = dword_48CEC8;
                  while ( v41 != (int *)&unk_48CF40 )
                  {
                    if ( *v41 != dword_48CF88 && (*v41 != dword_13246D0 || v41[1] >= 2) )
                    {
                      v41 += 2;
                      ++v40;
                      if ( (signed int)v41 < (signed int)&unk_48CF48 )
                        continue;
                    }
                    goto LABEL_250;
                  }
                  v40 = 0;
                  v42 = dword_48CEC8;
                  do
                  {
                    if ( *v42 == -1 )
                      break;
                    v42 += 2;
                    ++v40;
                  }
                  while ( (signed int)v42 < (signed int)&unk_48CF40 );
LABEL_250:
                  if ( v40 == 15 )
                    goto LABEL_688;
LABEL_251:
                  dword_1328DF4 = 1142800384;
                  dword_1328DF8 = 1126236160;
                  goto LABEL_337;
                case 30:
                  if ( dword_48CF8C == -1 )
                    goto LABEL_688;
                  v6 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                  if ( v6 != 12 && v6 != 13 )
                    goto LABEL_688;
                  v7 = dword_48CF7C;
                  if ( dword_48CF7C == -1 )
                    goto LABEL_128;
                  v8 = 0;
                  v9 = dword_48CEC8;
                  break;
                default:
                  goto LABEL_688;
              }
              while ( v9 != (int *)&unk_48CF40 )
              {
                if ( *v9 != dword_48CF7C && (*v9 != dword_13246D0 || v9[1] >= 2) )
                {
                  v9 += 2;
                  ++v8;
                  if ( (signed int)v9 < (signed int)&unk_48CF48 )
                    continue;
                }
                goto LABEL_127;
              }
              v8 = 0;
              v10 = dword_48CEC8;
              do
              {
                if ( *v10 == -1 )
                  break;
                v10 += 2;
                ++v8;
              }
              while ( (signed int)v10 < (signed int)&unk_48CF40 );
LABEL_127:
              if ( v8 == 15 )
                goto LABEL_688;
LABEL_128:
              dword_1328DF4 = 1142800384;
              dword_1328DF8 = 1122238464;
LABEL_337:
              flt_13246B4 = (double)(dword_49D89C - 20);
              flt_13246B0 = (double)(dword_49D8A0 - 20);
              v60 = *(float *)&dword_1328DF4 - flt_13246B4;
              v150 = v60;
              flt_132FFF8 = (double)(signed int)abs((unsigned int)(signed __int64)v60);
              v61 = *(float *)&dword_1328DF8 - flt_13246B0;
              v62 = (double)(signed int)abs((unsigned int)(signed __int64)v61);
              if ( flt_132FFF8 <= v62 )
              {
                flt_132FFF4 = 1.0;
                flt_132FFF8 = flt_132FFF8 / v62;
              }
              else
              {
                v63 = v62 / flt_132FFF8;
                flt_132FFF8 = 1.0;
                flt_132FFF4 = v63;
              }
              if ( v150 < 0.0 )
                flt_132FFF8 = flt_132FFF8 * -1.0;
              if ( v61 < 0.0 )
                flt_132FFF4 = flt_132FFF4 * -1.0;
              LOBYTE(dword_13246D8) = 4;
              BYTE2(dword_1550B62) = HIBYTE(dword_13246D0);
              HIBYTE(dword_13246DC) = 0;
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOWORD(dword_1550B62) = 320;
              HIBYTE(dword_1550B62) = BYTE2(dword_13246D0);
              byte_1550B66 = BYTE1(dword_13246D0);
              LOBYTE(dword_1550B67) = dword_13246D0;
              if ( v7 == -1 )
              {
                *(_WORD *)((char *)&dword_1550B67 + 1) = 0;
                HIBYTE(dword_1550B67) = 0;
                LOWORD(dword_1550B6B) = 0;
              }
              else
              {
                BYTE1(dword_1550B67) = 2;
                BYTE2(dword_1550B67) = HIBYTE(v7);
                HIBYTE(dword_1550B67) = BYTE2(v7);
                LOBYTE(dword_1550B6B) = BYTE1(v7);
                BYTE1(dword_1550B6B) = v7;
              }
              if ( v158 != -1 && (byte_1324782 != 2 || *v161 == 10 || v5[68 * v158] == 10) )
              {
                HIBYTE(dword_1550B6B) = HIBYTE(v158);
                BYTE2(dword_1550B6B) = 2;
                byte_1550B6F = BYTE2(v158);
                byte_1550B70 = BYTE1(v158);
                byte_1550B71 = v158;
                sub_479790(18);
                return;
              }
              goto LABEL_377;
            }
            if ( v3 > 16 && v3 <= 18 )
              goto LABEL_97;
            if ( HIWORD(dword_13246D8) >= (signed int)*((signed __int16 *)v4 + 24)
              && (unsigned __int16)word_132A2B6 >= (signed int)*((signed __int16 *)v4 + 25)
              && (unsigned __int16)word_13226AA >= (signed int)*((signed __int16 *)v4 + 26) )
            {
              if ( HIWORD(dword_13246A4) < (signed int)*((signed __int16 *)v4 + 27) )
              {
                LOBYTE(dword_13246D8) = 0;
                return;
              }
              goto LABEL_97;
            }
          }
        }
        goto LABEL_688;
      case 4:
        if ( (_BYTE)dword_13246D8 == 1 )
        {
          if ( dword_49D89C <= 504 || dword_49D8A0 <= 284 )
            return;
          v72 = 0;
          v73 = dword_48CEC8;
          while ( v73 != (int *)&unk_48CF40 )
          {
            if ( *v73 != dword_13246D0 )
            {
              v73 += 2;
              ++v72;
              if ( (signed int)v73 < (signed int)&unk_48CF48 )
                continue;
            }
            goto LABEL_389;
          }
          v72 = 0;
          v74 = dword_48CEC8;
          do
          {
            if ( *v74 == -1 )
              break;
            v74 += 2;
            ++v72;
          }
          while ( (signed int)v74 < (signed int)&unk_48CF40 );
LABEL_389:
          if ( v72 == 15 )
            goto LABEL_688;
          flt_13246B4 = (double)(dword_49D89C - 20);
          flt_13246B0 = (double)(dword_49D8A0 - 20);
          *(float *)&dword_1328DF4 = (double)(47 * (v72 % 5) + 537);
          *(float *)&dword_1328DF8 = (double)(47 * (v72 / 5) + 284);
          v75 = *(float *)&dword_1328DF4 - flt_13246B4;
          v152 = v75;
          flt_132FFF8 = (double)(signed int)abs((unsigned int)(signed __int64)v75);
          v76 = *(float *)&dword_1328DF8 - flt_13246B0;
          v77 = (double)(signed int)abs((unsigned int)(signed __int64)v76);
          if ( flt_132FFF8 <= v77 )
          {
            flt_132FFF4 = 1.0;
            flt_132FFF8 = flt_132FFF8 / v77;
          }
          else
          {
            v78 = v77 / flt_132FFF8;
            flt_132FFF8 = 1.0;
            flt_132FFF4 = v78;
          }
          if ( v152 < 0.0 )
            flt_132FFF8 = flt_132FFF8 * -1.0;
          if ( v76 < 0.0 )
            flt_132FFF4 = flt_132FFF4 * -1.0;
          LOBYTE(dword_13246D8) = 9;
          HIBYTE(dword_13246DC) = 0;
          SetFocus(hWndParent);
          _itoa(dword_13246D4, byte_1328DC0, 10);
          dword_1329428 = 1;
          byte_13300E4 = 0;
          return;
        }
        if ( (_BYTE)dword_13246D8 != 2 || dword_49D89C <= 504 || dword_49D8A0 >= 253 )
          return;
        v79 = 0;
        v80 = dword_48CE28;
        while ( v80 != (int *)&unk_48CEA0 )
        {
          if ( *v80 != dword_13246D0 )
          {
            v80 += 2;
            ++v79;
            if ( (signed int)v80 < (signed int)&unk_48CEA8 )
              continue;
          }
          goto LABEL_409;
        }
        v79 = 0;
        v81 = dword_48CE28;
        do
        {
          if ( *v81 == -1 )
            break;
          v81 += 2;
          ++v79;
        }
        while ( (signed int)v81 < (signed int)&unk_48CEA0 );
LABEL_409:
        if ( v79 == 15 )
          goto LABEL_688;
        flt_13246B4 = (double)(dword_49D89C - 20);
        flt_13246B0 = (double)(dword_49D8A0 - 20);
        *(float *)&dword_1328DF4 = (double)(47 * (v79 % 5) + 537);
        *(float *)&dword_1328DF8 = (double)(47 * (v79 / 5) + 113);
        v82 = *(float *)&dword_1328DF4 - flt_13246B4;
        v153 = v82;
        flt_132FFF8 = (double)(signed int)abs((unsigned int)(signed __int64)v82);
        v83 = *(float *)&dword_1328DF8 - flt_13246B0;
        v84 = (double)(signed int)abs((unsigned int)(signed __int64)v83);
        if ( flt_132FFF8 <= v84 )
        {
          flt_132FFF4 = 1.0;
          flt_132FFF8 = flt_132FFF8 / v84;
        }
        else
        {
          v85 = v84 / flt_132FFF8;
          flt_132FFF8 = 1.0;
          flt_132FFF4 = v85;
        }
        if ( v153 < 0.0 )
          flt_132FFF8 = flt_132FFF8 * -1.0;
        if ( v83 < 0.0 )
          flt_132FFF4 = flt_132FFF4 * -1.0;
        LOBYTE(dword_13246D8) = 10;
        HIBYTE(dword_13246DC) = 0;
        SetFocus(hWndParent);
        _itoa(dword_13246D4, byte_1328DC0, 10);
        dword_1329428 = 1;
        byte_13300E4 = 0;
        return;
      case 5:
        v93 = 0;
        if ( (signed int)(unsigned __int8)byte_48C3B8[(unsigned __int8)byte_131AC00] <= 0 )
          goto LABEL_487;
        while ( 1 )
        {
          if ( dword_49D89C > 85 * (v93 % 3) + 534 && dword_49D89C < 85 * (v93 % 3) + 584 )
          {
            v94 = 70 * (v93 / 3);
            if ( dword_49D8A0 > v94 + 114 && dword_49D8A0 < v94 + 164 )
            {
              v95 = dword_48CF68;
              if ( dword_48CF68 == byte_48C2F0[12 * (unsigned __int8)byte_131AC00
                                             + 3 * (unsigned __int8)byte_131AC00
                                             + v93]
                                 + 100 )
                break;
            }
          }
          if ( ++v93 >= (unsigned __int8)byte_48C3B8[(unsigned __int8)byte_131AC00] )
          {
            dword_48CF68 = -1;
            return;
          }
        }
        goto LABEL_484;
      case 6:
        v96 = 0;
        if ( (signed int)(unsigned __int8)byte_48C3C0[(unsigned __int8)byte_131D68C] <= 0 )
          goto LABEL_487;
        while ( 1 )
        {
          if ( dword_49D89C > 85 * (v96 % 3) + 534 && dword_49D89C < 85 * (v96 % 3) + 584 )
          {
            v97 = 70 * (v96 / 3);
            if ( dword_49D8A0 > v97 + 114 && dword_49D8A0 < v97 + 164 )
            {
              v95 = dword_48CF68;
              if ( dword_48CF68 == byte_48C34C[12 * (unsigned __int8)byte_131D68C
                                             + 3 * (unsigned __int8)byte_131D68C
                                             + v96]
                                 + 200 )
                break;
            }
          }
          if ( ++v96 >= (unsigned __int8)byte_48C3C0[(unsigned __int8)byte_131D68C] )
          {
            dword_48CF68 = -1;
            return;
          }
        }
LABEL_484:
        if ( dword_48CF70 == v95 )
        {
          sub_416860(20, 0, 0, 0, 0);
          dword_48CF70 = -1;
          dword_48CF68 = -1;
        }
        else
        {
          dword_48CF70 = v95;
LABEL_487:
          dword_48CF68 = -1;
        }
        return;
      case 7:
        if ( (_BYTE)dword_132A268 == 1 )
        {
          if ( dword_49D89C > 757 && dword_49D89C < 777 && dword_49D8A0 > 157 && dword_49D8A0 < 177 && dword_132262C > 0 )
          {
            --dword_132262C;
            LOBYTE(dword_132A268) = 0;
            return;
          }
        }
        else if ( (_BYTE)dword_132A268 == 2
               && dword_49D89C > 757
               && dword_49D89C < 777
               && dword_49D8A0 > 226
               && dword_49D8A0 < 246
               && dword_132262C < dword_1322630 - 1 )
        {
          ++dword_132262C;
        }
        LOBYTE(dword_132A268) = 0;
        return;
      case 9:
LABEL_443:
        LOBYTE(dword_132A268) = 0;
        return;
      case 0xA:
        switch ( (unsigned __int8)dword_132A268 )
        {
          case 5u:
            if ( dword_1328DFC == 1 )
            {
              sub_416860(8, 0, 0, 0, 0);
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 121;
              BYTE1(dword_1550B62) = byte_13250A0[782 * dword_133001C];
              sub_479790(4);
              v86 = dword_1330014;
              v87 = dword_133001C;
              v88 = dword_1330014 - 1;
              if ( dword_133001C < dword_1330014 - 1 )
              {
                v89 = v88 - dword_133001C;
                v90 = 782 * dword_133001C + 20074656;
                do
                {
                  --v89;
                  qmemcpy((void *)v90, (const void *)(v90 + 782), 0x30Eu);
                  v90 += 782;
                }
                while ( v89 );
                v86 = dword_1330014;
              }
              dword_1330014 = v88;
              byte_1324D92[782 * v86] = 0;
              if ( v87 > v88 - 1 )
                dword_133001C = v88 - 1;
              goto LABEL_443;
            }
            if ( dword_1328DFC == 2 )
            {
              sub_416860(8, 0, 0, 0, 0);
              LOBYTE(dword_132A268) = 0;
            }
            break;
          case 6u:
            if ( dword_1328DFC == 1 )
            {
              sub_416860(8, 0, 0, 0, 0);
              LOBYTE(dword_132A268) = 0;
              dword_1330090 = 0;
              dword_49D97C = 0;
              SetFocus(hWndParent);
            }
            break;
          case 7u:
            if ( dword_1328DFC == 1 )
            {
              sub_416860(8, 0, 0, 0, 0);
              LOBYTE(dword_132A268) = 0;
              dword_1330090 = 1;
              SetFocus(dword_49D030);
            }
            break;
          case 8u:
            if ( dword_1328DFC == 1 )
            {
              sub_416860(8, 0, 0, 0, 0);
              LOBYTE(dword_132A268) = 0;
              dword_1330090 = 1;
              SetFocus(dword_49D030);
            }
            break;
          case 9u:
            if ( dword_1328DFC == 1 )
            {
              sub_416860(8, 0, 0, 0, 0);
              LOBYTE(dword_132A268) = 0;
              dword_1330090 = 1;
              SetFocus(dword_49D030);
            }
            break;
          default:
            if ( dword_49D89C <= 644
              || dword_49D89C >= (unsigned __int16)dword_8D5D1C + 644
              || dword_49D8A0 <= 291
              || dword_49D8A0 >= HIWORD(dword_8D5D1C) + 291
              || dword_1330068 != 1 )
            {
              if ( dword_1330090 == 1
                && dword_49D89C > 700
                && dword_49D89C < (unsigned __int16)dword_8D5D28 + 700
                && dword_49D8A0 > 291
                && dword_49D8A0 < HIWORD(dword_8D5D28) + 291
                && dword_1330068 == 2 )
              {
                sub_416860(22, 0, 0, 0, 0);
                byte_13246C6 = 0;
                byte_1550B60[0] = -9;
                byte_1550B61[0] = 113;
                LOWORD(dword_1550B62) = 117;
                qmemcpy((char *)&dword_1550B62 + 2, byte_13246BC, 0x14u);
                byte_1550B78[0] = 2;
                byte_1550B79 = -12;
                qmemcpy(&byte_1550B7A, &byte_1329F74, 0x2F4u);
                dword_1330090 = 2;
                sub_479790(782);
              }
              dword_1330068 = 0;
              LOBYTE(dword_132A268) = 0;
            }
            else
            {
              sub_416860(22, 0, 0, 0, 0);
              dword_1330090 = 1;
              dword_49D97C = 0;
              v91 = byte_1329F97;
              do
              {
                v92 = v91 - 35;
                v91 += 36;
                memset(v92, 0x20u, 0x20u);
                v92 += 32;
                *(_WORD *)v92 = 8224;
                v92[2] = 32;
                *(v91 - 36) = 0;
              }
              while ( (signed int)v91 < 20095627 );
              strcpy(byte_13246BC, byte_49D994);
              SetWindowTextA(dword_49D030, byte_49D994);
              SetFocus(dword_49D030);
              LOBYTE(dword_132A268) = 0;
              dword_1330068 = 0;
            }
            break;
        }
        return;
      case 0xC:
        LOBYTE(dword_132A268) = 0;
        if ( (unsigned __int8)dword_13246D8 == 1 )
        {
          if ( dword_49D89C <= 504 || dword_49D8A0 <= 284 )
            goto LABEL_688;
          v101 = dword_48CECC;
          while ( *((_BYTE *)dword_1308324 + 68 * *(v101 - 1)) != -1
               || *v101 < *((_DWORD *)dword_1308324 + 17 * dword_13246D0 + 15) )
          {
            v101 += 2;
            if ( (signed int)v101 >= (signed int)&unk_48CF44 )
            {
              dword_132A2B8 = 1;
              return;
            }
          }
          v102 = 0;
          v103 = dword_48CEC8;
          while ( v103 != (int *)&unk_48CF40 )
          {
            if ( *v103 != dword_13246D0 )
            {
              v103 += 2;
              ++v102;
              if ( (signed int)v103 < (signed int)&unk_48CF48 )
                continue;
            }
            goto LABEL_518;
          }
          v102 = 0;
          v104 = dword_48CEC8;
          do
          {
            if ( *v104 == -1 )
              break;
            v104 += 2;
            ++v102;
          }
          while ( (signed int)v104 < (signed int)&unk_48CF40 );
LABEL_518:
          if ( v102 == 15 )
          {
            dword_132A2B8 = 2;
          }
          else
          {
            flt_13246B4 = (double)(dword_49D89C - 20);
            flt_13246B0 = (double)(dword_49D8A0 - 20);
            *(float *)&dword_1328DF4 = (double)(47 * (v102 % 5) + 537);
            *(float *)&dword_1328DF8 = (double)(47 * (v102 / 5) + 284);
            v105 = *(float *)&dword_1328DF4 - flt_13246B4;
            v154 = v105;
            flt_132FFF8 = (double)(signed int)abs((unsigned int)(signed __int64)v105);
            v106 = *(float *)&dword_1328DF8 - flt_13246B0;
            v107 = (double)(signed int)abs((unsigned int)(signed __int64)v106);
            if ( flt_132FFF8 <= v107 )
            {
              flt_132FFF4 = 1.0;
              flt_132FFF8 = flt_132FFF8 / v107;
            }
            else
            {
              v108 = v107 / flt_132FFF8;
              flt_132FFF8 = 1.0;
              flt_132FFF4 = v108;
            }
            if ( v154 < 0.0 )
              flt_132FFF8 = flt_132FFF8 * -1.0;
            if ( v106 < 0.0 )
              flt_132FFF4 = flt_132FFF4 * -1.0;
            LOBYTE(dword_13246D8) = 11;
            HIBYTE(dword_13246DC) = 0;
            SetFocus(hWndParent);
            dword_1322680 = 1;
          }
          return;
        }
        if ( (unsigned __int8)dword_13246D8 == 2 && dword_49D89C > 504 && dword_49D8A0 < 253 )
        {
          v98 = 0;
          v99 = dword_48CEC8;
          while ( v99 != (int *)&unk_48CF40 )
          {
            if ( *v99 != -1 )
            {
              v99 += 2;
              ++v98;
              if ( (signed int)v99 < (signed int)&unk_48CF48 )
                continue;
            }
            goto LABEL_500;
          }
          v98 = 0;
          v100 = dword_48CEC8;
          do
          {
            if ( *((_BYTE *)dword_1308324 + 68 * *v100) == -1 )
              break;
            v100 += 2;
            ++v98;
          }
          while ( (signed int)v100 < (signed int)&unk_48CF40 );
LABEL_500:
          if ( v98 == 15 )
          {
            dword_1322680 = 0;
            dword_132A2B8 = 1;
          }
          else
          {
            LOBYTE(dword_13246D8) = 12;
            SetFocus(hWndParent);
            dword_1322680 = 4;
          }
          return;
        }
        return;
      case 0xD:
        switch ( (_BYTE)dword_132A268 )
        {
          case 1:
            if ( dword_49D89C > 545 && dword_49D89C < 565 && dword_49D8A0 > 403 && dword_49D8A0 < 423 && dword_132260C )
              --dword_132260C;
            break;
          case 2:
            if ( dword_49D89C > 751
              && dword_49D89C < 771
              && dword_49D8A0 > 403
              && dword_49D8A0 < 423
              && dword_132260C < 2 )
            {
              ++dword_132260C;
            }
            break;
          case 3:
            if ( dword_49D89C > 545 && dword_49D89C < 565 && dword_49D8A0 > 314 && dword_49D8A0 < 334 && dword_1322610 )
            {
              v109 = dword_1322610 - 1;
LABEL_556:
              dword_1322610 = v109;
              break;
            }
            break;
          default:
            if ( (_BYTE)dword_132A268 == 4
              && dword_49D89C > 751
              && dword_49D89C < 771
              && dword_49D8A0 > 314
              && dword_49D8A0 < 334
              && dword_1322610 < 1 )
            {
              v109 = dword_1322610 + 1;
              goto LABEL_556;
            }
            break;
        }
        LOBYTE(dword_132A268) = 0;
        if ( (_BYTE)dword_13246D8 == 1 )
        {
          if ( dword_49D89C <= 504 || dword_49D8A0 <= 343 )
            return;
          v110 = 0;
          v111 = dword_48CEC8;
          while ( v111 != (int *)&unk_48CF40 )
          {
            if ( *v111 != dword_13246D0 )
            {
              v111 += 2;
              ++v110;
              if ( (signed int)v111 < (signed int)&unk_48CF48 )
                continue;
            }
            goto LABEL_568;
          }
          v110 = 0;
          v112 = dword_48CEC8;
          do
          {
            if ( *v112 == -1 )
              break;
            v112 += 2;
            ++v110;
          }
          while ( (signed int)v112 < (signed int)&unk_48CF40 );
LABEL_568:
          if ( v110 != 15 )
          {
            dword_132260C = v110 / 5;
            flt_13246B4 = (double)(dword_49D89C - 20);
            dword_1328DF8 = 1135312896;
            flt_13246B0 = (double)(dword_49D8A0 - 20);
            *(float *)&dword_1328DF4 = (double)(47 * (v110 % 5) + 536);
            v113 = *(float *)&dword_1328DF4 - flt_13246B4;
            v155 = v113;
            flt_132FFF8 = (double)(signed int)abs((unsigned int)(signed __int64)v113);
            v114 = 343.0 - flt_13246B0;
            v115 = (double)(signed int)abs((unsigned int)(signed __int64)v114);
            if ( flt_132FFF8 <= v115 )
            {
              flt_132FFF4 = 1.0;
              flt_132FFF8 = flt_132FFF8 / v115;
            }
            else
            {
              v116 = v115 / flt_132FFF8;
              flt_132FFF8 = 1.0;
              flt_132FFF4 = v116;
            }
            if ( v155 < 0.0 )
              flt_132FFF8 = flt_132FFF8 * -1.0;
            if ( v114 < 0.0 )
              flt_132FFF4 = flt_132FFF4 * -1.0;
            LOBYTE(dword_13246D8) = 15;
            HIBYTE(dword_13246DC) = 0;
            SetFocus(hWndParent);
            _itoa(dword_13246D4, byte_1328DC0, 10);
            dword_1329428 = 1;
            byte_13300E4 = 0;
            return;
          }
LABEL_688:
          LOBYTE(dword_13246D8) = 0;
          return;
        }
        if ( (_BYTE)dword_13246D8 != 2 || dword_49D89C <= 504 || dword_49D8A0 >= 343 )
          return;
        v117 = 0;
        v118 = dword_48CCE8;
        while ( v118 != dword_48CE28 )
        {
          if ( *v118 != dword_13246D0 )
          {
            v118 += 2;
            ++v117;
            if ( (signed int)v118 < (signed int)&unk_48CE30 )
              continue;
          }
          goto LABEL_588;
        }
        v117 = 0;
        v119 = dword_48CCE8;
        do
        {
          if ( *v119 == -1 )
            break;
          v119 += 2;
          ++v117;
        }
        while ( (signed int)v119 < (signed int)dword_48CE28 );
LABEL_588:
        if ( v117 == 40 )
          goto LABEL_688;
        dword_1322610 = v117 / 20;
        flt_13246B4 = (double)(dword_49D89C - 20);
        flt_13246B0 = (double)(dword_49D8A0 - 20);
        *(float *)&dword_1328DF4 = (double)(47 * (v117 % 5) + 537);
        *(float *)&dword_1328DF8 = (double)(47 * (v117 / 5 % 4) + 113);
        v120 = *(float *)&dword_1328DF4 - flt_13246B4;
        v156 = v120;
        flt_132FFF8 = (double)(signed int)abs((unsigned int)(signed __int64)v120);
        v121 = *(float *)&dword_1328DF8 - flt_13246B0;
        v122 = (double)(signed int)abs((unsigned int)(signed __int64)v121);
        if ( flt_132FFF8 <= v122 )
        {
          flt_132FFF4 = 1.0;
          flt_132FFF8 = flt_132FFF8 / v122;
        }
        else
        {
          v123 = v122 / flt_132FFF8;
          flt_132FFF8 = 1.0;
          flt_132FFF4 = v123;
        }
        if ( v156 < 0.0 )
          flt_132FFF8 = flt_132FFF8 * -1.0;
        if ( v121 < 0.0 )
          flt_132FFF4 = flt_132FFF4 * -1.0;
        LOBYTE(dword_13246D8) = 16;
        HIBYTE(dword_13246DC) = 0;
        SetFocus(hWndParent);
        _itoa(dword_13246D4, byte_1328DC0, 10);
        dword_1329428 = 1;
        byte_13300E4 = 0;
        return;
      case 0xF:
        if ( (unsigned __int8)dword_13246D8 == 22 )
        {
          v124 = dword_49D89C;
          v125 = dword_49D8A0;
          if ( (unsigned int)(dword_13211C8 - dword_1324F58) <= 0xBB8 || dword_49D89C <= 504 || dword_49D8A0 <= 284 )
            goto LABEL_628;
          v138 = 0;
          v139 = dword_48CEC8;
          while ( v139 != (int *)&unk_48CF40 )
          {
            if ( *v139 != dword_13246D0 )
            {
              v139 += 2;
              ++v138;
              if ( (signed int)v139 < (signed int)&unk_48CF48 )
                continue;
            }
            goto LABEL_640;
          }
          v138 = 0;
          v140 = dword_48CEC8;
          do
          {
            if ( *v140 == -1 )
              break;
            v140 += 2;
            ++v138;
          }
          while ( (signed int)v140 < (signed int)&unk_48CF40 );
LABEL_640:
          if ( v138 == 15 )
          {
            dword_132A2B8 = 2;
          }
          else
          {
            flt_13246B4 = (double)(dword_49D89C - 20);
            flt_13246B0 = (double)(dword_49D8A0 - 20);
            *(float *)&dword_1328DF4 = (double)(47 * (v138 % 5) + 537);
            *(float *)&dword_1328DF8 = (double)(47 * (v138 / 5) + 284);
            v141 = *(float *)&dword_1328DF4 - flt_13246B4;
            v157 = v141;
            flt_132FFF8 = (double)(signed int)abs((unsigned int)(signed __int64)v141);
            v142 = *(float *)&dword_1328DF8 - flt_13246B0;
            v143 = (double)(signed int)abs((unsigned int)(signed __int64)v142);
            if ( flt_132FFF8 <= v143 )
            {
              flt_132FFF4 = 1.0;
              flt_132FFF8 = flt_132FFF8 / v143;
            }
            else
            {
              v144 = v143 / flt_132FFF8;
              flt_132FFF8 = 1.0;
              flt_132FFF4 = v144;
            }
            if ( v157 < 0.0 )
              flt_132FFF8 = flt_132FFF8 * -1.0;
            if ( v142 < 0.0 )
              flt_132FFF4 = flt_132FFF4 * -1.0;
            LOBYTE(dword_13246D8) = 24;
            HIBYTE(dword_13246DC) = 0;
          }
        }
        else
        {
          if ( (unsigned __int8)dword_13246D8 == 23 )
          {
            v124 = dword_49D89C;
            v125 = dword_49D8A0;
            if ( (unsigned int)(dword_13211C8 - dword_1324F58) <= 0xBB8 || dword_49D89C <= 504 || dword_49D8A0 >= 253 )
              goto LABEL_628;
            LOBYTE(dword_13246A8) = 5;
            v126 = 0;
            v127 = dword_132A270;
            while ( *v127 != dword_13246D0 )
            {
              v127 += 2;
              ++v126;
              if ( (signed int)v127 >= (signed int)&dword_132A290 )
                goto LABEL_615;
            }
            LOBYTE(dword_13246A8) = v126;
            flt_13246B4 = (double)(dword_49D89C - 20);
            flt_13246B0 = (double)(dword_49D8A0 - 20);
            *(float *)&dword_1328DF4 = (double)(45 * (v126 % 2)) + 540.0;
            *(float *)&dword_1328DF8 = (double)(45 * (v126 / 2)) + 118.0;
            v128 = *(float *)&dword_1328DF4 - flt_13246B4;
            v129 = (double)(signed int)abs((unsigned int)(signed __int64)v128);
            v130 = *(float *)&dword_1328DF8 - flt_13246B0;
            v159 = v130;
            v131 = (double)(signed int)abs((unsigned int)(signed __int64)v130);
            if ( v129 <= v131 )
            {
              flt_132FFF4 = 1.0;
              flt_132FFF8 = v129 / v131;
            }
            else
            {
              flt_132FFF8 = 1.0;
              flt_132FFF4 = v131 / v129;
            }
            if ( v128 < 0.0 )
              flt_132FFF8 = flt_132FFF8 * -1.0;
            if ( v159 < 0.0 )
              flt_132FFF4 = flt_132FFF4 * -1.0;
            LOBYTE(dword_13246D8) = 25;
            HIBYTE(dword_13246DC) = 0;
            SetFocus(hWndParent);
            _itoa(dword_13246D4, byte_1328DC0, 10);
            dword_1329428 = 1;
            byte_13300E4 = 0;
            if ( (_BYTE)dword_13246A8 == 5 )
            {
              v124 = dword_49D89C;
              v125 = dword_49D8A0;
LABEL_615:
              v132 = 0;
              v133 = dword_132A270;
              while ( *v133 != -1 )
              {
                v133 += 2;
                ++v132;
                if ( (signed int)v133 >= (signed int)&dword_132A290 )
                {
                  LOBYTE(dword_13246D8) = 0;
                  goto LABEL_651;
                }
              }
              LOBYTE(dword_13246A8) = v132;
              flt_13246B4 = (double)(v124 - 20);
              flt_13246B0 = (double)(v125 - 20);
              *(float *)&dword_1328DF4 = (double)(45 * (v132 % 2)) + 540.0;
              *(float *)&dword_1328DF8 = (double)(45 * (v132 / 2)) + 118.0;
              v134 = *(float *)&dword_1328DF4 - flt_13246B4;
              v135 = (double)(signed int)abs((unsigned int)(signed __int64)v134);
              v136 = *(float *)&dword_1328DF8 - flt_13246B0;
              v160 = v136;
              v137 = (double)(signed int)abs((unsigned int)(signed __int64)v136);
              if ( v135 <= v137 )
              {
                flt_132FFF4 = 1.0;
                flt_132FFF8 = v135 / v137;
              }
              else
              {
                flt_132FFF8 = 1.0;
                flt_132FFF4 = v137 / v135;
              }
              if ( v134 < 0.0 )
                flt_132FFF8 = flt_132FFF8 * -1.0;
              if ( v160 < 0.0 )
                flt_132FFF4 = flt_132FFF4 * -1.0;
              LOBYTE(dword_13246D8) = 25;
              HIBYTE(dword_13246DC) = 0;
              SetFocus(hWndParent);
              _itoa(dword_13246D4, byte_1328DC0, 10);
              dword_1329428 = 1;
              byte_13300E4 = 0;
              if ( (_BYTE)dword_13246A8 == 5 )
              {
                v124 = dword_49D89C;
                v125 = dword_49D8A0;
LABEL_628:
                LOBYTE(dword_13246D8) = 0;
                goto LABEL_651;
              }
            }
          }
          v124 = dword_49D89C;
          v125 = dword_49D8A0;
        }
LABEL_651:
        if ( (unsigned int)(dword_13211C8 - dword_1324F58) <= 0xBB8 || v124 <= 559 )
          goto LABEL_665;
        v145 = dword_13081FC;
        if ( v124 < (unsigned __int16)dword_13081FC + 559 && v125 > 215 && v125 < HIWORD(dword_13081FC) + 215 )
        {
          v146 = dword_132A270;
          while ( *v146 == -1 )
          {
            v146 += 2;
            if ( (signed int)v146 >= (signed int)&dword_132A290 )
              goto LABEL_666;
          }
          v147 = dword_1329450;
          while ( *v147 == -1 )
          {
            v147 += 2;
            if ( (signed int)v147 >= (signed int)&unk_1329470 )
              goto LABEL_666;
          }
          dword_1324F58 = dword_13211C8;
          v148 = (&lpString)[dword_131D690];
          dword_1329638 ^= 1u;
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 58;
          *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v148 + 14);
          dword_1550B67 = dword_13211CC;
          LOBYTE(dword_1550B6B) = dword_1329638;
          sub_479790(12);
          v124 = dword_49D89C;
          v125 = dword_49D8A0;
LABEL_665:
          v145 = dword_13081FC;
        }
LABEL_666:
        if ( (unsigned int)(dword_13211C8 - dword_1324F58) > 0xBB8
          && (_BYTE)dword_132A268
          && v124 > 615
          && v124 < v145 + 615
          && v125 > 230
          && v125 < HIWORD(dword_13081FC) + 230 )
        {
          dword_1324F58 = dword_13211C8;
          v149 = (&lpString)[dword_131D690];
          byte_1322634 = 0;
          byte_1330080 = 0;
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 44;
          *(int *)((char *)&dword_1550B62 + 1) = dword_13211CC;
          dword_1550B67 = *((_DWORD *)v149 + 14);
          LOBYTE(dword_1550B6B) = 2;
          sub_479790(12);
          byte_1328E45 = 0;
          LOBYTE(dword_13246D8) = 0;
        }
        LOBYTE(dword_132A268) = 0;
        return;
      default:
        return;
    }
  }
  if ( dword_49D89C <= 587 || dword_49D89C >= 617 || dword_49D8A0 <= 213 || dword_49D8A0 >= 223 )
  {
    if ( dword_49D89C <= 672 || dword_49D89C >= 692 || dword_49D8A0 <= 213 || dword_49D8A0 >= 223 )
      return;
    dword_1322680 = 0;
    goto LABEL_688;
  }
  ++dword_1322680;
  if ( (unsigned __int8)dword_13246D8 == 11 )
  {
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    dword_1550B62 = 72;
    byte_1550B66 = dword_489040;
  }
  else
  {
    if ( (unsigned __int8)dword_13246D8 != 12 )
      return;
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    dword_1550B62 = 83;
    byte_1550B66 = dword_489040;
  }
  LOBYTE(dword_1550B67) = HIBYTE(dword_13246D0);
  BYTE1(dword_1550B67) = BYTE2(dword_13246D0);
  BYTE2(dword_1550B67) = BYTE1(dword_13246D0);
  HIBYTE(dword_1550B67) = dword_13246D0;
  sub_479790(11);
}
// 489040: using guessed type int dword_489040;
// 48CCE8: using guessed type int dword_48CCE8[];
// 48CE28: using guessed type int dword_48CE28[];
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CF68: using guessed type int dword_48CF68;
// 48CF6C: using guessed type int dword_48CF6C;
// 48CF70: using guessed type int dword_48CF70;
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 49D97C: using guessed type int dword_49D97C;
// 8D5D1C: using guessed type int dword_8D5D1C;
// 8D5D28: using guessed type int dword_8D5D28;
// 13081FC: using guessed type int dword_13081FC;
// 131AC00: using guessed type char byte_131AC00;
// 131D68C: using guessed type char byte_131D68C;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13211CC: using guessed type int dword_13211CC;
// 132260C: using guessed type int dword_132260C;
// 1322610: using guessed type int dword_1322610;
// 132262C: using guessed type int dword_132262C;
// 1322630: using guessed type int dword_1322630;
// 1322634: using guessed type char byte_1322634;
// 1322680: using guessed type int dword_1322680;
// 13226AA: using guessed type __int16 word_13226AA;
// 13246A4: using guessed type int dword_13246A4;
// 13246A8: using guessed type int dword_13246A8;
// 13246B0: using guessed type float flt_13246B0;
// 13246B4: using guessed type float flt_13246B4;
// 13246C6: using guessed type char byte_13246C6;
// 13246D0: using guessed type int dword_13246D0;
// 13246D8: using guessed type int dword_13246D8;
// 13246DC: using guessed type int dword_13246DC;
// 1324782: using guessed type char byte_1324782;
// 1324F58: using guessed type int dword_1324F58;
// 1328DF4: using guessed type int dword_1328DF4;
// 1328DF8: using guessed type int dword_1328DF8;
// 1328DFC: using guessed type int dword_1328DFC;
// 1328E45: using guessed type char byte_1328E45;
// 1329428: using guessed type int dword_1329428;
// 1329450: using guessed type int dword_1329450[];
// 1329638: using guessed type int dword_1329638;
// 1329F6C: using guessed type int dword_1329F6C;
// 132A268: using guessed type int dword_132A268;
// 132A270: using guessed type int dword_132A270[];
// 132A290: using guessed type int dword_132A290;
// 132A2B6: using guessed type __int16 word_132A2B6;
// 132A2B8: using guessed type int dword_132A2B8;
// 132FFF4: using guessed type float flt_132FFF4;
// 132FFF8: using guessed type float flt_132FFF8;
// 1330014: using guessed type int dword_1330014;
// 133001C: using guessed type int dword_133001C;
// 1330040: using guessed type int dword_1330040;
// 1330068: using guessed type int dword_1330068;
// 1330074: using guessed type int dword_1330074;
// 1330080: using guessed type char byte_1330080;
// 1330090: using guessed type int dword_1330090;
// 1330094: using guessed type char byte_1330094;
// 1330095: using guessed type char byte_1330095;
// 13300E4: using guessed type char byte_13300E4;
// 1330121: using guessed type char byte_1330121;
// 133012F: using guessed type char byte_133012F;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;

//----- (004494D0) --------------------------------------------------------
char sub_4494D0()
{
  char *v0; // edi
  char *v1; // esi
  signed int v2; // edx
  int v3; // eax
  LPCSTR v4; // edi
  int v5; // esi
  int v6; // ecx
  int v7; // esi
  signed int v8; // esi
  signed int v9; // esi
  signed int v10; // edi
  signed int v11; // esi
  signed int v12; // edi
  signed int v13; // esi
  signed int v14; // edi
  char *v15; // edi
  char *v16; // esi
  signed int v17; // edx
  char *v18; // edi
  char *v19; // esi
  signed int v20; // edx
  int v21; // eax
  int v22; // ebx
  int v23; // edi
  int v24; // eax
  char *v25; // edi
  char *v26; // esi
  signed int v27; // edx
  int v28; // esi
  int *v29; // edi
  int v30; // ecx
  char *v31; // edi
  char *v32; // esi
  signed int v33; // edx
  signed int v34; // esi
  int v35; // ecx
  int v36; // ecx
  char *v37; // edi
  char *v38; // esi
  signed int v39; // edx
  char v40; // al
  int v41; // ecx
  signed int v42; // edi
  int v43; // ebx
  int v44; // eax
  char *v45; // edi
  char *v46; // esi
  signed int v47; // edx
  char v48; // al
  int v49; // ecx
  signed int v50; // edi
  int v51; // ebx
  int v52; // eax
  char *v53; // edi
  char *v54; // esi
  signed int v55; // edx
  int v56; // eax
  char *v57; // edi
  char *v58; // esi
  signed int v59; // edx
  signed int v60; // edi
  int *v61; // ebx
  char *v62; // edi
  char *v63; // esi
  signed int v64; // edx
  int v65; // edi
  signed int v66; // esi
  char *v67; // edi
  char *v68; // esi
  signed int v69; // edx
  int v70; // eax
  int v71; // eax
  int v72; // edi
  signed int v73; // ecx
  int v74; // edx
  signed int v75; // esi
  char *v76; // edi
  char *v77; // esi
  signed int v78; // edx
  signed int v79; // esi
  signed int v80; // esi
  int v81; // edi
  int v82; // esi
  int *v83; // edi
  int v84; // ecx
  char *v85; // edi
  char *v86; // esi
  signed int v87; // edx
  signed int v88; // esi
  int v89; // ecx
  signed int v90; // esi
  int v91; // ecx
  char *v92; // edi
  char *v93; // esi
  signed int v94; // edx
  signed int v95; // esi
  int v96; // ecx
  char *v97; // edi
  char *v98; // esi
  signed int v99; // edx
  signed int v100; // esi
  int v101; // ecx
  int v102; // ecx
  int v103; // esi
  int *v104; // edi
  int v105; // ecx
  int v106; // eax
  int v107; // eax
  int v108; // edx
  int v109; // ecx
  int v110; // eax
  int v111; // eax
  signed int v112; // eax
  LPCSTR v113; // eax
  unsigned int v114; // ecx
  LPCSTR v115; // eax
  double v116; // st7
  LPCSTR v117; // eax
  signed __int64 v118; // rax
  int v119; // edx
  float v120; // ST38_4
  int v121; // edx
  float v122; // ST38_4
  int v123; // esi
  char v124; // al
  LPCSTR v125; // eax
  char v126; // al
  char v127; // al
  char v128; // al
  LPCSTR v129; // eax
  char v130; // al
  LPCSTR v131; // eax
  char v132; // al
  LPCSTR v133; // ecx
  char v134; // al
  LPCSTR v135; // ecx
  char v136; // al
  LPCSTR v137; // eax
  LPCSTR v138; // ecx
  int v139; // eax
  char v140; // al
  LPCSTR v141; // eax
  char v142; // al
  char v143; // al
  char v144; // al
  char result; // al
  unsigned __int16 *v146; // ecx
  unsigned __int16 *v147; // edi
  char v148; // al
  int v149; // edx
  float v150; // ST38_4
  int v151; // edx
  float v152; // ST38_4
  int v153; // eax
  int v154; // ebx
  LPCSTR v155; // eax
  LPCSTR v156; // eax
  bool v157; // zf
  bool v158; // sf
  unsigned __int8 v159; // of
  int v160; // eax
  int v161; // ebx
  LPCSTR v162; // eax
  LPCSTR v163; // edx
  int v164; // edx
  float v165; // ST38_4
  float v166; // ST34_4
  int v167; // eax
  int v168; // ebx
  int v169; // edx
  float v170; // ST38_4
  int v171; // edx
  float v172; // ST38_4
  int v173; // edx
  float v174; // ST38_4
  int v175; // eax
  int v176; // edx
  float v177; // ST38_4
  int v178; // edx
  int v179; // eax
  int v180; // eax
  int v181; // ebx
  LPCSTR v182; // eax
  signed int v183; // esi
  int v184; // eax
  int v185; // ecx
  char v186; // dl
  int v187; // [esp+10h] [ebp-8h]
  signed int v188; // [esp+10h] [ebp-8h]
  int v189; // [esp+14h] [ebp-4h]
  signed int v190; // [esp+14h] [ebp-4h]
  signed int v191; // [esp+14h] [ebp-4h]
  signed int v192; // [esp+14h] [ebp-4h]
  int v193; // [esp+14h] [ebp-4h]

  if ( dword_48CFA0 )
    sub_42DF70();
  if ( dword_13300A4 )
  {
    if ( dword_13300A4 == 1 && !--dword_13300A0 )
      dword_13300A4 = 0;
  }
  else if ( ++dword_13300A0 == 31 )
  {
    dword_13300A4 = 1;
  }
  v0 = (char *)&unk_147BDB0;
  v1 = (char *)dword_4BCF4C;
  v2 = 148;
  do
  {
    qmemcpy(v0, v1, 0x640u);
    v1 += 1600;
    v0 += 1800;
    --v2;
  }
  while ( v2 );
  if ( dword_1330064 )
  {
    v3 = dword_487C50[3 * (unsigned __int16)word_131ABFE];
    if ( v3 )
    {
      x = 0;
      y = 0;
      dword_1547438 = dword_8D5E64[3 * v3];
      sub_471BF0();
      v4 = (&lpString)[dword_131D690];
      v5 = 3 * (unsigned __int16)word_131ABFE;
      x = dword_487C54[v5]
        - (unsigned __int64)(signed __int64)(60.0 / (double)dword_1540B4C * *((float *)v4 + 28) * -0.025)
        - ((unsigned int)(unsigned __int16)dword_8D5CE0 >> 1);
      v6 = dword_487C58[v5]
         - (unsigned __int64)(signed __int64)(60.0 / (double)dword_1540B50 * *((float *)v4 + 30) * -0.050000001);
      v7 = 0;
      dword_1547438 = dword_8D5CE4;
      for ( y = v6 - ((unsigned int)HIWORD(dword_8D5CE0) >> 1); v7 < dword_13300A0 / 10 + 1; ++v7 )
        dword_1541C10();
    }
    else
    {
      sub_422E80((const char *)&unk_48DC8C, 3);
    }
  }
  if ( dword_133002C < dword_1330020 )
  {
    y = 80;
    x = (760 - 280 * (byte_1328E45 != 0) - (unsigned __int16)dword_13082E4) / 2 + 20;
    dword_1547438 = dword_13082E8;
    sub_471BF0();
    v8 = 100;
    do
    {
      y = v8;
      dword_1547438 = dword_13082F4;
      sub_471BF0();
      v8 += 20;
    }
    while ( v8 < 360 );
    y = 360;
    dword_1547438 = dword_1308300;
    sub_471BF0();
  }
  if ( dword_133007C )
  {
    y = 80;
    x = (760 - 280 * (byte_1328E45 != 0) - (unsigned __int16)dword_13082E4) / 2 + 20;
    dword_1547438 = dword_13082E8;
    sub_471BF0();
    v9 = 1;
    if ( (unsigned __int8)byte_1317E80 > 1u )
    {
      v10 = 100;
      do
      {
        y = v10;
        dword_1547438 = dword_13082F4;
        sub_471BF0();
        ++v9;
        v10 += 20;
      }
      while ( v9 < (unsigned __int8)byte_1317E80 );
    }
    y = 4 * (5 * v9 + 20);
    dword_1547438 = dword_1308300;
    sub_471BF0();
  }
  if ( byte_1330080 )
  {
    y = 80;
    dword_1547438 = dword_13082E8;
    x = (760 - 280 * (byte_1328E45 != 0) - (unsigned __int16)dword_13082E4) / 2 + 20;
    sub_471BF0();
    v11 = 1;
    if ( dword_1330084 > 1 )
    {
      v12 = 100;
      do
      {
        y = v12;
        dword_1547438 = dword_13082F4;
        sub_471BF0();
        ++v11;
        v12 += 20;
      }
      while ( v11 < dword_1330084 );
    }
    y = 4 * (5 * v11 + 20);
    dword_1547438 = dword_1308300;
    sub_471BF0();
    if ( byte_1330080 == 3 )
    {
      if ( (unsigned int)(dword_13211C8 - dword_1330088) > 0xFA0 )
      {
LABEL_39:
        byte_1330080 = 0;
        goto LABEL_40;
      }
    }
    else if ( !byte_1330080 )
    {
      goto LABEL_40;
    }
    y = 80;
    x = (760 - 280 * (byte_1328E45 != 0) - (unsigned __int16)dword_13082E4) / 2 + 20;
    dword_1547438 = dword_13082E8;
    sub_471BF0();
    v13 = 1;
    if ( dword_1330084 > 1 )
    {
      v14 = 100;
      do
      {
        y = v14;
        dword_1547438 = dword_13082F4;
        sub_471BF0();
        ++v13;
        v14 += 20;
      }
      while ( v13 < dword_1330084 );
    }
    y = 4 * (5 * v13 + 20);
    dword_1547438 = dword_1308300;
    sub_471BF0();
    if ( byte_1330080 == 3 && (unsigned int)(dword_13211C8 - dword_1330088) > 0xFA0 )
      goto LABEL_39;
  }
LABEL_40:
  if ( dword_13300B8 )
  {
    y = 400;
    dword_1547438 = dword_13082E8;
    x = (760 - 280 * (byte_1328E45 != 0) - (unsigned __int16)dword_13082E4) / 2 + 20;
    sub_471BF0();
    y = 420;
    dword_1547438 = dword_1308300;
    sub_471BF0();
  }
  if ( !dword_1330074 )
    BYTE2(dword_132A268) = 0;
  if ( dword_48CF6C != -1 )
  {
    x = 177;
    y = 540;
    dword_1547438 = *(_DWORD *)(dword_4BCF50[*((unsigned __int16 *)dword_8D5EC8 + 93 * dword_48CF6C + 16)] + 8);
    sub_4705B0();
  }
  if ( byte_1324782 == 2 )
  {
    if ( dword_13225F8 )
    {
      if ( dword_13225F8 != 1 )
        goto LABEL_54;
      x = 123;
      y = 540;
      dword_1547438 = *(_DWORD *)(dword_4BD018 + 8);
    }
    else
    {
      x = 123;
      y = 540;
      dword_1547438 = *(_DWORD *)(dword_4BD01C + 8);
    }
  }
  else
  {
    if ( dword_48CF70 == -1 )
      goto LABEL_54;
    x = 123;
    y = 540;
    dword_1547438 = *(_DWORD *)(dword_4BCF50[*((unsigned __int16 *)dword_8D5EC8 + 93 * dword_48CF70 + 16)] + 8);
  }
  sub_4705B0();
LABEL_54:
  dword_1547438 = dword_8D5B88;
  x = 137;
  y = 461;
  sub_4701D0((signed __int64)((double)(unsigned int)dword_132FFEC
                            / (double)dword_1324F54
                            * (double)(unsigned __int16)dword_8D5B84));
  if ( byte_1328EC3[284 * byte_1329448] == 2 )
  {
    x = 137;
    y = 487;
    dword_1547438 = dword_49D9A0;
    sub_4705B0();
    dword_1547438 = dword_6C8618;
  }
  else
  {
    dword_1547438 = dword_8D5B94;
  }
  x = 137;
  y = 487;
  sub_4701D0((signed __int64)((double)(unsigned __int16)dword_132FFFC
                            / (double)(unsigned __int16)word_1328E46
                            * (double)(unsigned __int16)dword_8D5B90));
  dword_1547438 = dword_8D5BA0;
  x = 137;
  y = 513;
  sub_4701D0((signed __int64)((double)(unsigned __int16)dword_1322660
                            / (double)(unsigned __int16)dword_48CF98
                            * (double)(unsigned __int16)dword_8D5B9C));
  x = 10;
  y = 10;
  dword_1547438 = dword_8C87BC[(unsigned __int16)word_131ABFE];
  if ( dword_1547438 )
    sub_4705B0();
  x = 20;
  y = 30;
  dword_1547438 = dword_8D5CFC;
  sub_4705B0();
  switch ( byte_1328E45 )
  {
    case 1:
      v15 = (char *)&unk_13B5780;
      v16 = (char *)dword_8C87B8;
      v17 = 452;
      do
      {
        qmemcpy(v15, v16, 0x250u);
        v16 += 592;
        v15 += 1800;
        --v17;
      }
      while ( v17 );
      if ( dword_1330074 )
      {
        x = 633;
        y = 212;
        dword_1547438 = dword_8D5CC0;
        sub_4705B0();
        x = 633;
        y = 234;
        dword_1547438 = dword_8D5CC0;
        sub_4705B0();
        x = 633;
        y = 256;
        dword_1547438 = dword_8D5CC0;
        sub_4705B0();
        x = 633;
        y = 278;
        dword_1547438 = dword_8D5CC0;
        sub_4705B0();
        x = 748;
        y = 329;
        dword_1547438 = dword_8D5CC0;
        sub_4705B0();
        x = 748;
        y = 351;
        dword_1547438 = dword_8D5CC0;
        sub_4705B0();
      }
      switch ( BYTE2(dword_132A268) )
      {
        case 1u:
          x = 633;
          y = 212;
          dword_1547438 = dword_8D5CCC;
          sub_4705B0();
          break;
        case 2u:
          x = 633;
          y = 234;
          dword_1547438 = dword_8D5CCC;
          sub_4705B0();
          break;
        case 3u:
          x = 633;
          y = 256;
          dword_1547438 = dword_8D5CCC;
          sub_4705B0();
          break;
        case 4u:
          x = 633;
          y = 278;
          dword_1547438 = dword_8D5CCC;
          sub_4705B0();
          break;
        case 5u:
          x = 748;
          y = 351;
          dword_1547438 = dword_8D5CCC;
          sub_4705B0();
          break;
        case 6u:
          x = 748;
          y = 329;
          dword_1547438 = dword_8D5CCC;
          sub_4705B0();
          break;
        default:
          goto LABEL_445;
      }
      goto LABEL_445;
    case 2:
      v18 = (char *)&unk_13B5780;
      v19 = (char *)dword_11FDACC;
      v20 = 452;
      do
      {
        qmemcpy(v18, v19, 0x250u);
        v19 += 592;
        v18 += 1800;
        --v20;
      }
      while ( v20 );
      LOBYTE(v21) = dword_132A268;
      v22 = 0;
      v189 = 0;
      v187 = 0;
      do
      {
        if ( byte_48C398[v22] == (unsigned __int8)v21 )
        {
          x = 85 * (v189 % 3) + 534;
          v23 = 70 * (v189 / 3);
          y = v23 + 114;
          if ( dword_48CF68 == v22 || dword_48CF6C == v22 )
            dword_1547438 = *(_DWORD *)(dword_4BCF50[*(unsigned __int16 *)((char *)dword_8D5EC8 + v187 + 34)] + 8);
          else
            dword_1547438 = *(_DWORD *)(dword_4BCF50[*(unsigned __int16 *)((char *)dword_8D5EC8 + v187 + 32)] + 8);
          sub_4705B0();
          if ( dword_49D89C > x
            && dword_49D89C < x + 50
            && dword_49D8A0 > y
            && dword_49D8A0 < y + 50
            && byte_48C398[v22] )
          {
            x = 85 * (v189 % 3) + 530;
            y = v23 + 110;
            dword_1547438 = dword_1308210;
            dword_1541C10();
          }
          ++v189;
          LOBYTE(v21) = dword_132A268;
        }
        ++v22;
        v159 = __OFSUB__(v187 + 186, 2604);
        v158 = v187 - 2418 < 0;
        v187 += 186;
      }
      while ( v158 ^ v159 );
      if ( byte_1324782 == 2 )
      {
        x = 618;
        y = 392;
        dword_1547438 = dword_8D5D74;
        sub_4705B0();
        LOBYTE(v21) = dword_132A268;
      }
      v21 = (unsigned __int8)v21;
      if ( (_BYTE)v21 )
      {
        v24 = v21 - 1;
        if ( v24 )
        {
          if ( v24 == 1 )
          {
            x = 618;
            y = 392;
            dword_1547438 = dword_8D5D80;
            sub_4705B0();
          }
        }
        else
        {
          x = 582;
          y = 392;
          dword_1547438 = dword_8D5D5C;
          sub_4705B0();
        }
      }
      else
      {
        x = 548;
        y = 392;
        dword_1547438 = dword_8D5D68;
        sub_4705B0();
      }
      goto LABEL_445;
    case 3:
      v25 = (char *)&unk_13B5780;
      v26 = (char *)dword_8D5B78;
      v27 = 452;
      do
      {
        qmemcpy(v25, v26, 0x250u);
        v26 += 592;
        v25 += 1800;
        --v27;
      }
      while ( v27 );
      if ( dword_48CF7C != -1 )
      {
        x = 631;
        y = 114;
        dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_48CF7C + 20)] + 8);
        sub_4705B0();
      }
      if ( dword_48CF80 != -1 )
      {
        x = 583;
        y = 161;
        dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_48CF80 + 20)] + 8);
        sub_4705B0();
      }
      if ( dword_48CF84 != -1 )
      {
        x = 583;
        y = 208;
        dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_48CF84 + 20)] + 8);
        sub_4705B0();
      }
      if ( dword_48CF88 != -1 )
      {
        x = 631;
        y = 161;
        dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_48CF88 + 20)] + 8);
        sub_4705B0();
      }
      if ( dword_48CF8C != -1 )
      {
        x = 631;
        y = 208;
        dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_48CF8C + 20)] + 8);
        sub_4705B0();
      }
      if ( dword_48CF90 != -1 )
      {
        x = 678;
        y = 161;
        dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_48CF90 + 20)] + 8);
        sub_4705B0();
      }
      if ( dword_48CF94 != -1 )
      {
        x = 678;
        y = 208;
        dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_48CF94 + 20)] + 8);
        sub_4705B0();
      }
      v28 = 0;
      v29 = dword_48CEC8;
      v190 = 0;
      do
      {
        v30 = *v29;
        if ( *v29 != -1 )
        {
          x = 47 * (v28 % 5) + 537;
          y = 47 * (v28 / 5) + 284;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * v30 + 20)] + 8);
          sub_4705B0();
          if ( dword_49D89C > x && dword_49D89C < x + 40 && dword_49D8A0 > y && dword_49D8A0 < y + 40 )
          {
            x -= 6;
            y -= 7;
            dword_1547438 = dword_1308210;
            dword_1541C10();
            if ( dword_48D600 != v28 )
            {
              sub_416860(15, 0, 0, 0, 0);
              dword_48D600 = v28;
            }
            v190 = 1;
          }
        }
        v29 += 2;
        ++v28;
      }
      while ( (signed int)v29 < (signed int)&unk_48CF40 );
      if ( !v190 )
        goto LABEL_444;
      goto LABEL_445;
    case 4:
      v31 = (char *)&unk_13B5780;
      v32 = (char *)dword_11FDAD0;
      v33 = 452;
      do
      {
        qmemcpy(v31, v32, 0x250u);
        v32 += 592;
        v31 += 1800;
        --v33;
      }
      while ( v33 );
      v34 = 0;
      do
      {
        v35 = dword_48CE28[2 * v34];
        if ( v35 != -1 )
        {
          x = 47 * (v34 % 5) + 537;
          y = 47 * (v34 / 5) + 113;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * v35 + 20)] + 8);
          sub_4705B0();
          if ( dword_49D89C > x && dword_49D89C < x + 40 && dword_49D8A0 > y && dword_49D8A0 < y + 40 )
          {
            x -= 6;
            y -= 7;
            dword_1547438 = dword_1308210;
            dword_1541C10();
          }
        }
        v36 = dword_48CEC8[2 * v34];
        if ( v36 != -1 )
        {
          x = 47 * (v34 % 5) + 537;
          y = 47 * (v34 / 5) + 284;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * v36 + 20)] + 8);
          sub_4705B0();
          if ( dword_49D89C > x && dword_49D89C < x + 40 && dword_49D8A0 > y && dword_49D8A0 < y + 40 )
          {
            x -= 6;
            y -= 7;
            dword_1547438 = dword_1308210;
            dword_1541C10();
          }
        }
        ++v34;
      }
      while ( v34 < 15 );
      goto LABEL_445;
    case 5:
      v37 = (char *)&unk_13B5780;
      v38 = (char *)dword_8D39CC;
      v39 = 452;
      do
      {
        qmemcpy(v37, v38, 0x250u);
        v38 += 592;
        v37 += 1800;
        --v39;
      }
      while ( v39 );
      v40 = byte_131AC00;
      v41 = (unsigned __int8)byte_131AC00;
      v42 = 0;
      dword_13300AC = 0;
      if ( !byte_48C3B8[(unsigned __int8)byte_131AC00] )
        goto LABEL_882;
      do
      {
        x = 85 * (v42 % 3) + 534;
        v43 = 70 * (v42 / 3);
        v44 = byte_48C2F0[12 * v41 + 3 * v41 + v42];
        y = v43 + 114;
        if ( dword_48CF68 == v44 + 100 || dword_48CF70 == v44 + 100 )
          dword_1547438 = *(_DWORD *)(dword_4BCF50[*((unsigned __int16 *)dword_8D5EC8 + 93 * v44 + 9317)] + 8);
        else
          dword_1547438 = *(_DWORD *)(dword_4BCF50[*((unsigned __int16 *)dword_8D5EC8 + 93 * v44 + 9316)] + 8);
        sub_4705B0();
        if ( dword_49D89C > x && dword_49D89C < x + 50 && dword_49D8A0 > y && dword_49D8A0 < y + 50 )
        {
          if ( dword_48D600 != v42 )
          {
            dword_48D600 = v42;
            sub_416860(23, 0, 0, 0, 0);
          }
          dword_13300AC = 1;
          x = 85 * (v42 % 3) + 530;
          y = v43 + 110;
          dword_1547438 = dword_1308210;
          dword_1541C10();
          sub_45E100(byte_48C2F0[12 * (unsigned __int8)byte_131AC00 + 3 * (unsigned __int8)byte_131AC00 + v42] + 100);
        }
        v40 = byte_131AC00;
        v41 = (unsigned __int8)byte_131AC00;
        ++v42;
      }
      while ( v42 < (unsigned __int8)byte_48C3B8[(unsigned __int8)byte_131AC00] );
      if ( !dword_13300AC )
LABEL_882:
        dword_48D600 = -1;
      switch ( v40 )
      {
        case 0:
          x = 547;
          y = 392;
          dword_1547438 = dword_8D5D8C;
          sub_4705B0();
          break;
        case 1:
          x = 583;
          y = 392;
          dword_1547438 = dword_8D5D98;
          sub_4705B0();
          break;
        case 2:
          x = 618;
          y = 392;
          dword_1547438 = dword_8D5DA4;
          sub_4705B0();
          break;
        case 3:
          x = 654;
          y = 392;
          dword_1547438 = dword_8D5DB0;
          sub_4705B0();
          break;
        case 4:
          x = 689;
          y = 392;
          dword_1547438 = dword_8D5DBC;
          sub_4705B0();
          break;
        case 5:
          x = 724;
          y = 392;
          dword_1547438 = dword_8D5DC8;
          sub_4705B0();
          break;
        default:
          goto LABEL_445;
      }
      goto LABEL_445;
    case 6:
      v45 = (char *)&unk_13B5780;
      v46 = (char *)dword_11FDD18;
      v47 = 452;
      do
      {
        qmemcpy(v45, v46, 0x250u);
        v46 += 592;
        v45 += 1800;
        --v47;
      }
      while ( v47 );
      v48 = byte_131D68C;
      v49 = (unsigned __int8)byte_131D68C;
      v50 = 0;
      dword_13300AC = 0;
      if ( !byte_48C3C0[(unsigned __int8)byte_131D68C] )
        goto LABEL_883;
      do
      {
        x = 85 * (v50 % 3) + 534;
        v51 = 70 * (v50 / 3);
        v52 = byte_48C34C[12 * v49 + 3 * v49 + v50];
        y = v51 + 114;
        if ( dword_48CF68 == v52 + 200 || dword_48CF70 == v52 + 200 )
          dword_1547438 = *(_DWORD *)(dword_4BCF50[*((unsigned __int16 *)dword_8D5EC8 + 93 * v52 + 18617)] + 8);
        else
          dword_1547438 = *(_DWORD *)(dword_4BCF50[*((unsigned __int16 *)dword_8D5EC8 + 93 * v52 + 18616)] + 8);
        sub_4705B0();
        if ( dword_49D89C > x && dword_49D89C < x + 50 && dword_49D8A0 > y && dword_49D8A0 < y + 50 )
        {
          if ( dword_48D600 != v50 )
          {
            sub_416860(23, 0, 0, 0, 0);
            dword_48D600 = v50;
          }
          dword_13300AC = 1;
          x = 85 * (v50 % 3) + 530;
          y = v51 + 110;
          dword_1547438 = dword_1308210;
          dword_1541C10();
          sub_45E100(byte_48C34C[12 * (unsigned __int8)byte_131D68C + 3 * (unsigned __int8)byte_131D68C + v50] + 200);
        }
        v48 = byte_131D68C;
        v49 = (unsigned __int8)byte_131D68C;
        ++v50;
      }
      while ( v50 < (unsigned __int8)byte_48C3C0[(unsigned __int8)byte_131D68C] );
      if ( !dword_13300AC )
LABEL_883:
        dword_48D600 = -1;
      switch ( v48 )
      {
        case 0:
          x = 547;
          y = 392;
          dword_1547438 = dword_8D5DD4;
          sub_4705B0();
          break;
        case 1:
          x = 583;
          y = 392;
          dword_1547438 = dword_8D5DE0;
          sub_4705B0();
          break;
        case 2:
          x = 618;
          y = 392;
          dword_1547438 = dword_8D5DEC;
          sub_4705B0();
          break;
        case 3:
          x = 654;
          y = 392;
          dword_1547438 = dword_8D5DF8;
          sub_4705B0();
          break;
        case 4:
          x = 689;
          y = 392;
          dword_1547438 = dword_8D5E04;
          sub_4705B0();
          break;
        default:
          goto LABEL_445;
      }
      goto LABEL_445;
    case 7:
      v53 = (char *)&unk_13B5780;
      v54 = (char *)unk_4BDEFC;
      v55 = 452;
      do
      {
        qmemcpy(v53, v54, 0x250u);
        v54 += 592;
        v53 += 1800;
        --v55;
      }
      while ( v55 );
      if ( dword_132262C < dword_1322630 )
      {
        v56 = dword_131A8C0[7 * dword_132262C];
        if ( v56 )
        {
          x = 537;
          y = 150;
          dword_1547438 = v56;
          sub_4705B0();
        }
      }
      if ( (unsigned __int8)dword_132A268 == 1 )
      {
        x = 757;
        y = 157;
        dword_1547438 = dword_8D5CE4;
        sub_4705B0();
      }
      else if ( (unsigned __int8)dword_132A268 == 2 )
      {
        x = 757;
        y = 226;
LABEL_405:
        dword_1547438 = dword_8D5CE4;
        sub_4705B0();
      }
      goto LABEL_445;
    case 8:
      v57 = (char *)&unk_13B5780;
      v58 = (char *)dword_8D5B74;
      v59 = 452;
      do
      {
        qmemcpy(v57, v58, 0x250u);
        v58 += 592;
        v57 += 1800;
        --v59;
      }
      while ( v59 );
      v60 = 0;
      v188 = -1;
      v191 = -1;
      v61 = dword_48CEC8;
      do
      {
        if ( *v61 == 412 )
        {
          x = 551;
          y = 147;
          dword_1547438 = dword_8D5E58;
          sub_4705B0();
          if ( !byte_13225E8 )
          {
            byte_13225E8 = 1;
            *((_DWORD *)(&lpString)[dword_131D690] + 159) = 10;
            sub_41C960(
              (signed __int64)*((float *)(&lpString)[dword_131D690] + 28),
              (unsigned __int64)(signed __int64)*((float *)(&lpString)[dword_131D690] + 30) - 20);
            *((_DWORD *)(&lpString)[dword_131D690] + 156) = dword_49DA1C[dword_1317E74];
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = (&lpString)[dword_131D690];
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = (&lpString)[dword_131D690];
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1064;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 10;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
            *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
            *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -2;
          }
          v191 = v60;
        }
        else if ( *v61 == 413 )
        {
          x = 551;
          y = 300;
          dword_1547438 = dword_8D5E64[0];
          sub_4705B0();
          if ( !byte_13225E9 )
            byte_13225E9 = 1;
          v188 = v60;
        }
        v61 += 2;
        ++v60;
      }
      while ( (signed int)v61 < (signed int)&unk_48CF40 );
      if ( v191 == -1 )
        byte_13225E8 = 0;
      if ( v188 == -1 )
        byte_13225E9 = 0;
      if ( byte_13225E8 == 2 )
      {
        x = 660;
        y = 198;
        dword_1547438 = dword_8D5D14;
        sub_4705B0();
      }
      if ( byte_13225E9 == 2 )
      {
        x = 660;
        y = 352;
        dword_1547438 = dword_8D5E40;
        sub_4705B0();
      }
      goto LABEL_445;
    case 9:
      v62 = (char *)&unk_13B5780;
      v63 = (char *)dword_11FDAD4;
      v64 = 452;
      do
      {
        qmemcpy(v62, v63, 0x250u);
        v63 += 592;
        v62 += 1800;
        --v64;
      }
      while ( v64 );
      switch ( (unsigned __int8)dword_132A268 )
      {
        case 1u:
          if ( dword_1330024 > 0 )
            --dword_1330024;
          x = 757;
          y = 329;
          goto LABEL_231;
        case 2u:
          if ( dword_1330024 + 6 < dword_1330020 - 1 )
            ++dword_1330024;
          x = 757;
          y = 403;
          goto LABEL_231;
        case 3u:
          if ( dword_49D97C > 0 )
            --dword_49D97C;
          x = 757;
          y = 120;
          dword_1547438 = dword_8D5CE4;
          goto LABEL_232;
        case 4u:
          if ( dword_49D97C + 11 < 19 )
            ++dword_49D97C;
          x = 757;
          y = 286;
LABEL_231:
          dword_1547438 = dword_8D5CE4;
LABEL_232:
          sub_4705B0();
          break;
        default:
          break;
      }
      v65 = 0;
      v66 = 319;
      do
      {
        if ( dword_1330024 + v65 > dword_1330020 - 1 )
          break;
        x = 538;
        y = v66 + 2;
        if ( dword_1330024 + v65 == dword_1330028 )
        {
          x = 537;
          y = v66;
          dword_1547438 = dword_8D5D38;
          dword_1541C10();
        }
        v66 += 17;
        ++v65;
      }
      while ( v66 < 421 );
      goto LABEL_445;
    case 0xA:
      v67 = (char *)&unk_13B5780;
      v68 = (char *)dword_12081F4;
      v69 = 452;
      do
      {
        qmemcpy(v67, v68, 0x250u);
        v68 += 592;
        v67 += 1800;
        --v69;
      }
      while ( v69 );
      x = 540;
      y = 291;
      if ( byte_133009C )
        sub_470450((int)a00000000000000);
      else
        sub_470450((int)a00011100000000);
      if ( (unsigned __int8)dword_132A268 >= 5u )
        goto LABEL_256;
      switch ( dword_1330068 )
      {
        case 1:
          x = 644;
          y = 291;
          dword_1547438 = dword_8D5D20;
          goto LABEL_255;
        case 2:
          x = 700;
          y = 291;
          dword_1547438 = dword_8D5D2C;
LABEL_255:
          sub_4705B0();
          break;
        case 3:
          v70 = (unsigned __int8)sub_456920(byte_13246BC, 2, 0x13u, 1) - 1;
          if ( v70 && (v71 = v70 - 1) != 0 )
          {
            if ( v71 == 1 )
              byte_133004A = 0;
          }
          else
          {
            byte_133004A = 5;
          }
          break;
      }
LABEL_256:
      switch ( (unsigned __int8)dword_132A268 )
      {
        case 5u:
          x = 642;
          y = 371;
          if ( dword_49D89C <= 582 || dword_49D89C >= 602 || dword_49D8A0 <= 371 || dword_49D8A0 >= 386 )
          {
            if ( dword_49D89C <= 682 || dword_49D89C >= 702 || dword_49D8A0 <= 371 || dword_49D8A0 >= 386 )
              goto LABEL_267;
            dword_1328DFC = 2;
          }
          else
          {
            dword_1328DFC = 1;
          }
          break;
        case 6u:
        case 7u:
        case 8u:
        case 9u:
          x = 642;
          y = 371;
          if ( dword_49D89C <= 632 || dword_49D89C >= 652 || dword_49D8A0 <= 371 || dword_49D8A0 >= 386 )
LABEL_267:
            dword_1328DFC = 0;
          else
            dword_1328DFC = 1;
          break;
        default:
          v72 = 0;
          if ( !dword_1330090 )
          {
            switch ( (unsigned __int8)dword_132A268 )
            {
              case 1u:
                if ( dword_1330018 > 0 )
                  --dword_1330018;
                x = 757;
                y = 329;
                goto LABEL_287;
              case 2u:
                if ( dword_1330018 + 6 < dword_1330014 - 1 )
                  ++dword_1330018;
                x = 757;
                y = 403;
                goto LABEL_287;
              case 3u:
                if ( dword_49D97C > 0 )
                  --dword_49D97C;
                x = 757;
                y = 146;
                dword_1547438 = dword_8D5CE4;
                goto LABEL_288;
              case 4u:
                if ( dword_49D97C + 7 < 19 )
                  ++dword_49D97C;
                x = 757;
                y = 267;
LABEL_287:
                dword_1547438 = dword_8D5CE4;
LABEL_288:
                sub_4705B0();
                break;
              default:
                break;
            }
          }
          v73 = dword_49D89C;
          v74 = dword_49D8A0;
          dword_1328DFC = 0;
          v75 = 321;
          do
          {
            if ( v72 + dword_1330018 > dword_1330014 - 1 )
              break;
            x = 538;
            y = v75;
            if ( v73 > 728 && v73 < 748 && v74 > v75 && v74 < v75 + 17 )
              dword_1328DFC = 3;
            if ( v72 + dword_1330018 == dword_133001C )
            {
              x = 537;
              y = v75 - 2;
              dword_1547438 = dword_8D5D38;
              dword_1541C10();
              v73 = dword_49D89C;
              v74 = dword_49D8A0;
            }
            v75 += 17;
            ++v72;
          }
          while ( v75 < 423 );
          break;
      }
LABEL_445:
      if ( dword_1330038 )
      {
        dword_13225D0 = GetTickCount();
        memset(
          &unk_14B7BF4,
          0xFFu,
          2 * (unsigned __int64)(signed __int64)((double)(dword_13225D0 - dword_13225CC) * 0.039999999));
        if ( dword_1330038 )
        {
          x = 492;
          y = 573;
          dword_1547438 = dword_8D5BE8;
          sub_4705B0();
        }
      }
      else if ( dword_13225C8 )
      {
        memset(&unk_14B7BF4, 0x55u, 2 * dword_13225D4);
      }
      if ( (unsigned __int8)dword_1330040 == 1 )
      {
        x = 619;
        y = 469;
        dword_1547438 = dword_8D5BE8;
        sub_4705B0();
        if ( (unsigned int)dword_133004C > 5 && dword_1330054 )
        {
          v106 = dword_1330054 - 1;
          goto LABEL_458;
        }
      }
      else if ( (unsigned __int8)dword_1330040 == 2 )
      {
        x = 619;
        y = 511;
        dword_1547438 = dword_8D5BE8;
        sub_4705B0();
        if ( (unsigned int)dword_133004C > 5 && dword_1330054 < (unsigned int)(dword_133004C - 5) )
        {
          v106 = dword_1330054 + 1;
LABEL_458:
          dword_1330054 = v106;
          goto LABEL_459;
        }
      }
LABEL_459:
      switch ( byte_1328E45 )
      {
        case 1:
          v107 = dword_8D5C0C;
          x = 537;
          y = 57;
          goto LABEL_475;
        case 2:
          v108 = dword_8D5C18;
          x = 698;
          y = 57;
          goto LABEL_477;
        case 3:
          v109 = dword_8D5C24;
          x = 537;
          y = 57;
          goto LABEL_473;
        case 4:
          v107 = dword_8D5C30;
          x = 698;
          y = 57;
          goto LABEL_475;
        case 5:
          v108 = dword_8D5C3C;
          x = 537;
          y = 57;
          goto LABEL_477;
        case 6:
          v109 = dword_8D5C48;
          x = 698;
          y = 57;
          goto LABEL_473;
        case 7:
          v107 = dword_8D5C54;
          x = 537;
          y = 57;
          goto LABEL_475;
        case 8:
          v108 = dword_8D5C60;
          x = 698;
          y = 57;
          goto LABEL_477;
        case 9:
          v109 = dword_8D5C6C;
          x = 537;
          y = 57;
          goto LABEL_473;
        case 0xA:
          v107 = dword_8D5C78;
          x = 698;
          y = 57;
          goto LABEL_475;
        case 0xC:
          if ( dword_1330070 )
          {
            v108 = dword_8D5C9C;
            x = 698;
            y = 57;
LABEL_477:
            dword_1547438 = v108;
            LOBYTE(dword_1547948) = dword_13300A0;
          }
          else
          {
            v109 = dword_8D5C90;
            x = 537;
            y = 57;
LABEL_473:
            dword_1547438 = v109;
            LOBYTE(dword_1547948) = dword_13300A0;
          }
LABEL_478:
          dword_1330668();
          break;
        case 0xD:
          v107 = dword_8D5C84;
          x = 537;
          y = 57;
LABEL_475:
          dword_1547438 = v107;
          LOBYTE(dword_1547948) = dword_13300A0;
          goto LABEL_478;
        case 0xE:
          v108 = dword_8D5CA8;
          x = 698;
          y = 57;
          goto LABEL_477;
        default:
          break;
      }
      switch ( (unsigned __int8)dword_48CFC8 )
      {
        case 0u:
          x = 512;
          y = -50;
          dword_1547438 = dword_8D5C00;
          sub_4705B0();
          goto LABEL_532;
        case 1u:
          v110 = dword_132FFCC + 3 + dword_13246A0;
          dword_132FFCC += 3;
          dword_13246A0 = v110;
          if ( v110 > 0 )
          {
            v110 = 0;
            LOBYTE(dword_48CFC8) = 2;
            dword_13246A0 = 0;
          }
          x = 512;
          y = v110;
          dword_1547438 = dword_8D5C00;
          sub_4705B0();
          goto LABEL_532;
        case 2u:
          x = 512;
          y = 0;
          dword_1547438 = dword_8D5C00;
          sub_4705B0();
          if ( dword_49D89C <= 536 || dword_49D89C >= 568 || dword_49D8A0 <= 11 || dword_49D8A0 >= 43 )
          {
            if ( dword_49D89C <= 586 || dword_49D89C >= 618 || dword_49D8A0 <= 11 || dword_49D8A0 >= 43 )
            {
              if ( dword_49D89C <= 635 || dword_49D89C >= 667 || dword_49D8A0 <= 11 || dword_49D8A0 >= 43 )
              {
                if ( dword_49D89C <= 685 || dword_49D89C >= 717 || dword_49D8A0 <= 11 || dword_49D8A0 >= 43 )
                {
                  if ( dword_49D89C <= 734 || dword_49D89C >= 766 || dword_49D8A0 <= 11 || dword_49D8A0 >= 43 )
                  {
                    dword_13300A8 = 0;
                  }
                  else
                  {
                    if ( dword_13300A8 != 5 )
                    {
                      sub_416860(13, 0, 0, 0, 0);
                      dword_13300A8 = 5;
                    }
                    x = 734;
                    y = 11;
                    dword_1547438 = dword_8D5BDC;
                    sub_4705B0();
                    if ( dword_48CFA0 )
                    {
                      v112 = 17;
                      goto LABEL_495;
                    }
                  }
                }
                else
                {
                  if ( dword_13300A8 != 4 )
                  {
                    sub_416860(13, 0, 0, 0, 0);
                    dword_13300A8 = 4;
                  }
                  x = 685;
                  y = 11;
                  dword_1547438 = dword_8D5BD0;
                  sub_4705B0();
                  if ( dword_48CFA0 && dword_48CF9C != 16 )
                  {
                    dword_48CF9C = 16;
LABEL_497:
                    dword_132A294 = dword_49D89C;
                    dword_132A298 = dword_49D8A0;
                    goto LABEL_532;
                  }
                }
              }
              else
              {
                if ( dword_13300A8 != 3 )
                {
                  sub_416860(13, 0, 0, 0, 0);
                  dword_13300A8 = 3;
                }
                x = 635;
                y = 11;
                dword_1547438 = dword_8D5BC4;
                sub_4705B0();
                if ( dword_48CFA0 )
                {
                  v112 = 15;
                  goto LABEL_495;
                }
              }
            }
            else
            {
              if ( dword_13300A8 != 2 )
              {
                sub_416860(13, 0, 0, 0, 0);
                dword_13300A8 = 2;
              }
              x = 586;
              y = 11;
              dword_1547438 = dword_8D5BB8;
              sub_4705B0();
              if ( dword_48CFA0 )
              {
                v112 = 14;
                goto LABEL_495;
              }
            }
          }
          else
          {
            if ( dword_13300A8 != 1 )
            {
              sub_416860(13, 0, 0, 0, 0);
              dword_13300A8 = 1;
            }
            x = 536;
            y = 11;
            dword_1547438 = dword_8D5BAC;
            sub_4705B0();
            if ( dword_48CFA0 )
            {
              v112 = 13;
LABEL_495:
              if ( dword_48CF9C == v112 )
                goto LABEL_532;
              dword_48CF9C = v112;
              goto LABEL_497;
            }
          }
LABEL_532:
          if ( dword_48CCE4 != -1 )
          {
            v113 = (&lpString)[dword_48CCE4];
            if ( v113 )
            {
              v114 = *((_DWORD *)v113 + 42);
              if ( v114 <= 0x59 )
              {
                if ( v113[48] == 4 )
                {
                  x = 2;
                  y = 356;
                  dword_1547438 = *(_DWORD *)(dword_6C83B8 + 8);
                  sub_4705B0();
                  goto LABEL_543;
                }
                if ( *((_DWORD *)v113 + 11) )
                {
                  x = 0;
                  y = 354;
                  dword_1547438 = dword_11FDD28;
                  sub_4705B0();
                  x = 2;
                  y = 356;
                  dword_1547438 = *((_DWORD *)(&lpString)[dword_48CCE4] + 11);
                  sub_4705B0();
                  dword_1547438 = dword_8D5CD8;
                  v117 = (&lpString)[dword_48CCE4];
                  x = 2;
                  y = 432;
                  v116 = (double)*((unsigned __int16 *)v117 + 43)
                       / (double)*((unsigned __int16 *)v117 + 42)
                       * (double)(unsigned __int16)dword_8D5CD4;
                  goto LABEL_542;
                }
              }
              else if ( dword_6C7FF8[v114] && v114 < 0xF0 )
              {
                x = 0;
                y = 354;
                dword_1547438 = dword_11FDD28;
                sub_4705B0();
                x = 2;
                y = 356;
                dword_1547438 = *(_DWORD *)(dword_6C7FF8[*((_DWORD *)(&lpString)[dword_48CCE4] + 42)] + 8);
                sub_4705B0();
                x = 2;
                v115 = (&lpString)[dword_48CCE4];
                y = 432;
                dword_1547438 = dword_8D5CD8;
                v116 = (double)*((unsigned __int16 *)v115 + 43)
                     / (double)*((unsigned __int16 *)v115 + 42)
                     * (double)(unsigned __int16)dword_8D5CD4;
LABEL_542:
                sub_4701D0((signed __int64)v116);
                goto LABEL_543;
              }
            }
          }
LABEL_543:
          x = 13;
          y = 465;
          dword_1547438 = dword_1329744;
          sub_4705B0();
          if ( byte_1330030 == 1 )
          {
            x = 250;
            y = 566;
            dword_1547438 = dword_8D5D44;
          }
          else
          {
            if ( byte_1330030 != 2 )
              goto LABEL_548;
            x = 306;
            y = 566;
            dword_1547438 = dword_8D5D50;
          }
          sub_4705B0();
LABEL_548:
          switch ( (unsigned __int8)dword_13246D8 )
          {
            case 1u:
            case 2u:
            case 0x16u:
            case 0x17u:
              if ( !dword_132A2B8 )
              {
                LODWORD(v118) = dword_49D8A0 - 60;
                x = dword_49D89C - 60;
                goto LABEL_552;
              }
              goto LABEL_859;
            case 3u:
            case 4u:
              x = (signed __int64)flt_13246B4;
              v118 = (signed __int64)flt_13246B0;
LABEL_552:
              y = v118;
              dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_13246D0 + 20)]
                                        + 8);
              sub_470750();
              goto LABEL_859;
            case 5u:
              v119 = 0;
              HIBYTE(dword_13246DC) += 20;
              if ( (signed int)HIBYTE(dword_13246DC) <= 0 )
                goto LABEL_850;
              while ( 1 )
              {
                flt_13246B4 = flt_132FFF8 + flt_13246B4;
                flt_13246B0 = flt_132FFF4 + flt_13246B0;
                v120 = *(float *)&dword_1328DF4 - 2.0;
                if ( flt_13246B4 > (double)v120
                  && *(float *)&dword_1328DF4 + 2.0 > flt_13246B4
                  && *(float *)&dword_1328DF8 - 2.0 < flt_13246B0
                  && *(float *)&dword_1328DF8 + 2.0 > flt_13246B0 )
                {
                  break;
                }
                if ( ++v119 >= HIBYTE(dword_13246DC) )
                  goto LABEL_850;
              }
              sub_416860(16, 0, 0, 0, 0);
              *((_BYTE *)(&lpString)[dword_131D690] + 174) = 0;
              *((_WORD *)(&lpString)[dword_131D690] + 88) = 0;
              sub_423330((int)(&lpString)[dword_131D690]);
              switch ( *((char *)dword_1308324 + 68 * dword_13246D0) )
              {
                case 0:
                case 1:
                case 2:
                case 3:
                case 4:
                case 5:
                case 6:
                case 7:
                case 8:
                case 10:
                  dword_48CF80 = -1;
                  *((_DWORD *)(&lpString)[dword_131D690] + 187) = 0;
                  break;
                case 9:
                  dword_48CF80 = -1;
                  goto LABEL_589;
                case 11:
                  dword_48CF8C = -1;
                  if ( byte_1324782 )
                  {
                    if ( byte_1324782 == 1 )
                    {
                      if ( BYTE2(dword_13246DC) )
                        *((_DWORD *)(&lpString)[dword_131D690] + 42) = 60;
                      else
                        *((_DWORD *)(&lpString)[dword_131D690] + 42) = 40;
                    }
                    else if ( byte_1324782 == 2 )
                    {
                      *((_DWORD *)(&lpString)[dword_131D690] + 42) = 80;
                    }
                  }
                  else if ( BYTE2(dword_13246DC) )
                  {
                    *((_DWORD *)(&lpString)[dword_131D690] + 42) = 20;
                  }
                  else
                  {
                    *((_DWORD *)(&lpString)[dword_131D690] + 42) = 0;
                  }
                  break;
                case 12:
                case 13:
                  dword_48CF8C = -1;
                  if ( byte_1324782 )
                  {
                    if ( byte_1324782 == 1 )
                    {
                      if ( BYTE2(dword_13246DC) )
                        *((_DWORD *)(&lpString)[dword_131D690] + 42) = 60;
                      else
                        *((_DWORD *)(&lpString)[dword_131D690] + 42) = 40;
                    }
                    else if ( byte_1324782 == 2 )
                    {
                      *((_DWORD *)(&lpString)[dword_131D690] + 42) = 80;
                    }
                  }
                  else if ( BYTE2(dword_13246DC) )
                  {
                    *((_DWORD *)(&lpString)[dword_131D690] + 42) = 20;
                  }
                  else
                  {
                    *((_DWORD *)(&lpString)[dword_131D690] + 42) = 0;
                  }
                  if ( dword_48CF80 != -1 )
                  {
                    sub_42BDE0(dword_48CF80, 1);
                    dword_48CF80 = -1;
                    *((_DWORD *)(&lpString)[dword_131D690] + 187) = 0;
                  }
                  break;
                case 14:
                  dword_48CF90 = -1;
LABEL_589:
                  *((_DWORD *)(&lpString)[dword_131D690] + 188) = 0;
                  break;
                case 15:
                case 30:
                  dword_48CF7C = -1;
                  break;
                case 16:
                  dword_48CF84 = -1;
                  break;
                case 17:
                  dword_48CF94 = -1;
                  break;
                case 18:
                  dword_48CF88 = -1;
                  break;
                default:
                  break;
              }
              sub_42BDE0(dword_13246D0, 1);
              LOBYTE(dword_13246D8) = 0;
              goto LABEL_850;
            case 6u:
              v121 = 0;
              HIBYTE(dword_13246DC) += 20;
              if ( (signed int)HIBYTE(dword_13246DC) <= 0 )
                goto LABEL_850;
              while ( 1 )
              {
                flt_13246B4 = flt_132FFF8 + flt_13246B4;
                flt_13246B0 = flt_132FFF4 + flt_13246B0;
                v122 = *(float *)&dword_1328DF4 - 2.0;
                if ( flt_13246B4 > (double)v122
                  && *(float *)&dword_1328DF4 + 2.0 > flt_13246B4
                  && *(float *)&dword_1328DF8 - 2.0 < flt_13246B0
                  && *(float *)&dword_1328DF8 + 2.0 > flt_13246B0 )
                {
                  break;
                }
                if ( ++v121 >= HIBYTE(dword_13246DC) )
                  goto LABEL_850;
              }
              v123 = -1;
              v193 = -1;
              *((_BYTE *)(&lpString)[dword_131D690] + 174) = 0;
              *((_WORD *)(&lpString)[dword_131D690] + 88) = 0;
              sub_423330((int)(&lpString)[dword_131D690]);
              switch ( *((char *)dword_1308324 + 68 * dword_13246D0) )
              {
                case 0:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF8C == -1
                    || (v124 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C), v124 != 12) && v124 != 13 )
                  {
                    v123 = dword_48CF80;
                    dword_48CF80 = dword_13246D0;
                    *((_DWORD *)(&lpString)[dword_131D690] + 187) = 700;
                    v125 = (&lpString)[dword_131D690];
                    if ( *((_DWORD *)v125 + 188) == 600 )
                      *((_DWORD *)v125 + 188) = 0;
                    if ( *((_WORD *)dword_1308324 + 34 * dword_48CF80 + 20) == 300 )
                      *((_DWORD *)(&lpString)[dword_131D690] + 187) = 704;
                  }
                  else
                  {
                    LOBYTE(dword_13246D8) = 0;
                  }
                  goto LABEL_757;
                case 1:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF8C != -1 )
                  {
                    v126 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                    if ( v126 == 12 || v126 == 13 )
                    {
                      LOBYTE(dword_13246D8) = 0;
                      goto LABEL_757;
                    }
                  }
                  v123 = dword_48CF80;
                  dword_48CF80 = dword_13246D0;
                  *((_DWORD *)(&lpString)[dword_131D690] + 187) = 701;
                  goto LABEL_654;
                case 2:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF8C != -1 )
                  {
                    v134 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                    if ( v134 == 12 || v134 == 13 )
                    {
                      LOBYTE(dword_13246D8) = 0;
                      goto LABEL_757;
                    }
                  }
                  v123 = dword_48CF80;
                  if ( byte_1324782 == 2 )
                  {
                    dword_48CF80 = dword_13246D0;
                    *((_DWORD *)(&lpString)[dword_131D690] + 187) = 707;
                    goto LABEL_654;
                  }
                  v193 = dword_48CF90;
                  v135 = (&lpString)[dword_131D690];
                  dword_48CF80 = dword_13246D0;
                  dword_48CF90 = -1;
                  *((_DWORD *)v135 + 187) = 800;
                  *((_DWORD *)(&lpString)[dword_131D690] + 188) = 0;
                  goto LABEL_757;
                case 3:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF8C != -1 )
                  {
                    v136 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                    if ( v136 == 12 || v136 == 13 )
                    {
                      LOBYTE(dword_13246D8) = 0;
                      goto LABEL_757;
                    }
                  }
                  v123 = dword_48CF80;
                  if ( byte_1324782 == 2 )
                  {
                    dword_48CF80 = dword_13246D0;
                    *((_DWORD *)(&lpString)[dword_131D690] + 187) = 708;
                    goto LABEL_654;
                  }
                  v193 = dword_48CF90;
                  v138 = (&lpString)[dword_131D690];
                  dword_48CF80 = dword_13246D0;
                  dword_48CF90 = -1;
                  *((_DWORD *)v138 + 187) = 801;
                  *((_DWORD *)(&lpString)[dword_131D690] + 188) = 0;
                  goto LABEL_757;
                case 4:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF8C == -1
                    || (v128 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C), v128 != 12) && v128 != 13 )
                  {
                    v123 = dword_48CF80;
                    dword_48CF80 = dword_13246D0;
                    *((_DWORD *)(&lpString)[dword_131D690] + 187) = 703;
                    v129 = (&lpString)[dword_131D690];
                    if ( *((_DWORD *)v129 + 188) == 600 )
                      *((_DWORD *)v129 + 188) = 0;
                    if ( *((_WORD *)dword_1308324 + 34 * dword_48CF80 + 20) == 301 )
                      *((_DWORD *)(&lpString)[dword_131D690] + 187) = 706;
                  }
                  else
                  {
                    LOBYTE(dword_13246D8) = 0;
                  }
                  goto LABEL_757;
                case 5:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF8C != -1 )
                  {
                    v127 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                    if ( v127 == 12 || v127 == 13 )
                    {
                      LOBYTE(dword_13246D8) = 0;
                      goto LABEL_757;
                    }
                  }
                  v123 = dword_48CF80;
                  dword_48CF80 = dword_13246D0;
                  *((_DWORD *)(&lpString)[dword_131D690] + 187) = 702;
                  goto LABEL_654;
                case 6:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF8C == -1
                    || (v130 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C), v130 != 12) && v130 != 13 )
                  {
                    v123 = dword_48CF80;
                    dword_48CF80 = dword_13246D0;
                    *((_DWORD *)(&lpString)[dword_131D690] + 187) = 500;
                    v131 = (&lpString)[dword_131D690];
                    if ( *((_DWORD *)v131 + 188) == 600 )
                      *((_DWORD *)v131 + 188) = 0;
                    if ( *((_WORD *)dword_1308324 + 34 * dword_48CF80 + 20) == 302 )
                      *((_DWORD *)(&lpString)[dword_131D690] + 187) = 502;
                  }
                  else
                  {
                    LOBYTE(dword_13246D8) = 0;
                  }
                  goto LABEL_757;
                case 7:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF8C == -1
                    || (v132 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C), v132 != 12) && v132 != 13 )
                  {
                    v123 = dword_48CF80;
                    if ( byte_1324782 == 2 )
                    {
                      dword_48CF80 = dword_13246D0;
                      *((_DWORD *)(&lpString)[dword_131D690] + 187) = 501;
LABEL_654:
                      v137 = (&lpString)[dword_131D690];
                      if ( *((_DWORD *)v137 + 188) == 600 )
                        *((_DWORD *)v137 + 188) = 0;
                    }
                    else
                    {
                      v193 = dword_48CF90;
                      v133 = (&lpString)[dword_131D690];
                      dword_48CF80 = dword_13246D0;
                      dword_48CF90 = -1;
                      *((_DWORD *)v133 + 187) = 501;
                      *((_DWORD *)(&lpString)[dword_131D690] + 188) = 0;
                    }
                  }
                  else
                  {
                    LOBYTE(dword_13246D8) = 0;
                  }
                  goto LABEL_757;
                case 8:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF8C == -1 )
                    goto LABEL_746;
                  v142 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                  if ( v142 != 12 && v142 != 13 )
                    goto LABEL_746;
                  v123 = dword_48CF80;
                  dword_48CF80 = dword_13246D0;
                  *((_DWORD *)(&lpString)[dword_131D690] + 187) = 850;
                  goto LABEL_654;
                case 9:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF8C == -1
                    || (v140 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C), v140 != 12) && v140 != 13 )
                  {
                    if ( byte_1324782 != 2 )
                    {
                      v123 = dword_48CF80;
                      v193 = dword_48CF90;
                      v141 = (&lpString)[dword_131D690];
                      dword_48CF80 = dword_13246D0;
                      dword_48CF90 = -1;
                      *((_DWORD *)v141 + 187) = 0;
                      *((_DWORD *)(&lpString)[dword_131D690] + 188) = 600;
                    }
                  }
                  else
                  {
                    LOBYTE(dword_13246D8) = 0;
                  }
                  goto LABEL_757;
                case 10:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( byte_1324782 == 2 )
                  {
                    v123 = dword_48CF80;
                    dword_48CF80 = dword_13246D0;
                    *((_DWORD *)(&lpString)[dword_131D690] + 187) = 600;
                    v139 = dword_48CF90;
                    if ( dword_48CF90 != -1 )
                    {
                      dword_48CF90 = -1;
                      v193 = v139;
                      *((_DWORD *)(&lpString)[dword_131D690] + 188) = 0;
                    }
                  }
                  goto LABEL_757;
                case 11:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( dword_48CF80 == -1 )
                    goto LABEL_711;
                  v146 = (unsigned __int16 *)dword_1308324;
                  if ( *((_BYTE *)dword_1308324 + 68 * dword_48CF80) == 8 )
                  {
                    v193 = dword_48CF80;
                    dword_48CF80 = -1;
                    *((_DWORD *)(&lpString)[dword_131D690] + 187) = 0;
LABEL_711:
                    v146 = (unsigned __int16 *)dword_1308324;
                  }
                  v123 = dword_48CF8C;
                  dword_48CF8C = dword_13246D0;
                  if ( byte_1324782 )
                  {
                    if ( byte_1324782 == 1 )
                    {
                      switch ( v146[34 * dword_13246D0 + 20] )
                      {
                        case 0x2Au:
                        case 0x2Cu:
                        case 0x99u:
                        case 0x9Au:
                        case 0x9Eu:
                        case 0x9Fu:
                        case 0xA1u:
                        case 0xA4u:
                        case 0xA7u:
                          if ( !BYTE2(dword_13246DC) )
                            goto LABEL_724;
                          goto LABEL_725;
                        case 0x2Bu:
                        case 0xA0u:
                        case 0xA2u:
                        case 0xA5u:
                        case 0xA6u:
                          if ( BYTE2(dword_13246DC) )
                            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 63;
                          else
                            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 43;
                          goto LABEL_757;
                        case 0x2Du:
                        case 0x2Fu:
                        case 0x30u:
                        case 0x98u:
                        case 0x9Bu:
                        case 0x9Cu:
                        case 0x9Du:
                        case 0xA3u:
                          if ( BYTE2(dword_13246DC) )
                            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 60;
                          else
                            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 40;
                          goto LABEL_757;
                        case 0xEFu:
                        case 0xF0u:
                        case 0xF1u:
                        case 0xF2u:
                        case 0xF3u:
                        case 0xF4u:
                        case 0xF5u:
                        case 0xF6u:
                        case 0xF7u:
                        case 0xF8u:
                        case 0xF9u:
                          goto LABEL_729;
                        default:
                          goto LABEL_757;
                      }
                    }
                    else if ( byte_1324782 == 2 )
                    {
                      switch ( v146[34 * dword_13246D0 + 20] )
                      {
                        case 0x2Au:
                        case 0x2Cu:
                        case 0x99u:
                        case 0x9Au:
                        case 0x9Eu:
                        case 0x9Fu:
                        case 0xA1u:
                        case 0xA4u:
                        case 0xA7u:
                          goto LABEL_717;
                        case 0x2Bu:
                        case 0xA0u:
                        case 0xA2u:
                        case 0xA5u:
                        case 0xA6u:
                          goto LABEL_718;
                        case 0x2Du:
                        case 0x2Fu:
                        case 0x30u:
                        case 0x98u:
                        case 0x9Bu:
                        case 0x9Cu:
                        case 0x9Du:
                        case 0xA3u:
                          goto LABEL_716;
                        default:
                          goto LABEL_757;
                      }
                    }
                  }
                  else
                  {
                    switch ( v146[34 * dword_13246D0 + 20] )
                    {
                      case 0x2Au:
                      case 0x2Cu:
                      case 0x99u:
                      case 0x9Au:
                      case 0x9Eu:
                      case 0x9Fu:
                      case 0xA1u:
                      case 0xA4u:
                      case 0xA7u:
                        goto LABEL_734;
                      case 0x2Bu:
                      case 0xA0u:
                      case 0xA2u:
                      case 0xA5u:
                      case 0xA6u:
                        goto LABEL_737;
                      case 0x2Du:
                      case 0x2Fu:
                      case 0x30u:
                      case 0x98u:
                      case 0x9Bu:
                      case 0x9Cu:
                      case 0x9Du:
                      case 0xA3u:
                        if ( BYTE2(dword_13246DC) )
                          goto LABEL_733;
                        *((_DWORD *)(&lpString)[dword_131D690] + 42) = 0;
                        goto LABEL_757;
                      case 0xEFu:
                      case 0xF0u:
                      case 0xF1u:
                      case 0xF2u:
                      case 0xF3u:
                        goto LABEL_740;
                      case 0xF4u:
                      case 0xF5u:
                      case 0xF6u:
                      case 0xF7u:
                      case 0xF8u:
                      case 0xF9u:
                        goto LABEL_729;
                      default:
                        goto LABEL_757;
                    }
                  }
                  goto LABEL_757;
                case 12:
                case 13:
                  result = sub_416860(16, 0, 0, 0, 0);
                  if ( byte_1324782 == 2 )
                  {
                    LOBYTE(dword_13246D8) = 0;
                    return result;
                  }
                  result = dword_48CF80;
                  if ( dword_48CF80 == -1 )
                    goto LABEL_691;
                  if ( *((_BYTE *)dword_1308324 + 68 * dword_48CF80) != 8 )
                  {
                    LOBYTE(dword_13246D8) = 0;
                    return result;
                  }
                  if ( dword_48CF90 != -1
                    || (result = dword_48CF7C, dword_48CF7C != -1)
                    && *((_BYTE *)dword_1308324 + 68 * dword_48CF7C) != 30 )
                  {
                    LOBYTE(dword_13246D8) = 0;
                    return result;
                  }
LABEL_691:
                  v123 = dword_48CF8C;
                  dword_48CF8C = dword_13246D0;
                  if ( byte_1324782 )
                  {
                    if ( byte_1324782 == 1 )
                    {
                      switch ( *((unsigned __int16 *)dword_1308324 + 34 * dword_13246D0 + 20) )
                      {
                        case 0x2Au:
                        case 0x2Cu:
                        case 0x99u:
                        case 0x9Au:
                        case 0x9Eu:
                        case 0x9Fu:
                        case 0xA1u:
                        case 0xA4u:
                        case 0xA7u:
                          if ( BYTE2(dword_13246DC) )
                            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 63;
                          else
                            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 43;
                          break;
                        case 0x2Bu:
                        case 0xA0u:
                        case 0xA2u:
                        case 0xA5u:
                        case 0xA6u:
                          if ( BYTE2(dword_13246DC) )
LABEL_725:
                            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 63;
                          else
LABEL_724:
                            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 43;
                          break;
                        case 0x2Du:
                        case 0x2Fu:
                        case 0x30u:
                        case 0x98u:
                        case 0x9Bu:
                        case 0x9Cu:
                        case 0x9Du:
                        case 0xA3u:
                          if ( BYTE2(dword_13246DC) )
                            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 60;
                          else
                            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 40;
                          break;
                        case 0xEFu:
                        case 0xF0u:
                        case 0xF1u:
                        case 0xF2u:
                        case 0xF3u:
                        case 0xF4u:
                        case 0xF5u:
                        case 0xF6u:
                        case 0xF7u:
                        case 0xF8u:
                        case 0xF9u:
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 12;
                          break;
                        default:
                          goto LABEL_757;
                      }
                    }
                    else if ( byte_1324782 == 2 )
                    {
                      switch ( *((unsigned __int16 *)dword_1308324 + 34 * dword_13246D0 + 20) )
                      {
                        case 0x2Au:
                        case 0x2Cu:
                        case 0x99u:
                        case 0x9Au:
                        case 0x9Eu:
                        case 0x9Fu:
                        case 0xA1u:
                        case 0xA4u:
                        case 0xA7u:
LABEL_717:
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 83;
                          break;
                        case 0x2Bu:
                        case 0xA0u:
                        case 0xA2u:
                        case 0xA5u:
                        case 0xA6u:
LABEL_718:
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 86;
                          break;
                        case 0x2Du:
                        case 0x2Fu:
                        case 0x30u:
                        case 0x98u:
                        case 0x9Bu:
                        case 0x9Cu:
                        case 0x9Du:
                        case 0xA3u:
LABEL_716:
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 80;
                          break;
                        default:
                          goto LABEL_757;
                      }
                    }
                  }
                  else
                  {
                    switch ( *((unsigned __int16 *)dword_1308324 + 34 * dword_13246D0 + 20) )
                    {
                      case 0x2Au:
                      case 0x2Cu:
                      case 0x99u:
                      case 0x9Au:
                      case 0x9Eu:
                      case 0x9Fu:
                      case 0xA1u:
                      case 0xA4u:
                      case 0xA7u:
LABEL_734:
                        if ( BYTE2(dword_13246DC) )
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 23;
                        else
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 3;
                        break;
                      case 0x2Bu:
                      case 0xA0u:
                      case 0xA2u:
                      case 0xA5u:
                      case 0xA6u:
LABEL_737:
                        if ( BYTE2(dword_13246DC) )
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 23;
                        else
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 6;
                        break;
                      case 0x2Du:
                      case 0x2Fu:
                      case 0x30u:
                      case 0x98u:
                      case 0x9Bu:
                      case 0x9Cu:
                      case 0x9Du:
                      case 0xA3u:
                        if ( BYTE2(dword_13246DC) )
LABEL_733:
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 20;
                        else
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 0;
                        break;
                      case 0xEFu:
                      case 0xF0u:
                      case 0xF1u:
                      case 0xF2u:
                      case 0xF3u:
LABEL_740:
                        if ( BYTE2(dword_13246DC) )
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 26;
                        else
                          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 9;
                        break;
                      case 0xF4u:
                      case 0xF5u:
                      case 0xF6u:
                      case 0xF7u:
                      case 0xF8u:
                      case 0xF9u:
LABEL_729:
                        *((_DWORD *)(&lpString)[dword_131D690] + 42) = 12;
                        break;
                      default:
                        goto LABEL_757;
                    }
                  }
                  goto LABEL_757;
                case 14:
                  sub_416860(14, 0, 0, 0, 0);
                  v147 = (unsigned __int16 *)dword_1308324;
                  if ( dword_48CF8C == -1
                    || (v148 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C), v148 != 12) && v148 != 13 )
                  {
                    if ( dword_48CF80 != -1 )
                    {
                      switch ( 0 )
                      {
                        case 2:
                        case 3:
                        case 7:
                        case 9:
                        case 10:
                          if ( byte_1324782 != 2 || *((_BYTE *)dword_1308324 + 68 * dword_48CF80) == 10 )
                          {
                            v193 = dword_48CF80;
                            dword_48CF80 = -1;
                            *((_DWORD *)(&lpString)[dword_131D690] + 187) = 0;
                            v147 = (unsigned __int16 *)dword_1308324;
                          }
                          break;
                        default:
                          break;
                      }
                    }
                    v123 = dword_48CF90;
                    dword_48CF90 = dword_13246D0;
                    switch ( v147[34 * dword_13246D0 + 20] )
                    {
                      case 0x31u:
                      case 0x36u:
                      case 0x38u:
                      case 0x57u:
                      case 0xB3u:
                      case 0xB4u:
                      case 0xB5u:
                      case 0xB6u:
                      case 0xB7u:
                      case 0xB8u:
                      case 0xB9u:
                      case 0xBAu:
                        *((_DWORD *)(&lpString)[dword_131D690] + 188) = 902;
                        break;
                      case 0x32u:
                      case 0x33u:
                      case 0x54u:
                      case 0xA8u:
                      case 0xA9u:
                      case 0xAAu:
                      case 0xABu:
                      case 0xACu:
                        *((_DWORD *)(&lpString)[dword_131D690] + 188) = 900;
                        break;
                      default:
                        *((_DWORD *)(&lpString)[dword_131D690] + 188) = 901;
                        break;
                    }
                  }
                  else
                  {
LABEL_746:
                    LOBYTE(dword_13246D8) = 0;
                  }
                  goto LABEL_757;
                case 15:
                case 30:
                  sub_416860(14, 0, 0, 0, 0);
                  if ( *((_BYTE *)dword_1308324 + 68 * dword_13246D0) == 30 )
                  {
                    if ( dword_48CF8C != -1 )
                    {
                      v143 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                      if ( v143 != 12 && v143 != 13 )
                      {
                        LOBYTE(dword_13246D8) = 0;
                        goto LABEL_757;
                      }
                    }
                  }
                  else if ( dword_48CF8C != -1 )
                  {
                    v144 = *((_BYTE *)dword_1308324 + 68 * dword_48CF8C);
                    if ( v144 == 12 || v144 == 13 )
                    {
                      LOBYTE(dword_13246D8) = 0;
                      goto LABEL_757;
                    }
                  }
                  v123 = dword_48CF7C;
                  dword_48CF7C = dword_13246D0;
LABEL_757:
                  sub_42BD80(dword_13246D0, 1);
                  if ( v123 != -1 )
                    sub_42BDE0(v123, 1);
                  if ( v193 == -1 )
                    goto LABEL_832;
                  sub_42BDE0(v193, 1);
                  LOBYTE(dword_13246D8) = 0;
                  break;
                case 16:
                  sub_416860(14, 0, 0, 0, 0);
                  v123 = dword_48CF84;
                  dword_48CF84 = dword_13246D0;
                  goto LABEL_757;
                case 17:
                  sub_416860(23, 0, 0, 0, 0);
                  v123 = dword_48CF94;
                  dword_48CF94 = dword_13246D0;
                  goto LABEL_757;
                case 18:
                  sub_416860(23, 0, 0, 0, 0);
                  v123 = dword_48CF88;
                  dword_48CF88 = dword_13246D0;
                  goto LABEL_757;
                default:
                  goto LABEL_757;
              }
              goto LABEL_850;
            case 7u:
              v149 = 0;
              HIBYTE(dword_13246DC) += 20;
              if ( (signed int)HIBYTE(dword_13246DC) <= 0 )
                goto LABEL_850;
              while ( 1 )
              {
                flt_13246B4 = flt_132FFF8 + flt_13246B4;
                flt_13246B0 = flt_132FFF4 + flt_13246B0;
                v150 = *(float *)&dword_1328DF4 - 2.0;
                if ( flt_13246B4 > (double)v150
                  && *(float *)&dword_1328DF4 + 2.0 > flt_13246B4
                  && *(float *)&dword_1328DF8 - 2.0 < flt_13246B0
                  && *(float *)&dword_1328DF8 + 2.0 > flt_13246B0 )
                {
                  break;
                }
                if ( ++v149 >= HIBYTE(dword_13246DC) )
                  goto LABEL_850;
              }
              sub_416860(16, 0, 0, 0, 0);
              sub_42BDE0(dword_13246D0, dword_13246D4);
              sub_42BE40(dword_13246D0, dword_13246D4);
              LOBYTE(dword_13246D8) = 0;
              goto LABEL_850;
            case 8u:
              v151 = 0;
              HIBYTE(dword_13246DC) += 20;
              if ( (signed int)HIBYTE(dword_13246DC) <= 0 )
                goto LABEL_850;
              while ( 1 )
              {
                flt_13246B4 = flt_132FFF8 + flt_13246B4;
                flt_13246B0 = flt_132FFF4 + flt_13246B0;
                v152 = *(float *)&dword_1328DF4 - 2.0;
                if ( flt_13246B4 > (double)v152
                  && *(float *)&dword_1328DF4 + 2.0 > flt_13246B4
                  && *(float *)&dword_1328DF8 - 2.0 < flt_13246B0
                  && *(float *)&dword_1328DF8 + 2.0 > flt_13246B0 )
                {
                  break;
                }
                if ( ++v151 >= HIBYTE(dword_13246DC) )
                  goto LABEL_850;
              }
              sub_416860(16, 0, 0, 0, 0);
              sub_42BEA0(dword_13246D0, dword_13246D4);
              goto LABEL_831;
            case 9u:
            case 0xAu:
              x = 518;
              y = 432;
              dword_1547438 = LODWORD(dbl_11FDAE0);
              sub_4705B0();
              if ( sub_456920(byte_1328DC0, 1, 5u, 3) != 1 )
                goto LABEL_859;
              if ( strlen(byte_1328DC0) == 0 )
                goto LABEL_857;
              v153 = atoi(byte_1328DC0);
              v154 = v153;
              if ( v153 <= 0 || v153 > dword_13246D4 )
                goto LABEL_857;
              if ( (unsigned __int8)dword_13246D8 == 9 )
              {
                byte_1550B60[0] = -9;
                byte_1550B61 = 113;
                LOBYTE(dword_1550B62) = 52;
                v156 = (&lpString)[dword_131D690];
                *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v156 + 14);
                dword_1550B67 = *((_DWORD *)v156 + 15);
                LOBYTE(dword_1550B6B) = HIBYTE(dword_13246D0);
                BYTE1(dword_1550B6B) = BYTE2(dword_13246D0);
                BYTE2(dword_1550B6B) = BYTE1(dword_13246D0);
                HIBYTE(dword_1550B6B) = dword_13246D0;
                byte_1550B6F = BYTE1(v154);
                byte_1550B70 = v154;
                sub_479790(17);
                dword_13246D4 = v154;
                LOBYTE(dword_13246D8) = 3;
              }
              else if ( (unsigned __int8)dword_13246D8 == 10 )
              {
                byte_1550B60[0] = -9;
                byte_1550B61 = 113;
                LOBYTE(dword_1550B62) = 52;
                v155 = (&lpString)[dword_131D690];
                *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v155 + 15);
                dword_1550B67 = *((_DWORD *)v155 + 14);
                LOBYTE(dword_1550B6B) = HIBYTE(dword_13246D0);
                BYTE1(dword_1550B6B) = BYTE2(dword_13246D0);
                BYTE2(dword_1550B6B) = BYTE1(dword_13246D0);
                HIBYTE(dword_1550B6B) = dword_13246D0;
                byte_1550B6F = BYTE1(v154);
                byte_1550B70 = v154;
                sub_479790(17);
                dword_13246D4 = v154;
                LOBYTE(dword_13246D8) = 4;
              }
              goto LABEL_859;
            case 0xBu:
              v159 = __OFSUB__(dword_1322680, 1);
              v157 = dword_1322680 == 1;
              v158 = dword_1322680 - 1 < 0;
              goto LABEL_787;
            case 0xCu:
              v159 = __OFSUB__(dword_1322680, 4);
              v157 = dword_1322680 == 4;
              v158 = dword_1322680 - 4 < 0;
LABEL_787:
              if ( !((unsigned __int8)(v158 ^ v159) | v157) )
                dword_1322680 = 0;
              goto LABEL_859;
            case 0xDu:
              v164 = 0;
              HIBYTE(dword_13246DC) += 20;
              if ( (signed int)HIBYTE(dword_13246DC) <= 0 )
                goto LABEL_805;
              while ( 1 )
              {
                flt_13246B4 = flt_132FFF8 + flt_13246B4;
                flt_13246B0 = flt_132FFF4 + flt_13246B0;
                v165 = *(float *)&dword_1328DF4 - 2.0;
                if ( flt_13246B4 > (double)v165
                  && *(float *)&dword_1328DF4 + 2.0 > flt_13246B4
                  && *(float *)&dword_1328DF8 - 2.0 < flt_13246B0
                  && *(float *)&dword_1328DF8 + 2.0 > flt_13246B0 )
                {
                  break;
                }
                if ( ++v164 >= HIBYTE(dword_13246DC) )
                  goto LABEL_805;
              }
              sub_416860(16, 0, 0, 0, 0);
              sub_42BDE0(dword_13246D0, dword_13246D4);
              sub_42BD80(0, *((_DWORD *)dword_1308324 + 17 * dword_13246D0 + 15));
              LOBYTE(dword_13246D8) = 0;
              dword_1322680 = 0;
              dword_132A2B8 = 0;
LABEL_805:
              x = (signed __int64)flt_13246B4;
              y = (signed __int64)flt_13246B0;
              dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_13246D0 + 20)]
                                        + 8);
              sub_4705B0();
              goto LABEL_859;
            case 0xEu:
              v166 = (double)(SHIWORD(dword_1322660) - 50) * 0.0040000002 + 0.7;
              sub_42BD80(dword_13246D0, dword_13246D4);
              sub_42BDE0(0, (signed __int64)((double)*((signed int *)dword_1308324 + 17 * dword_13246D0 + 15) * v166));
              LOBYTE(dword_13246D8) = 0;
              dword_1322680 = 0;
              dword_132A2B8 = 0;
              goto LABEL_859;
            case 0xFu:
            case 0x10u:
              x = 518;
              y = 432;
              dword_1547438 = LODWORD(dbl_11FDAE0);
              sub_4705B0();
              if ( sub_456920(byte_1328DC0, 1, 5u, 3) != 1 )
                goto LABEL_859;
              if ( strlen(byte_1328DC0) == 0 )
                goto LABEL_857;
              v167 = atoi(byte_1328DC0);
              v168 = v167;
              if ( v167 <= 0 || v167 > dword_13246D4 )
                goto LABEL_857;
              if ( (unsigned __int8)dword_13246D8 == 15 )
              {
                BYTE1(dword_1550B62) = HIBYTE(dword_13246D0);
                BYTE2(dword_1550B62) = BYTE2(dword_13246D0);
                HIBYTE(dword_1550B62) = BYTE1(dword_13246D0);
                byte_1550B66 = dword_13246D0;
                byte_1550B60[0] = -9;
                byte_1550B61 = 113;
                LOBYTE(dword_1550B62) = 86;
                LOBYTE(dword_1550B67) = HIBYTE(v167);
                BYTE1(dword_1550B67) = BYTE2(v167);
                BYTE2(dword_1550B67) = BYTE1(v168);
                HIBYTE(dword_1550B67) = v167;
                sub_479790(11);
                dword_13246D4 = v168;
                LOBYTE(dword_13246D8) = 17;
              }
              else if ( (unsigned __int8)dword_13246D8 == 16 )
              {
                BYTE1(dword_1550B62) = HIBYTE(dword_13246D0);
                BYTE2(dword_1550B62) = BYTE2(dword_13246D0);
                HIBYTE(dword_1550B62) = BYTE1(dword_13246D0);
                byte_1550B66 = dword_13246D0;
                byte_1550B60[0] = -9;
                byte_1550B61 = 113;
                LOBYTE(dword_1550B62) = 89;
                LOBYTE(dword_1550B67) = HIBYTE(v167);
                BYTE1(dword_1550B67) = BYTE2(v167);
                BYTE2(dword_1550B67) = BYTE1(v168);
                HIBYTE(dword_1550B67) = v167;
                sub_479790(11);
                dword_13246D4 = v168;
                LOBYTE(dword_13246D8) = 18;
              }
              goto LABEL_859;
            case 0x11u:
              v169 = 0;
              HIBYTE(dword_13246DC) += 20;
              if ( (signed int)HIBYTE(dword_13246DC) <= 0 )
                goto LABEL_850;
              while ( 1 )
              {
                flt_13246B4 = flt_132FFF8 + flt_13246B4;
                flt_13246B0 = flt_132FFF4 + flt_13246B0;
                v170 = *(float *)&dword_1328DF4 - 2.0;
                if ( flt_13246B4 > (double)v170
                  && *(float *)&dword_1328DF4 + 2.0 > flt_13246B4
                  && *(float *)&dword_1328DF8 - 2.0 < flt_13246B0
                  && *(float *)&dword_1328DF8 + 2.0 > flt_13246B0 )
                {
                  break;
                }
                if ( ++v169 >= HIBYTE(dword_13246DC) )
                  goto LABEL_850;
              }
              sub_416860(16, 0, 0, 0, 0);
              sub_42BDE0(dword_13246D0, dword_13246D4);
              sub_42BF60(dword_13246D0, dword_13246D4);
              LOBYTE(dword_13246D8) = 0;
              goto LABEL_850;
            case 0x12u:
              v171 = 0;
              HIBYTE(dword_13246DC) += 20;
              if ( (signed int)HIBYTE(dword_13246DC) <= 0 )
                goto LABEL_850;
              while ( 1 )
              {
                flt_13246B4 = flt_132FFF8 + flt_13246B4;
                flt_13246B0 = flt_132FFF4 + flt_13246B0;
                v172 = *(float *)&dword_1328DF4 - 2.0;
                if ( flt_13246B4 > (double)v172
                  && *(float *)&dword_1328DF4 + 2.0 > flt_13246B4
                  && *(float *)&dword_1328DF8 - 2.0 < flt_13246B0
                  && *(float *)&dword_1328DF8 + 2.0 > flt_13246B0 )
                {
                  break;
                }
                if ( ++v171 >= HIBYTE(dword_13246DC) )
                  goto LABEL_850;
              }
              sub_416860(16, 0, 0, 0, 0);
              sub_42BF00(dword_13246D0, dword_13246D4);
LABEL_831:
              sub_42BD80(dword_13246D0, dword_13246D4);
LABEL_832:
              LOBYTE(dword_13246D8) = 0;
              goto LABEL_850;
            case 0x13u:
              x = 518;
              y = 432;
              dword_1547438 = LODWORD(dbl_11FDAE0);
              sub_4705B0();
              if ( sub_456920(byte_1328DC0, 1, 5u, 3) != 1 )
                goto LABEL_859;
              if ( strlen(byte_1328DC0) != 0 )
              {
                v180 = atoi(byte_1328DC0);
                v181 = v180;
                if ( v180 > 0 && v180 <= dword_13246D4 )
                {
                  byte_1550B60[0] = -9;
                  byte_1550B61 = 113;
                  v182 = (&lpString)[dword_131D690];
                  LOBYTE(dword_1550B62) = 52;
                  *(int *)((char *)&dword_1550B62 + 1) = dword_13194B4;
                  dword_1550B67 = *((_DWORD *)v182 + 14);
                  LOBYTE(dword_1550B6B) = HIBYTE(dword_13246D0);
                  HIBYTE(dword_1550B6B) = dword_13246D0;
                  byte_1550B70 = v181;
                  BYTE1(dword_1550B6B) = BYTE2(dword_13246D0);
                  BYTE2(dword_1550B6B) = BYTE1(dword_13246D0);
                  byte_1550B6F = BYTE1(v181);
                  sub_479790(17);
                  dword_13246D4 = v181;
                  LOBYTE(dword_13246D8) = 20;
                  strcpy(byte_1324784, (const char *)&unk_48DC80);
                  byte_1330080 = 1;
                  dword_1330084 = 2;
                  strcpy((char *)&unk_13247E8, (const char *)&unk_48DC74);
                  goto LABEL_859;
                }
              }
              byte_1330080 = 0;
              goto LABEL_857;
            case 0x15u:
              sub_42BD80(dword_13246D0, dword_13246D4);
              dword_1322680 = 0;
              dword_132A2B8 = 0;
              strcpy(byte_1324784, (const char *)&unk_48DC5C);
              LOBYTE(dword_13246D8) = 0;
              byte_1330080 = 3;
              dword_1330084 = 1;
              dword_1330088 = dword_13211C8;
              goto LABEL_859;
            case 0x18u:
            case 0x19u:
              x = 518;
              y = 432;
              dword_1547438 = LODWORD(dbl_11FDAE0);
              sub_4705B0();
              if ( (unsigned __int8)dword_13246D8 == 24 )
              {
                dword_1324F58 = dword_13211C8;
                byte_1550B60[0] = -9;
                v163 = (&lpString)[dword_131D690];
                byte_1550B61 = 113;
                LOBYTE(dword_1550B62) = 46;
                *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v163 + 14);
                dword_1550B67 = dword_13211CC;
                LOBYTE(dword_1550B6B) = HIBYTE(dword_13246D0);
                BYTE1(dword_1550B6B) = BYTE2(dword_13246D0);
                BYTE2(dword_1550B6B) = BYTE1(dword_13246D0);
                HIBYTE(dword_1550B6B) = dword_13246D0;
                byte_1550B6F = HIBYTE(dword_13246D4);
                byte_1550B70 = BYTE2(dword_13246D4);
                byte_1550B71 = BYTE1(dword_13246D4);
                byte_1550B72 = dword_13246D4;
                byte_1550B73 = 2;
                byte_1550B74 = dword_13246A8;
                sub_479790(21);
                LOBYTE(dword_13246D8) = 26;
                dword_1329638 = 0;
                dword_13226CC = 0;
              }
              else if ( (unsigned __int8)dword_13246D8 == 25 && sub_456920(byte_1328DC0, 1, 5u, 3) == 1 )
              {
                if ( strlen(byte_1328DC0) == 0
                  || (v160 = atoi(byte_1328DC0), v161 = v160, v160 <= 0)
                  || v160 > dword_13246D4 )
                {
LABEL_857:
                  LOBYTE(dword_13246D8) = 0;
                }
                else
                {
                  dword_1324F58 = dword_13211C8;
                  byte_1550B60[0] = -9;
                  v162 = (&lpString)[dword_131D690];
                  byte_1550B61 = 113;
                  LOBYTE(dword_1550B62) = 46;
                  *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v162 + 14);
                  dword_1550B67 = dword_13211CC;
                  LOBYTE(dword_1550B6B) = HIBYTE(dword_13246D0);
                  BYTE1(dword_1550B6B) = BYTE2(dword_13246D0);
                  BYTE2(dword_1550B6B) = BYTE1(dword_13246D0);
                  HIBYTE(dword_1550B6B) = dword_13246D0;
                  byte_1550B6F = HIBYTE(v161);
                  byte_1550B70 = BYTE2(v161);
                  byte_1550B71 = BYTE1(v161);
                  byte_1550B72 = v161;
                  byte_1550B73 = 1;
                  byte_1550B74 = dword_13246A8;
                  sub_479790(21);
                  dword_13246D4 = v161;
                  LOBYTE(dword_13246D8) = 27;
                  dword_1329638 = 0;
                  dword_13226CC = 0;
                }
              }
              goto LABEL_859;
            case 0x1Au:
              v173 = 0;
              HIBYTE(dword_13246DC) += 20;
              if ( (signed int)HIBYTE(dword_13246DC) <= 0 )
                goto LABEL_850;
              while ( 1 )
              {
                flt_13246B4 = flt_132FFF8 + flt_13246B4;
                flt_13246B0 = flt_132FFF4 + flt_13246B0;
                v174 = *(float *)&dword_1328DF4 - 2.0;
                if ( flt_13246B4 > (double)v174
                  && *(float *)&dword_1328DF4 + 2.0 > flt_13246B4
                  && *(float *)&dword_1328DF8 - 2.0 < flt_13246B0
                  && *(float *)&dword_1328DF8 + 2.0 > flt_13246B0 )
                {
                  break;
                }
                if ( ++v173 >= HIBYTE(dword_13246DC) )
                  goto LABEL_850;
              }
              sub_416860(16, 0, 0, 0, 0);
              v175 = 2 * (unsigned __int8)dword_13246A8;
              dword_132A270[v175] = -1;
              dword_132A274[v175] = 0;
              goto LABEL_849;
            case 0x1Bu:
              v176 = 0;
              HIBYTE(dword_13246DC) += 20;
              if ( (signed int)HIBYTE(dword_13246DC) <= 0 )
                goto LABEL_850;
              break;
            default:
              goto LABEL_859;
          }
          while ( 1 )
          {
            flt_13246B4 = flt_132FFF8 + flt_13246B4;
            flt_13246B0 = flt_132FFF4 + flt_13246B0;
            v177 = *(float *)&dword_1328DF4 - 2.0;
            if ( flt_13246B4 > (double)v177
              && *(float *)&dword_1328DF4 + 2.0 > flt_13246B4
              && *(float *)&dword_1328DF8 - 2.0 < flt_13246B0
              && *(float *)&dword_1328DF8 + 2.0 > flt_13246B0 )
            {
              break;
            }
            if ( ++v176 >= HIBYTE(dword_13246DC) )
              goto LABEL_850;
          }
          sub_416860(16, 0, 0, 0, 0);
          v178 = dword_13246D4;
          v179 = 2 * (unsigned __int8)dword_13246A8;
          dword_132A270[v179] = dword_13246D0;
          dword_132A274[v179] = v178;
LABEL_849:
          LOBYTE(dword_13246D8) = 0;
          dword_1322680 = 0;
          dword_132A2B8 = 0;
LABEL_850:
          x = (signed __int64)flt_13246B4;
          y = (signed __int64)flt_13246B0;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_13246D0 + 20)] + 8);
          sub_4705B0();
LABEL_859:
          v183 = 0;
          if ( dword_1330034 )
          {
            x = 0;
            y = 20;
            dword_1547438 = dword_8D5CF0;
            sub_4705B0();
            v184 = (unsigned __int16)word_13B5390[dword_49D89C + 900 * dword_49D8A0];
            x = (unsigned __int16)v184;
            if ( dword_156FEB0 )
              *((_WORD *)(&lpString)[dword_131D690] + 378) = v184 & 0x1F | (v184 >> 1) & 0x7FE0;
            else
              *((_WORD *)(&lpString)[dword_131D690] + 378) = v184;
          }
          result = byte_1330094;
          if ( byte_1330094 )
          {
            x = 211;
            y = 193;
            dword_1547438 = dword_8D5B70;
            sub_4705B0();
            result = dword_49D89C;
            if ( dword_49D89C <= 435
              || dword_49D89C >= 485
              || dword_49D8A0 <= 278
              || dword_49D8A0 >= 299
              || dword_1329F6C != 1 )
            {
              if ( dword_49D89C <= 492
                || dword_49D89C >= 542
                || dword_49D8A0 <= 278
                || dword_49D8A0 >= 299
                || dword_1329F6C != 2 )
              {
                goto LABEL_877;
              }
              x = 492;
              y = 278;
              dword_1547438 = dword_1308200;
            }
            else
            {
              x = 435;
              y = 278;
              dword_1547438 = dword_8D3C20;
            }
            result = sub_4705B0();
          }
          do
          {
LABEL_877:
            if ( *(_DWORD *)&dword_1547910[v183 * 4] < 32 )
            {
              v185 = dword_1542DA8[v183];
              v186 = dword_1547910[v183 * 4];
              x = dword_1541BE0[v183];
              y = v185;
              LOBYTE(dword_1547948) = v186;
              dword_1547438 = dword_8C8630;
              result = dword_1330668();
            }
            ++v183;
          }
          while ( v183 < 5 );
          return result;
        case 3u:
          v111 = dword_132FFCC + 2 + dword_13246A0;
          dword_132FFCC += 2;
          dword_13246A0 = v111;
          if ( v111 < -50 )
          {
            v111 = -50;
            LOBYTE(dword_48CFC8) = 0;
            dword_13246A0 = -50;
          }
          y = v111;
          x = 512;
          dword_1547438 = dword_8D5C00;
          sub_4705B0();
          goto LABEL_532;
        default:
          goto LABEL_532;
      }
    case 0xC:
      v76 = (char *)&unk_13B5780;
      v77 = (char *)dword_4BBF1C;
      v78 = 452;
      do
      {
        qmemcpy(v76, v77, 0x250u);
        v77 += 592;
        v76 += 1800;
        --v78;
      }
      while ( v78 );
      v79 = 142;
      if ( dword_1322680 )
      {
        if ( dword_1322680 == 1 )
        {
          x = 534;
          y = 142;
          dword_1547438 = dword_1308210;
          dword_1541C10();
          x = 540;
          y = 148;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_13246D0 + 20)] + 8);
        }
        else
        {
          if ( dword_1322680 != 4 )
            goto LABEL_346;
          x = 534;
          y = 142;
          dword_1547438 = dword_1308210;
          dword_1541C10();
          x = 540;
          y = 148;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * dword_13246D0 + 20)] + 8);
        }
        sub_4705B0();
        if ( dword_49D89C > 587 && dword_49D89C < 617 && dword_49D8A0 > y + 65 && dword_49D8A0 < y + 75 )
        {
          v80 = 1;
          goto LABEL_316;
        }
        if ( dword_49D89C > 672 && dword_49D89C < 692 && dword_49D8A0 > y + 65 && dword_49D8A0 < y + 75 )
        {
          v80 = 2;
LABEL_316:
          if ( dword_1328DFC != v80 )
          {
            sub_416860(8, 0, 0, 0, 0);
            dword_1328DFC = v80;
          }
LABEL_346:
          v82 = 0;
          v83 = dword_48CEC8;
          do
          {
            v84 = *v83;
            if ( *v83 != -1 )
            {
              x = 47 * (v82 % 5) + 537;
              y = 47 * (v82 / 5) + 284;
              dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * v84 + 20)] + 8);
              sub_4705B0();
              if ( !dword_1330070
                && dword_49D89C > x
                && dword_49D89C < x + 40
                && dword_49D8A0 > y
                && dword_49D8A0 < y + 40 )
              {
                if ( dword_48D600 != v82 )
                {
                  sub_416860(23, 0, 0, 0, 0);
                  dword_48D600 = v82;
                }
                x -= 6;
                dword_13300AC = 1;
                y -= 7;
                dword_1547438 = dword_1308210;
                dword_1541C10();
              }
            }
            v83 += 2;
            ++v82;
          }
          while ( (signed int)v83 < (signed int)&unk_48CF40 );
          if ( !dword_13300AC )
            dword_48D600 = -1;
          if ( dword_1330070 )
          {
            if ( (unsigned __int8)dword_132A268 == 1 )
            {
              x = 760;
              y = 142;
              dword_1547438 = dword_8D5CE4;
              sub_4705B0();
              if ( dword_49D89C > 760 && dword_49D89C < 780 && dword_49D8A0 > 142 && dword_49D8A0 < 162 && dword_132260C )
                --dword_132260C;
              LOBYTE(dword_132A268) = 0;
            }
            else if ( (unsigned __int8)dword_132A268 == 2 )
            {
              x = 760;
              y = 234;
              dword_1547438 = dword_8D5CE4;
              sub_4705B0();
              if ( dword_49D89C > 760
                && dword_49D89C < 780
                && dword_49D8A0 > 234
                && dword_49D8A0 < 254
                && dword_488508[dword_132260C + 40 * dword_489040 + 5 * dword_489040] != -1
                && dword_132260C < 45 )
              {
                ++dword_132260C;
              }
              LOBYTE(dword_132A268) = 0;
            }
          }
          goto LABEL_445;
        }
      }
      else
      {
        v81 = 0;
        dword_13300AC = 0;
        if ( dword_1330070 )
        {
          if ( dword_132A2B8 )
          {
            if ( dword_49D89C <= 632 || dword_49D89C >= 652 || dword_49D8A0 <= 214 || dword_49D8A0 >= 224 )
            {
              dword_1328DFC = 0;
            }
            else if ( dword_1328DFC != 1 )
            {
              sub_416860(8, 0, 0, 0, 0);
              dword_1328DFC = 1;
            }
          }
          else
          {
            do
            {
              x = 540;
              y = v79 + 6;
              dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324
                                                       + 34
                                                       * dword_488500[v81
                                                                    + dword_132260C
                                                                    + 40 * dword_489040
                                                                    + 5 * dword_489040]
                                                       + 20)]
                                        + 8);
              sub_4705B0();
              if ( dword_49D89C > x && dword_49D89C < x + 50 && dword_49D8A0 > y && dword_49D8A0 < y + 50 )
              {
                if ( dword_48D600 != v81 )
                {
                  dword_48D600 = v81;
                  sub_416860(23, 0, 0, 0, 0);
                }
                dword_13300AC = 1;
                x = 534;
                y = v79;
                dword_1547438 = dword_1308210;
                dword_1541C10();
              }
              v79 += 50;
              ++v81;
            }
            while ( v79 < 242 );
            if ( !dword_13300AC )
              dword_48D600 = -1;
          }
          goto LABEL_346;
        }
        if ( !dword_132A2B8 )
          goto LABEL_346;
        if ( dword_49D89C > 632 && dword_49D89C < 652 && dword_49D8A0 > 214 && dword_49D8A0 < 224 )
        {
          if ( dword_1328DFC != 1 )
          {
            sub_416860(8, 0, 0, 0, 0);
            dword_1328DFC = 1;
          }
          goto LABEL_346;
        }
      }
      dword_1328DFC = 0;
      goto LABEL_346;
    case 0xD:
      v85 = (char *)&unk_13B5780;
      v86 = (char *)dword_1308264;
      v87 = 452;
      do
      {
        qmemcpy(v85, v86, 0x250u);
        v86 += 592;
        v85 += 1800;
        --v87;
      }
      while ( v87 );
      v88 = 0;
      dword_13300AC = 0;
      do
      {
        v89 = dword_48CCE8[2 * (v88 + 20 * dword_1322610)];
        if ( v89 != -1 )
        {
          x = 47 * (v88 % 5) + 537;
          y = 47 * (v88 / 5) + 113;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * v89 + 20)] + 8);
          sub_4705B0();
          if ( dword_49D89C > x && dword_49D89C < x + 40 && dword_49D8A0 > y && dword_49D8A0 < y + 40 )
          {
            if ( dword_48D600 != v88 )
            {
              dword_48D600 = v88;
              sub_416860(23, 0, 0, 0, 0);
            }
            x -= 6;
            dword_13300AC = 1;
            y -= 7;
            dword_1547438 = dword_1308210;
            dword_1541C10();
          }
        }
        ++v88;
      }
      while ( v88 < 20 );
      v90 = 0;
      do
      {
        v91 = dword_48CEC8[2 * (v90 + 4 * dword_132260C + dword_132260C)];
        if ( v91 != -1 )
        {
          y = 343;
          x = 47 * (v90 % 5) + 536;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * v91 + 20)] + 8);
          sub_4705B0();
          if ( dword_49D89C > x && dword_49D89C < x + 40 && dword_49D8A0 > y && dword_49D8A0 < y + 40 )
          {
            if ( dword_48D600 != v90 )
            {
              dword_48D600 = v90;
              sub_416860(23, 0, 0, 0, 0);
            }
            x -= 6;
            dword_13300AC = 1;
            y -= 7;
            dword_1547438 = dword_1308210;
            dword_1541C10();
          }
        }
        ++v90;
      }
      while ( v90 < 5 );
      if ( !dword_13300AC )
        dword_48D600 = -1;
      switch ( (unsigned __int8)dword_132A268 )
      {
        case 1u:
          x = 545;
          y = 403;
          dword_1547438 = dword_8D5CE4;
          sub_4705B0();
          break;
        case 2u:
          x = 751;
          y = 403;
          dword_1547438 = dword_8D5CE4;
          sub_4705B0();
          break;
        case 3u:
          x = 545;
          y = 314;
          goto LABEL_405;
        case 4u:
          x = 751;
          y = 314;
          dword_1547438 = dword_8D5CE4;
          sub_4705B0();
          break;
        default:
          goto LABEL_445;
      }
      goto LABEL_445;
    case 0xE:
      v92 = (char *)&unk_13B5780;
      v93 = (char *)dword_1308264;
      v94 = 452;
      do
      {
        qmemcpy(v92, v93, 0x250u);
        v93 += 592;
        v92 += 1800;
        --v94;
      }
      while ( v94 );
      v95 = 0;
      do
      {
        v96 = dword_48CEC8[2 * (v95 + 4 * dword_132260C + dword_132260C)];
        if ( v96 != -1 )
        {
          y = 343;
          x = 47 * (v95 % 5) + 536;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * v96 + 20)] + 8);
          sub_4705B0();
          if ( dword_49D89C > x && dword_49D89C < x + 40 && dword_49D8A0 > y && dword_49D8A0 < y + 40 )
          {
            x -= 6;
            y -= 7;
            dword_1547438 = dword_1308210;
            dword_1541C10();
          }
        }
        ++v95;
      }
      while ( v95 < 5 );
      goto LABEL_445;
    case 0xF:
      v97 = (char *)&unk_13B5780;
      v98 = (char *)dword_4BBF18;
      v99 = 452;
      do
      {
        qmemcpy(v97, v98, 0x250u);
        v98 += 592;
        v97 += 1800;
        --v99;
      }
      while ( v99 );
      if ( dword_1329638 )
      {
        x = 559;
        y = 215;
        dword_1547438 = dword_8D3C20;
        sub_4705B0();
      }
      if ( dword_13226CC )
      {
        x = 695;
        y = 215;
        dword_1547438 = dword_8D3C20;
        sub_4705B0();
      }
      if ( (_BYTE)dword_132A268 )
      {
        x = 615;
        y = 230;
        dword_1547438 = dword_1308200;
        sub_4705B0();
      }
      v100 = 0;
      do
      {
        v101 = dword_132A270[2 * v100];
        if ( v101 != -1 )
        {
          x = 45 * (v100 % 2 + 12);
          y = 45 * (v100 / 2) + 118;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * v101 + 20)] + 8);
          sub_4705B0();
        }
        v102 = dword_1329450[2 * v100];
        if ( v102 != -1 )
        {
          x = 45 * (v100 % 2 + 15);
          y = 45 * (v100 / 2) + 118;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * v102 + 20)] + 8);
          sub_4705B0();
        }
        ++v100;
      }
      while ( v100 < 4 );
      v192 = 0;
      v103 = 0;
      v104 = dword_48CEC8;
      do
      {
        v105 = *v104;
        if ( *v104 != -1 )
        {
          x = 47 * (v103 % 5) + 537;
          y = 47 * (v103 / 5) + 284;
          dword_1547438 = *(_DWORD *)(dword_4BD400[*((unsigned __int16 *)dword_1308324 + 34 * v105 + 20)] + 8);
          sub_4705B0();
          if ( (unsigned int)(dword_13211C8 - dword_1324F58) > 0xBB8
            && dword_49D89C > x
            && dword_49D89C < x + 40
            && dword_49D8A0 > y
            && dword_49D8A0 < y + 40 )
          {
            y -= 7;
            x -= 6;
            dword_1547438 = dword_1308210;
            dword_1541C10();
            if ( dword_48D600 != v103 )
            {
              sub_416860(15, 0, 0, 0, 0);
              dword_48D600 = v103;
            }
            v192 = 1;
          }
        }
        v104 += 2;
        ++v103;
      }
      while ( (signed int)v104 < (signed int)&unk_48CF40 );
      if ( !v192 )
LABEL_444:
        dword_48D600 = -1;
      goto LABEL_445;
    default:
      goto LABEL_445;
  }
}
// 487C50: using guessed type int dword_487C50[];
// 487C54: using guessed type int dword_487C54[];
// 487C58: using guessed type int dword_487C58[];
// 489040: using guessed type int dword_489040;
// 48CCE4: using guessed type int dword_48CCE4;
// 48CCE8: using guessed type int dword_48CCE8[];
// 48CE28: using guessed type int dword_48CE28[];
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CF68: using guessed type int dword_48CF68;
// 48CF6C: using guessed type int dword_48CF6C;
// 48CF70: using guessed type int dword_48CF70;
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;
// 48CF98: using guessed type int dword_48CF98;
// 48CF9C: using guessed type int dword_48CF9C;
// 48CFA0: using guessed type int dword_48CFA0;
// 48CFC8: using guessed type int dword_48CFC8;
// 48D600: using guessed type int dword_48D600;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 49D97C: using guessed type int dword_49D97C;
// 49D9A0: using guessed type int dword_49D9A0;
// 49DA1C: using guessed type int dword_49DA1C[];
// 4BD018: using guessed type int dword_4BD018;
// 4BD01C: using guessed type int dword_4BD01C;
// 6C83B8: using guessed type int dword_6C83B8;
// 6C8618: using guessed type int dword_6C8618;
// 8C8630: using guessed type int dword_8C8630;
// 8D3C20: using guessed type int dword_8D3C20;
// 8D5B70: using guessed type int dword_8D5B70;
// 8D5B84: using guessed type int dword_8D5B84;
// 8D5B88: using guessed type int dword_8D5B88;
// 8D5B90: using guessed type int dword_8D5B90;
// 8D5B94: using guessed type int dword_8D5B94;
// 8D5B9C: using guessed type int dword_8D5B9C;
// 8D5BA0: using guessed type int dword_8D5BA0;
// 8D5BAC: using guessed type int dword_8D5BAC;
// 8D5BB8: using guessed type int dword_8D5BB8;
// 8D5BC4: using guessed type int dword_8D5BC4;
// 8D5BD0: using guessed type int dword_8D5BD0;
// 8D5BDC: using guessed type int dword_8D5BDC;
// 8D5BE8: using guessed type int dword_8D5BE8;
// 8D5C00: using guessed type int dword_8D5C00;
// 8D5C0C: using guessed type int dword_8D5C0C;
// 8D5C18: using guessed type int dword_8D5C18;
// 8D5C24: using guessed type int dword_8D5C24;
// 8D5C30: using guessed type int dword_8D5C30;
// 8D5C3C: using guessed type int dword_8D5C3C;
// 8D5C48: using guessed type int dword_8D5C48;
// 8D5C54: using guessed type int dword_8D5C54;
// 8D5C60: using guessed type int dword_8D5C60;
// 8D5C6C: using guessed type int dword_8D5C6C;
// 8D5C78: using guessed type int dword_8D5C78;
// 8D5C84: using guessed type int dword_8D5C84;
// 8D5C90: using guessed type int dword_8D5C90;
// 8D5C9C: using guessed type int dword_8D5C9C;
// 8D5CA8: using guessed type int dword_8D5CA8;
// 8D5CC0: using guessed type int dword_8D5CC0;
// 8D5CCC: using guessed type int dword_8D5CCC;
// 8D5CD4: using guessed type int dword_8D5CD4;
// 8D5CD8: using guessed type int dword_8D5CD8;
// 8D5CE0: using guessed type int dword_8D5CE0;
// 8D5CE4: using guessed type int dword_8D5CE4;
// 8D5CF0: using guessed type int dword_8D5CF0;
// 8D5CFC: using guessed type int dword_8D5CFC;
// 8D5D14: using guessed type int dword_8D5D14;
// 8D5D20: using guessed type int dword_8D5D20;
// 8D5D2C: using guessed type int dword_8D5D2C;
// 8D5D38: using guessed type int dword_8D5D38;
// 8D5D44: using guessed type int dword_8D5D44;
// 8D5D50: using guessed type int dword_8D5D50;
// 8D5D5C: using guessed type int dword_8D5D5C;
// 8D5D68: using guessed type int dword_8D5D68;
// 8D5D74: using guessed type int dword_8D5D74;
// 8D5D80: using guessed type int dword_8D5D80;
// 8D5D8C: using guessed type int dword_8D5D8C;
// 8D5D98: using guessed type int dword_8D5D98;
// 8D5DA4: using guessed type int dword_8D5DA4;
// 8D5DB0: using guessed type int dword_8D5DB0;
// 8D5DBC: using guessed type int dword_8D5DBC;
// 8D5DC8: using guessed type int dword_8D5DC8;
// 8D5DD4: using guessed type int dword_8D5DD4;
// 8D5DE0: using guessed type int dword_8D5DE0;
// 8D5DEC: using guessed type int dword_8D5DEC;
// 8D5DF8: using guessed type int dword_8D5DF8;
// 8D5E04: using guessed type int dword_8D5E04;
// 8D5E40: using guessed type int dword_8D5E40;
// 8D5E58: using guessed type int dword_8D5E58;
// 11FDAE0: using guessed type double dbl_11FDAE0;
// 11FDD28: using guessed type int dword_11FDD28;
// 1308200: using guessed type int dword_1308200;
// 1308210: using guessed type int dword_1308210;
// 13082E4: using guessed type int dword_13082E4;
// 13082E8: using guessed type int dword_13082E8;
// 13082F4: using guessed type int dword_13082F4;
// 1308300: using guessed type int dword_1308300;
// 1317E74: using guessed type int dword_1317E74;
// 1317E80: using guessed type char byte_1317E80;
// 13194B4: using guessed type int dword_13194B4;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131AC00: using guessed type char byte_131AC00;
// 131D68C: using guessed type char byte_131D68C;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13211CC: using guessed type int dword_13211CC;
// 13225C8: using guessed type int dword_13225C8;
// 13225CC: using guessed type int dword_13225CC;
// 13225D0: using guessed type int dword_13225D0;
// 13225D4: using guessed type int dword_13225D4;
// 13225E8: using guessed type char byte_13225E8;
// 13225E9: using guessed type char byte_13225E9;
// 13225F8: using guessed type int dword_13225F8;
// 132260C: using guessed type int dword_132260C;
// 1322610: using guessed type int dword_1322610;
// 132262C: using guessed type int dword_132262C;
// 1322630: using guessed type int dword_1322630;
// 1322660: using guessed type int dword_1322660;
// 1322680: using guessed type int dword_1322680;
// 13226CC: using guessed type int dword_13226CC;
// 13246A0: using guessed type int dword_13246A0;
// 13246A8: using guessed type int dword_13246A8;
// 13246B0: using guessed type float flt_13246B0;
// 13246B4: using guessed type float flt_13246B4;
// 13246D0: using guessed type int dword_13246D0;
// 13246D8: using guessed type int dword_13246D8;
// 13246DC: using guessed type int dword_13246DC;
// 1324782: using guessed type char byte_1324782;
// 1324F54: using guessed type int dword_1324F54;
// 1324F58: using guessed type int dword_1324F58;
// 1328DF4: using guessed type int dword_1328DF4;
// 1328DF8: using guessed type int dword_1328DF8;
// 1328DFC: using guessed type int dword_1328DFC;
// 1328E45: using guessed type char byte_1328E45;
// 1328E46: using guessed type __int16 word_1328E46;
// 1329448: using guessed type char byte_1329448;
// 1329450: using guessed type int dword_1329450[];
// 1329638: using guessed type int dword_1329638;
// 1329744: using guessed type int dword_1329744;
// 1329F6C: using guessed type int dword_1329F6C;
// 132A268: using guessed type int dword_132A268;
// 132A270: using guessed type int dword_132A270[];
// 132A274: using guessed type int dword_132A274[];
// 132A298: using guessed type int dword_132A298;
// 132A2B8: using guessed type int dword_132A2B8;
// 132FFCC: using guessed type int dword_132FFCC;
// 132FFF4: using guessed type float flt_132FFF4;
// 132FFF8: using guessed type float flt_132FFF8;
// 132FFFC: using guessed type int dword_132FFFC;
// 1330014: using guessed type int dword_1330014;
// 1330018: using guessed type int dword_1330018;
// 133001C: using guessed type int dword_133001C;
// 1330020: using guessed type int dword_1330020;
// 1330024: using guessed type int dword_1330024;
// 1330028: using guessed type int dword_1330028;
// 133002C: using guessed type int dword_133002C;
// 1330030: using guessed type char byte_1330030;
// 1330034: using guessed type int dword_1330034;
// 1330038: using guessed type int dword_1330038;
// 1330040: using guessed type int dword_1330040;
// 133004A: using guessed type char byte_133004A;
// 133004C: using guessed type int dword_133004C;
// 1330054: using guessed type int dword_1330054;
// 1330064: using guessed type int dword_1330064;
// 1330068: using guessed type int dword_1330068;
// 1330070: using guessed type int dword_1330070;
// 1330074: using guessed type int dword_1330074;
// 133007C: using guessed type int dword_133007C;
// 1330080: using guessed type char byte_1330080;
// 1330084: using guessed type int dword_1330084;
// 1330088: using guessed type int dword_1330088;
// 1330090: using guessed type int dword_1330090;
// 1330094: using guessed type char byte_1330094;
// 133009C: using guessed type char byte_133009C;
// 13300A0: using guessed type int dword_13300A0;
// 13300A4: using guessed type int dword_13300A4;
// 13300A8: using guessed type int dword_13300A8;
// 13300AC: using guessed type int dword_13300AC;
// 13300B8: using guessed type int dword_13300B8;
// 1330668: using guessed type int (*dword_1330668)(void);
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 1541C10: using guessed type int (*dword_1541C10)(void);
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;
// 1550B61: using guessed type char byte_1550B61;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;
// 156FEB0: using guessed type int dword_156FEB0;

//----- (0044F4B0) --------------------------------------------------------
int sub_44F4B0()
{
  int result; // eax

  result = 0;
  if ( dword_48CF80 != -1 )
    result = *((char *)dword_1308324 + 68 * dword_48CF80 + 42);
  if ( dword_48CF7C != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF7C + 42);
  if ( dword_48CF88 != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF88 + 42);
  if ( dword_48CF90 != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF90 + 42);
  if ( dword_48CF94 != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF94 + 42);
  if ( dword_48CF8C != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF8C + 42);
  if ( dword_48CF84 != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF84 + 42);
  return result;
}
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;

//----- (0044F570) --------------------------------------------------------
int sub_44F570()
{
  int result; // eax

  result = 0;
  if ( dword_48CF80 != -1 )
    result = *((char *)dword_1308324 + 68 * dword_48CF80 + 43);
  if ( dword_48CF7C != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF7C + 43);
  if ( dword_48CF88 != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF88 + 43);
  if ( dword_48CF90 != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF90 + 43);
  if ( dword_48CF94 != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF94 + 43);
  if ( dword_48CF8C != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF8C + 43);
  if ( dword_48CF84 != -1 )
    result += *((char *)dword_1308324 + 68 * dword_48CF84 + 43);
  return result;
}
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;

//----- (0044F630) --------------------------------------------------------
int sub_44F630()
{
  int result; // eax

  result = 0;
  if ( dword_48CF80 != -1 )
    result = *((signed __int16 *)dword_1308324 + 34 * dword_48CF80 + 23);
  if ( dword_48CF7C != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF7C + 23);
  if ( dword_48CF88 != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF88 + 23);
  if ( dword_48CF90 != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF90 + 23);
  if ( dword_48CF94 != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF94 + 23);
  if ( dword_48CF8C != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF8C + 23);
  if ( dword_48CF84 != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF84 + 23);
  return result;
}
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;

//----- (0044F6F0) --------------------------------------------------------
int sub_44F6F0()
{
  int result; // eax

  result = 0;
  if ( dword_48CF80 != -1 )
    result = *((signed __int16 *)dword_1308324 + 34 * dword_48CF80 + 22);
  if ( dword_48CF7C != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF7C + 22);
  if ( dword_48CF88 != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF88 + 22);
  if ( dword_48CF90 != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF90 + 22);
  if ( dword_48CF94 != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF94 + 22);
  if ( dword_48CF8C != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF8C + 22);
  if ( dword_48CF84 != -1 )
    result += *((signed __int16 *)dword_1308324 + 34 * dword_48CF84 + 22);
  return result;
}
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;

//----- (0044F7B0) --------------------------------------------------------
BOOL __cdecl sub_44F7B0(char *a1)
{
  char v1; // al
  char v2; // al
  __int16 v3; // ax
  __int16 v4; // ax
  int v5; // ebx
  __int16 v7; // ax
  __int16 v8; // bx
  __int16 v9; // ax
  __int16 v10; // ax
  __int16 v11; // ax
  __int16 v12; // ax
  __int16 v13; // ax
  __int16 v14; // bx
  __int16 v15; // ax
  __int16 v16; // ax
  __int16 v17; // ax
  __int16 v18; // ax
  __int16 v19; // ax
  __int16 v20; // bx
  struct tagSIZE v21; // [esp+Ch] [ebp-14Ch]
  struct tagSIZE v22; // [esp+14h] [ebp-144h]
  struct tagSIZE v23; // [esp+1Ch] [ebp-13Ch]
  struct tagSIZE v24; // [esp+24h] [ebp-134h]
  struct tagSIZE v25; // [esp+2Ch] [ebp-12Ch]
  struct tagSIZE v26; // [esp+34h] [ebp-124h]
  struct tagSIZE psizl; // [esp+3Ch] [ebp-11Ch]
  struct tagSIZE v28; // [esp+44h] [ebp-114h]
  struct tagSIZE v29; // [esp+4Ch] [ebp-10Ch]
  CHAR String; // [esp+54h] [ebp-104h]

  GetTextExtentPoint32A(hdc, &byte_48DD04, strlen(&byte_48DD04), &psizl);
  GetTextExtentPoint32A(hdc, &byte_48DCFC, strlen(&byte_48DCFC), &v29);
  GetTextExtentPoint32A(hdc, &byte_48DCF4, strlen(&byte_48DCF4), &v25);
  GetTextExtentPoint32A(hdc, &byte_48DCEC, strlen(&byte_48DCEC), &v24);
  GetTextExtentPoint32A(hdc, &byte_48DCE4, strlen(&byte_48DCE4), &v23);
  GetTextExtentPoint32A(hdc, &byte_48DCDC, strlen(&byte_48DCDC), &v26);
  GetTextExtentPoint32A(hdc, &byte_48DCD4, strlen(&byte_48DCD4), &v21);
  GetTextExtentPoint32A(hdc, &byte_48DCCC, strlen(&byte_48DCCC), &v22);
  GetTextExtentPoint32A(hdc, &byte_48DCC4, strlen(&byte_48DCC4), &v28);
  sub_443C70(200, 200, 255);
  sprintf(&String, aS_0, a1 + 4);
  sub_443ED0(x, y, &String);
  y += 10;
  sub_443C70(255, 200, 200);
  sprintf(&String, aDGold, *((_DWORD *)a1 + 15));
  sub_443ED0(x, y, &String);
  y += 5;
  sub_443C70(255, 255, 255);
  sub_443ED0(x, y + 10, &byte_48DCEC);
  sub_443ED0(x, y + 20, &byte_48DCF4);
  sub_443ED0(x, y + 30, &byte_48DCE4);
  sub_443ED0(x, y + 40, &byte_48DCDC);
  sub_443ED0(x, y + 50, &byte_48DCD4);
  sub_443ED0(x, y + 60, &byte_48DCCC);
  sub_443ED0(x, y + 70, &byte_48DD04);
  sub_443ED0(x, y + 80, &byte_48DCFC);
  sub_443ED0(x, y + 90, &byte_48DCC4);
  v1 = a1[42];
  if ( v1 )
    sprintf(&String, off_48DCB4, v1);
  else
    strcpy(&String, byte_49D994);
  sub_443ED0(psizl.cx + x, y + 70, &String);
  v2 = a1[43];
  if ( v2 )
    sprintf(&String, off_48DCB4, v2);
  else
    strcpy(&String, byte_49D994);
  sub_443ED0(v29.cx + x, y + 80, &String);
  switch ( *a1 )
  {
    case 16:
      sub_443C70(255, 255, 255);
      v3 = *((_WORD *)a1 + 22);
      if ( v3 )
        sprintf(&String, aD_0, v3);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v21.cx + x, y + 50, &String);
      v4 = *((_WORD *)a1 + 23);
      if ( v4 )
        sprintf(&String, aD_0, v4);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v22.cx + x, y + 60, &String);
      if ( (signed int)(unsigned __int16)dword_13246DC >= *((_DWORD *)a1 + 16) )
        sub_443C70(255, 255, 255);
      else
        sub_443C70(255, 0, 0);
      v5 = *((_DWORD *)a1 + 16);
      if ( v5 )
        sprintf(&String, aD_2, v5);
      else
        strcpy(&String, byte_49D994);
      return sub_443ED0(v28.cx + x, y + 90, &String);
    case 17:
    case 18:
      sub_443C70(50, 50, 255);
      v9 = *((_WORD *)a1 + 24);
      if ( v9 )
        sprintf(&String, off_48DCB4, v9);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v24.cx + x, y + 10, &String);
      v10 = *((_WORD *)a1 + 27);
      if ( v10 )
        sprintf(&String, off_48DCB4, v10);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v25.cx + x, y + 20, &String);
      v11 = *((_WORD *)a1 + 25);
      if ( v11 )
        sprintf(&String, off_48DCB4, v11);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v23.cx + x, y + 30, &String);
      v12 = *((_WORD *)a1 + 26);
      if ( v12 )
        sprintf(&String, off_48DCB4, v12);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v26.cx + x, y + 40, &String);
      sub_443C70(255, 255, 255);
      v13 = *((_WORD *)a1 + 22);
      if ( v13 )
        sprintf(&String, aD_0, v13);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v21.cx + x, y + 50, &String);
      v14 = *((_WORD *)a1 + 23);
      if ( !v14 )
        goto LABEL_79;
      sprintf(&String, aD_0, v14);
      return sub_443ED0(v22.cx + x, y + 60, &String);
    case 19:
      if ( HIWORD(dword_132FFFC) >= (signed int)*((signed __int16 *)a1 + 28) )
        sub_443C70(255, 255, 255);
      else
        sub_443C70(255, 0, 0);
      v7 = *((_WORD *)a1 + 28);
      if ( v7 )
        sprintf(&String, aD_2, v7);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v21.cx + x, y + 50, &String);
      if ( (unsigned __int16)dword_1329424 >= (signed int)*((signed __int16 *)a1 + 29) )
        sub_443C70(255, 255, 255);
      else
        sub_443C70(255, 0, 0);
      v8 = *((_WORD *)a1 + 29);
      if ( !v8 )
        goto LABEL_79;
      sprintf(&String, aD_2, v8);
      break;
    default:
      if ( HIWORD(dword_13246D8) >= (signed int)*((signed __int16 *)a1 + 24) )
        sub_443C70(255, 255, 255);
      else
        sub_443C70(255, 0, 0);
      v15 = *((_WORD *)a1 + 24);
      if ( v15 )
        sprintf(&String, aD_2, v15);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v24.cx + x, y + 10, &String);
      if ( HIWORD(dword_13246A4) >= (signed int)*((signed __int16 *)a1 + 27) )
        sub_443C70(255, 255, 255);
      else
        sub_443C70(255, 0, 0);
      v16 = *((_WORD *)a1 + 27);
      if ( v16 )
        sprintf(&String, aD_2, v16);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v25.cx + x, y + 20, &String);
      if ( (unsigned __int16)word_132A2B6 >= (signed int)*((signed __int16 *)a1 + 25) )
        sub_443C70(255, 255, 255);
      else
        sub_443C70(255, 0, 0);
      v17 = *((_WORD *)a1 + 25);
      if ( v17 )
        sprintf(&String, aD_2, v17);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v23.cx + x, y + 30, &String);
      if ( (unsigned __int16)word_13226AA >= (signed int)*((signed __int16 *)a1 + 26) )
        sub_443C70(255, 255, 255);
      else
        sub_443C70(255, 0, 0);
      v18 = *((_WORD *)a1 + 26);
      if ( v18 )
        sprintf(&String, aD_2, v18);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v26.cx + x, y + 40, &String);
      sub_443C70(255, 255, 255);
      v19 = *((_WORD *)a1 + 22);
      if ( v19 )
        sprintf(&String, aD_1, v19);
      else
        strcpy(&String, byte_49D994);
      sub_443ED0(v21.cx + x, y + 50, &String);
      v20 = *((_WORD *)a1 + 23);
      if ( v20 )
        sprintf(&String, aD_1, v20);
      else
LABEL_79:
        strcpy(&String, byte_49D994);
      break;
  }
  return sub_443ED0(v22.cx + x, y + 60, &String);
}
// 13226AA: using guessed type __int16 word_13226AA;
// 13246A4: using guessed type int dword_13246A4;
// 13246D8: using guessed type int dword_13246D8;
// 13246DC: using guessed type int dword_13246DC;
// 1329424: using guessed type int dword_1329424;
// 132A2B6: using guessed type __int16 word_132A2B6;
// 132FFFC: using guessed type int dword_132FFFC;

//----- (004503C0) --------------------------------------------------------
int sub_4503C0()
{
  bool v1; // zf
  bool v2; // sf
  unsigned __int8 v3; // of
  int v4; // eax
  unsigned int v5; // eax
  LONG v6; // ecx
  LONG v7; // ecx
  unsigned __int16 v8; // cx
  LONG v9; // ecx
  int *v10; // eax
  int v11; // eax
  unsigned int v12; // eax
  int v13; // edi
  LPCSTR v14; // eax
  unsigned int v15; // ecx
  DWORD v16; // eax
  LONG v17; // ecx
  int v18; // eax
  int v19; // ebp
  const char *v20; // ebx
  int v21; // ST3C_4
  double v22; // st7
  int v23; // ST24_4
  double v24; // st7
  int v25; // ST3C_4
  double v26; // st7
  int v27; // ST24_4
  double v28; // st7
  int v29; // ST3C_4
  double v30; // st7
  int v31; // ST24_4
  double v32; // st7
  char v33; // cl
  LONG v34; // eax
  int v35; // eax
  int v36; // eax
  int v37; // eax
  int v38; // eax
  int v39; // eax
  int v40; // eax
  int v41; // eax
  int v42; // eax
  int v43; // ebx
  LONG v44; // eax
  int v45; // edi
  signed int v46; // esi
  LONG v47; // esi
  int v48; // ST4C_4
  int v49; // esi
  int v50; // eax
  int v51; // eax
  int v52; // eax
  int v53; // eax
  int v54; // eax
  LONG v55; // ecx
  LONG v56; // ecx
  signed int v57; // esi
  int *v58; // edi
  signed int v59; // esi
  LONG v60; // ecx
  LONG v61; // ecx
  signed int v62; // esi
  int *v63; // edi
  signed int v64; // esi
  int v65; // ecx
  int v66; // edi
  int v67; // esi
  int v68; // eax
  int v69; // edx
  int v70; // ebp
  CHAR *v71; // ecx
  signed int v72; // eax
  signed int v73; // ecx
  int v74; // edi
  int v75; // esi
  int v76; // eax
  int v77; // esi
  LONG v78; // ecx
  int v79; // ST4C_4
  int v80; // ecx
  int v81; // ST4C_4
  int v82; // ecx
  int v83; // ebp
  signed int v84; // ecx
  char *v85; // ebp
  char v86; // al
  char v87; // al
  __int16 v88; // ax
  __int16 v89; // ax
  __int16 v90; // ax
  __int16 v91; // ax
  __int16 v92; // ax
  __int16 v93; // ax
  int v94; // eax
  char *v95; // ebp
  char v96; // al
  char v97; // al
  __int16 v98; // ax
  __int16 v99; // ax
  __int16 v100; // ax
  __int16 v101; // ax
  __int16 v102; // ax
  __int16 v103; // bp
  int v104; // eax
  int v105; // ecx
  char *v106; // ebp
  char v107; // al
  char v108; // al
  __int16 v109; // ax
  __int16 v110; // ax
  __int16 v111; // ax
  __int16 v112; // ax
  __int16 v113; // ax
  __int16 v114; // bp
  __int16 v115; // ax
  __int16 v116; // bp
  char v117; // al
  char v118; // al
  __int16 v119; // ax
  __int16 v120; // ax
  LONG v121; // esi
  int v122; // ST4C_4
  int v123; // esi
  LONG v124; // ecx
  int v125; // ST4C_4
  LONG v126; // esi
  int v127; // ecx
  int v128; // ST4C_4
  LONG v129; // esi
  int v130; // ecx
  int v131; // ecx
  LONG v132; // ecx
  int v133; // ST4C_4
  int v134; // esi
  int v135; // ecx
  int v136; // ST4C_4
  int v137; // ecx
  LONG v138; // esi
  int v139; // ST4C_4
  int v140; // esi
  int v141; // eax
  int v142; // eax
  int v143; // eax
  int v144; // eax
  int v145; // ebx
  LONG v146; // eax
  int v147; // edi
  signed int v148; // esi
  struct tagSIZE psizl; // [esp+0h] [ebp-1A8h]
  int v150; // [esp+8h] [ebp-1A0h]
  DWORD v151; // [esp+Ch] [ebp-19Ch]
  int *v152; // [esp+10h] [ebp-198h]
  CHAR String[260]; // [esp+14h] [ebp-194h]
  struct tagSIZE v154; // [esp+118h] [ebp-90h]
  struct tagSIZE v155; // [esp+120h] [ebp-88h]
  struct tagSIZE v156; // [esp+128h] [ebp-80h]
  struct tagSIZE v157; // [esp+130h] [ebp-78h]
  struct tagSIZE v158; // [esp+138h] [ebp-70h]
  struct tagSIZE v159; // [esp+140h] [ebp-68h]
  struct tagSIZE v160; // [esp+148h] [ebp-60h]
  struct tagSIZE v161; // [esp+150h] [ebp-58h]
  unsigned int v162; // [esp+158h] [ebp-50h]
  int v163; // [esp+15Ch] [ebp-4Ch]
  unsigned int v164; // [esp+160h] [ebp-48h]
  int v165; // [esp+164h] [ebp-44h]
  unsigned int v166; // [esp+168h] [ebp-40h]
  int v167; // [esp+16Ch] [ebp-3Ch]
  unsigned int v168; // [esp+170h] [ebp-38h]
  int v169; // [esp+174h] [ebp-34h]
  unsigned int v170; // [esp+178h] [ebp-30h]
  int v171; // [esp+17Ch] [ebp-2Ch]
  unsigned int v172; // [esp+180h] [ebp-28h]
  int v173; // [esp+184h] [ebp-24h]
  struct tagSIZE v174; // [esp+188h] [ebp-20h]
  CHAR v175[20]; // [esp+190h] [ebp-18h]
  char v176; // [esp+1A4h] [ebp-4h]

  if ( byte_1330094 )
  {
    sub_443E60();
    dword_1570318 = SelectObject(hdc, ho);
    sub_443ED0(238, 225, byte_132963C);
    sub_443ED0(238, 245, byte_1329474);
    return sub_443EA0();
  }
  v3 = __OFSUB__(dword_13300B0, 20);
  v1 = dword_13300B0 == 20;
  v2 = dword_13300B0++ - 20 < 0;
  if ( !((unsigned __int8)(v2 ^ v3) | v1) )
    dword_13300B0 = 0;
  sub_443E60();
  dword_1570318 = SelectObject(hdc, dword_1329740);
  if ( dword_133003C )
  {
    if ( byte_1330030 )
    {
      if ( byte_1330030 == 1 )
      {
        sub_443C70(0, 200, 255);
      }
      else if ( byte_1330030 == 2 )
      {
        sub_443C70(200, 180, 0);
      }
    }
    else
    {
      sub_443C70(255, 255, 255);
    }
    if ( GetFocus() == hWnd )
      sprintf(String, off_48E024, &::String);
    else
      strcpy(String, &::String);
    sub_443ED0(249, 540, String);
  }
  SelectObject(hdc, dword_1329634);
  sub_443C70(255, 255, 255);
  if ( dword_133004C )
  {
    v4 = 0;
    psizl.cx = 0;
    do
    {
      v5 = dword_1330054 + v4;
      if ( v5 >= dword_133004C )
        break;
      switch ( byte_13226E0[81 * v5] )
      {
        case 0:
          sub_443C70(255, 255, 255);
          break;
        case 1:
          sub_443C70(0, 200, 255);
          break;
        case 2:
          sub_443C70(200, 180, 0);
          break;
        case 3:
          sub_443C70(255, 0, 0);
          break;
        case 4:
          sub_443C70(55, 55, 255);
          break;
        default:
          break;
      }
      sub_443ED0(249, 14 * psizl.cx + 459, &byte_13226E1[81 * (psizl.cx + dword_1330054)]);
      sub_443C70(255, 255, 255);
      v4 = psizl.cx + 1;
      v3 = __OFSUB__(psizl.cx + 1, 5);
      v2 = psizl.cx++ - 4 < 0;
    }
    while ( v2 ^ v3 );
  }
  SelectObject(hdc, ho);
  if ( byte_1330030 == 2 )
  {
    sub_443C70(200, 180, 0);
    if ( GetFocus() == dword_49D01C )
    {
      sprintf(String, off_48E024, byte_1330000);
      sub_443ED0(360, 571, String);
    }
    else
    {
      sub_443ED0(360, 571, byte_1330000);
    }
    sub_443C70(255, 255, 255);
  }
  if ( dword_133002C < dword_1330020 )
  {
    psizl.cx = 0;
    x = (760 - 280 * (byte_1328E45 != 0) - (unsigned __int16)dword_13082E4) / 2 + 20;
    do
    {
      sub_443C70(30, 30, 30);
      sub_443ED0(x + 174, 13 * psizl.cx + 97, (LPCSTR)&unk_132A2DA + 782 * dword_133002C + 36 * psizl.cx);
      sub_443C70(255, 255, 255);
      sub_443ED0(x + 172, 13 * psizl.cx + 95, (LPCSTR)&unk_132A2DA + 782 * dword_133002C + 36 * psizl.cx);
      v3 = __OFSUB__(psizl.cx + 1, 20);
      v2 = psizl.cx++ - 19 < 0;
    }
    while ( v2 ^ v3 );
    sub_477460(x + 162, 93, x + 162, 365, 0);
    sub_477460(x + 160, 91, x + 160, 363, 0xFFFF);
    v6 = 0;
    for ( psizl.cx = 0; v6 < dword_1330020; psizl.cx = v6 )
    {
      sprintf(
        String,
        a02d,
        (unsigned __int8)byte_132A2C2[782 * v6],
        (unsigned __int8)byte_132A2C3[782 * v6],
        (unsigned __int8)byte_132A2C4[782 * v6]);
      sub_443C70(30, 30, 30);
      sub_443ED0(x + 24, 20 * psizl.cx + 97, String);
      sub_443C70(255, 255, 255);
      sub_443ED0(x + 22, 20 * psizl.cx + 95, String);
      v7 = psizl.cx;
      if ( psizl.cx == dword_133002C )
      {
        sub_4775B0(x + 20, 20 * psizl.cx + 93, x + 135, 20 * psizl.cx + 109, 0xFFFF);
        v7 = psizl.cx;
      }
      v6 = v7 + 1;
    }
    sub_443C70(30, 30, 30);
    sub_443ED0(x + 50, 327, &byte_48E004);
    sub_443ED0(x + 50, 349, &byte_48DFFC);
    sub_443C70(255, 255, 255);
    sub_443ED0(x + 48, 325, &byte_48E004);
    sub_443ED0(x + 48, 347, &byte_48DFFC);
    sub_4775B0(x + 46, 323, x + 108, 339, 0xFFFF);
    sub_4775B0(x + 46, 345, x + 108, 361, 0xFFFF);
  }
  if ( !dword_133007C )
    goto LABEL_42;
  psizl.cx = 0;
  v8 = dword_13082E4;
  x = (760 - 280 * (byte_1328E45 != 0) - (unsigned __int16)dword_13082E4) / 2 + 20;
  if ( byte_1317E80 )
  {
    do
    {
      sub_443C70(30, 30, 30);
      sub_443ED0(x + 22, 20 * psizl.cx + 97, (LPCSTR)(100 * psizl.cx + 18905620));
      sub_443C70(255, 255, 255);
      sub_443ED0(x + 20, 20 * psizl.cx + 95, (LPCSTR)(100 * psizl.cx + 18905620));
      ++psizl.cx;
    }
    while ( psizl.cx < (unsigned __int8)byte_1317E80 );
LABEL_42:
    v8 = dword_13082E4;
  }
  if ( byte_1330080 )
  {
    psizl.cx = 0;
    for ( x = (760 - 280 * (byte_1328E45 != 0) - v8) / 2 + 20; psizl.cx < dword_1330084; ++psizl.cx )
    {
      sub_443C70(30, 30, 30);
      sub_443ED0(x + 22, 20 * psizl.cx + 97, (LPCSTR)(100 * psizl.cx + 20072324));
      sub_443C70(255, 255, 255);
      sub_443ED0(x + 20, 20 * psizl.cx + 95, (LPCSTR)(100 * psizl.cx + 20072324));
    }
  }
  if ( dword_13300B8 && dword_13211C8 < (unsigned int)dword_1329444 )
  {
    x = (760 - 280 * (byte_1328E45 != 0)) / 2 + 20;
    sub_443C70(30, 30, 30);
    sub_443FC0(x + 2, 421, byte_1324F74);
    sub_443C70(255, 255, 255);
    sub_443FC0(x, 419, byte_1324F74);
  }
  else
  {
    dword_13300B8 = 0;
  }
  sub_443C70(30, 30, 30);
  sprintf(String, aD00, (unsigned __int8)byte_1547958);
  sub_443ED0(60, 38, String);
  sub_443C70(255, 255, 255);
  sub_443ED0(58, 36, String);
  if ( byte_13225F5 )
  {
    sub_443DA0(3u);
    sprintf(String, &byte_48DFE0, 24 - (unsigned __int8)byte_1547958);
    sub_443ED0(0, 20, String);
    sub_443DA0(0);
  }
  v9 = 0;
  psizl.cx = 0;
  v10 = &dword_13300E8;
  while ( dword_48CF70 != *v10 )
  {
    ++v10;
    ++v9;
    if ( (signed int)v10 >= (signed int)&dword_1330110 )
    {
      psizl.cx = v9;
      goto LABEL_57;
    }
  }
  psizl.cx = v9;
  sub_443C70(255, 0, 0);
  sprintf(String, off_48DFDC, psizl.cx + 1);
  sub_443ED0(149, 566, String);
  sub_443C70(255, 255, 255);
  sprintf(String, off_48DFDC, psizl.cx + 1);
  sub_443ED0(148, 565, String);
LABEL_57:
  if ( dword_1330050 )
  {
    v11 = 0;
    psizl.cx = 0;
    do
    {
      v12 = dword_1330058 + v11;
      if ( v12 >= dword_1330050 )
        break;
      if ( byte_132DFD9[81 * v12] != 47
        || byte_132DFDA[81 * v12] != 99
        || byte_132DFDB[81 * v12] != 35
        || byte_132DFDC[81 * v12] != 90
        || byte_132DFDD[81 * v12] != 96 )
      {
        sub_443C70(0, 0, 0);
        sub_443ED0(12, 16 * psizl.cx + 62, &byte_132DFD9[81 * (dword_1330058 + psizl.cx)]);
        switch ( byte_132DFD8[81 * (psizl.cx + dword_1330058)] )
        {
          case 0:
            sub_443C70(255, 255, 255);
            break;
          case 1:
            sub_443C70(0, 200, 255);
            break;
          case 2:
            sub_443C70(200, 180, 0);
            break;
          case 3:
            sub_443C70(255, 100, 100);
            break;
          case 4:
            sub_443C70(155, 255, 0);
            break;
          default:
            break;
        }
        sub_443ED0(10, 16 * psizl.cx + 60, &byte_132DFD9[81 * (dword_1330058 + psizl.cx)]);
        sub_443C70(255, 255, 255);
      }
      else
      {
        strcpy(String, (const char *)&unk_48DFCC);
        strcat(String, (const char *)&unk_132DFDE + 81 * v12);
        sub_443C70(255, 0, 0);
        sub_443ED0(10, 16 * psizl.cx + 60, String);
        sub_443C70(255, 255, 255);
      }
      v11 = psizl.cx + 1;
      v3 = __OFSUB__(psizl.cx + 1, 14);
      v2 = psizl.cx++ - 13 < 0;
    }
    while ( v2 ^ v3 );
  }
  v13 = dword_48CCE4;
  if ( dword_48CCE4 != -1 )
  {
    v14 = (&lpString)[dword_48CCE4];
    if ( v14 )
    {
      v15 = *((_DWORD *)v14 + 42);
      if ( v15 > 0x64 )
      {
        if ( v15 < 0xDC && dword_488190[v15] )
        {
          sub_443C70(255, 255, 255);
          sub_443ED0(0, 339, dword_488190[*((_DWORD *)(&lpString)[dword_48CCE4] + 42)]);
        }
      }
      else
      {
        if ( !strcmp(v14 + 20, (const char *)&unk_131949C) )
        {
          sub_443C70(255, 0, 0);
          v13 = dword_48CCE4;
        }
        sub_443ED0(0, 324, (&lpString)[v13] + 20);
        sub_443C70(255, 255, 255);
        sub_443ED0(0, 339, (&lpString)[dword_48CCE4]);
      }
    }
  }
  sub_443ED0(
    13,
    571,
    (&off_48CFD0)[3 * ((unsigned __int8)dword_13246A4 + 22 * ((unsigned __int8)byte_1324782 + 3 * BYTE2(dword_13246DC)))]);
  v16 = GetTickCount();
  v17 = 0;
  v151 = v16;
  psizl.cy = 0;
  do
  {
    v18 = 22 - 7 * (byte_1328E45 != 0);
    if ( v18 > -3 )
    {
      v150 = v18 + 3;
      v152 = (int *)(4 * (v18 + v17) + 22289460);
      do
      {
        v19 = *v152;
        if ( *v152 && (strcmp((const char *)(v19 + 644), byte_49D994) || strcmp((const char *)(v19 + 768), byte_49D994)) )
        {
          do
          {
            if ( *(_BYTE *)(v19 + 48) == 2 )
            {
              if ( v151 - *(_DWORD *)(v19 + 744) <= 0x1770 )
              {
                if ( *(_DWORD *)(v19 + 168) == 237 )
                {
                  sub_443C70(55, 55, 55);
                  v20 = (const char *)(v19 + 644);
                  v21 = (signed __int64)(*(float *)(v19 + 116) - (double)dword_1547950 - 80.0);
                  v22 = *(float *)(v19 + 112) - (double)dword_154794C;
                  v169 = 0;
                  v168 = 5 * strlen((const char *)(v19 + 644)) >> 1;
                  sub_443ED0((signed __int64)(v22 - (double)(signed int)v168), v21, (LPCSTR)(v19 + 644));
                  sub_443C70(255, 55, 55);
                  v23 = (unsigned __int64)(signed __int64)(*(float *)(v19 + 116) - (double)dword_1547950 - 80.0) - 1;
                  v171 = 0;
                  v24 = *(float *)(v19 + 112) - (double)dword_154794C;
                  v170 = 5 * strlen((const char *)(v19 + 644)) >> 1;
                  sub_443ED0(
                    (unsigned __int64)(signed __int64)(v24 - (double)(signed int)v170) - 1,
                    v23,
                    (LPCSTR)(v19 + 644));
                }
                else
                {
                  sub_443C70(55, 55, 55);
                  v20 = (const char *)(v19 + 644);
                  v25 = (signed __int64)(*(float *)(v19 + 116) - (double)dword_1547950 - 80.0);
                  v26 = *(float *)(v19 + 112) - (double)dword_154794C;
                  v167 = 0;
                  v166 = 5 * strlen((const char *)(v19 + 644)) >> 1;
                  sub_443ED0((signed __int64)(v26 - (double)(signed int)v166), v25, (LPCSTR)(v19 + 644));
                  sub_443C70(255, 255, 255);
                  v27 = (unsigned __int64)(signed __int64)(*(float *)(v19 + 116) - (double)dword_1547950 - 80.0) - 1;
                  v163 = 0;
                  v28 = *(float *)(v19 + 112) - (double)dword_154794C;
                  v162 = 5 * strlen((const char *)(v19 + 644)) >> 1;
                  sub_443ED0(
                    (unsigned __int64)(signed __int64)(v28 - (double)(signed int)v162) - 1,
                    v27,
                    (LPCSTR)(v19 + 644));
                }
                sub_443C70(255, 255, 255);
              }
              else
              {
                v20 = (const char *)(v19 + 644);
                strcpy((char *)(v19 + 644), byte_49D994);
              }
              if ( v151 - *(_DWORD *)(v19 + 788) <= 0x1770 )
              {
                sub_443C70(55, 55, 55);
                v29 = (signed __int64)(*(float *)(v19 + 116) - (double)dword_1547950 - 60.0);
                v30 = *(float *)(v19 + 112) - (double)dword_154794C;
                v173 = 0;
                v172 = 5 * strlen(v20) >> 1;
                sub_443FC0((signed __int64)(v30 - (double)(signed int)v172), v29, (LPCSTR)(v19 + 768));
                sub_443C70(255, 55, 55);
                v31 = (unsigned __int64)(signed __int64)(*(float *)(v19 + 116) - (double)dword_1547950 - 60.0) - 1;
                v165 = 0;
                v32 = *(float *)(v19 + 112) - (double)dword_154794C;
                v164 = 5 * strlen(v20) >> 1;
                sub_443FC0(
                  (unsigned __int64)(signed __int64)(v32 - (double)(signed int)v164) - 1,
                  v31,
                  (LPCSTR)(v19 + 768));
                sub_443C70(255, 255, 255);
              }
              else
              {
                strcpy((char *)(v19 + 768), byte_49D994);
              }
            }
            v19 = *(_DWORD *)(v19 + 632);
          }
          while ( v19 );
        }
        v1 = v150 == 1;
        --v152;
        --v150;
      }
      while ( !v1 );
      v17 = psizl.cy;
    }
    v17 += 28;
    psizl.cy = v17;
  }
  while ( v17 < 644 );
  switch ( (unsigned __int8)dword_13246D8 )
  {
    case 9u:
    case 0xAu:
    case 0xFu:
    case 0x10u:
    case 0x13u:
    case 0x18u:
    case 0x19u:
      sub_443ED0(618, 462, byte_1328DC0);
      break;
    default:
      break;
  }
  switch ( byte_1328E45 )
  {
    case 1:
      sub_443C70(55, 55, 55);
      v33 = byte_49D88C;
      v34 = 0;
      do
      {
        v175[v34] = v33 ^ byte_1324688[v34];
        ++v34;
      }
      while ( v34 < 21 );
      psizl.cx = v34;
      v176 = 0;
      sub_443FC0(689, 126, v175);
      sub_443FC0(689, 148, (&off_48CFA4)[(unsigned __int8)byte_1324782]);
      sub_443FC0(689, 170, (&off_48CFC0)[(unsigned __int8)dword_13246B8]);
      sub_443C70(255, 255, 255);
      sub_443FC0(687, 124, v175);
      sub_443FC0(687, 146, (&off_48CFA4)[(unsigned __int8)byte_1324782]);
      sub_443FC0(687, 168, (&off_48CFC0)[(unsigned __int8)dword_13246B8]);
      sub_443C70(55, 55, 55);
      if ( dword_1330074 )
        sub_444070(738, 200, dword_1330074);
      sub_444070(616, 222, HIWORD(dword_13246D8));
      sub_444070(616, 244, (unsigned __int16)word_132A2B6);
      sub_444070(616, 266, (unsigned __int16)word_13226AA);
      sub_444070(616, 288, HIWORD(dword_13246A4));
      sub_444070(623, 310, SHIWORD(dword_1322660));
      v35 = sub_44F630();
      sprintf(String, aDD, (unsigned __int16)dword_1329424, v35);
      sub_443FC0(696, 359, String);
      v36 = sub_44F6F0();
      sprintf(String, aDD, HIWORD(dword_132FFFC), v36);
      sub_443FC0(696, 339, String);
      sprintf(String, aDD_0, dword_489BE4[(unsigned __int16)dword_13246DC], dword_13246AC);
      sub_443FC0(696, 386, String);
      sub_444070(696, 408, (unsigned __int16)dword_13246DC);
      v37 = sub_44F4B0();
      sub_444070(738, 266, (unsigned __int8)byte_132FFE5 + v37);
      v38 = sub_44F570();
      sub_444070(738, 288, (unsigned __int8)byte_132FFE7 + v38);
      sub_444070(738, 310, (unsigned __int16)dword_1322660);
      sub_443C70(255, 255, 255);
      if ( dword_1330074 )
        sub_444070(736, 198, dword_1330074);
      sub_444070(614, 220, HIWORD(dword_13246D8));
      sub_444070(614, 242, (unsigned __int16)word_132A2B6);
      sub_444070(614, 264, (unsigned __int16)word_13226AA);
      sub_444070(614, 286, HIWORD(dword_13246A4));
      sub_444070(621, 308, SHIWORD(dword_1322660));
      v39 = sub_44F630();
      sprintf(String, aDD, (unsigned __int16)dword_1329424, v39);
      sub_443FC0(694, 357, String);
      v40 = sub_44F6F0();
      sprintf(String, aDD, HIWORD(dword_132FFFC), v40);
      sub_443FC0(694, 337, String);
      sprintf(String, aDD_0, dword_489BE4[(unsigned __int16)dword_13246DC], dword_13246AC);
      sub_443FC0(694, 384, String);
      sub_444070(694, 406, (unsigned __int16)dword_13246DC);
      v41 = sub_44F4B0();
      sub_444070(736, 264, (unsigned __int8)byte_132FFE5 + v41);
      v42 = sub_44F570();
      sub_444070(736, 286, (unsigned __int8)byte_132FFE7 + v42);
      sub_444070(736, 308, (unsigned __int16)dword_1322660);
      sub_443DA0(2u);
      sub_443C70(255, 255, 255);
      SetTextAlign(hdc, 0);
      sprintf(String, aD_2, dword_1324F54);
      sub_443ED0(711, 212, String);
      sprintf(String, aD_2, (unsigned __int16)word_1328E46);
      sub_443ED0(711, 234, String);
      sub_443DA0(1u);
      sub_443C70(200, 200, 200);
      SetTextAlign(hdc, 0xAu);
      sub_443F30(764, 229, dword_132FFEC);
      sub_443F30(764, 251, (unsigned __int16)dword_132FFFC);
      sub_443DA0(0);
      sub_443C70(255, 255, 255);
      goto LABEL_491;
    case 2:
      sub_443DA0(1u);
      v43 = 0;
      v44 = 0;
      psizl.cx = 0;
      do
      {
        if ( byte_48C398[v44] == (unsigned __int8)dword_132A268 )
        {
          x = 85 * (v43 % 3) + 589;
          v45 = 70 * (v43 / 3);
          y = v45 + 144;
          sub_443C70(70, 70, 70);
          sub_443F30(x + 2, y + 2, *((unsigned __int16 *)&word_1328DCC + psizl.cx));
          sub_443C70(255, 255, 255);
          sub_443F30(x, y, *((unsigned __int16 *)&word_1328DCC + psizl.cx));
          x = 85 * (v43 % 3) + 534;
          y = v45 + 114;
          if ( dword_49D89C > 85 * (v43 % 3) + 534
            && dword_49D89C < 85 * (v43 % 3) + 584
            && dword_49D8A0 > v45 + 114
            && dword_49D8A0 < v45 + 164 )
          {
            x = 720;
            y = 476;
            sub_443C70(10, 10, 255);
            sub_443FC0(x, y, &byte_48DFAC);
            y += 13;
            sub_443C70(200, 200, 200);
            sub_443FC0(x, y, (LPCSTR)dword_8D5EC8 + 186 * psizl.cx + 2);
            y += 20;
            sub_443C70(255, 255, 255);
            v46 = 0;
            do
            {
              sub_443FC0(x, y, (LPCSTR)dword_8D5EC8 + 186 * psizl.cx + v46 + 36);
              v46 += 30;
              y += 13;
            }
            while ( v46 < 150 );
          }
          v44 = psizl.cx;
          ++v43;
        }
        psizl.cx = ++v44;
      }
      while ( v44 < 14 );
      sub_443DA0(0);
      goto LABEL_491;
    case 3:
      sub_443DA0(1u);
      v47 = 0;
      psizl.cx = 0;
      do
      {
        if ( dword_48CEC8[2 * v47] != -1 )
        {
          x = 47 * (v47 % 5) + 569;
          v48 = dword_48CECC[2 * v47];
          y = 47 * (v47 / 5) + 312;
          sprintf(String, aD_2, v48);
          sub_443C70(55, 55, 55);
          sub_443ED0(x + 2, y + 2, String);
          sub_443C70(255, 255, 255);
          sub_443ED0(x, y, String);
          v47 = psizl.cx;
          x = 47 * (psizl.cx % 5) + 537;
          y = 47 * (psizl.cx / 5) + 284;
          if ( dword_49D89C > x
            && dword_49D89C < 47 * (psizl.cx % 5) + 577
            && dword_49D8A0 > 47 * (psizl.cx / 5) + 284
            && dword_49D8A0 < 47 * (psizl.cx / 5) + 324 )
          {
            v49 = dword_48CEC8[2 * psizl.cx];
            x = 660;
            y = 466;
            sub_44F7B0((char *)dword_1308324 + 68 * v49);
            v47 = psizl.cx;
          }
        }
        psizl.cx = ++v47;
      }
      while ( v47 < 15 );
      sub_443C70(255, 255, 255);
      v50 = dword_48CF7C;
      if ( dword_48CF7C != -1 && dword_49D89C > 631 && dword_49D89C < 671 && dword_49D8A0 > 114 && dword_49D8A0 < 154
        || (v50 = dword_48CF80, dword_48CF80 != -1)
        && dword_49D89C > 583
        && dword_49D89C < 623
        && dword_49D8A0 > 161
        && dword_49D8A0 < 201
        || (v50 = dword_48CF84, dword_48CF84 != -1)
        && dword_49D89C > 583
        && dword_49D89C < 623
        && dword_49D8A0 > 208
        && dword_49D8A0 < 248
        || (v50 = dword_48CF88, dword_48CF88 != -1)
        && dword_49D89C > 631
        && dword_49D89C < 671
        && dword_49D8A0 > 161
        && dword_49D8A0 < 201
        || (v50 = dword_48CF8C, dword_48CF8C != -1)
        && dword_49D89C > 631
        && dword_49D89C < 671
        && dword_49D8A0 > 208
        && dword_49D8A0 < 248
        || (v50 = dword_48CF90, dword_48CF90 != -1)
        && dword_49D89C > 678
        && dword_49D89C < 718
        && dword_49D8A0 > 161
        && dword_49D8A0 < 201
        || (v50 = dword_48CF94, dword_48CF94 != -1)
        && dword_49D89C > 678
        && dword_49D89C < 718
        && dword_49D8A0 > 208
        && dword_49D8A0 < 248 )
      {
        x = 660;
        y = 466;
        sub_44F7B0((char *)dword_1308324 + 68 * v50);
        sub_443DA0(0);
      }
      else
      {
        if ( dword_49D89C > 537 && dword_49D8A0 < 284 )
        {
          x = 660;
          y = 466;
          sub_443ED0(660, 466, &byte_48DFA4);
          y += 13;
          sprintf(String, &byte_48DF98, HIWORD(dword_13246D8));
          sub_443ED0(x, y, String);
          sprintf(String, &byte_48DF8C, (unsigned __int16)word_132A2B6);
          sub_443ED0(x + 60, y, String);
          sprintf(String, &byte_48DF80, (unsigned __int16)word_13226AA);
          sub_443ED0(x, y + 10, String);
          sprintf(String, &byte_48DF74, HIWORD(dword_13246A4));
          sub_443ED0(x + 60, y + 10, String);
          v51 = sub_44F4B0();
          sprintf(String, &byte_48DF68, (unsigned __int8)byte_132FFE5 + v51);
          sub_443ED0(x, y + 20, String);
          v52 = sub_44F570();
          sprintf(String, &byte_48DF5C, (unsigned __int8)byte_132FFE7 + v52);
          sub_443ED0(x + 60, y + 20, String);
          v53 = sub_44F630();
          sprintf(String, &byte_48DF4C, (unsigned __int16)dword_1329424, v53);
          sub_443ED0(x, y + 30, String);
          v54 = sub_44F6F0();
          sprintf(String, &byte_48DF3C, HIWORD(dword_132FFFC), v54);
          sub_443ED0(x, y + 40, String);
          sprintf(String, &byte_48DF30, SHIWORD(dword_1322660));
          sub_443ED0(x + 70, y + 50, String);
          sprintf(String, &byte_48DF20, dword_1324F54, dword_132FFEC);
          sub_443ED0(x, y + 50, String);
          sprintf(String, &byte_48DF10, (unsigned __int16)word_1328E46, (unsigned __int16)dword_132FFFC);
          sub_443ED0(x, y + 60, String);
          sprintf(String, &byte_48DF04, (unsigned __int16)dword_1322660);
          sub_443ED0(x, y + 70, String);
          sprintf(String, &byte_48DEF8, (unsigned __int16)dword_13246DC);
          sub_443ED0(x, y + 80, String);
          sprintf(String, &byte_48DEE8, dword_489BE4[(unsigned __int16)dword_13246DC], dword_13246AC);
          sub_443ED0(x, y + 90, String);
          sub_443C70(255, 255, 255);
        }
        sub_443DA0(0);
      }
      goto LABEL_491;
    case 4:
      sub_443DA0(1u);
      v78 = 0;
      psizl.cx = 0;
      do
      {
        if ( dword_48CEC8[2 * v78] != -1 )
        {
          x = 47 * (v78 % 5) + 569;
          v79 = dword_48CECC[2 * v78];
          y = 47 * (v78 / 5) + 312;
          sprintf(String, aD_2, v79);
          sub_443C70(55, 55, 55);
          sub_443ED0(x + 2, y + 2, String);
          sub_443C70(255, 255, 255);
          sub_443ED0(x, y, String);
          v78 = psizl.cx;
          x = 47 * (psizl.cx % 5) + 537;
          y = 47 * (psizl.cx / 5) + 284;
          if ( dword_49D89C > x
            && dword_49D89C < 47 * (psizl.cx % 5) + 577
            && dword_49D8A0 > 47 * (psizl.cx / 5) + 284
            && dword_49D8A0 < 47 * (psizl.cx / 5) + 324 )
          {
            v80 = dword_48CEC8[2 * psizl.cx];
            x = 660;
            y = 466;
            sub_44F7B0((char *)dword_1308324 + 68 * v80);
            v78 = psizl.cx;
          }
        }
        if ( dword_48CE28[2 * v78] != -1 )
        {
          x = 47 * (v78 % 5) + 569;
          v81 = dword_48CE2C[2 * v78];
          y = 47 * (v78 / 5 + 3);
          sprintf(String, aD_2, v81);
          sub_443C70(55, 55, 55);
          sub_443ED0(x + 2, y + 2, String);
          sub_443C70(255, 255, 255);
          sub_443ED0(x, y, String);
          v78 = psizl.cx;
          x = 47 * (psizl.cx % 5) + 537;
          y = 47 * (psizl.cx / 5) + 113;
          if ( dword_49D89C > x
            && dword_49D89C < 47 * (psizl.cx % 5) + 577
            && dword_49D8A0 > 47 * (psizl.cx / 5) + 113
            && dword_49D8A0 < 47 * (psizl.cx / 5) + 153 )
          {
            v82 = dword_48CE28[2 * psizl.cx];
            x = 660;
            y = 466;
            sub_44F7B0((char *)dword_1308324 + 68 * v82);
            v78 = psizl.cx;
          }
        }
        psizl.cx = ++v78;
      }
      while ( v78 < 15 );
      sub_443DA0(0);
      goto LABEL_491;
    case 5:
      sub_443DA0(1u);
      v55 = 0;
      psizl.cx = 0;
      if ( byte_48C3B8[(unsigned __int8)byte_131AC00] )
      {
        do
        {
          x = 85 * (v55 % 3) + 589;
          y = 70 * (v55 / 3) + 144;
          sub_443C70(70, 70, 70);
          sub_443F30(
            x + 2,
            y + 2,
            (unsigned __int16)word_13246E4[byte_48C2F0[12 * (unsigned __int8)byte_131AC00
                                                     + 3 * (unsigned __int8)byte_131AC00
                                                     + psizl.cx]]);
          sub_443C70(255, 255, 255);
          sub_443F30(
            x,
            y,
            (unsigned __int16)word_13246E4[byte_48C2F0[12 * (unsigned __int8)byte_131AC00
                                                     + 3 * (unsigned __int8)byte_131AC00
                                                     + psizl.cx]]);
          v56 = psizl.cx;
          v57 = 1;
          v58 = &dword_13300E8;
          do
          {
            if ( *v58 == byte_48C2F0[12 * (unsigned __int8)byte_131AC00 + 3 * (unsigned __int8)byte_131AC00 + v56] + 100 )
            {
              sub_443C70(255, 0, 0);
              sprintf(String, off_48DFDC, v57);
              sub_443ED0(x + 1, y - 14, String);
              sub_443C70(255, 255, 255);
              sprintf(String, off_48DFDC, v57);
              sub_443ED0(x, y - 15, String);
              v56 = psizl.cx;
            }
            ++v58;
            ++v57;
          }
          while ( v57 - 1 < 10 );
          x = 85 * (v56 % 3) + 534;
          y = 70 * (v56 / 3) + 114;
          if ( dword_49D89C > x
            && dword_49D89C < 85 * (v56 % 3) + 584
            && dword_49D8A0 > 70 * (v56 / 3) + 114
            && dword_49D8A0 < 70 * (v56 / 3) + 164 )
          {
            x = 720;
            y = 476;
            sub_443C70(10, 10, 255);
            sub_443FC0(x, y, &byte_48DEDC);
            y += 13;
            sub_443C70(200, 200, 200);
            sub_443FC0(
              x,
              y,
              (LPCSTR)dword_8D5EC8
            + 186 * byte_48C2F0[12 * (unsigned __int8)byte_131AC00 + 3 * (unsigned __int8)byte_131AC00 + psizl.cx]
            + 18602);
            y += 20;
            sub_443C70(255, 255, 255);
            v59 = 0;
            do
            {
              sub_443FC0(
                x,
                y,
                (LPCSTR)dword_8D5EC8
              + 186 * byte_48C2F0[12 * (unsigned __int8)byte_131AC00 + 3 * (unsigned __int8)byte_131AC00 + psizl.cx]
              + v59
              + 18636);
              v59 += 30;
              y += 13;
            }
            while ( v59 < 150 );
            v56 = psizl.cx;
          }
          v55 = v56 + 1;
          psizl.cx = v55;
        }
        while ( v55 < (unsigned __int8)byte_48C3B8[(unsigned __int8)byte_131AC00] );
      }
      sub_443DA0(0);
      goto LABEL_491;
    case 6:
      sub_443DA0(1u);
      v60 = 0;
      psizl.cx = 0;
      if ( byte_48C3C0[(unsigned __int8)byte_131D68C] )
      {
        do
        {
          x = 85 * (v60 % 3) + 589;
          y = 70 * (v60 / 3) + 144;
          sub_443C70(70, 70, 70);
          sub_443F30(
            x + 2,
            y + 2,
            (unsigned __int16)word_132957C[byte_48C34C[12 * (unsigned __int8)byte_131D68C
                                                     + 3 * (unsigned __int8)byte_131D68C
                                                     + psizl.cx]]);
          sub_443C70(255, 255, 255);
          sub_443F30(
            x,
            y,
            (unsigned __int16)word_132957C[byte_48C34C[12 * (unsigned __int8)byte_131D68C
                                                     + 3 * (unsigned __int8)byte_131D68C
                                                     + psizl.cx]]);
          v61 = psizl.cx;
          v62 = 1;
          v63 = &dword_13300E8;
          do
          {
            if ( *v63 == byte_48C34C[12 * (unsigned __int8)byte_131D68C + 3 * (unsigned __int8)byte_131D68C + v61] + 200 )
            {
              sub_443C70(255, 0, 0);
              sprintf(String, off_48DFDC, v62);
              sub_443ED0(x + 1, y - 14, String);
              sub_443C70(255, 255, 255);
              sprintf(String, off_48DFDC, v62);
              sub_443ED0(x, y - 15, String);
              v61 = psizl.cx;
            }
            ++v63;
            ++v62;
          }
          while ( v62 - 1 < 10 );
          x = 85 * (v61 % 3) + 534;
          y = 70 * (v61 / 3) + 114;
          if ( dword_49D89C > x
            && dword_49D89C < 85 * (v61 % 3) + 584
            && dword_49D8A0 > 70 * (v61 / 3) + 114
            && dword_49D8A0 < 70 * (v61 / 3) + 164 )
          {
            x = 720;
            y = 476;
            sub_443C70(10, 10, 255);
            sub_443FC0(x, y, &byte_48DEDC);
            y += 13;
            sub_443C70(200, 200, 200);
            sub_443FC0(
              x,
              y,
              (LPCSTR)dword_8D5EC8
            + 186 * byte_48C34C[12 * (unsigned __int8)byte_131D68C + 3 * (unsigned __int8)byte_131D68C + psizl.cx]
            + 37202);
            y += 20;
            sub_443C70(255, 255, 255);
            v64 = 0;
            do
            {
              sub_443FC0(
                x,
                y,
                (LPCSTR)dword_8D5EC8
              + 186 * byte_48C34C[12 * (unsigned __int8)byte_131D68C + 3 * (unsigned __int8)byte_131D68C + psizl.cx]
              + v64
              + 37236);
              v64 += 30;
              y += 13;
            }
            while ( v64 < 150 );
            v61 = psizl.cx;
          }
          v60 = v61 + 1;
          psizl.cx = v60;
        }
        while ( v60 < (unsigned __int8)byte_48C3C0[(unsigned __int8)byte_131D68C] );
      }
      sub_443DA0(0);
      goto LABEL_491;
    case 7:
      if ( dword_132262C < dword_1322630 && dword_131A8C0[7 * dword_132262C] )
        sub_443ED0(636, 184, (LPCSTR)&unk_131A8A8 + 28 * dword_132262C);
      goto LABEL_491;
    case 9:
      v65 = dword_1330028;
      if ( byte_132A2C0[782 * dword_1330028] )
      {
        v66 = 0;
        v67 = 113;
        while ( 1 )
        {
          sub_443ED0(537, v67, (LPCSTR)&unk_132A2DA + 782 * v65 + 36 * (dword_49D97C + v66));
          v67 += 17;
          ++v66;
          if ( v67 >= 300 )
            break;
          v65 = dword_1330028;
        }
      }
      v68 = 0;
      psizl.cx = 0;
      do
      {
        if ( v68 + dword_1330024 > dword_1330020 - 1 )
          break;
        sprintf(
          String,
          a02d02d02d,
          (unsigned __int8)byte_132A2C2[782 * (v68 + dword_1330024)],
          (unsigned __int8)byte_132A2C3[782 * (v68 + dword_1330024)],
          (unsigned __int8)byte_132A2C4[782 * (v68 + dword_1330024)]);
        sub_443ED0(552, 17 * psizl.cx + 321, String);
        v68 = psizl.cx + 1;
        v3 = __OFSUB__(psizl.cx + 1, 6);
        v2 = psizl.cx++ - 5 < 0;
      }
      while ( v2 ^ v3 );
      goto LABEL_491;
    case 0xA:
      switch ( (unsigned __int8)dword_132A268 )
      {
        case 5u:
          x = 642;
          y = 341;
          sprintf(
            String,
            aFromS02d02d02d,
            &byte_13250A5[782 * dword_133001C],
            (unsigned __int8)byte_13250A2[782 * dword_133001C],
            (unsigned __int8)byte_13250A3[782 * dword_133001C],
            (unsigned __int8)byte_13250A4[782 * dword_133001C]);
          sub_443FC0(x, y, String);
          y += 18;
          sub_443FC0(x, y, &byte_48DE8C);
          y += 22;
          if ( dword_1328DFC )
          {
            if ( dword_1328DFC == 1 )
            {
              sub_443C70(255, 0, 0);
              sub_443FC0(x - 50, y, &byte_48DE88);
              sub_443C70(255, 255, 255);
              sub_443FC0(x + 50, y, &byte_48DE84);
            }
            else if ( dword_1328DFC == 2 )
            {
              sub_443C70(255, 255, 255);
              sub_443FC0(x - 50, y, &byte_48DE88);
              sub_443C70(255, 0, 0);
              sub_443FC0(x + 50, y, &byte_48DE84);
            }
          }
          else
          {
            sub_443C70(255, 255, 255);
            sub_443FC0(x - 50, y, &byte_48DE88);
            sub_443FC0(x + 50, y, &byte_48DE84);
          }
          sub_443C70(255, 255, 255);
          goto LABEL_491;
        case 6u:
          x = 642;
          y = 331;
          sub_443FC0(642, 331, &byte_48DE70);
          y += 20;
          sub_443FC0(x, y, &byte_48DE3C);
          y += 22;
          if ( !dword_1328DFC )
            goto LABEL_222;
          if ( dword_1328DFC == 1 )
          {
            sub_443C70(255, 0, 0);
            sub_443FC0(x, y, aOk);
          }
          break;
        case 7u:
          x = 642;
          y = 331;
          sub_443FC0(642, 331, &byte_48DE14);
          y += 20;
          sub_443FC0(x, y, &byte_48DE3C);
          y += 22;
          if ( !dword_1328DFC )
          {
            sub_443C70(255, 255, 255);
            goto LABEL_229;
          }
          if ( dword_1328DFC != 1 )
            break;
          sub_443C70(255, 0, 0);
          goto LABEL_223;
        case 8u:
          x = 642;
          y = 331;
          sub_443FC0(642, 331, &byte_48DE04);
          y += 20;
          sub_443FC0(x, y, &byte_48DE3C);
          y += 22;
          if ( dword_1328DFC )
          {
            if ( dword_1328DFC == 1 )
            {
              sub_443C70(255, 0, 0);
LABEL_229:
              sub_443FC0(x, y, aOk);
            }
          }
          else
          {
            sub_443C70(255, 255, 255);
            sub_443FC0(x, y, aOk);
          }
          break;
        case 9u:
          x = 642;
          y = 331;
          sub_443FC0(642, 331, &byte_48DDE8);
          y += 20;
          sub_443FC0(x, y, &byte_48DE3C);
          y += 22;
          if ( dword_1328DFC )
          {
            if ( dword_1328DFC == 1 )
            {
              sub_443C70(255, 0, 0);
              sub_443FC0(x, y, aOk);
            }
          }
          else
          {
LABEL_222:
            sub_443C70(255, 255, 255);
LABEL_223:
            sub_443FC0(x, y, aOk);
          }
          break;
        default:
          if ( dword_1330090 )
          {
            sub_443C70(255, 255, 255);
            sub_443ED0(597, 113, byte_13246BC);
            v69 = dword_49D97C;
            v70 = dword_49D97C;
            if ( __OFSUB__(dword_49D97C, dword_49D97C + 8) ^ 1 )
            {
              do
              {
                if ( byte_133009C )
                {
                  switch ( v70 )
                  {
                    case 0:
                    case 1:
                      v71 = (CHAR *)(36 * v70 + 20094836);
                      goto LABEL_245;
                    case 2:
                      sub_443ED0(537, 175 - 18 * v69, asc_48DDC4);
                      goto LABEL_246;
                    case 3:
                      sub_443ED0(537, 193 - 18 * v69, (LPCSTR)&unk_48DDAC);
                      goto LABEL_246;
                    default:
                      break;
                  }
                }
                else
                {
                  strcpy(String, (const char *)(36 * v70 + 20094836));
                  v71 = String;
LABEL_245:
                  sub_443ED0(537, 18 * (v70 - v69) + 139, v71);
LABEL_246:
                  v69 = dword_49D97C;
                }
                ++v70;
              }
              while ( v70 < v69 + 8 );
            }
            if ( GetFocus() == dword_49D028 )
            {
              psizl.cx = 0;
              strcpy(String, (const char *)(36 * dword_49D978 + 20094836));
              String[dword_49D974] = 0;
              GetTextExtentPoint32A(hdc, String, strlen(String), &psizl);
              v72 = psizl.cx + 537;
              x = psizl.cx + 537;
              v73 = 18 * (dword_49D978 - dword_49D97C) + 139;
            }
            else
            {
              psizl.cx = 0;
              strcpy(String, byte_13246BC);
              GetTextExtentPoint32A(hdc, String, strlen(String), &psizl);
              v72 = psizl.cx + 597;
              v73 = 113;
              x = psizl.cx + 597;
            }
            y = v73;
            if ( dword_13300B0 < 5 || dword_13300B0 > 11 )
            {
              sub_477460(v72, v73, v72, v73 + 10, 62289);
              sub_477460(x - 2, y - 1, x - 1, y - 1, 62289);
              sub_477460(x + 1, y - 1, x + 2, y - 1, 62289);
              sub_477460(x - 2, y + 11, x - 1, y + 11, 62289);
              sub_477460(x + 1, y + 11, x + 2, y + 11, 62289);
            }
          }
          else if ( byte_13250A0[782 * dword_133001C] )
          {
            sub_443C70(255, 255, 255);
            sub_443ED0(597, 113, (LPCSTR)(782 * dword_133001C + 20074661));
            v74 = 0;
            v75 = 139;
            do
            {
              sub_443ED0(537, v75, (LPCSTR)&unk_13250BA + 782 * dword_133001C + 36 * (dword_49D97C + v74));
              v75 += 18;
              ++v74;
            }
            while ( v75 < 283 );
          }
          v76 = 0;
          psizl.cx = 0;
          do
          {
            v77 = dword_1330018 + v76;
            if ( dword_1330018 + v76 > dword_1330014 - 1 )
              break;
            sub_443DA0(2u);
            if ( dword_1328DFC != 3 || v77 != dword_133001C )
              sub_443C70(249, 205, 138);
            else
              sub_443C70(255, 0, 0);
            sub_443ED0(727, 17 * psizl.cx + 321, &byte_48DDA4);
            sub_443DA0(0);
            sub_443C70(255, 255, 255);
            sprintf(
              String,
              aFromS02d02d02d,
              &byte_13250A5[782 * v77],
              (unsigned __int8)byte_13250A2[782 * v77],
              (unsigned __int8)byte_13250A3[782 * v77],
              (unsigned __int8)byte_13250A4[782 * v77]);
            sub_443ED0(537, 17 * psizl.cx + 321, String);
            v76 = psizl.cx + 1;
            v3 = __OFSUB__(psizl.cx + 1, 6);
            v2 = psizl.cx++ - 5 < 0;
          }
          while ( v2 ^ v3 );
          goto LABEL_491;
      }
      sub_443C70(255, 255, 255);
      goto LABEL_491;
    case 0xC:
      v83 = 0;
      v84 = 0;
      psizl.cx = 0;
      do
      {
        if ( *((_BYTE *)dword_1308324 + 68 * dword_48CEC8[2 * v84]) == -1 )
          v83 = dword_48CECC[2 * v84];
        psizl.cx = ++v84;
      }
      while ( v84 < 15 );
      sub_443DA0(1u);
      GetTextExtentPoint32A(hdc, &byte_48DD04, strlen(&byte_48DD04), &v157);
      GetTextExtentPoint32A(hdc, &byte_48DCFC, strlen(&byte_48DCFC), &v156);
      GetTextExtentPoint32A(hdc, &byte_48DCF4, strlen(&byte_48DCF4), &v160);
      GetTextExtentPoint32A(hdc, &byte_48DCEC, strlen(&byte_48DCEC), &v158);
      GetTextExtentPoint32A(hdc, &byte_48DCE4, strlen(&byte_48DCE4), &v161);
      GetTextExtentPoint32A(hdc, &byte_48DCDC, strlen(&byte_48DCDC), &v159);
      GetTextExtentPoint32A(hdc, &byte_48DCD4, strlen(&byte_48DCD4), &v154);
      GetTextExtentPoint32A(hdc, &byte_48DCCC, strlen(&byte_48DCCC), &v155);
      GetTextExtentPoint32A(hdc, &byte_48DCC4, strlen(&byte_48DCC4), &v174);
      sub_443C70(55, 55, 55);
      sub_443F30(706, 118, v83);
      sub_443C70(255, 255, 255);
      sub_443F30(704, 116, v83);
      if ( dword_1322680 )
      {
        if ( dword_1322680 == 1 )
        {
          x = 590;
          y = 148;
          v95 = (char *)dword_1308324 + 68 * dword_13246D0;
          sub_443C70(255, 255, 255);
          sprintf(String, aSDGold, v95 + 4, *((_DWORD *)v95 + 15));
          sub_443ED0(x, y, String);
          sub_443C70(249, 205, 138);
          sub_443ED0(x, y + 10, &byte_48DD04);
          sub_443ED0(x + 50, y + 10, &byte_48DCFC);
          sub_443ED0(x + 100, y + 10, &byte_48DCF4);
          sub_443ED0(x, y + 20, &byte_48DCEC);
          sub_443ED0(x + 50, y + 20, &byte_48DCE4);
          sub_443ED0(x + 100, y + 20, &byte_48DCDC);
          sub_443ED0(x, y + 30, &byte_48DCD4);
          sub_443ED0(x + 70, y + 30, &byte_48DCCC);
          sub_443C70(255, 255, 255);
          v96 = v95[42];
          if ( v96 )
            sprintf(String, off_48DCB4, v96);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v157.cx + x, y + 10, String);
          v97 = v95[43];
          if ( v97 )
            sprintf(String, off_48DCB4, v97);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v156.cx + 50, y + 10, String);
          v98 = *((_WORD *)v95 + 27);
          if ( v98 )
            sprintf(String, off_48DCB4, v98);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v160.cx + 100, y + 10, String);
          v99 = *((_WORD *)v95 + 24);
          if ( v99 )
            sprintf(String, aD_2, v99);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v158.cx + x, y + 20, String);
          v100 = *((_WORD *)v95 + 25);
          if ( v100 )
            sprintf(String, aD_2, v100);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v161.cx + 50, y + 20, String);
          v101 = *((_WORD *)v95 + 26);
          if ( v101 )
            sprintf(String, aD_2, v101);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v159.cx + 100, y + 20, String);
          v102 = *((_WORD *)v95 + 22);
          if ( v102 )
            sprintf(String, aD_1, v102);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v154.cx + x, y + 30, String);
          v103 = *((_WORD *)v95 + 23);
          if ( v103 )
            sprintf(String, aD_1, v103);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v155.cx + 70, y + 30, String);
          sub_443FC0(642, y + 50, &byte_48DD60);
          if ( dword_1328DFC )
          {
            v94 = dword_1328DFC - 1;
            if ( dword_1328DFC != 1 )
              goto LABEL_341;
LABEL_343:
            sub_443C70(255, 0, 0);
            sub_443FC0(602, y + 70, &byte_48DE88);
            sub_443C70(255, 255, 255);
            sub_443FC0(682, y + 70, &byte_48DE84);
            goto LABEL_445;
          }
        }
        else
        {
          if ( dword_1322680 != 4 )
            goto LABEL_445;
          x = 590;
          y = 148;
          v85 = (char *)dword_1308324 + 68 * dword_13246D0;
          sub_443C70(255, 255, 255);
          sprintf(String, aSDGold, v85 + 4, *((_DWORD *)v85 + 15));
          sub_443ED0(x, y, String);
          sub_443C70(249, 205, 138);
          sub_443ED0(x, y + 10, &byte_48DD04);
          sub_443ED0(x + 50, y + 10, &byte_48DCFC);
          sub_443ED0(x + 100, y + 10, &byte_48DCF4);
          sub_443ED0(x, y + 20, &byte_48DCEC);
          sub_443ED0(x + 50, y + 20, &byte_48DCE4);
          sub_443ED0(x + 100, y + 20, &byte_48DCDC);
          sub_443ED0(x, y + 30, &byte_48DCD4);
          sub_443ED0(x + 70, y + 30, &byte_48DCCC);
          sub_443C70(255, 255, 255);
          v86 = v85[42];
          if ( v86 )
            sprintf(String, off_48DCB4, v86);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v157.cx + x, y + 10, String);
          v87 = v85[43];
          if ( v87 )
            sprintf(String, off_48DCB4, v87);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v156.cx + 50, y + 10, String);
          v88 = *((_WORD *)v85 + 27);
          if ( v88 )
            sprintf(String, off_48DCB4, v88);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v160.cx + 100, y + 10, String);
          v89 = *((_WORD *)v85 + 24);
          if ( v89 )
            sprintf(String, aD_2, v89);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v158.cx + x, y + 20, String);
          v90 = *((_WORD *)v85 + 25);
          if ( v90 )
            sprintf(String, aD_2, v90);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v161.cx + 50, y + 20, String);
          v91 = *((_WORD *)v85 + 26);
          if ( v91 )
            sprintf(String, aD_2, v91);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v159.cx + 100, y + 20, String);
          v92 = *((_WORD *)v85 + 22);
          if ( v92 )
            sprintf(String, aD_1, v92);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v154.cx + x, y + 30, String);
          v93 = *((_WORD *)v85 + 23);
          if ( v93 )
            sprintf(String, aD_1, v93);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v155.cx + 70, y + 30, String);
          psizl.cy = SHIWORD(dword_1322660) - 50;
          sprintf(
            String,
            &byte_48DD74,
            (unsigned int)(signed __int64)(((double)psizl.cy * 0.0040000002 + 0.7) * (double)*((signed int *)v85 + 15)));
          sub_443FC0(642, y + 50, String);
          if ( dword_1328DFC )
          {
            v94 = dword_1328DFC - 1;
            if ( dword_1328DFC != 1 )
            {
LABEL_341:
              if ( v94 == 1 )
              {
                sub_443C70(255, 255, 255);
                sub_443FC0(602, y + 70, &byte_48DE88);
                sub_443C70(255, 0, 0);
                sub_443FC0(682, y + 70, &byte_48DE84);
              }
              goto LABEL_445;
            }
            goto LABEL_343;
          }
        }
        sub_443C70(255, 255, 255);
        sub_443FC0(602, y + 70, &byte_48DE88);
        sub_443FC0(682, y + 70, &byte_48DE84);
        goto LABEL_445;
      }
      if ( !dword_1330070 )
      {
        x = 540;
        y = 168;
        if ( !dword_132A2B8 )
        {
          sub_443C70(255, 255, 255);
          sub_443FC0(642, 194, &byte_48DD0C);
          v121 = 0;
          psizl.cx = 0;
          do
          {
            if ( dword_48CEC8[2 * v121] != -1 )
            {
              x = 47 * (v121 % 5) + 569;
              v122 = dword_48CECC[2 * v121];
              y = 47 * (v121 / 5) + 312;
              sprintf(String, aD_2, v122);
              sub_443C70(55, 55, 55);
              sub_443ED0(x + 2, y + 2, String);
              sub_443C70(255, 255, 255);
              sub_443ED0(x, y, String);
              v121 = psizl.cx;
              x = 47 * (psizl.cx % 5) + 537;
              y = 47 * (psizl.cx / 5) + 284;
              if ( dword_49D89C > x
                && dword_49D89C < 47 * (psizl.cx % 5) + 577
                && dword_49D8A0 > 47 * (psizl.cx / 5) + 284
                && dword_49D8A0 < 47 * (psizl.cx / 5) + 324 )
              {
                v123 = dword_48CEC8[2 * psizl.cx];
                x = 660;
                y = 466;
                sub_44F7B0((char *)dword_1308324 + 68 * v123);
                v121 = psizl.cx;
              }
            }
            psizl.cx = ++v121;
          }
          while ( v121 < 15 );
          goto LABEL_445;
        }
        sub_443C70(255, 255, 255);
        if ( dword_132A2B8 == 1 )
          sub_443FC0(642, 174, &byte_48DD24);
        v104 = dword_1328DFC;
        if ( !dword_1328DFC )
        {
          sub_443C70(255, 255, 255);
LABEL_435:
          sub_443FC0(642, 214, aOk);
          goto LABEL_445;
        }
LABEL_433:
        if ( v104 != 1 )
          goto LABEL_445;
        sub_443C70(255, 0, 0);
        goto LABEL_435;
      }
      if ( dword_132A2B8 )
      {
        x = 540;
        y = 168;
        sub_443C70(255, 255, 255);
        if ( dword_132A2B8 == 1 )
        {
          sub_443FC0(642, 174, &byte_48DD40);
        }
        else if ( dword_132A2B8 == 2 )
        {
          sub_443FC0(642, 174, (LPCSTR)&unk_48DD4C);
        }
        v104 = dword_1328DFC;
        if ( !dword_1328DFC )
        {
          sub_443C70(255, 255, 255);
          sub_443FC0(642, 214, aOk);
          goto LABEL_445;
        }
        goto LABEL_433;
      }
      v105 = 0;
      psizl.cx = 0;
      do
      {
        x = 590;
        y = 50 * v105 + 148;
        v106 = (char *)dword_1308324 + 68 * dword_488500[v105 + dword_132260C + 40 * dword_489040 + 5 * dword_489040];
        if ( dword_49D89C <= 540
          || dword_49D89C >= 590
          || dword_49D8A0 <= 50 * v105 + 148
          || dword_49D8A0 >= 50 * v105 + 198 )
        {
          sub_443C70(255, 255, 255);
        }
        else
        {
          sub_443C70(255, 0, 0);
        }
        sprintf(String, aSD, v106 + 4, *((_DWORD *)v106 + 15));
        sub_443ED0(x, y, String);
        if ( *v106 == 16 )
        {
          sub_443C70(249, 205, 138);
          sub_443ED0(x, y + 10, &byte_48DD04);
          sub_443ED0(x + 70, y + 10, &byte_48DCFC);
          sub_443ED0(x, y + 20, &byte_48DCD4);
          sub_443ED0(x + 70, y + 20, &byte_48DCCC);
          sub_443ED0(x, y + 30, &byte_48DCC4);
          sub_443C70(255, 255, 255);
          v117 = v106[42];
          if ( v117 )
            sprintf(String, off_48DCB4, v117);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v157.cx + x, y + 10, String);
          v118 = v106[43];
          if ( v118 )
            sprintf(String, off_48DCB4, v118);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v156.cx + 70, y + 10, String);
          v119 = *((_WORD *)v106 + 22);
          if ( v119 )
            sprintf(String, aD_1, v119);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v154.cx + x, y + 20, String);
          v120 = *((_WORD *)v106 + 23);
          if ( v120 )
            sprintf(String, aD_1, v120);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v155.cx + 70, y + 20, String);
          if ( (signed int)(unsigned __int16)dword_13246DC >= *((_DWORD *)v106 + 16) )
            sub_443C70(255, 255, 255);
          else
            sub_443C70(255, 0, 0);
          sprintf(String, aD_2, *((_DWORD *)v106 + 16));
          sub_443ED0(v174.cx + x, y + 30, String);
        }
        else if ( *v106 == 19 )
        {
          sub_443C70(249, 205, 138);
          sub_443ED0(x, y + 10, &byte_48DCD4);
          sub_443ED0(x, y + 20, &byte_48DCCC);
          if ( HIWORD(dword_132FFFC) >= (signed int)*((signed __int16 *)v106 + 28) )
            sub_443C70(255, 255, 255);
          else
            sub_443C70(255, 0, 0);
          v115 = *((_WORD *)v106 + 28);
          if ( v115 )
            sprintf(String, aD_2, v115);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v154.cx + x, y + 10, String);
          if ( (unsigned __int16)dword_1329424 >= (signed int)*((signed __int16 *)v106 + 29) )
            sub_443C70(255, 255, 255);
          else
            sub_443C70(255, 0, 0);
          v116 = *((_WORD *)v106 + 29);
          if ( v116 )
            sprintf(String, aD_2, v116);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v155.cx + x, y + 20, String);
        }
        else
        {
          sub_443C70(249, 205, 138);
          sub_443ED0(x, y + 10, &byte_48DD04);
          sub_443ED0(x + 50, y + 10, &byte_48DCFC);
          sub_443ED0(x + 100, y + 10, &byte_48DCF4);
          sub_443ED0(x, y + 20, &byte_48DCEC);
          sub_443ED0(x + 50, y + 20, &byte_48DCE4);
          sub_443ED0(x + 100, y + 20, &byte_48DCDC);
          sub_443ED0(x, y + 30, &byte_48DCD4);
          sub_443ED0(x + 70, y + 30, &byte_48DCCC);
          sub_443C70(255, 255, 255);
          v107 = v106[42];
          if ( v107 )
            sprintf(String, off_48DCB4, v107);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v157.cx + x, y + 10, String);
          v108 = v106[43];
          if ( v108 )
            sprintf(String, off_48DCB4, v108);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v156.cx + 50, y + 10, String);
          if ( HIWORD(dword_13246A4) >= (signed int)*((signed __int16 *)v106 + 27) )
            sub_443C70(255, 255, 255);
          else
            sub_443C70(255, 0, 0);
          v109 = *((_WORD *)v106 + 27);
          if ( v109 )
            sprintf(String, aD_2, v109);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v160.cx + 100, y + 10, String);
          if ( HIWORD(dword_13246D8) >= (signed int)*((signed __int16 *)v106 + 24) )
            sub_443C70(255, 255, 255);
          else
            sub_443C70(255, 0, 0);
          v110 = *((_WORD *)v106 + 24);
          if ( v110 )
            sprintf(String, aD_2, v110);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v158.cx + x, y + 20, String);
          if ( (unsigned __int16)word_132A2B6 >= (signed int)*((signed __int16 *)v106 + 25) )
            sub_443C70(255, 255, 255);
          else
            sub_443C70(255, 0, 0);
          v111 = *((_WORD *)v106 + 25);
          if ( v111 )
            sprintf(String, aD_2, v111);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v161.cx + 50, y + 20, String);
          if ( (unsigned __int16)word_13226AA >= (signed int)*((signed __int16 *)v106 + 26) )
            sub_443C70(255, 255, 255);
          else
            sub_443C70(255, 0, 0);
          v112 = *((_WORD *)v106 + 26);
          if ( v112 )
            sprintf(String, aD_2, v112);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v159.cx + 100, y + 20, String);
          v113 = *((_WORD *)v106 + 22);
          if ( v113 )
            sprintf(String, aD_1, v113);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(v154.cx + x, y + 30, String);
          v114 = *((_WORD *)v106 + 23);
          if ( v114 )
            sprintf(String, aD_1, v114);
          else
            strcpy(String, byte_49D994);
          sub_443ED0(x + v155.cx + 70, y + 30, String);
        }
        v105 = psizl.cx + 1;
        v3 = __OFSUB__(psizl.cx + 1, 2);
        v2 = psizl.cx++ - 1 < 0;
      }
      while ( v2 ^ v3 );
LABEL_445:
      v124 = 0;
      psizl.cx = 0;
      do
      {
        if ( dword_48CEC8[2 * v124] != -1 )
        {
          x = 47 * (v124 % 5) + 569;
          v125 = dword_48CECC[2 * v124];
          y = 47 * (v124 / 5) + 312;
          sprintf(String, aD_2, v125);
          sub_443C70(55, 55, 55);
          sub_443ED0(x + 2, y + 2, String);
          sub_443C70(255, 255, 255);
          sub_443ED0(x, y, String);
          v124 = psizl.cx;
        }
        psizl.cx = ++v124;
      }
      while ( v124 < 15 );
      sub_443DA0(0);
LABEL_491:
      sub_443DA0(1u);
      if ( dword_131A884 )
      {
        v145 = dword_154794C / 40;
        psizl.cy = dword_1547950 / 20;
        v151 = dword_154794C % 40;
        v146 = 0;
        psizl.cx = 0;
        v150 = dword_1547950 % 20;
        do
        {
          v147 = 0;
          v148 = 0;
          do
          {
            sub_443F30(
              v148 - v151,
              20 * v146 - v150,
              *((unsigned __int16 *)dword_1330790 + 4 * (v147 + v145 + dword_1540B4C * (v146 + psizl.cy))));
            v146 = psizl.cx;
            v148 += 40;
            ++v147;
          }
          while ( v148 < 840 );
          v146 = psizl.cx + 1;
          psizl.cx = v146;
        }
        while ( v146 < 24 );
      }
      sub_443DA0(0);
      SelectObject(hdc, dword_1570318);
      return sub_443EA0();
    case 0xD:
      sub_443DA0(1u);
      v126 = 0;
      psizl.cx = 0;
      do
      {
        v127 = 2 * (v126 + 20 * dword_1322610);
        if ( dword_48CCE8[v127] != -1 )
        {
          x = 47 * (v126 % 5) + 569;
          v128 = dword_48CCEC[v127];
          y = 47 * (v126 / 5 + 3);
          sprintf(String, aD_2, v128);
          sub_443C70(55, 55, 55);
          sub_443ED0(x + 2, y + 2, String);
          sub_443C70(255, 255, 255);
          sub_443ED0(x, y, String);
          v126 = psizl.cx;
          x = 47 * (psizl.cx % 5) + 537;
          y = 47 * (psizl.cx / 5) + 113;
          if ( dword_49D89C > x
            && dword_49D89C < 47 * (psizl.cx % 5) + 577
            && dword_49D8A0 > 47 * (psizl.cx / 5) + 113
            && dword_49D8A0 < 47 * (psizl.cx / 5) + 153 )
          {
            x = 660;
            y = 466;
            sub_44F7B0((char *)dword_1308324 + 68 * dword_48CCE8[2 * (psizl.cx + 20 * dword_1322610)]);
            v126 = psizl.cx;
          }
        }
        psizl.cx = ++v126;
      }
      while ( v126 < 20 );
      v129 = 0;
      psizl.cx = 0;
      do
      {
        v130 = 2 * (v129 + 4 * dword_132260C + dword_132260C);
        if ( dword_48CEC8[v130] != -1 )
        {
          v131 = dword_48CECC[v130];
          y = 371;
          x = 47 * (v129 % 5) + 568;
          sprintf(String, aD_2, v131);
          sub_443C70(55, 55, 55);
          sub_443ED0(x + 2, y + 2, String);
          sub_443C70(255, 255, 255);
          sub_443ED0(x, y, String);
          v129 = psizl.cx;
          x = 47 * (psizl.cx % 5) + 536;
          y = 47 * (psizl.cx / 5) + 343;
          if ( dword_49D89C > x
            && dword_49D89C < 47 * (psizl.cx % 5) + 576
            && dword_49D8A0 > 47 * (psizl.cx / 5) + 343
            && dword_49D8A0 < 47 * (psizl.cx / 5) + 383 )
          {
            x = 660;
            y = 466;
            sub_44F7B0((char *)dword_1308324 + 68 * dword_48CEC8[2 * (psizl.cx + 4 * dword_132260C + dword_132260C)]);
            v129 = psizl.cx;
          }
        }
        psizl.cx = ++v129;
      }
      while ( v129 < 5 );
      sub_443DA0(0);
      goto LABEL_491;
    case 0xF:
      sub_443DA0(1u);
      v132 = 0;
      psizl.cx = 0;
      do
      {
        if ( dword_132A270[2 * v132] != -1 )
        {
          x = 45 * (v132 % 2) + 572;
          v133 = dword_132A274[2 * v132];
          y = 45 * (v132 / 2) + 146;
          sprintf(String, aD_2, v133);
          sub_443C70(55, 55, 55);
          sub_443ED0(x + 2, y + 2, String);
          sub_443C70(255, 255, 255);
          sub_443ED0(x, y, String);
          v132 = psizl.cx;
          v134 = 45 * (psizl.cx % 2 + 12);
          x = 45 * (psizl.cx % 2 + 12);
          y = 45 * (psizl.cx / 2) + 118;
          if ( dword_49D89C > v134
            && dword_49D89C < v134 + 40
            && dword_49D8A0 > 45 * (psizl.cx / 2) + 118
            && dword_49D8A0 < 45 * (psizl.cx / 2) + 158 )
          {
            v135 = dword_132A270[2 * psizl.cx];
            x = 660;
            y = 466;
            sub_44F7B0((char *)dword_1308324 + 68 * v135);
            v132 = psizl.cx;
          }
        }
        if ( dword_1329450[2 * v132] != -1 )
        {
          x = 42 * (v132 % 2) + 707;
          v136 = dword_1329454[2 * v132];
          y = 42 * (v132 / 2) + 146;
          sprintf(String, aD_2, v136);
          sub_443C70(55, 55, 55);
          sub_443ED0(x + 2, y + 2, String);
          sub_443C70(255, 255, 255);
          sub_443ED0(x, y, String);
          v132 = psizl.cx;
          x = 42 * (psizl.cx % 2) + 675;
          y = 42 * (psizl.cx / 2) + 118;
          if ( dword_49D89C > x
            && dword_49D89C < 42 * (psizl.cx % 2) + 715
            && dword_49D8A0 > 42 * (psizl.cx / 2) + 118
            && dword_49D8A0 < 42 * (psizl.cx / 2) + 158 )
          {
            v137 = dword_1329450[2 * psizl.cx];
            x = 660;
            y = 466;
            sub_44F7B0((char *)dword_1308324 + 68 * v137);
            v132 = psizl.cx;
          }
        }
        psizl.cx = ++v132;
      }
      while ( v132 < 4 );
      v138 = 0;
      psizl.cx = 0;
      do
      {
        if ( dword_48CEC8[2 * v138] != -1 )
        {
          x = 47 * (v138 % 5) + 569;
          v139 = dword_48CECC[2 * v138];
          y = 47 * (v138 / 5) + 312;
          sprintf(String, aD_2, v139);
          sub_443C70(55, 55, 55);
          sub_443ED0(x + 2, y + 2, String);
          sub_443C70(255, 255, 255);
          sub_443ED0(x, y, String);
          v138 = psizl.cx;
          x = 47 * (psizl.cx % 5) + 537;
          y = 47 * (psizl.cx / 5) + 284;
          if ( dword_49D89C > x
            && dword_49D89C < 47 * (psizl.cx % 5) + 577
            && dword_49D8A0 > 47 * (psizl.cx / 5) + 284
            && dword_49D8A0 < 47 * (psizl.cx / 5) + 324 )
          {
            v140 = dword_48CEC8[2 * psizl.cx];
            x = 660;
            y = 466;
            sub_44F7B0((char *)dword_1308324 + 68 * v140);
            v138 = psizl.cx;
          }
        }
        psizl.cx = ++v138;
      }
      while ( v138 < 15 );
      sub_443C70(255, 255, 255);
      sub_443DA0(0);
      goto LABEL_491;
    default:
      sub_443DA0(1u);
      sub_443C70(255, 255, 255);
      x = 660;
      y = 466;
      sub_443ED0(660, 466, &byte_48DFA4);
      y += 13;
      sprintf(String, &byte_48DF98, HIWORD(dword_13246D8));
      sub_443ED0(x, y, String);
      sprintf(String, &byte_48DF8C, (unsigned __int16)word_132A2B6);
      sub_443ED0(x + 60, y, String);
      sprintf(String, &byte_48DF80, (unsigned __int16)word_13226AA);
      sub_443ED0(x, y + 10, String);
      sprintf(String, &byte_48DF74, HIWORD(dword_13246A4));
      sub_443ED0(x + 60, y + 10, String);
      v141 = sub_44F4B0();
      sprintf(String, &byte_48DF68, (unsigned __int8)byte_132FFE5 + v141);
      sub_443ED0(x, y + 20, String);
      v142 = sub_44F570();
      sprintf(String, &byte_48DF5C, (unsigned __int8)byte_132FFE7 + v142);
      sub_443ED0(x + 60, y + 20, String);
      v143 = sub_44F630();
      sprintf(String, &byte_48DF4C, (unsigned __int16)dword_1329424, v143);
      sub_443ED0(x, y + 30, String);
      v144 = sub_44F6F0();
      sprintf(String, &byte_48DF3C, HIWORD(dword_132FFFC), v144);
      sub_443ED0(x, y + 40, String);
      sprintf(String, &byte_48DF30, SHIWORD(dword_1322660));
      sub_443ED0(x + 70, y + 50, String);
      sprintf(String, &byte_48DF20, dword_1324F54, dword_132FFEC);
      sub_443ED0(x, y + 50, String);
      sprintf(String, &byte_48DF10, (unsigned __int16)word_1328E46, (unsigned __int16)dword_132FFFC);
      sub_443ED0(x, y + 60, String);
      sprintf(String, &byte_48DF04, (unsigned __int16)dword_1322660);
      sub_443ED0(x, y + 70, String);
      sprintf(String, &byte_48DEF8, (unsigned __int16)dword_13246DC);
      sub_443ED0(x, y + 80, String);
      sprintf(String, &byte_48DEE8, dword_489BE4[(unsigned __int16)dword_13246DC], dword_13246AC);
      sub_443ED0(x, y + 90, String);
      sub_443DA0(0);
      sub_443C70(255, 255, 255);
      goto LABEL_491;
  }
}
// 489040: using guessed type int dword_489040;
// 489BE4: using guessed type int dword_489BE4[];
// 48CCE4: using guessed type int dword_48CCE4;
// 48CCE8: using guessed type int dword_48CCE8[];
// 48CE28: using guessed type int dword_48CE28[];
// 48CE2C: using guessed type int dword_48CE2C[];
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CF70: using guessed type int dword_48CF70;
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;
// 49D88C: using guessed type char byte_49D88C;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 49D974: using guessed type int dword_49D974;
// 49D978: using guessed type int dword_49D978;
// 49D97C: using guessed type int dword_49D97C;
// 13082E4: using guessed type int dword_13082E4;
// 1317E80: using guessed type char byte_1317E80;
// 131A884: using guessed type int dword_131A884;
// 131AC00: using guessed type char byte_131AC00;
// 131D68C: using guessed type char byte_131D68C;
// 13211C8: using guessed type int dword_13211C8;
// 13225F5: using guessed type char byte_13225F5;
// 132260C: using guessed type int dword_132260C;
// 1322610: using guessed type int dword_1322610;
// 132262C: using guessed type int dword_132262C;
// 1322630: using guessed type int dword_1322630;
// 1322660: using guessed type int dword_1322660;
// 1322680: using guessed type int dword_1322680;
// 13226AA: using guessed type __int16 word_13226AA;
// 13246A4: using guessed type int dword_13246A4;
// 13246AC: using guessed type int dword_13246AC;
// 13246B8: using guessed type int dword_13246B8;
// 13246D0: using guessed type int dword_13246D0;
// 13246D8: using guessed type int dword_13246D8;
// 13246DC: using guessed type int dword_13246DC;
// 1324782: using guessed type char byte_1324782;
// 1324F54: using guessed type int dword_1324F54;
// 1328DFC: using guessed type int dword_1328DFC;
// 1328E45: using guessed type char byte_1328E45;
// 1328E46: using guessed type __int16 word_1328E46;
// 1329424: using guessed type int dword_1329424;
// 1329444: using guessed type int dword_1329444;
// 1329450: using guessed type int dword_1329450[];
// 132A268: using guessed type int dword_132A268;
// 132A270: using guessed type int dword_132A270[];
// 132A274: using guessed type int dword_132A274[];
// 132A2B6: using guessed type __int16 word_132A2B6;
// 132A2B8: using guessed type int dword_132A2B8;
// 132FFE5: using guessed type char byte_132FFE5;
// 132FFE7: using guessed type char byte_132FFE7;
// 132FFFC: using guessed type int dword_132FFFC;
// 1330014: using guessed type int dword_1330014;
// 1330018: using guessed type int dword_1330018;
// 133001C: using guessed type int dword_133001C;
// 1330020: using guessed type int dword_1330020;
// 1330024: using guessed type int dword_1330024;
// 1330028: using guessed type int dword_1330028;
// 133002C: using guessed type int dword_133002C;
// 1330030: using guessed type char byte_1330030;
// 133003C: using guessed type int dword_133003C;
// 133004C: using guessed type int dword_133004C;
// 1330050: using guessed type int dword_1330050;
// 1330054: using guessed type int dword_1330054;
// 1330058: using guessed type int dword_1330058;
// 1330070: using guessed type int dword_1330070;
// 1330074: using guessed type int dword_1330074;
// 133007C: using guessed type int dword_133007C;
// 1330080: using guessed type char byte_1330080;
// 1330084: using guessed type int dword_1330084;
// 1330090: using guessed type int dword_1330090;
// 1330094: using guessed type char byte_1330094;
// 133009C: using guessed type char byte_133009C;
// 13300B0: using guessed type int dword_13300B0;
// 13300B8: using guessed type int dword_13300B8;
// 13300E8: using guessed type int dword_13300E8;
// 1330110: using guessed type int dword_1330110;
// 1540B4C: using guessed type int dword_1540B4C;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;
// 1547958: using guessed type char byte_1547958;
// 4503C0: using guessed type CHAR String[260];
// 4503C0: using guessed type CHAR var_18[20];

//----- (00455FD0) --------------------------------------------------------
int sub_455FD0()
{
  const char *v0; // esi
  int v1; // edx
  unsigned int v2; // eax
  signed int v3; // ebx

  sub_443E60();
  if ( dword_48CF9C != -1 )
  {
    v0 = (&off_48CBC0)[dword_48CF9C];
    v1 = dword_132A294;
    if ( dword_132A294 + 6 * strlen((&off_48CBC0)[dword_48CF9C]) > 0x316 )
    {
      v2 = 6 * strlen(v0);
      v1 = 790 - v2;
      dword_132A294 = 790 - v2;
    }
    v3 = dword_132A298;
    if ( dword_132A298 + 28 > 560 )
    {
      v3 = 532;
      dword_132A298 = 532;
    }
    sub_477600(v1 - 2, v3 + 28, v1 + 6 * strlen(v0) + 2, v3 + 42, 0, word_1328E76);
    sub_443C70(0, 0, 0);
    sub_443ED0(dword_132A294, dword_132A298 + 30, (&off_48CBC0)[dword_48CF9C]);
    sub_443C70(255, 255, 255);
  }
  return sub_443EA0();
}
// 48CF9C: using guessed type int dword_48CF9C;
// 1328E76: using guessed type __int16 word_1328E76;
// 132A298: using guessed type int dword_132A298;

//----- (004560D0) --------------------------------------------------------
int sub_4560D0()
{
  int v0; // kr00_4
  int v1; // edi
  signed int v2; // eax
  int v3; // ebx
  int v4; // esi
  const char *v5; // ebp
  int v7; // [esp+4h] [ebp-8h]
  int x; // [esp+8h] [ebp-4h]

  v0 = 760 - 280 * (byte_1328E45 != 0);
  v1 = v0 / 2 + 20;
  v7 = v0 / 2 + 20;
  sub_443E60();
  if ( dword_13300B4 )
  {
    v2 = 0;
    x = 0;
    v3 = 0;
    v4 = 0;
    do
    {
      v5 = (const char *)(260 * v2 + 20092748);
      if ( byte_132974C[260 * v2] )
      {
        switch ( v2 )
        {
          case 0:
            v3 = 260;
            v4 = v7 - 6 * (strlen((const char *)(260 * v2 + 20092748)) + 10);
            break;
          case 1:
            v3 = 220;
            v4 = v7 - 6 * strlen((const char *)(260 * v2 + 20092748)) - 70;
            break;
          case 2:
            v3 = 180;
            v4 = v7 - 6 * (strlen((const char *)(260 * v2 + 20092748)) + 10);
            break;
          case 3:
            v3 = 160;
            v4 = v7 - (6 * strlen((const char *)(260 * v2 + 20092748)) >> 1);
            break;
          case 4:
            v4 = v1 + 60;
            v3 = 180;
            break;
          case 5:
            v4 = v1 + 70;
            v3 = 220;
            break;
          case 6:
            v4 = v1 + 60;
            v3 = 260;
            break;
          case 7:
            v3 = 280;
            v4 = v7 - (6 * strlen((const char *)(260 * v2 + 20092748)) >> 1);
            break;
          default:
            break;
        }
        if ( v4 + 6 * strlen(v5) > 0x316 )
          v4 = 790 - 6 * strlen(v5);
        sub_4775B0(v4 - 4, v3 - 4, v4 + 6 * strlen(v5) + 2, v3 + 12, 53219);
        sub_443C70(0, 0, 0);
        sub_443ED0(v4, v3, v5);
        sub_443C70(180, 200, 50);
        sub_443ED0(v4 - 2, v3 - 2, v5);
        v1 = v0 / 2 + 20;
        v2 = x;
      }
      x = ++v2;
    }
    while ( v2 < 8 );
  }
  return sub_443EA0();
}
// 1328E45: using guessed type char byte_1328E45;
// 13300B4: using guessed type int dword_13300B4;

//----- (004562F0) --------------------------------------------------------
void sub_4562F0()
{
  __int16 *v0; // edi
  char *v1; // esi
  signed int v2; // edx

  v0 = word_13B5390;
  v1 = (char *)dword_1547438;
  v2 = 600;
  do
  {
    qmemcpy(v0, v1, 0x640u);
    v1 += 1600;
    v0 += 900;
    --v2;
  }
  while ( v2 );
}
// 1547438: using guessed type int dword_1547438;

//----- (00456330) --------------------------------------------------------
int __cdecl sub_456330(_WORD *a1)
{
  __int16 *v1; // edi
  _WORD *v2; // esi
  _WORD *v3; // ebp
  char *v4; // edx
  signed int v5; // ecx
  signed __int16 v6; // cx
  signed __int16 v7; // ST00_2
  int result; // eax
  signed int v9; // [esp-4h] [ebp-14h]

  dword_1325078 = (int)word_13B5390;
  v1 = word_13B5390;
  v2 = (_WORD *)dword_1547438;
  v3 = a1;
  v4 = (char *)&unk_8C899C + 1024 * (unsigned __int8)dword_1547948;
  v5 = 600;
  do
  {
    v9 = v5;
    v6 = 800;
    do
    {
      v7 = v6;
      result = (unsigned __int8)v4[(unsigned __int16)(32 * (*v2 & 0x1F)) + (*v3 & 0x1F)];
      *v1 = result | ((unsigned __int8)v4[(unsigned __int16)(32 * ((*v2 >> 6) & 0x1F)) + ((*v3 >> 6) & 0x1F)] << 6) | ((unsigned __int8)v4[(unsigned __int16)(32 * (*v2 >> 11)) + (unsigned __int16)(*v3 >> 11)] << 11);
      ++v1;
      ++v2;
      ++v3;
      --v6;
    }
    while ( v7 != 1 );
    v1 += 100;
    HIWORD(v5) = HIWORD(v9);
    LOWORD(v5) = v9 - 1;
  }
  while ( (_WORD)v9 != 1 );
  return result;
}
// 1325078: using guessed type int dword_1325078;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00456410) --------------------------------------------------------
int __cdecl sub_456410(_WORD *a1)
{
  __int16 *v1; // edi
  _WORD *v2; // esi
  _WORD *v3; // ebp
  char *v4; // edx
  signed int v5; // ecx
  signed __int16 v6; // cx
  signed __int16 v7; // ST00_2
  int result; // eax
  signed int v9; // [esp-4h] [ebp-14h]

  dword_1325078 = (int)word_13B5390;
  v1 = word_13B5390;
  v2 = (_WORD *)dword_1547438;
  v3 = a1;
  v4 = (char *)&unk_8C899C + 1024 * (unsigned __int8)dword_1547948;
  v5 = 600;
  do
  {
    v9 = v5;
    v6 = 800;
    do
    {
      v7 = v6;
      result = (unsigned __int8)v4[(unsigned __int16)(32 * (*v2 & 0x1F)) + (*v3 & 0x1F)];
      *v1 = result | 32 * (unsigned __int8)v4[(unsigned __int16)(32 * ((*v2 >> 5) & 0x1F)) + ((*v3 >> 5) & 0x1F)] | ((unsigned __int8)v4[(unsigned __int16)(32 * (*v2 >> 10)) + (unsigned __int16)(*v3 >> 10)] << 10);
      ++v3;
      ++v1;
      ++v2;
      --v6;
    }
    while ( v7 != 1 );
    v1 += 100;
    HIWORD(v5) = HIWORD(v9);
    LOWORD(v5) = v9 - 1;
  }
  while ( (_WORD)v9 != 1 );
  return result;
}
// 1325078: using guessed type int dword_1325078;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (004564F0) --------------------------------------------------------
int sub_4564F0()
{
  char *v0; // edi
  __int16 *v1; // esi
  signed int v2; // edx
  int result; // eax

  sub_42DAB0();
  v0 = (char *)dword_1570240;
  v1 = word_13B5390;
  v2 = 600;
  result = (unsigned __int16)word_156FAA0;
  do
  {
    qmemcpy(v0, v1, 0x640u);
    v1 += 900;
    v0 += result + 1600;
    --v2;
  }
  while ( v2 );
  return result;
}
// 156FAA0: using guessed type __int16 word_156FAA0;
// 1570240: using guessed type int dword_1570240;

//----- (00456530) --------------------------------------------------------
int __cdecl sub_456530(int a1)
{
  int result; // eax

  dword_13300BC = a1;
  result = dword_13300C0;
  if ( !dword_13300C0 )
  {
    dword_13300C0 = 1;
    dword_13300C4 = 0;
    result = sub_416860(188, 0, 0, 0, 0);
  }
  return result;
}
// 13300BC: using guessed type int dword_13300BC;
// 13300C0: using guessed type int dword_13300C0;
// 13300C4: using guessed type int dword_13300C4;

//----- (00456570) --------------------------------------------------------
int sub_456570()
{
  int v0; // ecx
  int v1; // edi
  int result; // eax
  int v3; // esi
  int v4; // edi

  v0 = dword_13300C4 + 1;
  v1 = dword_13300BC;
  ++dword_13300C4;
  if ( dword_13300C0 )
  {
    result = dword_13300C0 - 1;
    if ( dword_13300C0 != 1 )
      goto LABEL_7;
    result = *(unsigned __int16 *)(dword_8D5B5C + 8) - 1;
    if ( v0 <= result )
      goto LABEL_7;
    dword_13300C0 = 0;
  }
  else
  {
    result = *(unsigned __int16 *)dword_8D5B5C - 1;
    if ( v0 <= result )
      goto LABEL_7;
  }
  dword_13300C4 = 0;
LABEL_7:
  if ( dword_4862F0 )
  {
    sub_4773E0();
    dword_1547438 = (int)dword_12081F8;
    sub_4562F0();
    x = 26;
    y = 539;
    dword_1547438 = dword_8D5E1C;
    sub_4705B0();
    v3 = 12 * *(_DWORD *)(*(_DWORD *)(dword_8D5B5C + 8 * dword_13300C0 + 4) + 4 * dword_13300C4);
    v4 = 330 * v1 / 100;
    x = *(signed __int16 *)(v3 + dword_1317D8C) + v4 + 73;
    y = *(signed __int16 *)(v3 + dword_1317D8C + 2) + 394;
    dword_1547438 = *(_DWORD *)(v3 + dword_1317D8C + 8);
    sub_4700B0(330);
    x = *(signed __int16 *)(v3 + dword_1317D6C) - v4 + 725;
    y = *(signed __int16 *)(v3 + dword_1317D6C + 2) + 394;
    dword_1547438 = *(_DWORD *)(v3 + dword_1317D6C + 8);
    sub_4700B0(v4);
    x = 0;
    y = 504;
    dword_1547438 = dword_8D5E10;
    sub_4705B0();
    sub_4564F0();
    nullsub_1();
    result = sub_479E60();
  }
  return result;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862F0: using guessed type int dword_4862F0;
// 8D5B5C: using guessed type int dword_8D5B5C;
// 8D5E10: using guessed type int dword_8D5E10;
// 8D5E1C: using guessed type int dword_8D5E1C;
// 1317D6C: using guessed type int dword_1317D6C;
// 1317D8C: using guessed type int dword_1317D8C;
// 13300BC: using guessed type int dword_13300BC;
// 13300C0: using guessed type int dword_13300C0;
// 13300C4: using guessed type int dword_13300C4;
// 1547438: using guessed type int dword_1547438;

//----- (004566F0) --------------------------------------------------------
BOOL sub_4566F0()
{
  DWORD v0; // edi
  BOOL result; // eax
  signed int v2; // ebx
  DWORD v3; // edi
  signed int v4; // esi
  CHAR String; // [esp+10h] [ebp-104h]

  if ( dword_4862F0 )
  {
    sub_4773E0();
    dword_1547438 = (int)dword_13081F0;
    sub_4562F0();
    sub_4564F0();
    sub_443E60();
    sub_443C70(255, 255, 255);
    if ( dword_1322624 == 1 )
      sprintf(&String, aTestVersionDD, (unsigned __int16)dword_4862EC / 100, (unsigned __int16)dword_4862EC % 100);
    else
      sprintf(
        &String,
        (const char *)&unk_48E03C,
        (unsigned __int16)dword_4862EC / 100,
        (unsigned __int16)dword_4862EC % 100);
    sub_443ED0(600, 500, &String);
    sub_443EA0();
    nullsub_1();
    sub_479E60();
  }
  v0 = GetTickCount();
  dword_1330110 = 0;
  if ( GetTickCount() - v0 >= 0x7D0 )
  {
LABEL_9:
    sub_416860(1, 0, 0, 0, 0);
    v2 = 31;
    while ( 1 )
    {
      if ( dword_4862F0 )
      {
        sub_4773E0();
        LOBYTE(dword_1547948) = v2;
        dword_1547438 = (int)dword_8C87B4;
        dword_1325098(dword_13081F0);
        sub_4564F0();
        nullsub_1();
        sub_479E60();
      }
      result = sub_479930();
      if ( dword_1330110 )
        break;
      if ( --v2 <= -1 )
      {
        if ( dword_4862F0 )
        {
          sub_4773E0();
          dword_1547438 = (int)dword_8C87B4;
          sub_4562F0();
          sub_4564F0();
          nullsub_1();
          sub_479E60();
        }
        v3 = GetTickCount();
        if ( GetTickCount() - v3 >= 0xBB8 )
        {
LABEL_19:
          v4 = 31;
          do
          {
            if ( dword_4862F0 )
            {
              sub_4773E0();
              dword_1547438 = (int)dword_8C87B4;
              sub_4562F0();
              sub_4564F0();
              nullsub_1();
              sub_479E60();
            }
            result = sub_479930();
            if ( dword_1330110 )
              break;
            --v4;
          }
          while ( v4 > -1 );
        }
        else
        {
          while ( 1 )
          {
            result = sub_479930();
            if ( dword_1330110 )
              break;
            if ( GetTickCount() - v3 >= 0xBB8 )
              goto LABEL_19;
          }
        }
        break;
      }
    }
  }
  else
  {
    while ( 1 )
    {
      result = sub_479930();
      if ( dword_1330110 )
        break;
      if ( GetTickCount() - v0 >= 0x7D0 )
        goto LABEL_9;
    }
  }
  dword_1330110 = 0;
  return result;
}
// 1325098: invalid function type has been ignored
// 409C20: using guessed type int nullsub_1(void);
// 4862EC: using guessed type int dword_4862EC;
// 4862F0: using guessed type int dword_4862F0;
// 1322624: using guessed type int dword_1322624;
// 1325098: using guessed type int (__cdecl *dword_1325098)(_DWORD);
// 1330110: using guessed type int dword_1330110;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00456920) --------------------------------------------------------
char __cdecl sub_456920(char *a1, int a2, unsigned __int8 a3, char a4)
{
  int v4; // ecx
  unsigned int v5; // kr10_4
  int v6; // esi
  char result; // al
  char v8; // al

  v5 = strlen(a1) + 1;
  v4 = v5 - 1;
  v6 = v5 - 1;
  if ( v5 != 1 && a1[v4 - 1] == 95 || (a1[v4] = 95, a1[v5] = 0, a1[v4 - 1] == 95) )
    v6 = v5 - 2;
  switch ( a4 )
  {
    case 0:
      if ( !dword_1330110 )
        goto LABEL_21;
      sub_416860(11, 0, 0, 0, 0);
      switch ( byte_13300E4 )
      {
        case 8:
          if ( v6 > 0 )
          {
            a1[v6 - 1] = 95;
            a1[v6] = 0;
            goto LABEL_20;
          }
          break;
        case 13:
          goto LABEL_51;
        case 9:
          goto LABEL_35;
      }
      if ( v6 <= a3
        && ((unsigned __int8)byte_13300E4 >= 0x61u && (unsigned __int8)byte_13300E4 <= 0x7Au
         || (unsigned __int8)byte_13300E4 >= 0x41u && (unsigned __int8)byte_13300E4 <= 0x5Au
         || (unsigned __int8)byte_13300E4 >= 0x30u && (unsigned __int8)byte_13300E4 <= 0x39u) )
      {
        a1[v6] = byte_13300E4;
        a1[v6 + 1] = 95;
        a1[v6 + 2] = 0;
      }
LABEL_20:
      dword_1330110 = 0;
      byte_13300E4 = 0;
LABEL_21:
      if ( !dword_49D890 )
        return 0;
      sub_416860(10, 0, 0, 0, 0);
      dword_49D890 = 0;
      a1[v6] = 0;
      dword_1330110 = 0;
      byte_13300E4 = 0;
      return 3;
    case 1:
      strcpy(a1, byte_13226B0);
      a1[a3 - 1] = 0;
      if ( dword_1330110 )
      {
        sub_416860(11, 0, 0, 0, 0);
        if ( byte_13300E4 == 9 )
          goto LABEL_36;
        if ( byte_13300E4 == 13 )
          goto LABEL_52;
      }
      if ( dword_49D890 )
      {
        sub_416860(10, 0, 0, 0, 0);
        dword_49D890 = 0;
        dword_1330110 = 0;
        byte_13300E4 = 0;
        result = 3;
      }
      else
      {
        strcat(a1, (const char *)&unk_48E04C);
        result = 0;
      }
      return result;
    case 2:
      if ( !dword_1330110 )
        goto LABEL_42;
      sub_416860(11, 0, 0, 0, 0);
      switch ( byte_13300E4 )
      {
        case 8:
          if ( v6 > 0 )
          {
            a1[v6 - 1] = 95;
            a1[v6] = 0;
            goto LABEL_41;
          }
          break;
        case 13:
          goto LABEL_51;
        case 9:
LABEL_35:
          a1[v6] = 0;
LABEL_36:
          dword_1330110 = 0;
          byte_13300E4 = 0;
          sub_416860(10, 0, 0, 0, 0);
          return 2;
      }
      if ( v6 <= a3 && (unsigned __int8)byte_13300E4 >= 0x30u && (unsigned __int8)byte_13300E4 <= 0x39u )
      {
        a1[v6] = byte_13300E4;
        a1[v6 + 1] = 95;
        a1[v6 + 2] = 0;
      }
LABEL_41:
      dword_1330110 = 0;
      byte_13300E4 = 0;
LABEL_42:
      if ( !dword_49D890 )
        return 0;
      sub_416860(10, 0, 0, 0, 0);
      dword_49D890 = 0;
      a1[v6] = 0;
      dword_1330110 = 0;
      byte_13300E4 = 0;
      sub_416860(10, 0, 0, 0, 0);
      return 2;
    case 3:
      if ( !dword_1330110 )
        return 0;
      sub_416860(11, 0, 0, 0, 0);
      if ( !byte_133012F )
      {
        v8 = byte_13300E4;
        if ( byte_13300E4 == 8 )
        {
          if ( v6 > 0 )
          {
            dword_1329428 = 0;
            a1[v6 - 1] = 95;
            a1[v6] = 0;
            dword_1330110 = 0;
            byte_13300E4 = 0;
            return 0;
          }
        }
        else if ( byte_13300E4 == 13 )
        {
LABEL_51:
          a1[v6] = 0;
LABEL_52:
          dword_1330110 = 0;
          byte_13300E4 = 0;
          byte_1330121 = 0;
          goto LABEL_53;
        }
        if ( v6 <= a3 && (unsigned __int8)byte_13300E4 >= 0x30u && (unsigned __int8)byte_13300E4 <= 0x39u )
        {
          if ( dword_1329428 )
          {
            strcpy(a1, byte_49D994);
            v8 = byte_13300E4;
            dword_1329428 = 0;
            v6 = 0;
          }
          a1[v6] = v8;
          a1[v6 + 1] = 95;
          a1[v6 + 2] = 0;
        }
        dword_1330110 = 0;
        byte_13300E4 = 0;
        return 0;
      }
      strcpy(a1, (const char *)&unk_48E048);
      dword_1330110 = 0;
      byte_13300E4 = 0;
      byte_133012F = 0;
LABEL_53:
      sub_416860(10, 0, 0, 0, 0);
      return 1;
    default:
      return 0;
  }
}
// 49D890: using guessed type int dword_49D890;
// 1329428: using guessed type int dword_1329428;
// 13300E4: using guessed type char byte_13300E4;
// 1330110: using guessed type int dword_1330110;
// 1330121: using guessed type char byte_1330121;
// 133012F: using guessed type char byte_133012F;

//----- (00456CE0) --------------------------------------------------------
int __cdecl sub_456CE0(LPCSTR lpString, LPCSTR a2)
{
  signed int v2; // edi
  signed int v3; // esi
  int result; // eax
  signed int v5; // [esp+10h] [ebp-4h]

  v2 = 0;
  v3 = 0;
  v5 = 0;
  do
  {
    sub_4773E0();
    dword_1547438 = (int)dword_6BDF00;
    sub_4562F0();
    x = word_1317E58;
    y = word_1317E5A;
    dword_1547438 = dword_1317E60;
    sub_4705B0();
    x = 211;
    y = 243;
    dword_1547438 = dword_1317E50;
    sub_4705B0();
    if ( dword_49D89C <= 515 || dword_49D89C >= 565 || dword_49D8A0 <= 328 || dword_49D8A0 >= 349 )
    {
      if ( !dword_49D890 )
      {
        if ( v2 )
          sub_416860(22, 0, 0, 0, 0);
        v3 = 0;
      }
      goto LABEL_16;
    }
    if ( !dword_49D890 )
    {
      if ( !v2 )
        goto LABEL_17;
      v3 = 1;
      sub_416860(22, 0, 0, 0, 0);
LABEL_16:
      v2 = 0;
      goto LABEL_17;
    }
    if ( v2 != 1 )
    {
      sub_416860(21, 0, 0, 0, 0);
      v2 = 1;
    }
    x = 515;
    y = 328;
    dword_1547438 = dword_8D3C20;
    sub_4705B0();
    v3 = 0;
LABEL_17:
    if ( byte_1330121 || byte_133012F )
    {
      x = 515;
      y = 328;
      dword_1547438 = dword_8D3C20;
      sub_4705B0();
      v5 = 1;
    }
    sub_4564F0();
    sub_443C70(255, 255, 255);
    sub_443E60();
    sub_443ED0(237, 274, lpString);
    sub_443ED0(237, 294, a2);
    sub_443EA0();
    x = dword_49D89C;
    y = dword_49D8A0;
    dword_1547438 = dword_8C8630;
    sub_4702F0();
    nullsub_1();
    sub_479E60();
    result = sub_479930();
    if ( v3 )
      return result;
  }
  while ( byte_1330121 || byte_133012F || !v5 );
  return sub_416860(22, 0, 0, 0, 0);
}
// 409C20: using guessed type int nullsub_1(void);
// 49D890: using guessed type int dword_49D890;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 8C8630: using guessed type int dword_8C8630;
// 8D3C20: using guessed type int dword_8D3C20;
// 1317E50: using guessed type int dword_1317E50;
// 1317E58: using guessed type __int16 word_1317E58;
// 1317E5A: using guessed type __int16 word_1317E5A;
// 1317E60: using guessed type int dword_1317E60;
// 1330121: using guessed type char byte_1330121;
// 133012F: using guessed type char byte_133012F;
// 1547438: using guessed type int dword_1547438;

//----- (00456F10) --------------------------------------------------------
int __cdecl sub_456F10(LPCSTR lpString, LPCSTR a2)
{
  signed int v2; // esi
  int v3; // eax

  v2 = 0;
  do
  {
    sub_4773E0();
    dword_1547438 = (int)dword_6BDF00;
    sub_4562F0();
    x = word_1317E58;
    y = word_1317E5A;
    dword_1547438 = dword_1317E60;
    sub_4705B0();
    x = 211;
    y = 243;
    dword_1547438 = dword_8D5B70;
    sub_4705B0();
    if ( dword_49D89C <= 435 || dword_49D89C >= 485 || dword_49D8A0 <= 328 || dword_49D8A0 >= 349 )
    {
      if ( dword_49D89C <= 492 || dword_49D89C >= 542 || dword_49D8A0 <= 328 || dword_49D8A0 >= 349 )
      {
        if ( dword_13300D0 )
          sub_416860(22, 0, 0, 0, 0);
        dword_13300D0 = 0;
        if ( !dword_49D890 )
          v2 = 0;
        goto LABEL_30;
      }
      v3 = dword_13300D0;
      if ( !dword_49D890 )
      {
LABEL_13:
        if ( v3 )
        {
          sub_416860(22, 0, 0, 0, 0);
          dword_13300D0 = 0;
        }
        goto LABEL_30;
      }
      if ( dword_13300D0 )
      {
        if ( dword_13300D0 == 2 )
        {
LABEL_25:
          v2 = 1;
          x = 492;
          y = 328;
          dword_1547438 = dword_1308200;
          sub_4705B0();
          goto LABEL_30;
        }
        sub_416860(22, 0, 0, 0, 0);
        v3 = dword_13300D0;
      }
      if ( v3 != 2 )
      {
        sub_416860(21, 0, 0, 0, 0);
        dword_13300D0 = 2;
      }
      goto LABEL_25;
    }
    v3 = dword_13300D0;
    if ( !dword_49D890 )
      goto LABEL_13;
    if ( !dword_13300D0 )
      goto LABEL_10;
    if ( dword_13300D0 != 1 )
    {
      sub_416860(22, 0, 0, 0, 0);
      v3 = dword_13300D0;
LABEL_10:
      if ( v3 != 1 )
      {
        sub_416860(21, 0, 0, 0, 0);
        dword_13300D0 = 1;
      }
    }
    v2 = 1;
    x = 435;
    y = 328;
    dword_1547438 = dword_8D3C20;
    sub_4705B0();
LABEL_30:
    sub_4564F0();
    sub_443C70(255, 255, 255);
    sub_443E60();
    sub_443ED0(238, 275, lpString);
    sub_443ED0(238, 295, a2);
    sub_443EA0();
    x = dword_49D89C;
    y = dword_49D8A0;
    dword_1547438 = dword_8C8630;
    sub_4702F0();
    nullsub_1();
    sub_479E60();
    sub_479930();
    if ( v2 )
    {
      if ( !dword_49D890 && dword_49D89C > 435 && dword_49D89C < 485 && dword_49D8A0 > 328 && dword_49D8A0 < 349 )
      {
        dword_13300D0 = 0;
        return 1;
      }
      if ( !dword_49D890 && dword_49D89C > 492 && dword_49D89C < 542 && dword_49D8A0 > 328 && dword_49D8A0 < 349 )
      {
        dword_13300D0 = 0;
        return 0;
      }
    }
    if ( byte_1330121 )
    {
      sub_416860(22, 0, 0, 0, 0);
      dword_13300D0 = 0;
      byte_1330121 = 0;
      return 1;
    }
  }
  while ( !byte_133012F );
  sub_416860(22, 0, 0, 0, 0);
  dword_13300D0 = 0;
  byte_133012F = 0;
  return 0;
}
// 409C20: using guessed type int nullsub_1(void);
// 49D890: using guessed type int dword_49D890;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 8C8630: using guessed type int dword_8C8630;
// 8D3C20: using guessed type int dword_8D3C20;
// 8D5B70: using guessed type int dword_8D5B70;
// 1308200: using guessed type int dword_1308200;
// 1317E58: using guessed type __int16 word_1317E58;
// 1317E5A: using guessed type __int16 word_1317E5A;
// 1317E60: using guessed type int dword_1317E60;
// 13300D0: using guessed type int dword_13300D0;
// 1330121: using guessed type char byte_1330121;
// 133012F: using guessed type char byte_133012F;
// 1547438: using guessed type int dword_1547438;

//----- (00457260) --------------------------------------------------------
int sub_457260()
{
  __int16 *v0; // edi
  signed int v1; // edx
  int result; // eax
  CHAR String; // [esp+8h] [ebp-108h]
  __int16 *v4; // [esp+10Ch] [ebp-4h]

  v4 = word_13B5390;
  dword_1330110 = 0;
  byte_13300D8 = 0;
  byte_48D604 = 3;
  dword_1328DFC = 0;
  dword_1329F6C = 0;
  dword_13300D4 = 1;
  if ( !sub_41A2C0() )
  {
    sub_4169E0();
    exit(0);
  }
  while ( 1 )
  {
    if ( dword_4862F0 )
    {
      sub_4773E0();
      v0 = v4;
      v1 = 600;
      do
      {
        memset(v0, 0, 0x640u);
        v0 += 900;
        --v1;
      }
      while ( v1 );
      sub_4564F0();
      sub_443E60();
      if ( byte_49CFF0 == 53 )
      {
        sprintf(&String, &byte_48E0F4, dword_49D038, dword_49D024);
        sub_443C70(255, 0, 0);
        sub_443FC0(402, 302, &byte_48E0C4);
        sub_443FC0(402, 322, &String);
        sub_443C70(255, 255, 255);
        sub_443FC0(400, 300, &byte_48E0C4);
        sub_443FC0(400, 320, &String);
        sprintf(&String, &byte_48E0A8, dword_49D044, dword_49D03C);
        sub_443C70(255, 0, 0);
        sub_443FC0(402, 342, &String);
        sub_443C70(255, 255, 255);
        sub_443FC0(400, 340, &String);
      }
      else
      {
        sub_443C70(255, 0, 0);
        sub_443FC0(402, 302, &byte_48E06C);
        sub_443FC0(402, 322, &byte_48E050);
        sub_443C70(255, 255, 255);
        sub_443FC0(400, 300, &byte_48E06C);
        sub_443FC0(400, 320, &byte_48E050);
      }
      sub_443EA0();
      nullsub_1();
      sub_479E60();
    }
    sub_479930();
    if ( byte_49CFF0 == 25 )
      break;
    if ( byte_133012F )
    {
      sub_4169E0();
      exit(0);
    }
  }
  result = s;
  if ( s )
  {
    result = closesocket(s);
    s = 0;
  }
  dword_1330110 = 0;
  dword_13300D4 = 0;
  byte_1330049 = 100;
  return result;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862F0: using guessed type int dword_4862F0;
// 48D604: using guessed type char byte_48D604;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D024: using guessed type int dword_49D024;
// 49D038: using guessed type int dword_49D038;
// 49D03C: using guessed type int dword_49D03C;
// 1328DFC: using guessed type int dword_1328DFC;
// 1329F6C: using guessed type int dword_1329F6C;
// 1330049: using guessed type char byte_1330049;
// 13300D4: using guessed type int dword_13300D4;
// 13300D8: using guessed type char byte_13300D8;
// 1330110: using guessed type int dword_1330110;
// 133012F: using guessed type char byte_133012F;

//----- (004574E0) --------------------------------------------------------
signed int sub_4574E0()
{
  signed int result; // eax

  byte_4862F5 = -1;
  byte_49CFF0 = 0;
  result = sub_41A550();
  if ( result )
  {
    while ( 1 )
    {
      if ( dword_4862F0 )
      {
        sub_4773E0();
        dword_1547438 = (int)dword_6BDF00;
        sub_4562F0();
        x = word_1317E58;
        y = word_1317E5A;
        dword_1547438 = dword_1317E60;
        sub_4705B0();
        x = 169;
        y = 535;
        dword_1547438 = dword_11FDD48;
        sub_4704B0();
        sub_4564F0();
        sub_443E60();
        sub_443C70(255, 0, 0);
        sub_443FC0(402, 302, &byte_48E110);
        sub_443C70(255, 255, 255);
        sub_443FC0(400, 300, &byte_48E110);
        sub_443EA0();
        nullsub_1();
        sub_479E60();
      }
      sub_479930();
      if ( byte_49CFF0 == 6 )
        break;
      if ( byte_133012F )
      {
        if ( s )
        {
          closesocket(s);
          s = 0;
        }
        return 0;
      }
    }
    if ( s )
    {
      closesocket(s);
      s = 0;
    }
    result = 1;
  }
  return result;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862F0: using guessed type int dword_4862F0;
// 4862F5: using guessed type char byte_4862F5;
// 49CFF0: using guessed type char byte_49CFF0;
// 11FDD48: using guessed type int dword_11FDD48;
// 1317E58: using guessed type __int16 word_1317E58;
// 1317E5A: using guessed type __int16 word_1317E5A;
// 1317E60: using guessed type int dword_1317E60;
// 133012F: using guessed type char byte_133012F;
// 1547438: using guessed type int dword_1547438;

//----- (00457630) --------------------------------------------------------
signed int sub_457630()
{
  signed int result; // eax
  CHAR String; // [esp+4h] [ebp-104h]

  result = sub_41A410();
  if ( result )
  {
    while ( 1 )
    {
      if ( dword_4862F0 )
      {
        sub_4773E0();
        dword_1547438 = (int)dword_6BDF00;
        sub_4562F0();
        x = word_1317E58;
        y = word_1317E5A;
        dword_1547438 = dword_1317E60;
        sub_4705B0();
        x = 169;
        y = 535;
        dword_1547438 = dword_11FDD48;
        sub_4704B0();
        sub_4564F0();
        sub_443E60();
        if ( byte_49CFF0 == 53 )
        {
          sprintf(&String, &byte_48E0F4, dword_49D038, dword_49D024);
          sub_443C70(255, 0, 0);
          sub_443FC0(402, 302, &byte_48E0C4);
          sub_443FC0(402, 322, &String);
          sub_443C70(255, 255, 255);
          sub_443FC0(400, 300, &byte_48E0C4);
          sub_443FC0(400, 320, &String);
        }
        else
        {
          sub_443C70(255, 0, 0);
          sub_443FC0(402, 302, &byte_48E140);
          sub_443C70(255, 255, 255);
          sub_443FC0(400, 300, &byte_48E140);
        }
        sub_443EA0();
        nullsub_1();
        sub_479E60();
      }
      sub_479930();
      if ( byte_49CFF0 == 25 )
        break;
      if ( byte_133012F )
      {
        byte_133004A = 0;
        byte_49CFF0 = 0;
        byte_13225C0 = 0;
        byte_1330049 = 1;
        return 0;
      }
    }
    result = 1;
  }
  else
  {
    byte_1330049 = 1;
    byte_133004A = 0;
    byte_49CFF0 = 0;
    byte_13225C0 = 0;
  }
  return result;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862F0: using guessed type int dword_4862F0;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D024: using guessed type int dword_49D024;
// 49D038: using guessed type int dword_49D038;
// 11FDD48: using guessed type int dword_11FDD48;
// 1317E58: using guessed type __int16 word_1317E58;
// 1317E5A: using guessed type __int16 word_1317E5A;
// 1317E60: using guessed type int dword_1317E60;
// 13225C0: using guessed type char byte_13225C0;
// 1330049: using guessed type char byte_1330049;
// 133004A: using guessed type char byte_133004A;
// 133012F: using guessed type char byte_133012F;
// 1547438: using guessed type int dword_1547438;

//----- (00457840) --------------------------------------------------------
char sub_457840()
{
  signed int v0; // eax
  signed int v1; // ebx
  signed int v2; // esi
  int v3; // ecx
  int v4; // eax
  int v5; // eax
  int v6; // eax
  bool v7; // zf
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  signed int j; // esi
  signed int i; // esi
  int v17; // eax
  int v18; // eax
  int v19; // eax
  int v20; // eax
  signed int l; // esi
  signed int k; // esi
  int v23; // eax
  int v24; // eax
  char v25; // al
  signed int v26; // ecx
  CHAR v27; // dl
  signed int v28; // ecx
  char v29; // dl
  signed int v30; // ecx
  CHAR v31; // dl
  signed int v32; // ecx
  CHAR v33; // dl
  signed int v34; // ecx
  char v35; // dl
  signed int v36; // edx
  const char *v37; // edi
  signed int v38; // edx
  const char *v39; // edi
  int v40; // eax
  int v41; // eax
  int v42; // eax
  int v43; // eax
  int v44; // eax
  signed int v45; // edx
  const char *v46; // edi
  unsigned __int16 v47; // dx
  signed int v48; // ebx
  int v49; // esi
  int v50; // esi
  int v51; // esi
  int v52; // esi
  int v53; // esi
  int v54; // esi
  int v55; // esi
  const char *v56; // edi
  unsigned int v57; // ecx
  char v58; // al
  char *v59; // edi
  char *v60; // esi
  char v61; // cl
  unsigned int v62; // ecx
  char v63; // dl
  signed int v64; // eax
  char v65; // cl
  CHAR v66; // dl
  char v67; // dl
  signed int v68; // esi
  char v69; // dl
  unsigned int v70; // ecx
  char v71; // al
  int *v72; // edi
  CHAR *v73; // esi
  int v74; // eax
  int v75; // ecx
  int v76; // edi
  signed int v77; // ecx
  char *v78; // esi
  int v79; // eax
  int v80; // eax
  int v81; // eax
  signed int v82; // esi
  char *v83; // edi
  signed int v84; // esi
  char *v85; // edi
  signed int v86; // esi
  char *v87; // edi
  signed int v88; // esi
  char *v89; // edi
  signed int v90; // esi
  char *v91; // edi
  char v92; // dl
  signed int v93; // eax
  char *v94; // ecx
  signed int v95; // esi
  char v96; // cl
  unsigned int v97; // eax
  char v98; // cl
  char v99; // dl
  char v100; // al
  int *v101; // eax
  signed int v102; // eax
  char *v103; // ecx
  signed int v104; // eax
  char v105; // cl
  int v106; // esi
  int v107; // eax
  int v108; // eax
  int v109; // edx
  char v110; // al
  int v111; // eax
  int v112; // ecx
  int v113; // ecx
  int v114; // eax
  signed int v115; // ebp
  signed int v116; // edi
  __int16 *v117; // esi
  char v118; // cl
  signed int v119; // eax
  signed int v120; // edx
  signed int v121; // edx
  bool v122; // zf
  bool v123; // sf
  unsigned __int8 v124; // of
  int v125; // edx
  unsigned __int8 v126; // bl
  int v127; // eax
  int v128; // eax
  char v129; // al
  char v130; // dl
  unsigned int v131; // edx
  signed int v132; // esi
  char v133; // al
  char v134; // cl
  unsigned int v135; // ecx
  char v136; // al
  char *v137; // edi
  CHAR *v138; // esi
  int v139; // ecx
  signed int v140; // eax
  int v141; // ecx
  int v142; // ebp
  int v143; // esi
  unsigned __int16 *v144; // edx
  char v145; // al
  int v146; // ecx
  int v147; // eax
  int v148; // ecx
  int v149; // ecx
  int v150; // edx
  int v151; // eax
  int v152; // ecx
  int v153; // edx
  int v154; // eax
  bool v155; // zf
  bool v156; // sf
  unsigned __int8 v157; // of
  int v158; // eax
  unsigned int n; // ecx
  char v160; // al
  signed int ii; // edx
  signed int jj; // esi
  unsigned int kk; // ecx
  char v164; // al
  signed int ll; // edx
  signed int mm; // esi
  const char *v167; // edi
  const char *v168; // edi
  unsigned int v169; // edx
  unsigned int v170; // ecx
  char v171; // al
  LPCSTR v172; // esi
  CHAR *v173; // edi
  const CHAR *v174; // esi
  char v175; // al
  char v176; // al
  char v177; // al
  CHAR String[24]; // [esp+10h] [ebp-284h]
  CHAR v180[20]; // [esp+28h] [ebp-26Ch]
  char v181; // [esp+3Ch] [ebp-258h]
  CHAR v182[20]; // [esp+40h] [ebp-254h]
  char v183; // [esp+54h] [ebp-240h]
  int v184; // [esp+58h] [ebp-23Ch]
  CHAR m; // [esp+5Ch] [ebp-238h]
  CHAR v186[20]; // [esp+74h] [ebp-220h]
  char v187; // [esp+88h] [ebp-20Ch]
  CHAR v188; // [esp+8Ch] [ebp-208h]
  char v189; // [esp+190h] [ebp-104h]

  LOBYTE(v0) = byte_1330049 - 1;
  switch ( byte_1330049 )
  {
    case 1:
      sub_479930();
      if ( byte_13300D9 )
      {
        LOBYTE(v0) = byte_13300D9 - 1;
        if ( byte_13300D9 == 1 )
        {
          LOBYTE(v0) = byte_48D605 - 1;
          v124 = __OFSUB__(byte_48D605 - 1, 4);
          v123 = (char)(byte_48D605-- - 5) < 0;
          if ( v123 ^ v124 )
          {
            byte_13300D9 = 0;
            byte_48D605 = 4;
          }
        }
      }
      else
      {
        LOBYTE(v0) = byte_48D605 + 1;
        v124 = __OFSUB__(byte_48D605 + 1, 27);
        v7 = byte_48D605 == 26;
        v123 = (char)(byte_48D605++ - 26) < 0;
        if ( !((unsigned __int8)(v123 ^ v124) | v7) )
        {
          byte_13300D9 = 1;
          byte_48D605 = 27;
        }
      }
      if ( !dword_4862F0 )
        return v0;
      sub_4773E0();
      dword_1547438 = (int)dword_6BDF00;
      sub_4562F0();
      x = word_1317E58;
      y = word_1317E5A;
      dword_1547438 = dword_1317E60;
      sub_4705B0();
      x = 169;
      y = 535;
      dword_1547438 = dword_11FDD48;
      sub_4704B0();
      v3 = dword_49D8A0;
      if ( dword_49D89C > 169
        && dword_49D89C < (unsigned __int16)dword_11FDD50 + 169
        && dword_49D8A0 > 535
        && dword_49D8A0 < HIWORD(dword_11FDD50) + 535
        && dword_1322624 == 2 )
      {
        v4 = dword_13300E0;
        if ( dword_49D890 )
        {
          if ( dword_13300E0 )
          {
            if ( dword_13300E0 == 1 )
            {
LABEL_31:
              x = 169;
              y = 535;
              dword_1547438 = dword_11FDD78;
              sub_4705B0();
              goto LABEL_80;
            }
            sub_416860(20, 0, 0, 0, 0);
            v4 = dword_13300E0;
          }
          if ( v4 != 1 )
          {
            sub_416860(19, 0, 0, 0, 0);
            dword_13300E0 = 1;
          }
          goto LABEL_31;
        }
        if ( dword_13300E0 == 1 )
          sub_416860(20, 0, 0, 0, 0);
        dword_13300E0 = 0;
        if ( dword_13300DC != 1 )
        {
          sub_416860(15, 0, 0, 0, 0);
          dword_13300DC = 1;
        }
        x = 169;
        y = 535;
        dword_1547438 = dword_11FDD54;
        LOBYTE(dword_1547948) = byte_48D605;
        dword_1330668(dword_11FDD54);
        if ( dword_48CFA0 && dword_48CF9C )
        {
          dword_48CF9C = 0;
LABEL_39:
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
          goto LABEL_80;
        }
        goto LABEL_80;
      }
      if ( dword_49D89C > 290
        && dword_49D89C < (unsigned __int16)dword_11FDD5C + 290
        && dword_49D8A0 > 535
        && dword_49D8A0 < HIWORD(dword_11FDD5C) + 535 )
      {
        v5 = dword_13300E0;
        if ( !dword_49D890 )
        {
          if ( dword_13300E0 == 2 )
            sub_416860(20, 0, 0, 0, 0);
          dword_13300E0 = 0;
          if ( dword_13300DC != 2 )
          {
            sub_416860(15, 0, 0, 0, 0);
            dword_13300DC = 2;
          }
          x = 290;
          y = 535;
          dword_1547438 = dword_11FDD60;
          LOBYTE(dword_1547948) = byte_48D605;
          dword_1330668(dword_11FDD60);
          if ( dword_48CFA0 && dword_48CF9C != 1 )
          {
            dword_48CF9C = 1;
            goto LABEL_39;
          }
          goto LABEL_80;
        }
        if ( dword_13300E0 )
        {
          if ( dword_13300E0 == 2 )
          {
LABEL_50:
            x = 290;
            y = 535;
            dword_1547438 = dword_11FDD84;
            sub_4705B0();
            goto LABEL_80;
          }
          sub_416860(20, 0, 0, 0, 0);
          v5 = dword_13300E0;
        }
        if ( v5 != 2 )
        {
          sub_416860(19, 0, 0, 0, 0);
          dword_13300E0 = 2;
        }
        goto LABEL_50;
      }
      if ( dword_49D89C <= 410
        || dword_49D89C >= (unsigned __int16)dword_11FDD68 + 410
        || dword_49D8A0 <= 535
        || dword_49D8A0 >= HIWORD(dword_11FDD68) + 535 )
      {
        if ( dword_13300E0 )
          sub_416860(20, 0, 0, 0, 0);
        dword_13300DC = 0;
        dword_13300E0 = 0;
        dword_48CF9C = -1;
        goto LABEL_80;
      }
      if ( !dword_49D890 )
      {
        if ( dword_13300E0 == 3 )
          sub_416860(20, 0, 0, 0, 0);
        dword_13300E0 = 0;
        if ( dword_13300DC != 3 )
        {
          sub_416860(15, 0, 0, 0, 0);
          dword_13300DC = 3;
        }
        x = 410;
        y = 535;
        dword_1547438 = dword_11FDD6C;
        LOBYTE(dword_1547948) = byte_48D605;
        dword_1330668(v3);
        goto LABEL_74;
      }
      v6 = dword_13300E0;
      if ( !dword_13300E0 )
        goto LABEL_66;
      if ( dword_13300E0 != 3 )
      {
        sub_416860(20, 0, 0, 0, 0);
        v6 = dword_13300E0;
LABEL_66:
        if ( v6 != 3 )
        {
          sub_416860(19, 0, 0, 0, 0);
          dword_13300E0 = 3;
        }
      }
      x = 410;
      y = 535;
      dword_1547438 = dword_11FDD90;
      sub_4705B0();
LABEL_74:
      if ( dword_48CFA0 && dword_48CF9C != 2 )
      {
        dword_48CF9C = 2;
        dword_132A294 = dword_49D89C;
        dword_132A298 = dword_49D8A0;
      }
LABEL_80:
      sub_4564F0();
      x = dword_49D89C;
      y = dword_49D8A0;
      dword_1547438 = dword_8C8630;
      sub_4702F0();
      v7 = dword_48CFA0 == 0;
      goto LABEL_708;
    case 2:
      LOBYTE(v0) = dword_4862F0;
      if ( !dword_4862F0 )
        return v0;
      sub_4773E0();
      dword_1547438 = (int)dword_6BDF00;
      sub_4562F0();
      x = word_1317E58;
      y = word_1317E5A;
      dword_1547438 = dword_1317E60;
      sub_4705B0();
      x = 230;
      y = 193;
      dword_1547438 = dword_8C87B0;
      sub_4705B0();
      if ( dword_49D89C > 417 && dword_49D89C < 467 && dword_49D8A0 > 378 && dword_49D8A0 < 399 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 3 )
        {
          dword_48CF9C = 3;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_134;
      }
      if ( dword_49D89C > 474 && dword_49D89C < 547 && dword_49D8A0 > 378 && dword_49D8A0 < 399 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 4 )
        {
          dword_48CF9C = 4;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_134;
      }
      if ( dword_49D89C <= 355 || dword_49D89C >= 546 )
        goto LABEL_133;
      if ( dword_49D8A0 > 220 && dword_49D8A0 < 241 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 5 )
        {
          dword_48CF9C = 5;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_134;
      }
      if ( dword_49D89C >= 546 )
        goto LABEL_133;
      if ( dword_49D8A0 > 245 && dword_49D8A0 < 266 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 6 )
        {
          dword_48CF9C = 6;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_134;
      }
      if ( dword_49D89C >= 546 )
        goto LABEL_133;
      if ( dword_49D8A0 > 270 && dword_49D8A0 < 291 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 7 )
        {
          dword_48CF9C = 7;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_134;
      }
      if ( dword_49D89C >= 546 )
        goto LABEL_133;
      if ( dword_49D8A0 > 295 && dword_49D8A0 < 316 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 8 )
        {
          dword_48CF9C = 8;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_134;
      }
      if ( dword_49D89C >= 546 )
        goto LABEL_133;
      if ( dword_49D8A0 <= 320 || dword_49D8A0 >= 341 )
      {
        if ( dword_49D89C >= 546 || dword_49D8A0 <= 345 || dword_49D8A0 >= 366 )
        {
LABEL_133:
          dword_48CF9C = -1;
          goto LABEL_134;
        }
        if ( dword_48CFA0 && dword_48CF9C != 10 )
        {
          dword_48CF9C = 10;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
      }
      else if ( dword_48CFA0 && dword_48CF9C != 9 )
      {
        dword_48CF9C = 9;
        dword_132A294 = dword_49D89C;
        dword_132A298 = dword_49D8A0;
      }
LABEL_134:
      if ( !byte_133004A )
      {
        if ( dword_49D89C > 417 && dword_49D89C < 467 && dword_49D8A0 > 378 && dword_49D8A0 < 399 )
        {
          v8 = dword_13300E0;
          if ( dword_49D890 )
          {
            if ( dword_13300E0 )
            {
              if ( dword_13300E0 == 1 )
              {
LABEL_145:
                x = 417;
                y = 378;
                dword_1547438 = dword_8D3C20;
                sub_4705B0();
LABEL_162:
                switch ( byte_133004A )
                {
                  case 1:
                    v9 = (unsigned __int8)sub_456920(dword_1325080, 8, 0x13u, 0) - 1;
                    if ( !v9 || (v10 = v9 - 1) == 0 )
                    {
                      byte_133004A = 2;
                      goto LABEL_243;
                    }
                    if ( v10 != 1 )
                      goto LABEL_243;
                    goto LABEL_242;
                  case 2:
                    v11 = (unsigned __int8)sub_456920((char *)dword_132961C, 8, 0x13u, 0) - 1;
                    if ( !v11 || (v12 = v11 - 1) == 0 )
                    {
                      byte_133004A = 3;
                      goto LABEL_243;
                    }
                    if ( v12 != 1 )
                      goto LABEL_243;
                    goto LABEL_242;
                  case 3:
                    v13 = (unsigned __int8)sub_456920((char *)&dword_1328E7C, 8, 0x13u, 0) - 1;
                    if ( !v13 )
                    {
                      SetWindowPos(dword_49D020, 0, 0, 0, 230, 1, 0);
                      SetWindowTextA(dword_49D020, dword_1324F5C);
                      SetFocus(dword_49D020);
                      GetWindowTextA(dword_49D020, byte_13226B0, 25);
                      for ( i = 0; i < (signed int)strlen(dword_1324F5C); ++i )
                        SendMessageA(dword_49D020, 0x100u, 0x27u, 1);
                      byte_133004A = 4;
                      goto LABEL_243;
                    }
                    v14 = v13 - 1;
                    if ( !v14 )
                    {
                      SetWindowPos(dword_49D020, 0, 0, 0, 230, 1, 0);
                      SetWindowTextA(dword_49D020, dword_1324F5C);
                      SetFocus(dword_49D020);
                      GetWindowTextA(dword_49D020, byte_13226B0, 25);
                      for ( j = 0; j < (signed int)strlen(dword_1324F5C); ++j )
                        SendMessageA(dword_49D020, 0x100u, 0x27u, 1);
                      byte_133004A = 4;
                      goto LABEL_243;
                    }
                    if ( v14 != 1 )
                      goto LABEL_243;
                    goto LABEL_242;
                  case 4:
                    v17 = (unsigned __int8)sub_456920(dword_1324F5C, 2, 0x13u, 1) - 1;
                    if ( !v17 || (v18 = v17 - 1) == 0 )
                    {
                      byte_133004A = 5;
                      goto LABEL_243;
                    }
                    if ( v18 != 1 )
                      goto LABEL_243;
                    goto LABEL_242;
                  case 5:
                    v19 = (unsigned __int8)sub_456920(dword_132FFD0, 13, 0xCu, 2) - 1;
                    if ( !v19 )
                    {
                      SetWindowPos(dword_49D020, 0, 0, 0, 230, 1, 0);
                      SetWindowTextA(dword_49D020, &byte_1322688);
                      SetFocus(dword_49D020);
                      GetWindowTextA(dword_49D020, byte_13226B0, 25);
                      for ( k = 0; k < (signed int)strlen(&byte_1322688); ++k )
                        SendMessageA(dword_49D020, 0x100u, 0x27u, 1);
                      byte_133004A = 6;
                      goto LABEL_243;
                    }
                    v20 = v19 - 1;
                    if ( !v20 )
                    {
                      SetWindowPos(dword_49D020, 0, 0, 0, 230, 1, 0);
                      SetWindowTextA(dword_49D020, &byte_1322688);
                      SetFocus(dword_49D020);
                      GetWindowTextA(dword_49D020, byte_13226B0, 25);
                      for ( l = 0; l < (signed int)strlen(&byte_1322688); ++l )
                        SendMessageA(dword_49D020, 0x100u, 0x27u, 1);
                      byte_133004A = 6;
                      goto LABEL_243;
                    }
                    if ( v20 != 1 )
                      goto LABEL_243;
                    goto LABEL_242;
                  case 6:
                    v23 = (unsigned __int8)sub_456920((char *)&byte_1322688, 2, 0x1Du, 1) - 1;
                    if ( !v23 )
                      goto LABEL_242;
                    v24 = v23 - 1;
                    if ( !v24 )
                    {
                      byte_133004A = 1;
                      goto LABEL_243;
                    }
                    if ( v24 != 1 )
                      goto LABEL_243;
                    goto LABEL_242;
                  case 7:
                    if ( strlen(dword_1325080) >= 8 )
                    {
                      if ( strlen((const char *)dword_132961C) >= 8 )
                      {
                        if ( !strcmp((const char *)dword_132961C, (const char *)&dword_1328E7C) )
                        {
                          if ( strlen(dword_1324F5C) < 2 || strlen(dword_132FFD0) < 0xD )
                          {
                            sub_456CE0(&byte_48E668, byte_49D994);
                          }
                          else
                          {
                            if ( strlen(&byte_1322688) >= 2 )
                            {
                              if ( !byte_13225C0 )
                              {
                                byte_13225C0 = 1;
                                v0 = sub_457630();
                                if ( !v0 )
                                  return v0;
                              }
                              v25 = byte_49D88C;
                              byte_1550B60[0] = 113;
                              byte_1550B61[0] = -9;
                              LOBYTE(dword_1550B62) = 8;
                              v26 = 0;
                              do
                              {
                                v27 = dword_1325080[v26];
                                v26 += 2;
                                byte_1550B61[v26] = v25 + v27;
                                *((_BYTE *)&dword_1550B62 + v26) = v25 + byte_132507F[v26];
                              }
                              while ( v26 < 20 );
                              v28 = 0;
                              do
                              {
                                v29 = *((_BYTE *)dword_132961C + v28);
                                v28 += 2;
                                byte_1550B75[v28] = v25 + v29;
                                byte_1550B76[v28] = v25 + byte_132961B[v28];
                              }
                              while ( v28 < 20 );
                              v30 = 0;
                              do
                              {
                                v31 = dword_1324F5C[v30];
                                v30 += 2;
                                byte_1550B89[v30] = v25 + v31;
                                byte_1550B8A[v30] = v25 + *(_BYTE *)(v30 + 20074331);
                              }
                              while ( v30 < 20 );
                              v32 = 0;
                              do
                              {
                                v33 = dword_132FFD0[v32];
                                v32 += 2;
                                byte_1550B9D[v32] = v25 + v33;
                                byte_1550B9E[v32] = v25 + *(_BYTE *)(v32 + 20119503);
                              }
                              while ( v32 < 20 );
                              v34 = 0;
                              do
                              {
                                v35 = *(&byte_1322688 + v34);
                                v34 += 2;
                                byte_1550BB1[v34] = v25 + v35;
                                byte_1550BB2[v34] = v25 + *((_BYTE *)&dword_1322684 + v34 + 3);
                              }
                              while ( v34 < 30 );
                              sub_479790(113);
                              byte_49CFF0 = 26;
                              while ( 1 )
                              {
                                if ( dword_4862F0 )
                                {
                                  sub_4773E0();
                                  dword_1547438 = (int)dword_6BDF00;
                                  sub_4562F0();
                                  x = word_1317E58;
                                  y = word_1317E5A;
                                  dword_1547438 = dword_1317E60;
                                  sub_4705B0();
                                  sub_4564F0();
                                  sub_443E60();
                                  sub_443C70(255, 0, 0);
                                  sub_443FC0(402, 302, &byte_48E60C);
                                  sub_443C70(255, 255, 255);
                                  sub_443FC0(400, 300, &byte_48E60C);
                                  sub_443EA0();
                                  nullsub_1();
                                  sub_479E60();
                                }
                                sub_479930();
                                if ( byte_49CFF0 != 26 )
                                  break;
                                if ( byte_133012F )
                                {
                                  byte_133004A = 0;
                                  byte_49CFF0 = 25;
LABEL_237:
                                  if ( s )
                                  {
                                    closesocket(s);
                                    s = 0;
                                  }
                                  byte_13225C0 = 0;
                                  goto LABEL_243;
                                }
                              }
                              switch ( byte_49CFF0 )
                              {
                                case 25:
                                  sub_456CE0(&byte_48E568, byte_49D994);
                                  byte_1330049 = 1;
                                  byte_133004A = 0;
                                  goto LABEL_237;
                                case 27:
                                  sub_456CE0(aId_0, byte_49D994);
                                  goto LABEL_242;
                                case 28:
                                  sub_456CE0(&byte_48E5D0, byte_49D994);
                                  goto LABEL_242;
                                case 29:
                                  sub_456CE0(&byte_48E588, &byte_48E598);
                                  goto LABEL_242;
                                default:
                                  break;
                              }
LABEL_243:
                              v36 = 0;
                              for ( String[0] = 0; v36 < (signed int)strlen((const char *)dword_132961C); ++v36 )
                              {
                                v37 = (const char *)&unk_48E564;
                                if ( *((_BYTE *)dword_132961C + v36) == 95 )
                                  v37 = (const char *)&unk_48E04C;
                                strcat(String, v37);
                              }
                              v38 = 0;
                              for ( m = 0; v38 < (signed int)strlen((const char *)&dword_1328E7C); ++v38 )
                              {
                                v39 = (const char *)&unk_48E564;
                                if ( *((_BYTE *)&dword_1328E7C + v38) == 95 )
                                  v39 = (const char *)&unk_48E04C;
                                strcat(&m, v39);
                              }
                              sub_4564F0();
                              sub_443C70(50, 50, 50);
                              sub_443E60();
                              sub_443ED0(357, 225, dword_1325080);
                              sub_443ED0(357, 250, String);
                              sub_443ED0(357, 275, &m);
                              sub_443ED0(357, 300, dword_1324F5C);
                              sub_443ED0(357, 325, dword_132FFD0);
                              sub_443ED0(357, 350, &byte_1322688);
                              sub_443C70(255, 255, 255);
                              sub_443ED0(355, 223, dword_1325080);
                              sub_443ED0(355, 248, String);
                              sub_443ED0(355, 273, &m);
                              sub_443ED0(355, 298, dword_1324F5C);
                              sub_443ED0(355, 323, dword_132FFD0);
                              sub_443ED0(355, 348, &byte_1322688);
LABEL_707:
                              sub_443EA0();
                              x = dword_49D89C;
                              y = dword_49D8A0;
                              dword_1547438 = dword_8C8630;
                              sub_4702F0();
                              v7 = dword_48CFA0 == 0;
LABEL_708:
                              if ( !v7 )
                                goto LABEL_1228;
                              goto LABEL_1229;
                            }
                            sub_456CE0(&byte_48E63C, byte_49D994);
                          }
                        }
                        else
                        {
                          sub_456CE0((LPCSTR)byte_48E688, byte_49D994);
                        }
                      }
                      else
                      {
                        sub_456CE0(&byte_48E6AC, byte_49D994);
                      }
                    }
                    else
                    {
                      sub_456CE0(aId, byte_49D994);
                    }
LABEL_242:
                    byte_133004A = 0;
                    goto LABEL_243;
                  case 8:
                    byte_1330049 = 1;
                    goto LABEL_242;
                  default:
                    goto LABEL_243;
                }
              }
              sub_416860(22, 0, 0, 0, 0);
              v8 = dword_13300E0;
            }
            if ( v8 != 1 )
            {
              sub_416860(21, 0, 0, 0, 0);
              dword_13300E0 = 1;
            }
            goto LABEL_145;
          }
          goto LABEL_146;
        }
        if ( dword_49D89C > 474 && dword_49D89C < 547 && dword_49D8A0 > 378 && dword_49D8A0 < 399 )
        {
          v8 = dword_13300E0;
          if ( !dword_49D890 )
          {
LABEL_146:
            if ( !v8 )
              goto LABEL_162;
            goto LABEL_160;
          }
          if ( dword_13300E0 )
          {
            if ( dword_13300E0 == 2 )
            {
LABEL_158:
              x = 474;
              y = 378;
              dword_1547438 = dword_1308200;
              sub_4705B0();
              goto LABEL_162;
            }
            sub_416860(22, 0, 0, 0, 0);
            v8 = dword_13300E0;
          }
          if ( v8 != 2 )
          {
            sub_416860(21, 0, 0, 0, 0);
            dword_13300E0 = 2;
          }
          goto LABEL_158;
        }
        if ( dword_13300E0 )
        {
LABEL_160:
          sub_416860(22, 0, 0, 0, 0);
          goto LABEL_161;
        }
      }
LABEL_161:
      dword_13300E0 = 0;
      goto LABEL_162;
    case 3:
      LOBYTE(v0) = dword_4862F0;
      if ( !dword_4862F0 )
        return v0;
      sub_4773E0();
      dword_1547438 = (int)dword_6BDF00;
      sub_4562F0();
      x = word_1317E58;
      y = word_1317E5A;
      dword_1547438 = dword_1317E60;
      sub_4705B0();
      x = 229;
      y = 243;
      dword_1547438 = dword_8D3C10;
      sub_4705B0();
      if ( dword_49D89C > 416 && dword_49D89C < 466 && dword_49D8A0 > 328 && dword_49D8A0 < 349 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 3 )
        {
          dword_48CF9C = 3;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_281;
      }
      if ( dword_49D89C > 473 && dword_49D89C < 546 && dword_49D8A0 > 328 && dword_49D8A0 < 349 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 4 )
        {
          dword_48CF9C = 4;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_281;
      }
      if ( dword_49D89C <= 355 || dword_49D89C >= 545 )
        goto LABEL_280;
      if ( dword_49D8A0 <= 270 || dword_49D8A0 >= 290 )
      {
        if ( dword_49D89C >= 545 || dword_49D8A0 <= 295 || dword_49D8A0 >= 315 )
        {
LABEL_280:
          dword_48CF9C = -1;
          goto LABEL_281;
        }
        if ( dword_48CFA0 && dword_48CF9C != 12 )
        {
          dword_48CF9C = 12;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
      }
      else if ( dword_48CFA0 && dword_48CF9C != 11 )
      {
        dword_48CF9C = 11;
        dword_132A294 = dword_49D89C;
        dword_132A298 = dword_49D8A0;
      }
LABEL_281:
      if ( byte_133004A )
        goto LABEL_309;
      if ( dword_49D89C > 416 && dword_49D89C < 466 && dword_49D8A0 > 328 && dword_49D8A0 < 349 )
      {
        v40 = dword_13300E0;
        if ( dword_49D890 )
        {
          if ( dword_13300E0 )
          {
            if ( dword_13300E0 == 1 )
            {
LABEL_292:
              x = 416;
              y = 328;
              dword_1547438 = dword_8D3C20;
              sub_4705B0();
              goto LABEL_309;
            }
            sub_416860(22, 0, 0, 0, 0);
            v40 = dword_13300E0;
          }
          if ( v40 != 1 )
          {
            sub_416860(21, 0, 0, 0, 0);
            dword_13300E0 = 1;
          }
          goto LABEL_292;
        }
        goto LABEL_304;
      }
      if ( dword_49D89C <= 473 || dword_49D89C >= 546 || dword_49D8A0 <= 328 || dword_49D8A0 >= 349 )
      {
        if ( !dword_13300E0 )
        {
LABEL_308:
          dword_13300E0 = 0;
LABEL_309:
          switch ( byte_133004A )
          {
            case 1:
              v41 = (unsigned __int8)sub_456920(dword_1325080, 8, 0x13u, 0) - 1;
              if ( !v41 || (v42 = v41 - 1) == 0 )
              {
                byte_133004A = 2;
                goto LABEL_328;
              }
              if ( v42 != 1 )
                goto LABEL_328;
              goto LABEL_327;
            case 2:
              v43 = (unsigned __int8)sub_456920((char *)dword_132961C, 8, 0x13u, 0) - 1;
              if ( !v43 )
                goto LABEL_327;
              v44 = v43 - 1;
              if ( !v44 )
              {
                byte_133004A = 1;
                goto LABEL_328;
              }
              if ( v44 != 1 )
                goto LABEL_328;
              goto LABEL_327;
            case 3:
              if ( strlen(dword_1325080) >= 8 )
              {
                if ( strlen((const char *)dword_132961C) >= 8 )
                {
                  v0 = sub_4574E0();
                  if ( !v0 )
                    goto LABEL_474;
                  byte_1330049 = 99;
                  byte_133004A = 0;
                  return v0;
                }
                sub_456CE0(&byte_48E6AC, byte_49D994);
              }
              else
              {
                sub_456CE0(aId, byte_49D994);
              }
LABEL_327:
              byte_133004A = 0;
LABEL_328:
              v45 = 0;
              for ( String[0] = 0; v45 < (signed int)strlen((const char *)dword_132961C); ++v45 )
              {
                v46 = (const char *)&unk_48E564;
                if ( *((_BYTE *)dword_132961C + v45) == 95 )
                  v46 = (const char *)&unk_48E04C;
                strcat(String, v46);
              }
              sub_4564F0();
              sub_443C70(50, 50, 50);
              sub_443E60();
              sub_443ED0(357, 275, dword_1325080);
              sub_443ED0(357, 300, String);
              sub_443C70(255, 255, 255);
              sub_443ED0(355, 273, dword_1325080);
              sub_443ED0(355, 298, String);
              sub_443EA0();
              x = dword_49D89C;
              y = dword_49D8A0;
              dword_1547438 = dword_8C8630;
              sub_4702F0();
              if ( !dword_48CFA0 )
                goto LABEL_1229;
              break;
            case 4:
              byte_1330049 = 1;
              strcpy(dword_1325080, byte_49D994);
              strcpy((char *)dword_132961C, byte_49D994);
              goto LABEL_327;
            default:
              goto LABEL_328;
          }
          goto LABEL_1228;
        }
LABEL_307:
        sub_416860(22, 0, 0, 0, 0);
        goto LABEL_308;
      }
      v40 = dword_13300E0;
      if ( !dword_49D890 )
      {
LABEL_304:
        if ( !v40 )
          goto LABEL_309;
        goto LABEL_307;
      }
      if ( dword_13300E0 )
      {
        if ( dword_13300E0 == 2 )
        {
LABEL_303:
          x = 473;
          y = 328;
          dword_1547438 = dword_1308200;
          sub_4705B0();
          goto LABEL_309;
        }
        sub_416860(22, 0, 0, 0, 0);
        v40 = dword_13300E0;
      }
      if ( v40 != 2 )
      {
        sub_416860(21, 0, 0, 0, 0);
        dword_13300E0 = 2;
      }
      goto LABEL_303;
    case 4:
      while ( 1 )
      {
        if ( dword_4862F0 )
        {
          sub_4773E0();
          dword_1547438 = (int)dword_6BDF00;
          sub_4562F0();
          x = word_1317E58;
          y = word_1317E5A;
          dword_1547438 = dword_1317E60;
          sub_4705B0();
          sub_4564F0();
          sub_443E60();
          if ( byte_49CFF0 == 32 )
          {
            sub_443C70(255, 0, 0);
            sub_443FC0(402, 302, &byte_48E534);
            sub_443C70(255, 255, 255);
            sub_443FC0(400, 300, &byte_48E534);
          }
          sub_443EA0();
          nullsub_1();
          sub_479E60();
        }
        sub_479930();
        LOBYTE(v0) = byte_49CFF0;
        if ( byte_49CFF0 != 32 )
          break;
        if ( byte_133012F )
          goto LABEL_351;
      }
      if ( byte_49CFF0 == 38 )
      {
        sub_456CE0(&byte_486AD4, byte_49D994);
LABEL_351:
        LOBYTE(v0) = s;
        byte_1330049 = 1;
        byte_133004A = 0;
        byte_49CFF0 = 0;
        if ( s )
        {
          LOBYTE(v0) = closesocket(s);
          s = 0;
          byte_13225C0 = 0;
        }
        else
        {
LABEL_475:
          byte_13225C0 = 0;
        }
        return v0;
      }
      if ( byte_49CFF0 != 42 )
        return v0;
      sub_4792D0();
      byte_1560A78 = 0;
      v47 = word_1328FB0[142 * byte_1329448];
      if ( byte_48BC38[v47] )
      {
        if ( byte_48BC38[v47] == 1 )
        {
          word_1551334 = 8500;
          strcpy(byte_1551F14, byte_49D8D0);
          LOBYTE(v0) = sub_41A650();
          return v0;
        }
        if ( byte_48BC38[v47] == 2 )
        {
          word_1551334 = 8600;
          strcpy(byte_1551F14, byte_49D8BC);
          LOBYTE(v0) = sub_41A650();
          return v0;
        }
      }
      else
      {
        word_1551334 = 8700;
        strcpy(byte_1551F14, byte_49D8E4);
      }
      LOBYTE(v0) = sub_41A650();
      return v0;
    case 5:
      LOBYTE(v0) = dword_4862F0;
      if ( !dword_4862F0 )
        return v0;
      sub_4773E0();
      dword_1547438 = (int)dword_6BDF00;
      sub_4562F0();
      x = 80;
      y = 60;
      dword_1547438 = dword_1308320;
      sub_4705B0();
      if ( dword_49D89C > 121 && dword_49D89C < 224 && dword_49D8A0 > 124 && dword_49D8A0 < 405
        || dword_49D89C > 236 && dword_49D89C < 339 && dword_49D8A0 > 124 && dword_49D8A0 < 405
        || dword_49D89C > 350 && dword_49D89C < 453 && dword_49D8A0 > 124 && dword_49D8A0 < 405
        || dword_49D89C > 465 && dword_49D89C < 568 && dword_49D8A0 > 124 && dword_49D8A0 < 405
        || dword_49D89C > 580 && dword_49D89C < 683 && dword_49D8A0 > 124 && dword_49D8A0 < 405 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 30 )
        {
          dword_48CF9C = 30;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
      }
      else if ( dword_49D89C <= 118
             || dword_49D89C >= 208
             || dword_49D8A0 <= 451
             || dword_49D8A0 >= 476
             || (unsigned __int8)dword_132A2BC >= 5u )
      {
        if ( dword_49D89C <= 250
          || dword_49D89C >= 340
          || dword_49D8A0 <= 451
          || dword_49D8A0 >= 476
          || byte_1329448 == -1 )
        {
          if ( dword_49D89C <= 463
            || dword_49D89C >= 545
            || dword_49D8A0 <= 451
            || dword_49D8A0 >= 476
            || byte_1329448 == -1 )
          {
            if ( dword_49D89C <= 591 || dword_49D89C >= 681 || dword_49D8A0 <= 451 || dword_49D8A0 >= 476 )
            {
              dword_48CF9C = -1;
            }
            else if ( dword_48CFA0 && dword_48CF9C != 2 )
            {
              dword_48CF9C = 2;
              dword_132A294 = dword_49D89C;
              dword_132A298 = dword_49D8A0;
            }
          }
          else if ( dword_48CFA0 && dword_48CF9C != 33 )
          {
            dword_48CF9C = 33;
            dword_132A294 = dword_49D89C;
            dword_132A298 = dword_49D8A0;
          }
        }
        else if ( dword_48CFA0 && dword_48CF9C != 32 )
        {
          dword_48CF9C = 32;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
      }
      else if ( dword_48CFA0 && dword_48CF9C != 31 )
      {
        dword_48CF9C = 31;
        dword_132A294 = dword_49D89C;
        dword_132A298 = dword_49D8A0;
      }
      switch ( byte_133004A )
      {
        case 0:
          if ( !dword_49D890 )
            goto LABEL_551;
          if ( dword_49D89C > 118
            && dword_49D89C < 208
            && dword_49D8A0 > 451
            && dword_49D8A0 < 476
            && (unsigned __int8)dword_132A2BC < 5u )
          {
            v74 = dword_13300E0;
            if ( dword_13300E0 )
            {
              if ( dword_13300E0 == 1 )
              {
LABEL_548:
                v75 = dword_13083A8;
                x = 118;
                y = 451;
LABEL_549:
                dword_1547438 = v75;
LABEL_550:
                sub_4705B0();
                goto LABEL_551;
              }
              sub_416860(8, 0, 0, 0, 0);
              v74 = dword_13300E0;
            }
            if ( v74 != 1 )
            {
              sub_416860(9, 0, 0, 0, 0);
              dword_13300E0 = 1;
            }
            goto LABEL_548;
          }
          if ( dword_49D89C > 250 && dword_49D89C < 340 && dword_49D8A0 > 451 && dword_49D8A0 < 476 )
          {
            v79 = dword_13300E0;
            if ( dword_13300E0 )
            {
              if ( dword_13300E0 == 2 )
              {
LABEL_566:
                x = 250;
                y = 451;
                dword_1547438 = dword_4BBE88;
                goto LABEL_550;
              }
              sub_416860(8, 0, 0, 0, 0);
              v79 = dword_13300E0;
            }
            if ( v79 != 2 )
            {
              sub_416860(9, 0, 0, 0, 0);
              dword_13300E0 = 2;
            }
            goto LABEL_566;
          }
          if ( dword_49D89C > 463 && dword_49D89C < 545 && dword_49D8A0 > 451 && dword_49D8A0 < 476 )
          {
            v80 = dword_13300E0;
            if ( dword_13300E0 )
            {
              if ( dword_13300E0 == 3 )
              {
LABEL_576:
                x = 463;
                y = 451;
                dword_1547438 = dword_1317DB8;
                goto LABEL_550;
              }
              sub_416860(8, 0, 0, 0, 0);
              v80 = dword_13300E0;
            }
            if ( v80 != 3 )
            {
              sub_416860(9, 0, 0, 0, 0);
              dword_13300E0 = 3;
            }
            goto LABEL_576;
          }
          if ( dword_49D89C > 591 && dword_49D89C < 681 && dword_49D8A0 > 451 && dword_49D8A0 < 476 )
          {
            v81 = dword_13300E0;
            if ( dword_13300E0 )
            {
              if ( dword_13300E0 == 4 )
              {
LABEL_586:
                v75 = dword_8C8718;
                x = 591;
                y = 451;
                goto LABEL_549;
              }
              sub_416860(8, 0, 0, 0, 0);
              v81 = dword_13300E0;
            }
            if ( v81 != 4 )
            {
              sub_416860(9, 0, 0, 0, 0);
              dword_13300E0 = 4;
            }
            goto LABEL_586;
          }
          if ( dword_13300E0 )
            sub_416860(8, 0, 0, 0, 0);
          dword_13300E0 = 0;
LABEL_551:
          v76 = 0;
          break;
        case 1:
          v82 = 0;
          byte_1329448 = -1;
          if ( (_BYTE)dword_132A2BC )
          {
            v83 = byte_1328EC2;
            do
            {
              if ( !*v83 )
              {
                sub_416860(21, 0, 0, 0, 0);
                byte_1329448 = 0;
              }
              ++v82;
              v83 += 284;
            }
            while ( v82 < (unsigned __int8)dword_132A2BC );
          }
          goto LABEL_595;
        case 2:
          v84 = 0;
          byte_1329448 = -1;
          if ( (_BYTE)dword_132A2BC )
          {
            v85 = byte_1328EC2;
            do
            {
              if ( *v85 == 1 )
              {
                sub_416860(21, 0, 0, 0, 0);
                byte_1329448 = 1;
              }
              ++v84;
              v85 += 284;
            }
            while ( v84 < (unsigned __int8)dword_132A2BC );
          }
          byte_133004A = 0;
          goto LABEL_551;
        case 3:
          v86 = 0;
          byte_1329448 = -1;
          if ( (_BYTE)dword_132A2BC )
          {
            v87 = byte_1328EC2;
            do
            {
              if ( *v87 == 2 )
              {
                sub_416860(21, 0, 0, 0, 0);
                byte_1329448 = 2;
              }
              ++v86;
              v87 += 284;
            }
            while ( v86 < (unsigned __int8)dword_132A2BC );
          }
          byte_133004A = 0;
          goto LABEL_551;
        case 4:
          v88 = 0;
          byte_1329448 = -1;
          if ( (_BYTE)dword_132A2BC )
          {
            v89 = byte_1328EC2;
            do
            {
              if ( *v89 == 3 )
              {
                sub_416860(21, 0, 0, 0, 0);
                byte_1329448 = 3;
              }
              ++v88;
              v89 += 284;
            }
            while ( v88 < (unsigned __int8)dword_132A2BC );
          }
          byte_133004A = 0;
          goto LABEL_551;
        case 5:
          v90 = 0;
          byte_1329448 = -1;
          if ( (_BYTE)dword_132A2BC )
          {
            v91 = byte_1328EC2;
            do
            {
              if ( *v91 == 4 )
              {
                sub_416860(21, 0, 0, 0, 0);
                byte_1329448 = 4;
              }
              ++v90;
              v91 += 284;
            }
            while ( v90 < (unsigned __int8)dword_132A2BC );
          }
          byte_133004A = 0;
          goto LABEL_551;
        case 7:
          sub_416860(8, 0, 0, 0, 0);
          v92 = byte_1329448;
          if ( byte_1329448 == -1 )
            goto LABEL_551;
          v93 = 0;
          if ( (signed int)(unsigned __int8)dword_132A2BC <= 0 )
            goto LABEL_627;
          v94 = byte_1328EC2;
          while ( (unsigned __int8)*v94 != byte_1329448 )
          {
            ++v93;
            v94 += 284;
            if ( v93 >= (unsigned __int8)dword_132A2BC )
              goto LABEL_627;
          }
          byte_1329448 = v93;
          v92 = v93;
LABEL_627:
          v95 = 0;
          byte_1550B60[0] = 113;
          byte_1550B61[0] = -9;
          v96 = byte_49D88C;
          LOBYTE(dword_1550B62) = 33;
          v97 = 284 * v92;
          do
          {
            *(_BYTE *)(v95 + 22350691) = v96 ^ byte_1328E98[v97 + v95];
            ++v95;
          }
          while ( v95 < 20 );
          v98 = byte_1328EC2[v97];
          v99 = HIBYTE(word_1328FB0[142 * v92]);
          v100 = word_1328FB0[v97 / 2];
          byte_1550B77[0] = v98;
          byte_1550B78[0] = v99;
          byte_1550B79 = v100;
          sub_479790(26);
          byte_49CFF0 = 32;
          byte_1330049 = 4;
          byte_133004A = 0;
          goto LABEL_551;
        case 8:
          if ( byte_1329448 == -1 || dword_1322624 )
            goto LABEL_636;
          v101 = dword_1328EE8;
          do
          {
            if ( *((unsigned __int8 *)v101 - 38) == byte_1329448 && (unsigned int)*v101 > 0x1770 )
            {
LABEL_595:
              byte_133004A = 0;
              goto LABEL_551;
            }
            v101 += 71;
          }
          while ( (signed int)v101 < (signed int)byte_1329474 );
LABEL_636:
          sub_416860(8, 0, 0, 0, 0);
          dword_13300DC = 0;
          dword_13300E0 = 0;
          if ( byte_1329448 == -1 )
            goto LABEL_551;
          v102 = 0;
          if ( (signed int)(unsigned __int8)dword_132A2BC > 0 )
          {
            v103 = byte_1328EC2;
            while ( (unsigned __int8)*v103 != byte_1329448 )
            {
              ++v102;
              v103 += 284;
              if ( v102 >= (unsigned __int8)dword_132A2BC )
                goto LABEL_643;
            }
            byte_1329448 = v102;
          }
LABEL_643:
          v104 = 0;
          v105 = byte_49D88C;
          v106 = 284 * byte_1329448 + 20090520;
          do
          {
            v186[v104] = v105 ^ *(_BYTE *)(v106 + v104);
            ++v104;
          }
          while ( v104 < 21 );
          v187 = 0;
          if ( !sub_456F10(&byte_48E218, v186) )
            goto LABEL_653;
          v107 = byte_1329448;
          byte_1550B60[0] = 113;
          byte_1550B61[0] = -9;
          LOBYTE(dword_1550B62) = 24;
          qmemcpy((char *)&dword_1550B62 + 1, v186, 0x14u);
          byte_1550B77[0] = byte_1328EC2[284 * v107];
          sub_479790(24);
          byte_49CFF0 = 39;
          do
            sub_479930();
          while ( byte_49CFF0 == 39 );
          if ( byte_49CFF0 == 41 )
          {
            sub_456CE0(&byte_48E204, byte_49D994);
            v108 = (unsigned __int8)dword_132A2BC;
            if ( byte_1329448 != (unsigned __int8)dword_132A2BC - 1 )
              qmemcpy(
                (void *)(284 * byte_1329448 + 20090520),
                (const void *)(284 * (unsigned __int8)dword_132A2BC + 20090236),
                0x11Cu);
            v109 = 284 * v108;
            byte_1329448 = -1;
            byte_133004A = 0;
            memset((char *)&unk_1328D7C + 284 * v108, 0, 0x11Cu);
            v110 = dword_132A2BC;
            byte_1328DA6[v109] = -1;
            LOBYTE(dword_132A2BC) = v110 - 1;
          }
          else
          {
            sub_456CE0(aError_0, &byte_48E1F4);
LABEL_653:
            byte_133004A = 0;
          }
          goto LABEL_551;
        case 9:
          LOBYTE(v0) = s;
          byte_1330049 = 1;
          byte_133004A = 0;
          byte_49CFF0 = 0;
          if ( s )
          {
            LOBYTE(v0) = closesocket(s);
            s = 0;
          }
          byte_13225C0 = 0;
          return v0;
        default:
          goto LABEL_551;
      }
      while ( 1 )
      {
        v77 = 0;
        if ( (signed int)(unsigned __int8)dword_132A2BC > 0 )
          break;
LABEL_683:
        if ( ++v76 >= 5 )
        {
          switch ( byte_1329448 )
          {
            case 0:
              x = 136;
              goto LABEL_689;
            case 1:
              x = 251;
              goto LABEL_691;
            case 2:
              x = 365;
              y = 384;
              dword_1547438 = dword_4BBF28;
              goto LABEL_692;
            case 3:
              x = 480;
LABEL_689:
              y = 384;
              dword_1547438 = dword_4BBF28;
              goto LABEL_692;
            case 4:
              x = 595;
LABEL_691:
              y = 384;
              dword_1547438 = dword_4BBF28;
LABEL_692:
              sub_4705B0();
              break;
            default:
              break;
          }
          sub_4564F0();
          sub_443E60();
          v115 = 0;
          do
          {
            v116 = 0;
            if ( (_BYTE)dword_132A2BC )
            {
              v117 = word_1328ED4;
              do
              {
                if ( *((unsigned __int8 *)v117 - 18) == v115 )
                {
                  v118 = byte_49D88C;
                  v119 = 0;
                  do
                  {
                    v180[v119] = v118 ^ *((_BYTE *)v117 + v119 - 60);
                    v182[v119] = v118 ^ *((_BYTE *)v117 + v119 - 39);
                    ++v119;
                  }
                  while ( v119 < 21 );
                  v181 = 0;
                  v183 = 0;
                  sub_443C70(55, 55, 55);
                  switch ( v115 )
                  {
                    case 0:
                      sub_443FC0(173, 265, v182);
                      sub_443FC0(173, 285, v180);
                      sub_444070(173, 326, (unsigned __int16)*v117);
                      sub_444070(173, 366, *((_DWORD *)v117 + 5));
                      sub_443C70(255, 255, 255);
                      sub_443FC0(171, 263, v182);
                      sub_443FC0(171, 283, v180);
                      sub_444070(171, 324, (unsigned __int16)*v117);
                      sub_444070(171, 364, *((_DWORD *)v117 + 5));
                      break;
                    case 1:
                      sub_443FC0(288, 265, v182);
                      sub_443FC0(288, 285, v180);
                      sub_444070(288, 326, (unsigned __int16)*v117);
                      sub_444070(288, 366, *((_DWORD *)v117 + 5));
                      sub_443C70(255, 255, 255);
                      sub_443FC0(286, 263, v182);
                      sub_443FC0(286, 283, v180);
                      sub_444070(286, 324, (unsigned __int16)*v117);
                      sub_444070(286, 364, *((_DWORD *)v117 + 5));
                      break;
                    case 2:
                      sub_443FC0(403, 265, v182);
                      sub_443FC0(403, 285, v180);
                      sub_444070(403, 326, (unsigned __int16)*v117);
                      sub_444070(403, 366, *((_DWORD *)v117 + 5));
                      sub_443C70(255, 255, 255);
                      sub_443FC0(401, 263, v182);
                      sub_443FC0(401, 283, v180);
                      sub_444070(401, 324, (unsigned __int16)*v117);
                      sub_444070(401, 364, *((_DWORD *)v117 + 5));
                      break;
                    case 3:
                      sub_443FC0(518, 265, v182);
                      sub_443FC0(518, 285, v180);
                      sub_444070(518, 326, (unsigned __int16)*v117);
                      sub_444070(518, 366, *((_DWORD *)v117 + 5));
                      sub_443C70(255, 255, 255);
                      sub_443FC0(516, 263, v182);
                      sub_443FC0(516, 283, v180);
                      sub_444070(516, 324, (unsigned __int16)*v117);
                      sub_444070(516, 364, *((_DWORD *)v117 + 5));
                      break;
                    case 4:
                      sub_443FC0(633, 265, v182);
                      sub_443FC0(633, 285, v180);
                      sub_444070(633, 326, (unsigned __int16)*v117);
                      sub_444070(633, 366, *((_DWORD *)v117 + 5));
                      sub_443C70(255, 255, 255);
                      sub_443FC0(631, 263, v182);
                      sub_443FC0(631, 283, v180);
                      sub_444070(631, 324, (unsigned __int16)*v117);
                      sub_444070(631, 364, *((_DWORD *)v117 + 5));
                      break;
                    default:
                      break;
                  }
                }
                ++v116;
                v117 += 142;
              }
              while ( v116 < (unsigned __int8)dword_132A2BC );
            }
            ++v115;
          }
          while ( v115 < 5 );
          goto LABEL_707;
        }
      }
      v78 = byte_1328EC2;
      while ( (unsigned __int8)*v78 != v76 )
      {
        ++v77;
        v78 += 284;
        if ( v77 >= (unsigned __int8)dword_132A2BC )
          goto LABEL_683;
      }
      switch ( v76 )
      {
        case 0:
          x = 126;
          goto LABEL_663;
        case 1:
          x = 241;
          goto LABEL_663;
        case 2:
          x = 356;
          goto LABEL_663;
        case 3:
          x = 471;
          goto LABEL_663;
        case 4:
          x = 586;
LABEL_663:
          y = 124;
          break;
        default:
          break;
      }
      v111 = 284 * v77;
      v112 = (unsigned __int8)byte_1328EC3[284 * v77];
      if ( v112 )
      {
        v113 = v112 - 1;
        if ( v113 )
        {
          if ( v113 != 1 )
            goto LABEL_680;
          if ( byte_1328EC4[v111] )
          {
            if ( byte_1328EC4[v111] != 1 )
              goto LABEL_680;
            v114 = dword_4BBF38[3 * (unsigned __int8)byte_1328EC5[v111]];
          }
          else
          {
            v114 = dword_6BE3B0[3 * (unsigned __int8)byte_1328EC5[v111]];
          }
        }
        else if ( byte_1328EC4[v111] )
        {
          if ( byte_1328EC4[v111] != 1 )
            goto LABEL_680;
          v114 = dword_1308330[3 * (unsigned __int8)byte_1328EC5[v111]];
        }
        else
        {
          v114 = dword_4BBE98[3 * (unsigned __int8)byte_1328EC5[v111]];
        }
      }
      else if ( byte_1328EC4[v111] )
      {
        if ( byte_1328EC4[v111] != 1 )
          goto LABEL_680;
        v114 = dword_11FDCA8[3 * (unsigned __int8)byte_1328EC5[v111]];
      }
      else
      {
        v114 = dword_8C8728[3 * (unsigned __int8)byte_1328EC5[v111]];
      }
      dword_1547438 = v114;
LABEL_680:
      if ( v76 == byte_1329448 )
        sub_4705B0();
      else
        dword_1547944();
      goto LABEL_683;
    case 6:
      LOBYTE(v0) = 0;
      BYTE1(dword_132A2BC) = 7;
      LOBYTE(dword_132A290) = 0;
      LOBYTE(dword_1322684) = 0;
      strcpy(byte_132942C, aNoname);
      LOBYTE(dword_1324684) = 0;
      byte_13226A7 = 0;
      LOWORD(dword_1329748) = 0;
      LOBYTE(dword_1328DBC) = 0;
      LOBYTE(dword_132FFE8) = 0;
      LOBYTE(dword_13246E0) = 0;
      HIBYTE(dword_132A2BC) = 0;
      byte_1329631 = 0;
      LOBYTE(dword_13226AC) = 0;
      byte_1330049 = 7;
      byte_13300D9 = 0;
      dword_13300DC = 0;
      dword_13300E0 = 0;
      dword_133006C = 0;
      return v0;
    case 7:
      LOBYTE(v0) = dword_4862F0;
      if ( !dword_4862F0 )
        return v0;
      sub_4773E0();
      dword_1547438 = (int)dword_6BDF00;
      sub_4562F0();
      x = word_1317E58;
      y = word_1317E5A;
      dword_1547438 = dword_1317E60;
      sub_4705B0();
      v120 = 39;
      if ( dword_133006C )
      {
        if ( dword_133006C != 1 )
          goto LABEL_864;
        if ( dword_49D89C > 285 && dword_49D89C < 353 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
        {
          if ( !dword_48CFA0 )
            goto LABEL_864;
          v121 = 46;
LABEL_736:
          if ( dword_48CF9C != v121 )
          {
            dword_48CF9C = v121;
            dword_132A294 = dword_49D89C;
            dword_132A298 = dword_49D8A0;
          }
          goto LABEL_864;
        }
        if ( dword_49D89C > 446 && dword_49D89C < 514 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
        {
          if ( !dword_48CFA0 )
            goto LABEL_864;
          v121 = 47;
          goto LABEL_736;
        }
        if ( dword_49D89C > 362 && dword_49D89C < 372 && dword_49D8A0 > 257 && dword_49D8A0 < 267
          || dword_49D89C > 429 && dword_49D89C < 439 && dword_49D8A0 > 257 && dword_49D8A0 < 267 )
        {
          if ( !dword_48CFA0 )
            goto LABEL_864;
          v121 = 48;
          goto LABEL_736;
        }
        if ( dword_49D89C > 426 && dword_49D89C < 469 && dword_49D8A0 > 308 && dword_49D8A0 < 406 )
        {
          if ( dword_48CFA0 && dword_48CF9C != 49 )
          {
            dword_48CF9C = 49;
            dword_132A294 = 469;
            dword_132A298 = dword_49D8A0;
          }
          goto LABEL_864;
        }
LABEL_863:
        dword_48CF9C = -1;
        goto LABEL_864;
      }
      if ( dword_49D89C > 285 && dword_49D89C < 353 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 34 )
        {
          dword_48CF9C = 34;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_864;
      }
      if ( dword_49D89C > 446 && dword_49D89C < 514 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 35 )
        {
          dword_48CF9C = 35;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_864;
      }
      if ( dword_49D89C > 347 && dword_49D89C < 357 && dword_49D8A0 > 114 && dword_49D8A0 < 124
        || dword_49D89C > 494 && dword_49D89C < 504 && dword_49D8A0 > 114 && dword_49D8A0 < 124 )
      {
        if ( !dword_48CFA0 )
          goto LABEL_864;
        v120 = 36;
LABEL_765:
        if ( dword_48CF9C != v120 )
        {
          dword_48CF9C = v120;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_864;
      }
      if ( dword_49D89C > 347 && dword_49D89C < 357 && dword_49D8A0 > 141 && dword_49D8A0 < 151 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 37 )
        {
          dword_48CF9C = 37;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_864;
      }
      if ( dword_49D89C > 494 && dword_49D89C < 504 && dword_49D8A0 > 141 && dword_49D8A0 < 151 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 37 )
        {
          dword_48CF9C = 37;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_864;
      }
      if ( dword_49D89C > 332 && dword_49D89C < 514 && dword_49D8A0 > 190 && dword_49D8A0 < 208 )
      {
        if ( !dword_48CFA0 )
          goto LABEL_864;
        goto LABEL_765;
      }
      if ( dword_49D89C > 347 && dword_49D89C < 357 && dword_49D8A0 > 167 && dword_49D8A0 < 177 )
        goto LABEL_799;
      if ( dword_49D89C <= 494 )
        goto LABEL_801;
      v124 = __OFSUB__(dword_49D89C, 504);
      v122 = dword_49D89C == 504;
      v123 = dword_49D89C - 504 < 0;
      if ( dword_49D89C < 504 )
      {
        if ( dword_49D8A0 > 167 && dword_49D8A0 < 177 )
        {
LABEL_799:
          if ( !dword_48CFA0 )
            goto LABEL_864;
          v120 = 38;
          goto LABEL_765;
        }
LABEL_801:
        v124 = __OFSUB__(dword_49D89C, 504);
        v122 = dword_49D89C == 504;
        v123 = dword_49D89C - 504 < 0;
      }
      if ( (unsigned __int8)(v123 ^ v124) | v122 || dword_49D89C >= 513 )
        goto LABEL_863;
      if ( dword_49D8A0 > 246 && dword_49D8A0 < 255 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 40 )
        {
          dword_48CF9C = 40;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_864;
      }
      if ( dword_49D89C >= 513 )
        goto LABEL_863;
      if ( dword_49D8A0 > 271 && dword_49D8A0 < 280 )
        goto LABEL_839;
      if ( dword_49D89C >= 513 )
        goto LABEL_863;
      if ( dword_49D8A0 > 295 && dword_49D8A0 < 304 )
      {
        if ( dword_48CFA0 && dword_48CF9C != 43 )
        {
          dword_48CF9C = 43;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
        goto LABEL_864;
      }
      if ( dword_49D89C >= 513 )
        goto LABEL_863;
      if ( dword_49D8A0 > 319 && dword_49D8A0 < 328 )
        goto LABEL_850;
      if ( dword_49D89C >= 513 )
        goto LABEL_863;
      if ( dword_49D8A0 > 371 && dword_49D8A0 < 380 )
        goto LABEL_855;
      if ( dword_49D89C >= 513 )
        goto LABEL_863;
      if ( dword_49D8A0 <= 396 || dword_49D8A0 >= 405 )
      {
        if ( dword_49D89C >= 513 )
          goto LABEL_863;
        if ( dword_49D8A0 <= 255 || dword_49D8A0 >= 264 )
        {
          if ( dword_49D89C >= 513 )
            goto LABEL_863;
          if ( dword_49D8A0 > 280 && dword_49D8A0 < 289 )
          {
LABEL_839:
            if ( !dword_48CFA0 )
              goto LABEL_864;
            v120 = 41;
            goto LABEL_765;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_863;
          if ( dword_49D8A0 <= 304 || dword_49D8A0 >= 313 )
          {
            if ( dword_49D89C >= 513 )
              goto LABEL_863;
            if ( dword_49D8A0 > 328 && dword_49D8A0 < 337 )
            {
LABEL_850:
              if ( !dword_48CFA0 )
                goto LABEL_864;
              v120 = 42;
              goto LABEL_765;
            }
            if ( dword_49D89C >= 513 )
              goto LABEL_863;
            if ( dword_49D8A0 > 380 && dword_49D8A0 < 389 )
            {
LABEL_855:
              if ( !dword_48CFA0 )
                goto LABEL_864;
              v120 = 45;
              goto LABEL_765;
            }
            if ( dword_49D89C >= 513 || dword_49D8A0 <= 405 || dword_49D8A0 >= 414 )
              goto LABEL_863;
            if ( dword_48CFA0 && dword_48CF9C != 44 )
            {
              dword_48CF9C = 44;
              dword_132A294 = dword_49D89C;
              dword_132A298 = dword_49D8A0;
            }
          }
          else if ( dword_48CFA0 && dword_48CF9C != 43 )
          {
            dword_48CF9C = 43;
            dword_132A294 = dword_49D89C;
            dword_132A298 = dword_49D8A0;
          }
        }
        else if ( dword_48CFA0 && dword_48CF9C != 40 )
        {
          dword_48CF9C = 40;
          dword_132A294 = dword_49D89C;
          dword_132A298 = dword_49D8A0;
        }
      }
      else if ( dword_48CFA0 && dword_48CF9C != 44 )
      {
        dword_48CF9C = 44;
        dword_132A294 = dword_49D89C;
        dword_132A298 = dword_49D8A0;
      }
LABEL_864:
      if ( dword_133006C )
      {
        if ( dword_133006C != 1 )
          goto LABEL_1213;
        x = 252;
        y = 72;
        dword_1547438 = dword_12081F0;
        sub_4705B0();
        switch ( byte_133004A )
        {
          case 0:
            if ( !dword_49D890 )
              goto LABEL_913;
            if ( dword_49D89C > 285 && dword_49D89C < 353 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
            {
              if ( dword_13300E0 != 1 )
              {
                sub_416860(9, 0, 0, 0, 0);
                dword_13300E0 = 1;
              }
              v125 = dword_8D39D8;
              x = 285;
              y = 449;
LABEL_875:
              dword_1547438 = v125;
LABEL_876:
              sub_4705B0();
              goto LABEL_877;
            }
            if ( dword_49D89C > 446 && dword_49D89C < 514 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
            {
              if ( dword_13300E0 != 2 )
              {
                sub_416860(9, 0, 0, 0, 0);
                dword_13300E0 = 2;
              }
              x = 446;
              y = 449;
              dword_1547438 = dword_1317E40;
              goto LABEL_876;
            }
            if ( dword_49D89C > 362 && dword_49D89C < 372 && dword_49D8A0 > 257 && dword_49D8A0 < 267 )
            {
              if ( dword_13300E0 != 3 )
              {
                sub_416860(23, 0, 0, 0, 0);
                dword_13300E0 = 3;
              }
              x = 362;
              y = 257;
              dword_1547438 = dword_4BBF10;
              goto LABEL_876;
            }
            if ( dword_49D89C > 429 && dword_49D89C < 439 && dword_49D8A0 > 257 && dword_49D8A0 < 267 )
            {
              if ( dword_13300E0 != 4 )
              {
                sub_416860(23, 0, 0, 0, 0);
                dword_13300E0 = 4;
              }
              v125 = dword_4BBF10;
              x = 429;
              y = 257;
              goto LABEL_875;
            }
            if ( dword_49D89C <= 426 || dword_49D89C >= 469 || dword_49D8A0 <= 308 || dword_49D8A0 >= 406 )
            {
LABEL_913:
              dword_13300E0 = 0;
            }
            else
            {
              HIWORD(v128) = 0;
              if ( dword_156FEB0 )
              {
                LOWORD(v128) = word_13B5390[dword_49D89C + 900 * dword_49D8A0];
                LOWORD(dword_1329748) = word_13B5390[dword_49D89C + 900 * dword_49D8A0] & 0x1F | (v128 >> 1) & 0x7FE0;
              }
              else
              {
                LOWORD(dword_1329748) = word_13B5390[dword_49D89C + 900 * dword_49D8A0];
              }
            }
LABEL_877:
            v126 = byte_13226A7;
            goto LABEL_878;
          case 1:
            dword_133006C = 0;
            byte_133004A = 0;
            goto LABEL_877;
          case 2:
            v129 = byte_13226A8;
            v130 = dword_1322684;
            byte_1550B60[0] = 113;
            byte_1550B61[0] = -9;
            LOBYTE(dword_1550B62) = 21;
            qmemcpy((char *)&dword_1550B62 + 1, byte_132942C, 0x14u);
            byte_1550B77[0] = v129;
            byte_1550B78[0] = dword_132A290;
            byte_1550B79 = v130;
            byte_1550B7A = byte_13226A7;
            byte_1550B7B = BYTE1(dword_1329748);
            LOBYTE(dword_1550B7C) = dword_1329748;
            BYTE1(dword_1550B7C) = dword_1324684;
            BYTE2(dword_1550B7C) = byte_13226C9 + dword_13226AC;
            HIBYTE(dword_1550B7C) = dword_1329F70 + byte_1329631;
            byte_1550B80 = BYTE1(dword_132A268) + HIBYTE(dword_132A2BC);
            byte_1550B81 = BYTE2(dword_132A2BC) + dword_13246E0;
            byte_1550B82 = HIBYTE(dword_132A268);
            byte_1550B83 = dword_1322664 + dword_132FFE8;
            byte_1550B84 = byte_1328DEF + dword_1328DBC;
            sub_479790(37);
            byte_49CFF0 = 43;
            byte_1329448 = -1;
            do
              sub_479930();
            while ( byte_49CFF0 == 43 );
            if ( byte_49CFF0 == 44 )
            {
              sub_456CE0(aId_1, &byte_48E1C4);
            }
            else if ( byte_49CFF0 == 45 )
            {
              sub_456CE0(byte_132942C, &byte_48E1D8);
              v131 = 284 * (unsigned __int8)dword_132A2BC;
              v132 = 0;
              byte_1328EC2[v131] = byte_13226A8;
              do
              {
                byte_1328E98[v131 + v132] = byte_49D88C ^ byte_132942C[v132];
                ++v132;
              }
              while ( v132 < 21 );
              v133 = dword_132A290;
              v134 = dword_1322684;
              byte_1328EAC[v131] = 0;
              byte_1328EC3[v131] = v133;
              byte_1328EC4[v131] = v134;
              v135 = strlen(byte_49D994) + 1;
              v126 = byte_13226A7;
              byte_1328EC5[v131] = byte_13226A7;
              v136 = v135;
              word_1328ED4[v131 / 2] = 1;
              v135 >>= 2;
              dword_1328EE8[v131 / 4] = 0;
              qmemcpy(&byte_1328EAD[v131], byte_49D994, 4 * v135);
              v138 = &byte_49D994[4 * v135];
              v137 = &byte_1328EAD[4 * v135 + v131];
              v139 = v136 & 3;
              v140 = 0;
              qmemcpy(v137, v138, v139);
              do
              {
                byte_1328EAD[v131 + v140] ^= byte_49D88C;
                ++v140;
              }
              while ( v140 < 21 );
              if ( byte_1328EC3[v131] )
              {
                if ( byte_1328EC3[v131] == 1 )
                {
                  word_1328FB0[v131 / 2] = 85;
                }
                else if ( byte_1328EC3[v131] == 2 )
                {
                  word_1328FB0[v131 / 2] = 104;
                }
              }
              else
              {
                word_1328FB0[v131 / 2] = 52;
              }
              byte_1330049 = 5;
              byte_133004A = 0;
              LOBYTE(dword_132A2BC) = dword_132A2BC + 1;
LABEL_878:
              LOBYTE(v127) = dword_1322684;
LABEL_879:
              x = 354;
              y = 144;
              if ( (_BYTE)dword_132A290 )
              {
                if ( (unsigned __int8)dword_132A290 != 1 )
                {
                  if ( (unsigned __int8)dword_132A290 == 2 )
                  {
                    v127 = (unsigned __int8)v127;
                    if ( (_BYTE)v127 )
                    {
                      if ( v127 == 1 )
                        dword_1547438 = dword_4BBF38[3 * v126];
                    }
                    else
                    {
                      dword_1547438 = dword_6BE3B0[3 * v126];
                    }
                  }
                  goto LABEL_991;
                }
                v127 = (unsigned __int8)v127;
                if ( !(_BYTE)v127 )
                {
                  dword_1547438 = dword_4BBE98[3 * v126];
                  goto LABEL_991;
                }
                if ( v127 != 1 )
                  goto LABEL_991;
                v141 = dword_1308330[3 * v126];
              }
              else
              {
                v127 = (unsigned __int8)v127;
                if ( (_BYTE)v127 )
                {
                  if ( v127 == 1 )
                    dword_1547438 = dword_11FDCA8[3 * v126];
LABEL_991:
                  sub_4705B0();
                  ++byte_13300D9;
                  if ( (_BYTE)dword_132A290 )
                  {
                    if ( (unsigned __int8)dword_132A290 == 1 )
                    {
                      if ( !(_BYTE)dword_1322684 )
                      {
                        v142 = 40;
                        goto LABEL_1004;
                      }
                      if ( (unsigned __int8)dword_1322684 == 1 )
                      {
                        v142 = 60;
                        goto LABEL_1004;
                      }
                    }
                    else if ( (unsigned __int8)dword_132A290 == 2 )
                    {
                      v142 = 80;
LABEL_1004:
                      v143 = 8 * v142;
                      if ( !dword_13083AC[8 * v142] )
                      {
                        sprintf(&v189, a03dAni, v142);
                        sub_4221A0((int)&v189, v142);
                        sprintf(&v189, a03dAni, v142 + 1);
                        sub_4221A0((int)&v189, v142 + 1);
                      }
                      v144 = (unsigned __int16 *)dword_8D3C24[v142];
                      v145 = byte_13300D9;
                      if ( byte_13300D9 > *v144 - 1 )
                      {
                        v145 = 0;
                        byte_13300D9 = 0;
                      }
                      v146 = dword_13083C4[v143];
                      v147 = 4 * v145;
                      x = *(signed __int16 *)(v146 + 12 * *(_DWORD *)(v147 + *((_DWORD *)v144 + 1))) + 378;
                      y = *(signed __int16 *)(v146 + 12 * *(_DWORD *)(v147 + *((_DWORD *)v144 + 1)) + 2) + 390;
                      v148 = *(_DWORD *)(v146 + 12 * *(_DWORD *)(v147 + *((_DWORD *)v144 + 1)) + 8);
                      LOBYTE(dword_1547948) = 14;
                      dword_1547438 = v148;
                      sub_471350();
                      v149 = dword_8D3C28[v142];
                      v150 = dword_13083E4[v143];
                      LOBYTE(dword_1547948) = 14;
                      v151 = 4 * byte_13300D9;
                      x = *(signed __int16 *)(v150 + 12 * *(_DWORD *)(v151 + *(_DWORD *)(v149 + 4))) + 378;
                      y = *(signed __int16 *)(v150 + 12 * *(_DWORD *)(v151 + *(_DWORD *)(v149 + 4)) + 2) + 390;
                      dword_1547438 = *(_DWORD *)(v150 + 12 * *(_DWORD *)(v151 + *(_DWORD *)(v149 + 4)) + 8);
                      HIWORD(dword_13315BC) = ((unsigned int)dword_1329748 >> 5) & 0x1F;
                      word_13315C0 = ((unsigned int)dword_1329748 >> 10) & 0x1F;
                      LOWORD(dword_13315BC) = dword_1329748 & 0x1F;
                      dword_1547454();
                      v152 = dword_8D3C28[v142];
                      v153 = dword_13083E4[v143];
                      LOBYTE(dword_1547948) = 14;
                      v154 = 4 * byte_13300D9;
                      x = *(signed __int16 *)(v153 + 12 * *(_DWORD *)(v154 + *(_DWORD *)(v152 + 4))) + 378;
                      y = *(signed __int16 *)(v153 + 12 * *(_DWORD *)(v154 + *(_DWORD *)(v152 + 4)) + 2) + 390;
                      dword_1547438 = *(_DWORD *)(v153 + 12 * *(_DWORD *)(v154 + *(_DWORD *)(v152 + 4)) + 8);
                      HIWORD(dword_13315BC) = ((unsigned int)dword_1329748 >> 5) & 0x1F;
                      word_13315C0 = ((unsigned int)dword_1329748 >> 10) & 0x1F;
                      LOWORD(dword_13315BC) = dword_1329748 & 0x1F;
                      dword_1330788();
                      goto LABEL_1213;
                    }
                  }
                  else
                  {
                    if ( !(_BYTE)dword_1322684 )
                    {
                      v142 = 0;
                      goto LABEL_1004;
                    }
                    if ( (unsigned __int8)dword_1322684 == 1 )
                    {
                      v142 = 20;
                      goto LABEL_1004;
                    }
                  }
                  v142 = v184;
                  goto LABEL_1004;
                }
                v141 = dword_8C8728[3 * v126];
              }
              dword_1547438 = v141;
              goto LABEL_991;
            }
            v126 = byte_13226A7;
            byte_133004A = 0;
            goto LABEL_878;
          case 3:
            if ( byte_13226A7 )
              v126 = byte_13226A7 - 1;
            else
              v126 = 0;
            LOBYTE(v127) = dword_1322684;
            byte_13226A7 = v126;
            if ( (_BYTE)dword_132A290 )
            {
              if ( (unsigned __int8)dword_132A290 == 1 )
              {
                if ( (_BYTE)dword_1322684 )
                {
                  if ( (unsigned __int8)dword_1322684 == 1 && !dword_4BBE98[3 * v126] )
                  {
                    ++v126;
                    byte_133004A = 0;
                    byte_13226A7 = v126;
                    goto LABEL_879;
                  }
                }
                else if ( !dword_4BBE98[3 * v126] )
                {
                  ++v126;
                  byte_133004A = 0;
                  byte_13226A7 = v126;
                  goto LABEL_879;
                }
              }
              else if ( (unsigned __int8)dword_132A290 == 2 )
              {
                if ( (_BYTE)dword_1322684 )
                {
                  if ( (unsigned __int8)dword_1322684 == 1 && !dword_6BE3B0[3 * v126] )
                  {
                    ++v126;
                    byte_133004A = 0;
                    byte_13226A7 = v126;
                    goto LABEL_879;
                  }
                }
                else if ( !dword_6BE3B0[3 * v126] )
                {
                  ++v126;
                  byte_133004A = 0;
                  byte_13226A7 = v126;
                  goto LABEL_879;
                }
              }
            }
            else if ( (_BYTE)dword_1322684 )
            {
              if ( (unsigned __int8)dword_1322684 == 1 && !dword_11FDCA8[3 * v126] )
              {
                ++v126;
                byte_133004A = 0;
                byte_13226A7 = v126;
                goto LABEL_879;
              }
            }
            else if ( !dword_8C8728[3 * v126] )
            {
              byte_13226A7 = ++v126;
            }
            byte_133004A = 0;
            goto LABEL_879;
          case 4:
            v126 = byte_13226A7++ + 1;
            if ( (unsigned __int8)byte_13226A7 > 9u )
            {
              v126 = 9;
              byte_13226A7 = 9;
            }
            LOBYTE(v127) = dword_1322684;
            if ( (_BYTE)dword_132A290 )
            {
              if ( (unsigned __int8)dword_132A290 == 1 )
              {
                if ( (_BYTE)dword_1322684 )
                {
                  if ( (unsigned __int8)dword_1322684 == 1 && !dword_1308330[3 * v126] )
                  {
                    --v126;
                    byte_133004A = 0;
                    byte_13226A7 = v126;
                    goto LABEL_879;
                  }
                }
                else if ( !dword_4BBE98[3 * v126] )
                {
                  --v126;
                  byte_133004A = 0;
                  byte_13226A7 = v126;
                  goto LABEL_879;
                }
              }
              else if ( (unsigned __int8)dword_132A290 == 2 )
              {
                if ( (_BYTE)dword_1322684 )
                {
                  if ( (unsigned __int8)dword_1322684 == 1 && !dword_6BE3B0[3 * v126] )
                  {
                    --v126;
                    byte_133004A = 0;
                    byte_13226A7 = v126;
                    goto LABEL_879;
                  }
                }
                else if ( !dword_6BE3B0[3 * v126] )
                {
                  --v126;
                  byte_133004A = 0;
                  byte_13226A7 = v126;
                  goto LABEL_879;
                }
              }
            }
            else if ( (_BYTE)dword_1322684 )
            {
              if ( (unsigned __int8)dword_1322684 == 1 && !dword_11FDCA8[3 * v126] )
              {
                --v126;
                byte_133004A = 0;
                byte_13226A7 = v126;
                goto LABEL_879;
              }
            }
            else if ( !dword_8C8728[3 * v126] )
            {
              byte_13226A7 = --v126;
            }
            byte_133004A = 0;
            goto LABEL_879;
          default:
            goto LABEL_877;
        }
      }
      x = 252;
      y = 72;
      dword_1547438 = dword_11FDD38;
      sub_4705B0();
      switch ( byte_133004A )
      {
        case 0:
          if ( !dword_49D890 )
            goto LABEL_1145;
          if ( dword_49D89C > 285 && dword_49D89C < 353 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
          {
            if ( dword_13300E0 != 1 )
            {
              sub_416860(9, 0, 0, 0, 0);
              dword_13300E0 = 1;
            }
            x = 285;
            y = 449;
            dword_1547438 = dword_8D39C8;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C > 446 && dword_49D89C < 514 && dword_49D8A0 > 449 && dword_49D8A0 < 468 )
          {
            if ( dword_13300E0 != 2 )
            {
              sub_416860(9, 0, 0, 0, 0);
              dword_13300E0 = 2;
            }
            x = 446;
            y = 449;
            dword_1547438 = dword_8C87A0;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C > 347 && dword_49D89C < 357 && dword_49D8A0 > 114 && dword_49D8A0 < 124 )
          {
            if ( dword_13300E0 != 3 )
            {
              sub_416860(23, 0, 0, 0, 0);
              dword_13300E0 = 3;
            }
            x = 347;
            y = 114;
LABEL_1032:
            dword_1547438 = dword_4BBF10;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C > 494 && dword_49D89C < 504 && dword_49D8A0 > 114 && dword_49D8A0 < 124 )
          {
            if ( dword_13300E0 != 4 )
            {
              sub_416860(23, 0, 0, 0, 0);
              dword_13300E0 = 4;
            }
            x = 494;
            y = 114;
            dword_1547438 = dword_4BBF10;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C > 347 && dword_49D89C < 357 && dword_49D8A0 > 141 && dword_49D8A0 < 151 )
          {
            if ( dword_13300E0 != 5 )
            {
              sub_416860(23, 0, 0, 0, 0);
              dword_13300E0 = 5;
            }
            x = 347;
            y = 141;
            dword_1547438 = dword_4BBF10;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C > 494 && dword_49D89C < 504 && dword_49D8A0 > 141 && dword_49D8A0 < 151 )
          {
            if ( dword_13300E0 != 6 )
            {
              sub_416860(23, 0, 0, 0, 0);
              dword_13300E0 = 6;
            }
            x = 494;
            y = 141;
            goto LABEL_1032;
          }
          if ( dword_49D89C > 347 && dword_49D89C < 357 && dword_49D8A0 > 167 && dword_49D8A0 < 177 )
          {
            if ( dword_13300E0 != 7 )
            {
              sub_416860(23, 0, 0, 0, 0);
              dword_13300E0 = 7;
            }
            x = 347;
            y = 167;
            dword_1547438 = dword_4BBF10;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C <= 494 )
            goto LABEL_1068;
          v157 = __OFSUB__(dword_49D89C, 504);
          v155 = dword_49D89C == 504;
          v156 = dword_49D89C - 504 < 0;
          if ( dword_49D89C >= 504 )
            goto LABEL_1069;
          if ( dword_49D8A0 > 167 && dword_49D8A0 < 177 )
          {
            if ( dword_13300E0 != 8 )
            {
              sub_416860(23, 0, 0, 0, 0);
              dword_13300E0 = 8;
            }
            x = 494;
            y = 167;
            dword_1547438 = dword_4BBF10;
            sub_4705B0();
            goto LABEL_1213;
          }
LABEL_1068:
          v157 = __OFSUB__(dword_49D89C, 504);
          v155 = dword_49D89C == 504;
          v156 = dword_49D89C - 504 < 0;
LABEL_1069:
          if ( (unsigned __int8)(v156 ^ v157) | v155 || dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 > 246 && dword_49D8A0 < 255 )
          {
            if ( dword_13300E0 != 9 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 9;
            }
            x = 504;
            y = 246;
            dword_1547438 = dword_1308310;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 > 271 && dword_49D8A0 < 280 )
          {
            if ( dword_13300E0 != 10 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 10;
            }
            x = 504;
            y = 271;
            dword_1547438 = dword_1308310;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 > 295 && dword_49D8A0 < 304 )
          {
            if ( dword_13300E0 != 11 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 11;
            }
            x = 504;
            y = 295;
            dword_1547438 = dword_1308310;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 > 319 && dword_49D8A0 < 328 )
          {
            if ( dword_13300E0 != 12 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 12;
            }
            x = 504;
            y = 319;
            dword_1547438 = dword_1308310;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 > 371 && dword_49D8A0 < 380 )
          {
            if ( dword_13300E0 != 13 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 13;
            }
            x = 504;
            y = 371;
            dword_1547438 = dword_1308310;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 > 396 && dword_49D8A0 < 405 )
          {
            if ( dword_13300E0 != 14 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 14;
            }
            x = 504;
            y = 396;
            dword_1547438 = dword_1308310;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 > 255 && dword_49D8A0 < 264 )
          {
            if ( dword_13300E0 != 15 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 15;
            }
            x = 504;
            y = 255;
            dword_1547438 = dword_4BDEF8;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 > 280 && dword_49D8A0 < 289 )
          {
            if ( dword_13300E0 != 16 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 16;
            }
            x = 504;
            y = 280;
            dword_1547438 = dword_4BDEF8;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 > 304 && dword_49D8A0 < 313 )
          {
            if ( dword_13300E0 != 17 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 17;
            }
            x = 504;
            y = 304;
            dword_1547438 = dword_4BDEF8;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 > 328 && dword_49D8A0 < 337 )
          {
            if ( dword_13300E0 != 18 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 18;
            }
            x = 504;
            y = 328;
            dword_1547438 = dword_4BDEF8;
            sub_4705B0();
            goto LABEL_1213;
          }
          if ( dword_49D89C >= 513 )
            goto LABEL_1142;
          if ( dword_49D8A0 <= 380 || dword_49D8A0 >= 389 )
          {
            if ( dword_49D89C >= 513 || dword_49D8A0 <= 405 || dword_49D8A0 >= 414 )
            {
LABEL_1142:
              dword_13300E0 = 0;
              goto LABEL_1213;
            }
            if ( dword_13300E0 != 20 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 20;
            }
            x = 504;
            y = 405;
            dword_1547438 = dword_4BDEF8;
            sub_4705B0();
          }
          else
          {
            if ( dword_13300E0 != 19 )
            {
              sub_416860(19, 0, 0, 0, 0);
              dword_13300E0 = 19;
            }
            x = 504;
            y = 380;
            dword_1547438 = dword_4BDEF8;
            sub_4705B0();
          }
LABEL_1213:
          sub_4564F0();
          sub_443E60();
          if ( dword_133006C )
            goto LABEL_1227;
          sub_443C70(50, 50, 50);
          sub_443FC0(425, 201, byte_132942C);
          sub_443C70(255, 255, 255);
          sub_443FC0(423, 199, byte_132942C);
          if ( (_BYTE)dword_132A290 )
          {
            if ( (unsigned __int8)dword_132A290 == 1 )
            {
              v167 = (const char *)&unk_48D718;
            }
            else
            {
              if ( (unsigned __int8)dword_132A290 != 2 )
                goto LABEL_1221;
              v167 = (const char *)&unk_48D710;
            }
          }
          else
          {
            v167 = (const char *)&unk_48D724;
          }
          strcpy(String, v167);
LABEL_1221:
          sub_443C70(50, 50, 50);
          sub_443FC0(425, 147, String);
          sub_443C70(255, 255, 255);
          sub_443FC0(423, 145, String);
          if ( !(_BYTE)dword_1322684 )
          {
            v168 = (const char *)&unk_48D6F4;
            goto LABEL_1225;
          }
          if ( (unsigned __int8)dword_1322684 == 1 )
          {
            v168 = (const char *)&unk_48D6EC;
LABEL_1225:
            strcpy(String, v168);
          }
          sub_443C70(50, 50, 50);
          sub_443FC0(425, 174, String);
          sub_443C70(255, 255, 255);
          sub_443FC0(423, 172, String);
          v169 = 12
               * ((unsigned __int8)dword_1324684
                + 22 * ((unsigned __int8)dword_132A290 + 3 * (unsigned __int8)dword_1322684));
          v170 = strlen((&off_48CFD0)[v169 / 4]) + 1;
          v171 = v170;
          v172 = (&off_48CFD0)[v169 / 4];
          v170 >>= 2;
          qmemcpy(String, v172, 4 * v170);
          v174 = &v172[4 * v170];
          v173 = &String[4 * v170];
          LOBYTE(v170) = v171;
          v175 = byte_48CFD5[v169];
          qmemcpy(v173, v174, v170 & 3);
          LOBYTE(v170) = byte_48CFD4[v169];
          LOBYTE(dword_1329F70) = v175;
          v176 = byte_48CFD7[v169];
          byte_13226C9 = v170;
          LOBYTE(v170) = byte_48CFD6[v169];
          BYTE2(dword_132A2BC) = v176;
          v177 = byte_48CFD9[v169];
          BYTE1(dword_132A268) = v170;
          LOBYTE(v170) = byte_48CFD8[v169];
          LOBYTE(dword_1322664) = v177;
          HIBYTE(dword_132A268) = v170;
          byte_1328DEF = byte_48CFDA[v169];
          sub_443C70(50, 50, 50);
          sub_443FC0(425, 120, String);
          sub_443C70(255, 255, 255);
          sub_443FC0(423, 118, String);
          sub_443C70(50, 50, 50);
          _itoa((unsigned __int8)byte_13226C9 + (unsigned __int8)dword_13226AC, String, 10);
          sub_443FC0(453, 256, String);
          _itoa((unsigned __int8)dword_1329F70 + (unsigned __int8)byte_1329631, String, 10);
          sub_443FC0(453, 281, String);
          _itoa(BYTE1(dword_132A268) + HIBYTE(dword_132A2BC), String, 10);
          sub_443FC0(453, 305, String);
          _itoa(BYTE2(dword_132A2BC) + (unsigned __int8)dword_13246E0, String, 10);
          sub_443FC0(453, 330, String);
          _itoa(HIBYTE(dword_132A268), String, 10);
          sub_443FC0(453, 355, String);
          _itoa((unsigned __int8)dword_1322664 + (unsigned __int8)dword_132FFE8, String, 10);
          sub_443FC0(453, 380, String);
          _itoa((unsigned __int8)byte_1328DEF + (unsigned __int8)dword_1328DBC, String, 10);
          sub_443FC0(453, 405, String);
          _itoa(BYTE1(dword_132A2BC), String, 10);
          sub_443FC0(453, 228, String);
          sub_443C70(255, 255, 255);
          _itoa((unsigned __int8)byte_13226C9 + (unsigned __int8)dword_13226AC, String, 10);
          sub_443FC0(451, 254, String);
          _itoa((unsigned __int8)dword_1329F70 + (unsigned __int8)byte_1329631, String, 10);
          sub_443FC0(451, 279, String);
          _itoa(BYTE1(dword_132A268) + HIBYTE(dword_132A2BC), String, 10);
          sub_443FC0(451, 303, String);
          _itoa(BYTE2(dword_132A2BC) + (unsigned __int8)dword_13246E0, String, 10);
          sub_443FC0(451, 328, String);
          _itoa(HIBYTE(dword_132A268), String, 10);
          sub_443FC0(451, 353, String);
          _itoa((unsigned __int8)dword_1322664 + (unsigned __int8)dword_132FFE8, String, 10);
          sub_443FC0(451, 378, String);
          _itoa((unsigned __int8)byte_1328DEF + (unsigned __int8)dword_1328DBC, String, 10);
          sub_443FC0(451, 403, String);
          _itoa(BYTE1(dword_132A2BC), String, 10);
          sub_443FC0(451, 226, String);
          sub_443C70(55, 55, 55);
          _itoa((unsigned __int8)dword_13226AC, String, 10);
          sub_443FC0(497, 256, String);
          _itoa((unsigned __int8)byte_1329631, String, 10);
          sub_443FC0(497, 281, String);
          _itoa(HIBYTE(dword_132A2BC), String, 10);
          sub_443FC0(497, 305, String);
          _itoa((unsigned __int8)dword_13246E0, String, 10);
          sub_443FC0(497, 330, String);
          _itoa((unsigned __int8)dword_132FFE8, String, 10);
          sub_443FC0(497, 380, String);
          _itoa((unsigned __int8)dword_1328DBC, String, 10);
          sub_443FC0(497, 405, String);
          sub_443C70(255, 255, 255);
          _itoa((unsigned __int8)dword_13226AC, String, 10);
          sub_443FC0(495, 254, String);
          _itoa((unsigned __int8)byte_1329631, String, 10);
          sub_443FC0(495, 279, String);
          _itoa(HIBYTE(dword_132A2BC), String, 10);
          sub_443FC0(495, 303, String);
          _itoa((unsigned __int8)dword_13246E0, String, 10);
          sub_443FC0(495, 328, String);
          _itoa((unsigned __int8)dword_132FFE8, String, 10);
          sub_443FC0(495, 378, String);
          _itoa((unsigned __int8)dword_1328DBC, String, 10);
          sub_443FC0(495, 403, String);
LABEL_1227:
          sub_443EA0();
          x = dword_49D89C;
          y = dword_49D8A0;
          dword_1547438 = dword_8C8630;
          sub_4702F0();
          if ( dword_48CFA0 )
LABEL_1228:
            sub_455FD0();
LABEL_1229:
          nullsub_1();
          LOBYTE(v0) = sub_479E60();
          return v0;
        case 1:
          sprintf(byte_132942C, aNoname);
          LOBYTE(dword_132A290) = 0;
          LOBYTE(dword_1322684) = 0;
          LOBYTE(dword_1324684) = 0;
          byte_13226A7 = 0;
          LOWORD(dword_1329748) = 0;
          byte_133004A = 0;
          LOBYTE(dword_1328DBC) = 0;
          LOBYTE(dword_132FFE8) = 0;
          LOBYTE(dword_13246E0) = 0;
          HIBYTE(dword_132A2BC) = 0;
          byte_1329631 = 0;
          LOBYTE(dword_13226AC) = 0;
          BYTE1(dword_132A2BC) = 7;
          goto LABEL_1213;
        case 2:
          dword_133006C = 1;
          byte_133004A = 0;
LABEL_1145:
          dword_13300E0 = 0;
          goto LABEL_1213;
        case 3:
          LOBYTE(dword_1324684) = dword_1324684 + 1;
          if ( (unsigned __int8)dword_1324684 > 0x15u )
            LOBYTE(dword_1324684) = 0;
          goto LABEL_1212;
        case 4:
          LOBYTE(dword_132A290) = dword_132A290 + 1;
          if ( (unsigned __int8)dword_132A290 > 2u )
            LOBYTE(dword_132A290) = 0;
          byte_13226A7 = 0;
          goto LABEL_1212;
        case 5:
          v158 = (unsigned __int8)sub_456920(byte_132942C, 4, 0xBu, 1) - 1;
          if ( v158 )
          {
            if ( v158 == 2 )
            {
              byte_133004A = 0;
              for ( n = strlen(byte_132942C); n; byte_132942C[n] = 0 )
              {
                v160 = *(_BYTE *)(n-- + 20091947);
                if ( v160 != 32 )
                  break;
              }
              for ( ii = 0; ii < (signed int)strlen(byte_132942C); ++ii )
              {
                switch ( byte_132942C[ii] )
                {
                  case 32:
                  case 34:
                  case 36:
                  case 37:
                  case 38:
                  case 39:
                    byte_132942C[ii] = 95;
                    break;
                  default:
                    continue;
                }
              }
              if ( strlen(byte_132942C) < 1 )
              {
                sub_456CE0(&byte_48E170, &byte_48E194);
                strcpy(byte_132942C, aNoname);
                byte_133004A = 5;
                SetWindowPos(dword_49D020, 0, 0, 0, 80, 1, 0);
                SetWindowTextA(dword_49D020, byte_132942C);
                SetFocus(dword_49D020);
                GetWindowTextA(dword_49D020, byte_13226B0, 25);
                for ( jj = 0; jj < (signed int)strlen(byte_132942C); ++jj )
                  SendMessageA(dword_49D020, 0x100u, 0x27u, 1);
              }
            }
          }
          else
          {
            byte_133004A = 0;
            for ( kk = strlen(byte_132942C); kk; byte_132942C[kk] = 0 )
            {
              v164 = *(_BYTE *)(kk-- + 20091947);
              if ( v164 != 32 )
                break;
            }
            for ( ll = 0; ll < (signed int)strlen(byte_132942C); ++ll )
            {
              switch ( byte_132942C[ll] )
              {
                case 32:
                case 34:
                case 36:
                case 37:
                case 38:
                case 39:
                  byte_132942C[ll] = 95;
                  break;
                default:
                  continue;
              }
            }
            if ( strlen(byte_132942C) < 1 )
            {
              sub_456CE0(&byte_48E170, &byte_48E194);
              strcpy(byte_132942C, aNoname);
              byte_133004A = 5;
              SetWindowPos(dword_49D020, 0, 0, 0, 80, 1, 0);
              SetWindowTextA(dword_49D020, byte_132942C);
              SetFocus(dword_49D020);
              GetWindowTextA(dword_49D020, byte_13226B0, 25);
              for ( mm = 0; mm < (signed int)strlen(byte_132942C); ++mm )
                SendMessageA(dword_49D020, 0x100u, 0x27u, 1);
            }
          }
          goto LABEL_1213;
        case 6:
          byte_13226A7 = 0;
          LOBYTE(dword_1322684) = dword_1322684 ^ 1;
          goto LABEL_1212;
        case 8:
          LOWORD(dword_1329748) = 0;
          goto LABEL_1212;
        case 9:
          LOWORD(dword_1329748) = 1;
          goto LABEL_1212;
        case 0xA:
          LOWORD(dword_1329748) = 2;
          goto LABEL_1212;
        case 0xB:
          if ( BYTE1(dword_132A2BC) )
          {
            --BYTE1(dword_132A2BC);
            LOBYTE(dword_13226AC) = dword_13226AC + 1;
          }
          goto LABEL_1212;
        case 0xC:
          if ( BYTE1(dword_132A2BC) )
          {
            --BYTE1(dword_132A2BC);
            ++byte_1329631;
          }
          goto LABEL_1212;
        case 0xD:
          if ( BYTE1(dword_132A2BC) )
          {
            --BYTE1(dword_132A2BC);
            ++HIBYTE(dword_132A2BC);
          }
          goto LABEL_1212;
        case 0xE:
          if ( BYTE1(dword_132A2BC) )
          {
            --BYTE1(dword_132A2BC);
            LOBYTE(dword_13246E0) = dword_13246E0 + 1;
          }
          goto LABEL_1212;
        case 0xF:
          if ( BYTE1(dword_132A2BC) )
          {
            --BYTE1(dword_132A2BC);
            LOBYTE(dword_132FFE8) = dword_132FFE8 + 1;
          }
          goto LABEL_1212;
        case 0x10:
          if ( BYTE1(dword_132A2BC) )
          {
            --BYTE1(dword_132A2BC);
            LOBYTE(dword_1328DBC) = dword_1328DBC + 1;
          }
          goto LABEL_1212;
        case 0x11:
          if ( (_BYTE)dword_1324684 )
            LOBYTE(dword_1324684) = dword_1324684 - 1;
          else
            LOBYTE(dword_1324684) = 21;
          goto LABEL_1212;
        case 0x12:
          if ( (_BYTE)dword_132A290 )
          {
            byte_13226A7 = 0;
            LOBYTE(dword_132A290) = dword_132A290 - 1;
          }
          else
          {
            LOBYTE(dword_132A290) = 2;
            byte_13226A7 = 0;
          }
          goto LABEL_1212;
        case 0x14:
          if ( !(_BYTE)dword_13226AC )
            goto LABEL_1212;
          LOBYTE(dword_13226AC) = dword_13226AC - 1;
          goto LABEL_1211;
        case 0x15:
          if ( !byte_1329631 )
            goto LABEL_1212;
          --byte_1329631;
          goto LABEL_1211;
        case 0x16:
          if ( !HIBYTE(dword_132A2BC) )
            goto LABEL_1212;
          --HIBYTE(dword_132A2BC);
          goto LABEL_1211;
        case 0x17:
          if ( !(_BYTE)dword_13246E0 )
            goto LABEL_1212;
          LOBYTE(dword_13246E0) = dword_13246E0 - 1;
          goto LABEL_1211;
        case 0x18:
          if ( !(_BYTE)dword_132FFE8 )
            goto LABEL_1212;
          LOBYTE(dword_132FFE8) = dword_132FFE8 - 1;
          goto LABEL_1211;
        case 0x19:
          if ( (_BYTE)dword_1328DBC )
          {
            LOBYTE(dword_1328DBC) = dword_1328DBC - 1;
LABEL_1211:
            ++BYTE1(dword_132A2BC);
          }
LABEL_1212:
          byte_133004A = 0;
          goto LABEL_1213;
        default:
          goto LABEL_1213;
      }
    case 0x63:
      v48 = -4;
      do
      {
LABEL_354:
        if ( ++v48 > 3 )
          v48 = -3;
        v49 = abs(v48);
        if ( dword_49D890 && dword_49D89C > 200 && dword_49D89C < 280 && dword_49D8A0 > 334 && dword_49D8A0 < 357 )
          sub_4574E0();
        if ( dword_4862F0 )
        {
          sub_4773E0();
          dword_1547438 = (int)dword_6BDF00;
          sub_4562F0();
          x = word_1317E58;
          y = word_1317E5A;
          dword_1547438 = dword_1317E60;
          sub_4705B0();
          sub_4564F0();
          sub_443E60();
          if ( byte_4862F5 <= 0
            || dword_49D89C <= 200
            || dword_49D89C >= 600
            || dword_49D8A0 <= 380
            || dword_49D8A0 >= 392 )
          {
            if ( byte_4862F5 <= 1
              || dword_49D89C <= 200
              || dword_49D89C >= 600
              || dword_49D8A0 <= 410
              || dword_49D8A0 >= 422 )
            {
              if ( byte_4862F5 <= 2
                || dword_49D89C <= 200
                || dword_49D89C >= 600
                || dword_49D8A0 <= 440
                || dword_49D8A0 >= 452 )
              {
                if ( byte_4862F5 <= 3
                  || dword_49D89C <= 200
                  || dword_49D89C >= 600
                  || dword_49D8A0 <= 470
                  || dword_49D8A0 >= 482 )
                {
                  if ( byte_4862F5 > 4
                    && dword_49D89C > 200
                    && dword_49D89C < 600
                    && dword_49D8A0 > 500
                    && dword_49D8A0 < 512 )
                  {
                    sub_4775B0(v49 + 204, v49 + 496, 596 - v49, 516 - v49, 0xFFFF);
                    if ( dword_49D890 )
                      byte_133004A = 5;
                  }
                }
                else
                {
                  sub_4775B0(v49 + 204, v49 + 466, 596 - v49, 486 - v49, 0xFFFF);
                  if ( dword_49D890 )
                    byte_133004A = 4;
                }
              }
              else
              {
                sub_4775B0(v49 + 204, v49 + 436, 596 - v49, 456 - v49, 0xFFFF);
                if ( dword_49D890 )
                  byte_133004A = 3;
              }
            }
            else
            {
              sub_4775B0(v49 + 204, v49 + 406, 596 - v49, 426 - v49, 0xFFFF);
              if ( dword_49D890 )
                byte_133004A = 2;
            }
          }
          else
          {
            sub_4775B0(v49 + 204, v49 + 376, 596 - v49, 396 - v49, 0xFFFF);
            if ( dword_49D890 )
              byte_133004A = 1;
          }
          switch ( byte_4862F5 )
          {
            case 1:
              sub_4775B0(200, 365, 600, 407, 0xFFFF);
              break;
            case 2:
              sub_4775B0(200, 365, 600, 437, 0xFFFF);
              break;
            case 3:
              sub_4775B0(200, 365, 600, 467, 0xFFFF);
              break;
            case 4:
              sub_4775B0(200, 365, 600, 497, 0xFFFF);
              break;
            case 5:
              sub_4775B0(200, 365, 600, 527, 0xFFFF);
              break;
            default:
              break;
          }
          sub_443DA0(3u);
          sub_443C70(100, 100, 100);
          sub_443FC0(402, 342, &byte_48E528);
          sub_443C70(255, 255, 255);
          sub_443FC0(400, 340, &byte_48E528);
          sub_443DA0(0);
          sub_443C70(100, 100, 100);
          sub_443FC0(242, 347, &byte_48E520);
          sub_443C70(255, 255, 255);
          sub_443FC0(240, 345, &byte_48E520);
          sub_4775B0(200, 334, 280, 357, 0xFFFF);
          if ( dword_1322624 == 1 )
          {
            if ( byte_4862F5 > 0 )
            {
              v55 = 100 * dword_49D050 / dword_49D054;
              sub_443C70(0, 0, 255);
              sub_443ED0(222, 382, aTestServer);
              sprintf(&v188, aD, v55);
              sub_443ED0(547, 382, &v188);
              sub_443C70(255, 255, 255);
              sub_443ED0(220, 380, aTestServer);
              sprintf(&v188, aD, v55);
              sub_443ED0(545, 380, &v188);
              if ( v55 >= 80 )
                sub_477600(334, 380, 2 * v55 + 335, 392, 61440, 61440);
              else
                sub_477600(334, 380, 2 * v55 + 335, 392, 31, 31);
              sub_4775B0(334, 380, 536, 392, 0xFFFF);
            }
          }
          else
          {
            if ( byte_4862F5 > 0 )
            {
              v50 = 100 * dword_49D050 / dword_49D054;
              sub_443C70(0, 0, 255);
              sub_443ED0(222, 382, &byte_48E510);
              sprintf(&v188, aD, v50);
              sub_443ED0(547, 382, &v188);
              sub_443C70(255, 255, 255);
              sub_443ED0(220, 380, &byte_48E510);
              sprintf(&v188, aD, v50);
              sub_443ED0(545, 380, &v188);
              if ( v50 >= 80 )
                sub_477600(334, 380, 2 * v50 + 335, 392, 61440, 61440);
              else
                sub_477600(334, 380, 2 * v50 + 335, 392, 31, 31);
              sub_4775B0(334, 380, 536, 392, 0xFFFF);
            }
            if ( byte_4862F5 > 1 )
            {
              v51 = 100 * dword_49D058 / dword_49D05C;
              sub_443C70(0, 0, 255);
              sub_443ED0(227, 412, &byte_48E4F8);
              sprintf(&v188, aD, v51);
              sub_443ED0(547, 412, &v188);
              sub_443C70(255, 255, 255);
              sub_443ED0(225, 410, &byte_48E4F8);
              sprintf(&v188, aD, v51);
              sub_443ED0(545, 410, &v188);
              if ( v51 >= 80 )
                sub_477600(334, 410, 2 * v51 + 335, 422, 61440, 61440);
              else
                sub_477600(334, 410, 2 * v51 + 335, 422, 31, 31);
              sub_4775B0(334, 410, 536, 422, 0xFFFF);
            }
            if ( byte_4862F5 > 2 )
            {
              v52 = 100 * dword_49D060 / dword_49D064;
              sub_443C70(0, 0, 255);
              sub_443ED0(248, 442, &byte_48E4EC);
              sprintf(&v188, aD, v52);
              sub_443ED0(547, 442, &v188);
              sub_443C70(255, 255, 255);
              sub_443ED0(246, 440, &byte_48E4EC);
              sprintf(&v188, aD, v52);
              sub_443ED0(545, 440, &v188);
              if ( v52 >= 80 )
                sub_477600(334, 440, 2 * v52 + 335, 452, 61440, 61440);
              else
                sub_477600(334, 440, 2 * v52 + 335, 452, 31, 31);
              sub_4775B0(334, 440, 536, 452, 0xFFFF);
            }
            if ( byte_4862F5 > 3 )
            {
              v53 = 100 * dword_49D068 / dword_49D06C;
              sub_443C70(0, 0, 255);
              sub_443ED0(265, 472, &byte_48E4E0);
              sprintf(&v188, aD, v53);
              sub_443ED0(547, 472, &v188);
              sub_443C70(255, 255, 255);
              sub_443ED0(263, 470, &byte_48E4E0);
              sprintf(&v188, aD, v53);
              sub_443ED0(545, 470, &v188);
              if ( v53 >= 80 )
                sub_477600(334, 470, 2 * v53 + 335, 482, 61440, 61440);
              else
                sub_477600(334, 470, 2 * v53 + 335, 482, 31, 31);
              sub_4775B0(334, 470, 536, 482, 0xFFFF);
            }
            if ( byte_4862F5 > 4 )
            {
              v54 = 100 * dword_49D070 / dword_49D074;
              sub_443C70(0, 0, 255);
              sub_443ED0(224, 502, &byte_48E4D0);
              sprintf(&v188, aD, v54);
              sub_443ED0(547, 502, &v188);
              sub_443C70(255, 255, 255);
              sub_443ED0(222, 500, &byte_48E4D0);
              sprintf(&v188, aD, v54);
              sub_443ED0(545, 500, &v188);
              if ( v54 >= 80 )
                sub_477600(334, 500, 2 * v54 + 335, 512, 61440, 61440);
              else
                sub_477600(334, 500, 2 * v54 + 335, 512, 31, 31);
              sub_4775B0(334, 500, 536, 512, 0xFFFF);
            }
          }
          sub_443EA0();
          x = dword_49D89C;
          y = dword_49D8A0;
          dword_1547438 = dword_8C8630;
          sub_4702F0();
          nullsub_1();
          sub_479E60();
        }
        sub_479930();
      }
      while ( !byte_133004A );
      byte_49D950 = byte_133004A;
      if ( byte_133004A == 1 )
      {
        if ( dword_1322624 )
        {
          strcpy(byte_49D8E4, a2021431525);
          strcpy(byte_49D8D0, a2021431525);
          v57 = strlen(a2021431525) + 1;
          v58 = v57;
          v57 >>= 2;
          qmemcpy(byte_49D8BC, a2021431525, 4 * v57);
          v60 = &a2021431525[4 * v57];
          v59 = &byte_49D8BC[4 * v57];
          v61 = v58;
          goto LABEL_444;
        }
        strcpy(byte_49D8E4, a21120178198);
        strcpy(byte_49D8D0, a21120178196);
        v56 = a21120178197;
      }
      else
      {
        if ( byte_133004A != 2 )
          goto LABEL_445;
        strcpy(byte_49D8E4, a2112017844);
        strcpy(byte_49D8D0, a2112017841);
        v56 = a2112017842;
      }
      v62 = strlen(v56) + 1;
      v63 = v62;
      v62 >>= 2;
      qmemcpy(byte_49D8BC, v56, 4 * v62);
      v60 = (char *)&v56[4 * v62];
      v59 = &byte_49D8BC[4 * v62];
      v61 = v63;
LABEL_444:
      qmemcpy(v59, v60, v61 & 3);
LABEL_445:
      if ( !byte_13225C0 )
      {
        byte_13225C0 = 1;
        v0 = sub_457630();
        if ( !v0 )
          goto LABEL_474;
      }
      v64 = 0;
      dword_13300E0 = 0;
      memset(byte_1328E98, 0, 0x58Cu);
      v65 = byte_49D88C;
      LOBYTE(dword_132A2BC) = 0;
      byte_1329448 = -1;
      byte_1329332 = -1;
      byte_1329216 = -1;
      byte_13290FA = -1;
      byte_1328FDE = -1;
      byte_1328EC2[0] = -1;
      byte_1550B60[0] = 113;
      byte_1550B61[0] = -9;
      LOBYTE(dword_1550B62) = 7;
      do
      {
        v66 = dword_1325080[v64];
        v64 += 2;
        byte_1550B61[v64] = v65 + v66;
        *((_BYTE *)&dword_1550B62 + v64) = v65 + byte_132507F[v64];
      }
      while ( v64 < 20 );
      v48 = 0;
      do
      {
        v67 = v65 + *(_BYTE *)(v48 + 20092445);
        byte_1550B77[v48] = v65 + *((_BYTE *)dword_132961C + v48);
        byte_1550B78[v48] = v67;
        v48 += 2;
      }
      while ( v48 < 20 );
      sub_479790(43);
      LOBYTE(v0) = byte_13225C0;
      if ( !byte_13225C0 )
      {
LABEL_474:
        byte_1330049 = 1;
        byte_133004A = 0;
        byte_49CFF0 = 0;
        goto LABEL_475;
      }
      byte_49CFF0 = 31;
      v68 = 0;
      do
      {
        while ( 2 )
        {
          if ( dword_4862F0 )
          {
            sub_4773E0();
            dword_1547438 = (int)dword_6BDF00;
            sub_4562F0();
            x = word_1317E58;
            y = word_1317E5A;
            dword_1547438 = dword_1317E60;
            sub_4705B0();
            sub_4564F0();
            sub_443E60();
            if ( byte_49CFF0 == 31 )
            {
              if ( v68 )
              {
                sub_443C70(255, 0, 0);
                sub_443FC0(402, 302, &byte_48E410);
                sub_443C70(255, 255, 255);
                sub_443FC0(400, 300, &byte_48E410);
              }
              else
              {
                sub_443C70(255, 0, 0);
                sub_443FC0(402, 302, &byte_48E42C);
                sub_443C70(255, 255, 255);
                sub_443FC0(400, 300, &byte_48E42C);
              }
            }
            sub_443EA0();
            nullsub_1();
            sub_479E60();
          }
          sub_479930();
          v69 = byte_49CFF0;
          if ( byte_49CFF0 != 31 && byte_49CFF0 != 36 )
          {
            strcpy(dword_1325080, byte_49D994);
            v70 = strlen(byte_49D994) + 1;
            v71 = v70;
            v70 >>= 2;
            qmemcpy(dword_132961C, byte_49D994, 4 * v70);
            v73 = &byte_49D994[4 * v70];
            v72 = &dword_132961C[v70];
            LOBYTE(v70) = v71;
            LOBYTE(v0) = v69 - 33;
            qmemcpy(v72, v73, v70 & 3);
            switch ( v69 )
            {
              case 33:
                v68 = 1;
                byte_49CFF0 = 31;
                continue;
              case 34:
                sub_456CE0((LPCSTR)&unk_48E3F8, byte_49D994);
                goto LABEL_472;
              case 35:
                sub_456CE0((LPCSTR)&unk_48E3B8, (LPCSTR)&unk_48E3E8);
                goto LABEL_472;
              case 37:
                byte_1330049 = 5;
                byte_133004A = 0;
                return v0;
              case 46:
                byte_1330049 = 99;
                byte_133004A = 0;
                goto LABEL_354;
              case 48:
                sub_456CE0((LPCSTR)&unk_48E33C, (LPCSTR)&unk_48E37C);
                goto LABEL_472;
              case 49:
                sub_456CE0((LPCSTR)&unk_48E2E4, (LPCSTR)&unk_48E30C);
                goto LABEL_472;
              case 50:
                sub_456CE0((LPCSTR)&unk_48E2BC, (LPCSTR)&unk_48E30C);
                goto LABEL_472;
              case 51:
                sub_456CE0(&byte_48E230, &byte_48E27C);
LABEL_472:
                LOBYTE(v0) = s;
                if ( s )
                {
                  LOBYTE(v0) = closesocket(s);
                  s = 0;
                }
                goto LABEL_474;
              default:
                goto LABEL_354;
            }
            goto LABEL_354;
          }
          break;
        }
      }
      while ( !byte_133012F );
      LOBYTE(v0) = s;
      if ( s )
      {
        LOBYTE(v0) = closesocket(s);
        s = 0;
      }
      byte_49CFF0 = 0;
      byte_1330049 = 1;
      byte_133004A = 0;
      byte_13225C0 = 0;
      return v0;
    case 0x64:
      dword_132961C[0] = 0;
      dword_1329620 = 0;
      dword_1328E7C = 0;
      dword_1329624 = 0;
      dword_1328E80 = 0;
      dword_1329628 = 0;
      *(_DWORD *)dword_1325080 = 0;
      dword_132962C = 0;
      dword_1328E84 = 0;
      byte_1329630 = 0;
      *(_DWORD *)dword_132FFD0 = 0;
      dword_132FFD4 = 0;
      dword_1325084 = 0;
      dword_1328E88 = 0;
      dword_132FFD8 = 0;
      dword_1325088 = 0;
      dword_1328E8C = 0;
      dword_132FFDC = 0;
      dword_132508C = 0;
      byte_1328E90 = 0;
      dword_132FFE0 = 0;
      dword_1325090 = 0;
      byte_132FFE4 = 0;
      byte_1325094 = 0;
      *(_DWORD *)dword_1324F5C = 0;
      memset((void *)&byte_1322688, 0, 0x1Cu);
      dword_1324F60 = 0;
      v1 = 31;
      dword_1324F64 = 0;
      dword_1324F68 = 0;
      *((_WORD *)&byte_1322688 + 14) = 0;
      dword_1324F6C = 0;
      byte_1324F70 = 0;
      *((_BYTE *)&byte_1322688 + 30) = 0;
      while ( 1 )
      {
        if ( dword_4862F0 )
        {
          sub_4773E0();
          dword_1547438 = (int)dword_6BDF00;
          sub_4562F0();
          x = word_1317E58;
          y = word_1317E5A;
          dword_1547438 = dword_1317E60;
          LOBYTE(dword_1547948) = v1;
          dword_1330668(dword_1317E60);
          sub_4564F0();
          nullsub_1();
          sub_479E60();
        }
        sub_479930();
        LOBYTE(v0) = dword_1330110;
        if ( dword_1330110 )
          break;
        if ( --v1 <= 0 )
        {
          v2 = 31;
          do
          {
            if ( dword_4862F0 )
            {
              sub_4773E0();
              dword_1547438 = (int)dword_6BDF00;
              sub_4562F0();
              x = word_1317E58;
              y = word_1317E5A;
              dword_1547438 = dword_1317E60;
              sub_4705B0();
              sub_4564F0();
              nullsub_1();
              sub_479E60();
            }
            sub_479930();
            LOBYTE(v0) = dword_1330110;
            if ( dword_1330110 )
              break;
            --v2;
          }
          while ( v2 > 0 );
          break;
        }
      }
      dword_1330110 = 0;
      byte_1330049 = 1;
      return v0;
    default:
      return v0;
  }
}
// 1547944: invalid function type has been ignored
// 409C20: using guessed type int nullsub_1(void);
// 4862F0: using guessed type int dword_4862F0;
// 4862F5: using guessed type char byte_4862F5;
// 48CF9C: using guessed type int dword_48CF9C;
// 48CFA0: using guessed type int dword_48CFA0;
// 48D605: using guessed type char byte_48D605;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D050: using guessed type int dword_49D050;
// 49D054: using guessed type int dword_49D054;
// 49D058: using guessed type int dword_49D058;
// 49D05C: using guessed type int dword_49D05C;
// 49D060: using guessed type int dword_49D060;
// 49D064: using guessed type int dword_49D064;
// 49D068: using guessed type int dword_49D068;
// 49D06C: using guessed type int dword_49D06C;
// 49D070: using guessed type int dword_49D070;
// 49D074: using guessed type int dword_49D074;
// 49D88C: using guessed type char byte_49D88C;
// 49D890: using guessed type int dword_49D890;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 49D950: using guessed type char byte_49D950;
// 4BBE88: using guessed type int dword_4BBE88;
// 4BBF10: using guessed type int dword_4BBF10;
// 4BBF28: using guessed type int dword_4BBF28;
// 4BDEF8: using guessed type int dword_4BDEF8;
// 8C8630: using guessed type int dword_8C8630;
// 8C8718: using guessed type int dword_8C8718;
// 8C87A0: using guessed type int dword_8C87A0;
// 8C87B0: using guessed type int dword_8C87B0;
// 8D39C8: using guessed type int dword_8D39C8;
// 8D39D8: using guessed type int dword_8D39D8;
// 8D3C10: using guessed type int dword_8D3C10;
// 8D3C20: using guessed type int dword_8D3C20;
// 8D3C24: using guessed type int dword_8D3C24[];
// 11FDD38: using guessed type int dword_11FDD38;
// 11FDD48: using guessed type int dword_11FDD48;
// 11FDD50: using guessed type int dword_11FDD50;
// 11FDD54: using guessed type int dword_11FDD54;
// 11FDD5C: using guessed type int dword_11FDD5C;
// 11FDD60: using guessed type int dword_11FDD60;
// 11FDD68: using guessed type int dword_11FDD68;
// 11FDD6C: using guessed type int dword_11FDD6C;
// 11FDD78: using guessed type int dword_11FDD78;
// 11FDD84: using guessed type int dword_11FDD84;
// 11FDD90: using guessed type int dword_11FDD90;
// 12081F0: using guessed type int dword_12081F0;
// 1308200: using guessed type int dword_1308200;
// 1308310: using guessed type int dword_1308310;
// 1308320: using guessed type int dword_1308320;
// 13083A8: using guessed type int dword_13083A8;
// 13083AC: using guessed type int dword_13083AC[];
// 13083C4: using guessed type int dword_13083C4[];
// 13083E4: using guessed type int dword_13083E4[];
// 1317DB8: using guessed type int dword_1317DB8;
// 1317E40: using guessed type int dword_1317E40;
// 1317E58: using guessed type __int16 word_1317E58;
// 1317E5A: using guessed type __int16 word_1317E5A;
// 1317E60: using guessed type int dword_1317E60;
// 13225C0: using guessed type char byte_13225C0;
// 1322624: using guessed type int dword_1322624;
// 1322664: using guessed type int dword_1322664;
// 1322684: using guessed type int dword_1322684;
// 13226A7: using guessed type char byte_13226A7;
// 13226A8: using guessed type char byte_13226A8;
// 13226AC: using guessed type int dword_13226AC;
// 13226C9: using guessed type char byte_13226C9;
// 1324684: using guessed type int dword_1324684;
// 13246E0: using guessed type int dword_13246E0;
// 1324F60: using guessed type int dword_1324F60;
// 1324F64: using guessed type int dword_1324F64;
// 1324F68: using guessed type int dword_1324F68;
// 1324F6C: using guessed type int dword_1324F6C;
// 1324F70: using guessed type char byte_1324F70;
// 1325084: using guessed type int dword_1325084;
// 1325088: using guessed type int dword_1325088;
// 132508C: using guessed type int dword_132508C;
// 1325090: using guessed type int dword_1325090;
// 1325094: using guessed type char byte_1325094;
// 1328DBC: using guessed type int dword_1328DBC;
// 1328DEF: using guessed type char byte_1328DEF;
// 1328E7C: using guessed type int dword_1328E7C;
// 1328E80: using guessed type int dword_1328E80;
// 1328E84: using guessed type int dword_1328E84;
// 1328E88: using guessed type int dword_1328E88;
// 1328E8C: using guessed type int dword_1328E8C;
// 1328E90: using guessed type char byte_1328E90;
// 1328ED4: using guessed type __int16 word_1328ED4[];
// 1328EE8: using guessed type int dword_1328EE8[];
// 1328FB0: using guessed type __int16 word_1328FB0[];
// 1328FDE: using guessed type char byte_1328FDE;
// 13290FA: using guessed type char byte_13290FA;
// 1329216: using guessed type char byte_1329216;
// 1329332: using guessed type char byte_1329332;
// 1329448: using guessed type char byte_1329448;
// 132961C: using guessed type int dword_132961C[];
// 1329620: using guessed type int dword_1329620;
// 1329624: using guessed type int dword_1329624;
// 1329628: using guessed type int dword_1329628;
// 132962C: using guessed type int dword_132962C;
// 1329630: using guessed type char byte_1329630;
// 1329631: using guessed type char byte_1329631;
// 1329748: using guessed type int dword_1329748;
// 1329F70: using guessed type int dword_1329F70;
// 132A268: using guessed type int dword_132A268;
// 132A290: using guessed type int dword_132A290;
// 132A298: using guessed type int dword_132A298;
// 132A2BC: using guessed type int dword_132A2BC;
// 132FFD4: using guessed type int dword_132FFD4;
// 132FFD8: using guessed type int dword_132FFD8;
// 132FFDC: using guessed type int dword_132FFDC;
// 132FFE0: using guessed type int dword_132FFE0;
// 132FFE4: using guessed type char byte_132FFE4;
// 132FFE8: using guessed type int dword_132FFE8;
// 1330049: using guessed type char byte_1330049;
// 133004A: using guessed type char byte_133004A;
// 133006C: using guessed type int dword_133006C;
// 13300D9: using guessed type char byte_13300D9;
// 13300DC: using guessed type int dword_13300DC;
// 13300E0: using guessed type int dword_13300E0;
// 1330110: using guessed type int dword_1330110;
// 133012F: using guessed type char byte_133012F;
// 1330668: using guessed type int (__thiscall *dword_1330668)(_DWORD);
// 1330788: using guessed type int (*dword_1330788)(void);
// 13315BC: using guessed type int dword_13315BC;
// 13315C0: using guessed type __int16 word_13315C0;
// 1547438: using guessed type int dword_1547438;
// 1547454: using guessed type int (*dword_1547454)(void);
// 1547944: using guessed type int (*dword_1547944)(void);
// 1547948: using guessed type int dword_1547948;
// 1550B62: using guessed type int dword_1550B62;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;
// 1550B81: using guessed type char byte_1550B81;
// 1550B82: using guessed type char byte_1550B82;
// 1550B83: using guessed type char byte_1550B83;
// 1550B84: using guessed type char byte_1550B84;
// 1560A78: using guessed type char byte_1560A78;
// 156FEB0: using guessed type int dword_156FEB0;
// 457840: using guessed type CHAR String[24];
// 457840: using guessed type CHAR var_220[20];
// 457840: using guessed type CHAR var_26C[20];
// 457840: using guessed type CHAR var_254[20];

//----- (0045DEE0) --------------------------------------------------------
int __cdecl sub_45DEE0(int a1)
{
  char v1; // bl
  int v2; // esi
  int result; // eax
  int v4; // esi
  char v5; // al
  char v6; // bl
  bool v7; // sf
  unsigned __int8 v8; // of
  signed int v9; // ebx
  char *v10; // edi
  char *v11; // ecx
  int v12; // eax
  int v13; // edx
  char *v14; // edi
  char *v15; // ecx
  int v16; // edx
  char v17; // [esp+10h] [ebp-4h]
  int v18; // [esp+18h] [ebp+4h]
  int v19; // [esp+18h] [ebp+4h]

  v1 = byte_1328E45;
  if ( byte_1328E45 != 5 && byte_1328E45 != 6 )
  {
LABEL_9:
    result = a1;
    switch ( a1 )
    {
      case 112:
        v4 = dword_13300E8;
        break;
      case 113:
        v4 = dword_13300EC;
        break;
      case 114:
        v4 = dword_13300F0;
        break;
      case 115:
        v4 = dword_13300F4;
        break;
      case 116:
        v4 = dword_13300F8;
        break;
      case 117:
        v4 = dword_13300FC;
        break;
      case 118:
        v4 = dword_1330100;
        break;
      case 119:
        v4 = dword_1330104;
        break;
      case 120:
        v4 = dword_1330108;
        break;
      case 121:
        v4 = dword_133010C;
        break;
      default:
        v4 = a1;
        break;
    }
    if ( v4 )
    {
      byte_1328E45 = 5;
      v5 = v1;
      v6 = byte_131AC00;
      v17 = v5;
      v18 = 0;
      do
      {
        byte_131AC00 = v18;
        sub_444140();
        v8 = __OFSUB__(v18 + 1, 6);
        v7 = v18++ - 5 < 0;
      }
      while ( v7 ^ v8 );
      byte_131AC00 = v6;
      byte_1328E45 = 6;
      v19 = (unsigned __int8)byte_131D68C;
      v9 = 0;
      do
      {
        byte_131D68C = v9;
        sub_444140();
        ++v9;
      }
      while ( v9 < 5 );
      byte_131D68C = v19;
      byte_1328E45 = v17;
      v10 = byte_48C3B8;
      v11 = byte_48C2F0;
      while ( 1 )
      {
        v12 = 0;
        v13 = (unsigned __int8)*v10;
        if ( v13 > 0 )
          break;
LABEL_30:
        v11 += 15;
        ++v10;
        if ( (signed int)v11 >= (signed int)&unk_48C34A )
        {
          v14 = byte_48C3C0;
          v15 = byte_48C34C;
          while ( 1 )
          {
            result = 0;
            v16 = (unsigned __int8)*v14;
            if ( v16 > 0 )
              break;
LABEL_35:
            v15 += 15;
            ++v14;
            if ( (signed int)v15 >= (signed int)&unk_48C397 )
              return result;
          }
          while ( v4 != v15[result] + 200 )
          {
            if ( ++result >= v16 )
              goto LABEL_35;
          }
          goto LABEL_37;
        }
      }
      while ( v4 != v11[v12] + 100 )
      {
        if ( ++v12 >= v13 )
          goto LABEL_30;
      }
LABEL_37:
      result = sub_416860(19, 0, 0, 0, 0);
      dword_48CF68 = v4;
      dword_48CF70 = v4;
    }
  }
  else
  {
    v2 = 0;
    while ( 1 )
    {
      if ( dword_49D89C > 85 * (v2 % 3) + 534
        && dword_49D89C < 85 * (v2 % 3) + 584
        && dword_49D8A0 > 70 * (v2 / 3) + 114 )
      {
        result = 70 * (v2 / 3) + 164;
        if ( dword_49D8A0 < result )
          break;
      }
      if ( ++v2 >= 12 )
        goto LABEL_9;
    }
  }
  return result;
}
// 48CF68: using guessed type int dword_48CF68;
// 48CF70: using guessed type int dword_48CF70;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 131AC00: using guessed type char byte_131AC00;
// 131D68C: using guessed type char byte_131D68C;
// 1328E45: using guessed type char byte_1328E45;
// 13300E8: using guessed type int dword_13300E8;
// 13300EC: using guessed type int dword_13300EC;
// 13300F0: using guessed type int dword_13300F0;
// 13300F4: using guessed type int dword_13300F4;
// 13300F8: using guessed type int dword_13300F8;
// 13300FC: using guessed type int dword_13300FC;
// 1330100: using guessed type int dword_1330100;
// 1330104: using guessed type int dword_1330104;
// 1330108: using guessed type int dword_1330108;
// 133010C: using guessed type int dword_133010C;

//----- (0045E100) --------------------------------------------------------
char __cdecl sub_45E100(int a1)
{
  int *v1; // eax
  int *v2; // eax
  int *v3; // eax
  int *v4; // eax
  int *v5; // eax
  int *v6; // eax
  int *v7; // eax
  int *v8; // eax
  int *v9; // eax
  char result; // al
  int *v11; // eax
  FILE *v12; // edi
  int *v13; // esi

  if ( byte_1330184 )
  {
    v1 = &dword_13300E8;
    do
    {
      if ( *v1 == a1 )
        *v1 = 0;
      ++v1;
    }
    while ( (signed int)v1 < (signed int)&dword_1330110 );
    dword_13300E8 = a1;
  }
  else if ( byte_1330185 )
  {
    v2 = &dword_13300E8;
    do
    {
      if ( *v2 == a1 )
        *v2 = 0;
      ++v2;
    }
    while ( (signed int)v2 < (signed int)&dword_1330110 );
    dword_13300EC = a1;
  }
  else if ( byte_1330186 )
  {
    v3 = &dword_13300E8;
    do
    {
      if ( *v3 == a1 )
        *v3 = 0;
      ++v3;
    }
    while ( (signed int)v3 < (signed int)&dword_1330110 );
    dword_13300F0 = a1;
  }
  else if ( byte_1330187 )
  {
    v4 = &dword_13300E8;
    do
    {
      if ( *v4 == a1 )
        *v4 = 0;
      ++v4;
    }
    while ( (signed int)v4 < (signed int)&dword_1330110 );
    dword_13300F4 = a1;
  }
  else if ( byte_1330188 )
  {
    v5 = &dword_13300E8;
    do
    {
      if ( *v5 == a1 )
        *v5 = 0;
      ++v5;
    }
    while ( (signed int)v5 < (signed int)&dword_1330110 );
    dword_13300F8 = a1;
  }
  else if ( byte_1330189 )
  {
    v6 = &dword_13300E8;
    do
    {
      if ( *v6 == a1 )
        *v6 = 0;
      ++v6;
    }
    while ( (signed int)v6 < (signed int)&dword_1330110 );
    dword_13300FC = a1;
  }
  else if ( byte_133018A )
  {
    v7 = &dword_13300E8;
    do
    {
      if ( *v7 == a1 )
        *v7 = 0;
      ++v7;
    }
    while ( (signed int)v7 < (signed int)&dword_1330110 );
    dword_1330100 = a1;
  }
  else if ( byte_133018B )
  {
    v8 = &dword_13300E8;
    do
    {
      if ( *v8 == a1 )
        *v8 = 0;
      ++v8;
    }
    while ( (signed int)v8 < (signed int)&dword_1330110 );
    dword_1330104 = a1;
  }
  else if ( byte_133018C )
  {
    v9 = &dword_13300E8;
    do
    {
      if ( *v9 == a1 )
        *v9 = 0;
      ++v9;
    }
    while ( (signed int)v9 < (signed int)&dword_1330110 );
    dword_1330108 = a1;
  }
  else
  {
    result = byte_133018D;
    if ( !byte_133018D )
      return result;
    v11 = &dword_13300E8;
    do
    {
      if ( *v11 == a1 )
        *v11 = 0;
      ++v11;
    }
    while ( (signed int)v11 < (signed int)&dword_1330110 );
    dword_133010C = a1;
  }
  v12 = fopen(aHotkeyBin, aWt);
  if ( v12 )
  {
    v13 = &dword_13300E8;
    do
    {
      fprintf(v12, a03d, *v13);
      ++v13;
    }
    while ( (signed int)v13 < (signed int)&dword_1330110 );
    result = fclose(v12);
  }
  else
  {
    result = 0;
    memset(&dword_13300E8, 0, 0x28u);
  }
  return result;
}
// 13300E8: using guessed type int dword_13300E8;
// 13300EC: using guessed type int dword_13300EC;
// 13300F0: using guessed type int dword_13300F0;
// 13300F4: using guessed type int dword_13300F4;
// 13300F8: using guessed type int dword_13300F8;
// 13300FC: using guessed type int dword_13300FC;
// 1330100: using guessed type int dword_1330100;
// 1330104: using guessed type int dword_1330104;
// 1330108: using guessed type int dword_1330108;
// 133010C: using guessed type int dword_133010C;
// 1330110: using guessed type int dword_1330110;
// 1330184: using guessed type char byte_1330184;
// 1330185: using guessed type char byte_1330185;
// 1330186: using guessed type char byte_1330186;
// 1330187: using guessed type char byte_1330187;
// 1330188: using guessed type char byte_1330188;
// 1330189: using guessed type char byte_1330189;
// 133018A: using guessed type char byte_133018A;
// 133018B: using guessed type char byte_133018B;
// 133018C: using guessed type char byte_133018C;
// 133018D: using guessed type char byte_133018D;

//----- (0045E2F0) --------------------------------------------------------
int sub_45E2F0()
{
  FILE *v0; // edi
  int *v1; // esi
  int result; // eax
  char v3; // [esp+4h] [ebp-Ch]

  v0 = fopen(aHotkeyBin, aRt);
  if ( v0 )
  {
    v1 = &dword_13300E8;
    do
    {
      sub_41BFF0(v0, (int)&v3);
      *v1 = atoi(&v3);
      ++v1;
    }
    while ( (signed int)v1 < (signed int)&dword_1330110 );
    result = fclose(v0);
  }
  else
  {
    result = 0;
    memset(&dword_13300E8, 0, 0x28u);
  }
  return result;
}
// 13300E8: using guessed type int dword_13300E8;
// 1330110: using guessed type int dword_1330110;

//----- (0045E3C0) --------------------------------------------------------
char __cdecl sub_45E3C0(int a1)
{
  char result; // al

  switch ( a1 )
  {
    case 49:
    case 50:
    case 51:
    case 52:
    case 53:
    case 54:
      if ( byte_1328E45 == 5 )
      {
        sub_416860(21, 0, 0, 0, 0);
        byte_131AC00 = a1 - 49;
        goto LABEL_28;
      }
      if ( byte_1328E45 != 6 )
        goto LABEL_29;
      sub_416860(21, 0, 0, 0, 0);
      byte_131D68C = a1 - 49;
      if ( (unsigned __int8)(a1 - 49) > 4u )
        byte_131D68C = 4;
      goto LABEL_28;
    case 66:
      sub_416860(12, 0, 0, 0, 0);
      result = 8;
      if ( byte_1328E45 == 8 )
        goto LABEL_22;
      byte_1328E45 = 8;
      return result;
    case 67:
      sub_416860(12, 0, 0, 0, 0);
      result = 1;
      if ( byte_1328E45 == 1 )
        goto LABEL_22;
      byte_1328E45 = 1;
      return result;
    case 68:
      if ( byte_1328EC3[284 * byte_1329448] == 2 )
        goto LABEL_29;
      sub_416860(12, 0, 0, 0, 0);
      byte_1328E45 = byte_1328E45 == 6 ? 0 : 6;
      goto LABEL_28;
    case 71:
      sub_416860(12, 0, 0, 0, 0);
      result = 7;
      if ( byte_1328E45 == 7 )
        goto LABEL_22;
      byte_1328E45 = 7;
      return result;
    case 72:
      if ( byte_1328EC3[284 * byte_1329448] != 2 )
      {
        sub_416860(12, 0, 0, 0, 0);
        byte_1328E45 = byte_1328E45 == 5 ? 0 : 5;
LABEL_28:
        sub_444140();
      }
      goto LABEL_29;
    case 73:
      if ( !byte_133005C || *((_DWORD *)(&lpString)[dword_131D690] + 23) )
        goto LABEL_29;
      sub_416860(12, 0, 0, 0, 0);
      result = 3;
      if ( byte_1328E45 == 3 )
        goto LABEL_22;
      byte_1328E45 = 3;
      return result;
    case 77:
      sub_416860(12, 0, 0, 0, 0);
      result = 10;
      if ( byte_1328E45 == 10 )
        goto LABEL_22;
      byte_133009C = 0;
      byte_1328E45 = 10;
      return result;
    case 78:
      sub_416860(12, 0, 0, 0, 0);
      result = 9;
      if ( byte_1328E45 == 9 )
        goto LABEL_22;
      byte_1328E45 = 9;
      break;
    case 83:
      sub_416860(12, 0, 0, 0, 0);
      result = 2;
      if ( byte_1328E45 == 2 )
      {
LABEL_22:
        byte_1328E45 = 0;
        dword_1330064 = 0;
      }
      else
      {
        byte_1328E45 = 2;
      }
      break;
    default:
LABEL_29:
      result = byte_1328E45;
      if ( !byte_1328E45 )
        dword_1330064 = 0;
      break;
  }
  return result;
}
// 131AC00: using guessed type char byte_131AC00;
// 131D68C: using guessed type char byte_131D68C;
// 131D690: using guessed type int dword_131D690;
// 1328E45: using guessed type char byte_1328E45;
// 1329448: using guessed type char byte_1329448;
// 133005C: using guessed type char byte_133005C;
// 1330064: using guessed type int dword_1330064;
// 133009C: using guessed type char byte_133009C;

//----- (0045E680) --------------------------------------------------------
int sub_45E680()
{
  int result; // eax

  result = 0;
  memset(byte_1330114, 0, 0x100u);
  dword_1330110 = 0;
  return result;
}
// 1330110: using guessed type int dword_1330110;

//----- (0045E6A0) --------------------------------------------------------
void sub_45E6A0()
{
  if ( byte_1330214 == 1 )
  {
    fwrite(byte_1330114, 0x100u, 1u, dword_49D898);
    fwrite(&dword_49D89C, 4u, 1u, dword_49D898);
    fwrite(&dword_49D8A0, 4u, 1u, dword_49D898);
    fwrite(&dword_49D890, 4u, 1u, dword_49D898);
    fwrite(&dword_49D870, 4u, 1u, dword_49D898);
  }
  else if ( byte_1330214 == 2 )
  {
    if ( fread(byte_1330114, 0x100u, 1u, dword_49D898) )
    {
      fread(&dword_49D89C, 4u, 1u, dword_49D898);
      fread(&dword_49D8A0, 4u, 1u, dword_49D898);
      fread(&dword_49D890, 4u, 1u, dword_49D898);
      fread(&dword_49D870, 4u, 1u, dword_49D898);
    }
    else
    {
      fclose(dword_49D898);
      byte_1330214 = 0;
      if ( byte_1317E78 )
      {
        sub_4169E0();
        PostQuitMessage(0);
      }
    }
  }
}
// 49D870: using guessed type int dword_49D870;
// 49D890: using guessed type int dword_49D890;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 1317E78: using guessed type char byte_1317E78;
// 1330214: using guessed type char byte_1330214;

//----- (0045E7D0) --------------------------------------------------------
signed int __cdecl sub_45E7D0(unsigned int a1, int a2)
{
  signed int v2; // ecx
  char v4; // [esp+0h] [ebp-104h]

  if ( dword_1322624 && *(_DWORD *)(a2 + 52) == dword_131D690 )
  {
    if ( a1 >= 0xC8 )
      v2 = (unsigned __int8)byte_48E728[a1];
    else
      v2 = (unsigned __int8)byte_48E760[a1];
    if ( (unsigned __int16)dword_132FFFC < v2 )
    {
      sprintf(&v4, &byte_48E814, v2);
      sub_422E80(&v4, 3);
      return 0;
    }
    LOWORD(dword_132FFFC) = dword_132FFFC - v2;
    *(_WORD *)(a2 + 90) = dword_132FFFC;
  }
  return 1;
}
// 131D690: using guessed type int dword_131D690;
// 1322624: using guessed type int dword_1322624;
// 132FFFC: using guessed type int dword_132FFFC;

//----- (0045E870) --------------------------------------------------------
signed int __cdecl sub_45E870(unsigned int a1, int a2, int a3)
{
  int v3; // edi
  int v4; // ecx
  LPCSTR *v5; // edx
  signed int result; // eax
  int v7; // eax
  int v8; // eax
  unsigned int v9; // eax
  int v10; // ecx
  int v11; // ecx
  signed __int64 v12; // rax
  signed __int64 v13; // rax
  signed __int64 v14; // rax
  signed __int64 v15; // rax
  int v16; // edi
  int *v17; // ebp
  signed __int64 v18; // rax
  signed __int64 v19; // rax
  signed __int64 v20; // rax
  signed __int64 v21; // rax
  int v22; // edi
  int *v23; // ebp
  signed __int64 v24; // rax
  signed __int64 v25; // rax
  signed __int64 v26; // rax
  signed __int64 v27; // rax
  int v28; // edi
  int *v29; // ebp
  unsigned int v30; // eax
  int v31; // ecx
  int v32; // ecx
  bool v33; // zf
  signed __int64 v34; // rax
  signed __int64 v35; // rax
  signed __int64 v36; // rax
  signed __int64 v37; // rax
  int v38; // edi
  int *v39; // ebp
  signed __int64 v40; // rax
  signed __int64 v41; // rax
  signed __int64 v42; // rax
  signed __int64 v43; // rax
  int v44; // edi
  int *v45; // ebp

  if ( a1 == 118 )
  {
    v3 = 0;
    v4 = 0;
    if ( dword_1317E74 > 0 )
    {
      v5 = &lpString;
      while ( (*v5)[48] != 5 || *((_DWORD *)*v5 + 159) != 118 || ++v3 <= 19 )
      {
        ++v4;
        ++v5;
        if ( v4 >= dword_1317E74 )
          goto LABEL_8;
      }
      sub_422E80((const char *)&unk_48E8D4, 3);
      return 0;
    }
  }
LABEL_8:
  if ( *(_DWORD *)(a2 + 636) == 209 )
  {
    sub_422E80((const char *)&unk_48E8F8, 3);
    return 0;
  }
  if ( a1 >= 0xC8 )
    v7 = byte_48E688[a1];
  else
    v7 = (unsigned __int8)byte_48E6C0[a1];
  if ( !v7 )
  {
    if ( *(_DWORD *)(a3 + 636) == 211 )
    {
      sub_422E80((const char *)&unk_48E830, 3);
      return 0;
    }
    return sub_45E7D0(a1, a2) != 0;
  }
  v8 = v7 - 1;
  if ( !v8 )
  {
    v30 = *(_DWORD *)(a3 + 636);
    if ( v30 == -1 )
    {
      result = sub_45E7D0(a1, a2);
      if ( result )
      {
        if ( a1 == 111 || a1 == 115 || a1 == 122 )
          return 0;
        result = 1;
      }
      return result;
    }
    if ( v30 >= 0xC8 )
      v31 = byte_48E688[v30];
    else
      v31 = (unsigned __int8)byte_48E6C0[v30];
    if ( !v31 )
      return sub_45E7D0(a1, a2) != 0;
    v32 = v31 - 1;
    if ( !v32 )
    {
      if ( *(_DWORD *)(a2 + 52) != dword_131D690 || a2 != a3 )
      {
        sub_422E80((const char *)&unk_48E860, 3);
        result = 0;
      }
      else
      {
        result = sub_45E7D0(a1, a2);
        if ( result )
        {
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 113;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a3 + 56);
          v40 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
          LOBYTE(dword_1550B67) = BYTE1(v40);
          BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a3 + 112) * 0.025);
          v41 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
          BYTE2(dword_1550B67) = BYTE1(v41);
          HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
          dword_1550B6B = *(_DWORD *)(a3 + 56);
          v42 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
          byte_1550B6F = BYTE1(v42);
          byte_1550B70 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
          v43 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
          byte_1550B71 = BYTE1(v43);
          byte_1550B72 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
          sub_42EA60(a3, &byte_1550B73);
          byte_1550B78[0] = *(_DWORD *)(a3 + 636) >> 24;
          byte_1550B79 = *(_DWORD *)(a3 + 636) >> 16;
          byte_1550B7A = *(_WORD *)(a3 + 636) >> 8;
          byte_1550B7B = *(_BYTE *)(a3 + 636);
          sub_479790(28);
          v44 = 0;
          if ( dword_1317E74 > 0 )
          {
            v45 = (int *)&lpString;
            do
            {
              if ( *(_BYTE *)(*v45 + 48) == 5 && *(_DWORD *)(*v45 + 628) == a3 )
              {
                sub_41CE40(*v45);
                --v44;
                --v45;
              }
              ++v44;
              ++v45;
            }
            while ( v44 < dword_1317E74 );
          }
          byte_49D965 = 0;
          result = 1;
        }
      }
      return result;
    }
    if ( v32 != 1 )
      return sub_45E7D0(a1, a2) != 0;
    if ( a1 == 105 )
    {
      if ( v30 != 104 )
        goto LABEL_66;
    }
    else
    {
      if ( a1 == 111 )
      {
        v33 = v30 == 110;
      }
      else
      {
        if ( a1 != 115 )
        {
          if ( a1 != 122 || v30 != 121 )
            goto LABEL_66;
          goto LABEL_71;
        }
        v33 = v30 == 114;
      }
      if ( !v33 )
      {
LABEL_66:
        sub_422E80((const char *)&unk_48E87C, 3);
        return 0;
      }
    }
LABEL_71:
    result = sub_45E7D0(a1, a2);
    if ( result )
    {
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      LOBYTE(dword_1550B62) = 113;
      *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a2 + 56);
      v34 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
      LOBYTE(dword_1550B67) = BYTE1(v34);
      BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a2 + 112) * 0.025);
      v35 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
      BYTE2(dword_1550B67) = BYTE1(v35);
      HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
      dword_1550B6B = *(_DWORD *)(a3 + 56);
      v36 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
      byte_1550B6F = BYTE1(v36);
      byte_1550B70 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
      v37 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
      byte_1550B71 = BYTE1(v37);
      byte_1550B72 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
      sub_42EA60(a3, &byte_1550B73);
      byte_1550B78[0] = *(_DWORD *)(a3 + 636) >> 24;
      byte_1550B79 = *(_DWORD *)(a3 + 636) >> 16;
      byte_1550B7A = *(_WORD *)(a3 + 636) >> 8;
      byte_1550B7B = *(_BYTE *)(a3 + 636);
      sub_479790(28);
      v38 = 0;
      if ( dword_1317E74 > 0 )
      {
        v39 = (int *)&lpString;
        do
        {
          if ( *(_DWORD *)(*v39 + 628) == a3 )
          {
            sub_41CE40(*v39);
            --v38;
            --v39;
          }
          ++v38;
          ++v39;
        }
        while ( v38 < dword_1317E74 );
      }
      byte_49D965 = 0;
      result = 1;
    }
    return result;
  }
  if ( v8 != 1 )
    return sub_45E7D0(a1, a2) != 0;
  v9 = *(_DWORD *)(a3 + 636);
  if ( v9 == -1 )
    return sub_45E7D0(a1, a2) != 0;
  v10 = v9 >= 0xC8 ? byte_48E688[v9] : (unsigned __int8)byte_48E6C0[v9];
  if ( !v10 )
    return sub_45E7D0(a1, a2) != 0;
  v11 = v10 - 1;
  if ( v11 )
  {
    if ( v11 == 1 )
    {
      sub_422E80((const char *)&unk_48E8AC, 3);
      return 0;
    }
    return sub_45E7D0(a1, a2) != 0;
  }
  switch ( v9 )
  {
    case 0x65u:
    case 0x66u:
    case 0x67u:
    case 0x6Eu:
    case 0x77u:
    case 0x8Au:
    case 0xC9u:
    case 0xCAu:
    case 0xCBu:
    case 0xD3u:
      goto LABEL_35;
    case 0x68u:
    case 0x79u:
    case 0xCCu:
    case 0xD4u:
      goto LABEL_44;
    case 0x6Du:
    case 0xC8u:
    case 0xD0u:
    case 0xE1u:
      if ( a1 == 110 )
      {
        result = sub_45E7D0(0x6Eu, a2);
        if ( result )
        {
          byte_1550B60[0] = -9;
          byte_1550B61[0] = 113;
          LOBYTE(dword_1550B62) = 113;
          *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a2 + 56);
          v12 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
          LOBYTE(dword_1550B67) = BYTE1(v12);
          BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a2 + 112) * 0.025);
          v13 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
          BYTE2(dword_1550B67) = BYTE1(v13);
          HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
          dword_1550B6B = *(_DWORD *)(a3 + 56);
          v14 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
          byte_1550B6F = BYTE1(v14);
          byte_1550B70 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
          v15 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
          byte_1550B71 = BYTE1(v15);
          byte_1550B72 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
          sub_42EA60(a3, &byte_1550B73);
          byte_1550B78[0] = *(_DWORD *)(a3 + 636) >> 24;
          byte_1550B79 = *(_DWORD *)(a3 + 636) >> 16;
          byte_1550B7A = *(_WORD *)(a3 + 636) >> 8;
          byte_1550B7B = *(_BYTE *)(a3 + 636);
          sub_479790(28);
          v16 = 0;
          if ( dword_1317E74 > 0 )
          {
            v17 = (int *)&lpString;
            do
            {
              if ( *(_DWORD *)(*v17 + 628) == a3 )
              {
                sub_41CE40(*v17);
                --v16;
                --v17;
              }
              ++v16;
              ++v17;
            }
            while ( v16 < dword_1317E74 );
          }
          byte_49D965 = 0;
          result = 1;
        }
      }
      else
      {
LABEL_35:
        if ( a1 != 104 && a1 != 121 )
        {
LABEL_44:
          if ( a1 == 114 )
          {
            result = sub_45E7D0(0x72u, a2);
            if ( result )
            {
              byte_1550B60[0] = -9;
              byte_1550B61[0] = 113;
              LOBYTE(dword_1550B62) = 113;
              *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a2 + 56);
              v24 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
              LOBYTE(dword_1550B67) = BYTE1(v24);
              BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a2 + 112) * 0.025);
              v25 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
              BYTE2(dword_1550B67) = BYTE1(v25);
              HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
              dword_1550B6B = *(_DWORD *)(a3 + 56);
              v26 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
              byte_1550B6F = BYTE1(v26);
              byte_1550B70 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
              v27 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
              byte_1550B71 = BYTE1(v27);
              byte_1550B72 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
              sub_42EA60(a3, &byte_1550B73);
              byte_1550B78[0] = *(_DWORD *)(a3 + 636) >> 24;
              byte_1550B79 = *(_DWORD *)(a3 + 636) >> 16;
              byte_1550B7A = *(_WORD *)(a3 + 636) >> 8;
              byte_1550B7B = *(_BYTE *)(a3 + 636);
              sub_479790(28);
              v28 = 0;
              if ( dword_1317E74 > 0 )
              {
                v29 = (int *)&lpString;
                do
                {
                  if ( *(_DWORD *)(*v29 + 628) == a3 )
                  {
                    sub_41CE40(*v29);
                    --v28;
                    --v29;
                  }
                  ++v28;
                  ++v29;
                }
                while ( v28 < dword_1317E74 );
              }
              byte_49D965 = 0;
              result = 1;
            }
          }
          else
          {
LABEL_52:
            sub_422E80((const char *)&unk_48E890, 3);
            result = 0;
          }
        }
        else
        {
          result = sub_45E7D0(a1, a2);
          if ( result )
          {
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 113;
            *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a2 + 56);
            v18 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
            LOBYTE(dword_1550B67) = BYTE1(v18);
            BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a2 + 112) * 0.025);
            v19 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
            BYTE2(dword_1550B67) = BYTE1(v19);
            HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
            dword_1550B6B = *(_DWORD *)(a3 + 56);
            v20 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
            byte_1550B6F = BYTE1(v20);
            byte_1550B70 = (signed __int64)(*(float *)(a3 + 112) * 0.025);
            v21 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
            byte_1550B71 = BYTE1(v21);
            byte_1550B72 = (signed __int64)(*(float *)(a3 + 120) * 0.050000001);
            sub_42EA60(a3, &byte_1550B73);
            byte_1550B78[0] = *(_DWORD *)(a3 + 636) >> 24;
            byte_1550B79 = *(_DWORD *)(a3 + 636) >> 16;
            byte_1550B7A = *(_WORD *)(a3 + 636) >> 8;
            byte_1550B7B = *(_BYTE *)(a3 + 636);
            sub_479790(28);
            v22 = 0;
            if ( dword_1317E74 > 0 )
            {
              v23 = (int *)&lpString;
              do
              {
                if ( *(_DWORD *)(*v23 + 628) == a3 )
                {
                  sub_41CE40(*v23);
                  --v22;
                  --v23;
                }
                ++v22;
                ++v23;
              }
              while ( v22 < dword_1317E74 );
            }
            byte_49D965 = 0;
            result = 1;
          }
        }
      }
      break;
    default:
      goto LABEL_52;
  }
  return result;
}
// 49D965: using guessed type char byte_49D965;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;
// 1550B7C: using guessed type int dword_1550B7C;

//----- (0045F2C0) --------------------------------------------------------
char __cdecl sub_45F2C0(int a1, int a2, int a3)
{
  int v3; // eax
  int v4; // ecx
  int v5; // ecx

  LOBYTE(v3) = a3;
  switch ( a3 )
  {
    case 125:
    case 126:
    case 131:
    case 132:
    case 137:
    case 216:
    case 217:
    case 226:
      v3 = a1;
      if ( *(_DWORD *)(a1 + 52) != dword_131D690 )
      {
        v4 = *(_DWORD *)(a1 + 168);
        if ( v4 == 9 || v4 == 12 || v4 == 26 )
        {
          *(_BYTE *)(a1 + 174) = 6;
          goto LABEL_20;
        }
        goto LABEL_19;
      }
      break;
    case 300:
    case 301:
      return v3;
    case 302:
      LOBYTE(v3) = a1;
      v5 = *(_DWORD *)(a1 + 168);
      if ( v5 == 80 || v5 == 83 || v5 == 86 )
        *(_DWORD *)(a1 + 628) = a2;
      else
        *(_DWORD *)(a1 + 628) = a2;
      *(_BYTE *)(a1 + 174) = 9;
      *(_WORD *)(a1 + 176) = 0;
      *(_DWORD *)(a1 + 600) = 1;
      *(_WORD *)(a1 + 604) = 0;
      *(_WORD *)(a1 + 606) = 0;
      break;
    case 303:
      sub_41C960((signed __int64)*(float *)(a2 + 112), (unsigned __int64)(signed __int64)*(float *)(a2 + 120) - 20);
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = *(_DWORD *)(a1 + 168);
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 9;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 5;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 7;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 7;
      v3 = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(v3 + 636) = -1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 184) = 4;
      break;
    case 304:
      v3 = *(_DWORD *)(a1 + 52);
      if ( v3 == dword_131D690 )
        LOBYTE(v3) = sub_4233F0(5);
      *(_BYTE *)(a1 + 174) = 9;
      *(_DWORD *)(a1 + 628) = a2;
      *(_WORD *)(a1 + 176) = 0;
      *(_DWORD *)(a1 + 600) = 1;
      *(_WORD *)(a1 + 604) = 2;
      *(_WORD *)(a1 + 606) = 0;
      break;
    default:
      v3 = a1;
      if ( *(_DWORD *)(a1 + 52) != dword_131D690 )
      {
        if ( *(_BYTE *)(a1 + 42) != 2 )
        {
LABEL_19:
          *(_BYTE *)(v3 + 174) = 10;
LABEL_20:
          *(_WORD *)(v3 + 176) = 0;
          *(_DWORD *)(v3 + 600) = 1;
        }
        LOBYTE(v3) = sub_423330(v3);
      }
      break;
  }
  return v3;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;

//----- (0045F610) --------------------------------------------------------
int *__cdecl sub_45F610(int a1, int a2, int a3, int a4, int *a5)
{
  int *result; // eax
  int v6; // edi
  signed int v7; // esi
  __int16 v8; // cx
  int v9; // edx
  int v10; // esi
  int v11; // esi
  int v12; // ecx
  signed int v13; // eax
  int v14; // esi
  signed int v15; // eax
  int v16; // ecx
  int v17; // esi
  int v18; // ST40_4
  int v19; // ST3C_4
  signed __int64 v20; // rax
  signed __int64 v21; // rax
  signed __int64 v22; // rax
  signed __int64 v23; // rax
  signed __int64 v24; // rax
  signed __int64 v25; // rax
  int v26; // esi
  signed __int64 v27; // rax
  int v28; // ebp
  signed __int64 v29; // rax
  int v30; // edi
  signed int v31; // ecx
  signed int v32; // eax
  double v33; // st7
  double v34; // st7
  int v35; // eax
  signed int v36; // edx
  signed int v37; // ecx
  signed __int64 v38; // rax
  signed __int64 v39; // rax
  signed __int64 v40; // rax
  signed __int64 v41; // rax
  int v42; // esi
  signed __int64 v43; // rax
  int v44; // ebp
  signed __int64 v45; // rax
  int v46; // edi
  signed int v47; // ecx
  signed int v48; // eax
  double v49; // st7
  double v50; // st7
  int v51; // eax
  signed int v52; // edx
  signed int v53; // ecx
  int v54; // edi
  int *v55; // esi
  int v56; // eax
  signed int v57; // edi
  signed int v58; // ST48_4
  int v59; // ebp
  int v60; // ecx
  signed __int64 v61; // rax
  signed __int64 v62; // rax
  signed __int64 v63; // rax
  signed __int64 v64; // rax
  signed __int64 v65; // rax
  signed __int64 v66; // rax
  signed __int64 v67; // rax
  signed __int64 v68; // rax
  int v69; // esi
  signed __int64 v70; // rax
  int v71; // ebp
  signed __int64 v72; // rax
  int v73; // edi
  signed int v74; // ecx
  signed int v75; // eax
  double v76; // st7
  double v77; // st7
  int v78; // eax
  signed int v79; // edx
  signed int v80; // ecx
  signed int v81; // [esp+14h] [ebp+4h]
  signed int v82; // [esp+14h] [ebp+4h]
  signed int v83; // [esp+14h] [ebp+4h]
  signed int v84; // [esp+14h] [ebp+4h]
  signed int v85; // [esp+14h] [ebp+4h]
  signed int v86; // [esp+18h] [ebp+8h]
  signed int v87; // [esp+18h] [ebp+8h]
  signed int v88; // [esp+18h] [ebp+8h]
  int v89; // [esp+20h] [ebp+10h]

  result = a5;
  switch ( (unsigned int)a5 )
  {
    case 0x64u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(0);
      v6 = 40 * a3 + 20;
      v89 = 20 * a4 + 10;
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        163,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      v81 = 10;
      do
      {
        dword_132258C = rand();
        sub_41C960(dword_132258C % 0x50u + v6 - 60, dword_132258C % 0x1Eu + v89 - 15);
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1017;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 3;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = (signed __int16)dword_132258C % 3 + 1;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = -1 - (signed __int16)dword_132258C % 3;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 2;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = (signed __int16)dword_132258C % 6;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 40.0;
        --v81;
      }
      while ( v81 );
      return (int *)sub_416860(160, v6, v89, 0, 0);
    case 0x65u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(1);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        155,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      v7 = 0;
      do
      {
        sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1030;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 15;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
        v8 = 13 * v7++;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = v8;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 50;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 1;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 620) = -20;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 50;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 97) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 98) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 101;
      }
      while ( v7 < 3 );
      v9 = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(a2 + 636) = 101;
      *(_DWORD *)(a2 + 624) = v9;
      return (int *)sub_416860(
                      161,
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                      0,
                      0);
    case 0x66u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(2);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 102;
      *(_DWORD *)(a2 + 636) = 102;
      v10 = dword_49DA1C[dword_1317E74];
      return (int *)sub_416860(150, (signed __int64)*(float *)(v10 + 112), (signed __int64)*(float *)(v10 + 120), 0, 0);
    case 0x67u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(3);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      v11 = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      v12 = dword_49DA1C[dword_1317E74];
      v13 = 103;
      goto LABEL_300;
    case 0x68u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_4239C0(4);
      }
      else
      {
        *(_BYTE *)(a1 + 174) = 10;
        *(_WORD *)(a1 + 176) = 0;
        *(_DWORD *)(a1 + 600) = 1;
        sub_423330(a1);
      }
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      v14 = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1035;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      v15 = 104;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      v16 = dword_49DA1C[dword_1317E74];
      goto LABEL_43;
    case 0x69u:
      v17 = a1;
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(5);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      v82 = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = v17;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      do
      {
        sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = *(_DWORD *)(a2 + 168);
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(a2 + 172);
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(a2 + 173);
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = *(unsigned __int8 *)(a2 + 174);
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 7;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 184) = 4 * (v82++ + 1);
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 100;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 105;
        *(_DWORD *)(a2 + 636) = 105;
      }
      while ( v82 < 7 );
      result = (int *)dword_1317E74;
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      return result;
    case 0x6Au:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(6);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1031;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 5;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = -30;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 4;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(a2 + 173);
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = (double)*(signed __int16 *)(dword_49DA1C[dword_1317E74] + 614)
                                                    + *(float *)(a2 + 120);
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 106;
      *(_DWORD *)(a2 + 636) = 106;
      return (int *)sub_416860(
                      158,
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                      0,
                      0);
    case 0x6Bu:
      return sub_4239C0(7);
    case 0x6Cu:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(8);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 10;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      result = (int *)108;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 108;
      *(_DWORD *)(a2 + 636) = 108;
      return result;
    case 0x6Du:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(9);
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1004;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 26;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 6;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 4;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 4;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 50;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 10;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 70.0;
      result = (int *)109;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 109;
      *(_DWORD *)(a2 + 636) = 109;
      return result;
    case 0x6Eu:
      v14 = a2;
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_4239C0(10);
        if ( *(_DWORD *)(a2 + 68) )
        {
          if ( *(_DWORD *)(a2 + 76) && *(_WORD *)(a2 + 756) < 4u )
          {
            sub_46F5D0(a2, a1);
            v18 = *(_DWORD *)(a2 + 136);
            v19 = *(_DWORD *)(a2 + 132);
            *(_DWORD *)(a2 + 100) = -1;
            *(_BYTE *)(a2 + 104) = 0;
            *(_BYTE *)(a2 + 174) = 0;
            sub_46FC50(a2, v19, v18);
          }
        }
      }
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1035;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 10;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 4;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      v16 = dword_49DA1C[dword_1317E74];
      v15 = 110;
LABEL_43:
      *(_DWORD *)(v16 + 636) = v15;
      *(_DWORD *)(v14 + 636) = v15;
      return (int *)sub_416860(
                      161,
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                      0,
                      0);
    case 0x6Fu:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(11);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      *(_DWORD *)(a2 + 636) = -1;
      return (int *)sub_416860(
                      155,
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                      0,
                      0);
    case 0x70u:
      return sub_4239C0(12);
    case 0x71u:
      return sub_4239C0(13);
    case 0x72u:
      return sub_4239C0(14);
    case 0x73u:
      return sub_4239C0(15);
    case 0x74u:
      return sub_4239C0(16);
    case 0x75u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_4239C0(17);
      }
      else
      {
        *(_BYTE *)(a1 + 174) = 10;
        *(_WORD *)(a1 + 176) = 0;
        *(_DWORD *)(a1 + 600) = 1;
        sub_423330(a1);
      }
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      result = (int *)a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      *(_BYTE *)(a2 + 174) = 0;
      *(_BYTE *)(a2 + 172) = 0;
      *(_BYTE *)(a2 + 173) = 0;
      *(_WORD *)(a2 + 604) = 0;
      *(_DWORD *)(a2 + 168) = 1024;
      *(_BYTE *)(a2 + 48) = 1;
      return result;
    case 0x76u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(18);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_41C960(
          40 * ((signed __int64)*(float *)(a1 + 112) / 40) + 20,
          20 * ((signed __int64)*(float *)(a1 + 120) / 20) + 10);
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1038;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 17;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
        if ( byte_1330125 )
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 100;
        else
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 1;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 118;
      }
      return (int *)sub_416860(
                      184,
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                      0,
                      0);
    case 0x77u:
      return sub_4239C0(19);
    case 0x78u:
      return sub_4239C0(20);
    case 0x79u:
      return sub_4239C0(21);
    case 0x7Au:
      return sub_4239C0(22);
    case 0x7Bu:
      return sub_4239C0(23);
    case 0x7Cu:
      return sub_4239C0(24);
    case 0x7Du:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_4239C0(25);
        if ( *(_DWORD *)(a2 + 68)
          && !*(_DWORD *)(a2 + 80)
          && !*(_DWORD *)(a2 + 76)
          && !*(_DWORD *)(a2 + 92)
          && *(_DWORD *)(a2 + 168) < 0xDCu )
        {
          sub_46FC00(a2, (int)(&lpString)[dword_131D690]);
        }
        dword_13225EC = 1;
        dword_13225F0 = 8;
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 21;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
        v20 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v20);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        v21 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v21);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        dword_1550B6B = *(_DWORD *)(a2 + 56);
        goto LABEL_78;
      }
      if ( *(_DWORD *)(a1 + 68) && *(_DWORD *)(a1 + 76) )
      {
        dword_13225EC = 1;
        dword_13225F0 = 8;
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 21;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
        v24 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v24);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        v25 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v25);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        dword_1550B6B = *(_DWORD *)(a2 + 56);
LABEL_78:
        v22 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
        byte_1550B6F = BYTE1(v22);
        byte_1550B70 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
        v23 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
        byte_1550B71 = BYTE1(v23);
        byte_1550B72 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
        sub_42EA60(a1, &byte_1550B73);
        sub_42EA60(a2, byte_1550B78);
        *(_WORD *)((char *)&dword_1550B7C + 1) = 0;
        HIBYTE(dword_1550B7C) = 0;
        byte_1550B80 = 125;
        sub_479790(33);
        goto LABEL_83;
      }
      *(_BYTE *)(a1 + 174) = 10;
      *(_WORD *)(a1 + 176) = 0;
      *(_DWORD *)(a1 + 600) = 1;
      sub_423330(a1);
LABEL_83:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 3;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        181,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1061;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      return (int *)sub_416860(
                      182,
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                      0,
                      0);
    case 0x7Eu:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(26);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_41C960((unsigned __int64)(signed __int64)*(float *)(a2 + 112) + 250, (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1004;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 40;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = -4;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 126;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 120) - 500.0;
      return (int *)sub_416860(
                      181,
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                      0,
                      0);
    case 0x7Fu:
      return sub_4239C0(27);
    case 0x80u:
      return sub_4239C0(28);
    case 0x81u:
      return sub_4239C0(29);
    case 0x82u:
      return sub_4239C0(30);
    case 0x83u:
      v26 = a1;
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_4239C0(31);
        if ( *(_DWORD *)(a2 + 68)
          && !*(_DWORD *)(a2 + 80)
          && !*(_DWORD *)(a2 + 76)
          && !*(_DWORD *)(a2 + 92)
          && *(_DWORD *)(a2 + 168) < 0xDCu )
        {
          sub_46FC00(a2, (int)(&lpString)[dword_131D690]);
        }
      }
      else
      {
        *(_BYTE *)(a1 + 174) = 10;
        *(_WORD *)(a1 + 176) = 0;
        *(_DWORD *)(a1 + 600) = 1;
        sub_423330(a1);
      }
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        174,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1020;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 131;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*(float *)(a2 + 112);
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*(float *)(a2 + 120);
      v27 = (signed __int64)(*(float *)(a2 + 112) * 0.025 - *(float *)(a1 + 112) * 0.025);
      v28 = (signed __int16)v27;
      v83 = (signed __int16)v27;
      v29 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001 - *(float *)(v26 + 120) * 0.050000001);
      v30 = (signed __int16)v29;
      v86 = (signed __int16)v29;
      if ( (_WORD)v28 )
      {
        if ( (v28 & 0x8000u) == 0 )
        {
          if ( (_WORD)v29 )
          {
            if ( (v29 & 0x8000u) == 0i64 )
            {
              *(_BYTE *)(v26 + 172) = 6;
              *(_BYTE *)(v26 + 173) = 6;
            }
            else
            {
              *(_BYTE *)(v26 + 172) = 4;
              *(_BYTE *)(v26 + 173) = 4;
            }
          }
          else
          {
            *(_BYTE *)(v26 + 172) = 5;
            *(_BYTE *)(v26 + 173) = 5;
          }
        }
        else if ( (_WORD)v29 )
        {
          if ( (v29 & 0x8000u) == 0i64 )
          {
            *(_BYTE *)(v26 + 172) = 0;
            *(_BYTE *)(v26 + 173) = 0;
          }
          else
          {
            *(_BYTE *)(v26 + 172) = 2;
            *(_BYTE *)(v26 + 173) = 2;
          }
        }
        else
        {
          *(_BYTE *)(v26 + 172) = 1;
          *(_BYTE *)(v26 + 173) = 1;
        }
      }
      else if ( (v29 & 0x8000u) == 0i64 )
      {
        *(_BYTE *)(v26 + 172) = 7;
        *(_BYTE *)(v26 + 173) = 7;
      }
      else
      {
        *(_BYTE *)(v26 + 172) = 3;
        *(_BYTE *)(v26 + 173) = 3;
      }
      v31 = abs((signed __int16)v29);
      v32 = abs(v28);
      if ( v32 <= v31 )
      {
        if ( v32 >= v31 )
        {
          if ( v30 && v28 )
          {
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v83 / (double)v32 * 1000.0);
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v86 / (double)v31 * 1000.0);
          }
          else
          {
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
          }
        }
        else if ( v30 )
        {
          v34 = (double)v31;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v83 / v34 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v86 / v34 * 1000.0);
        }
        else
        {
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v83 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
        }
      }
      else if ( v28 )
      {
        v33 = (double)v32;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v83 / v33 * 1000.0);
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v86 / v33 * 1000.0);
      }
      else
      {
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v86 * 1000.0);
      }
      v35 = dword_49DA1C[dword_1317E74];
      v36 = *(signed __int16 *)(v35 + 612);
      v37 = *(signed __int16 *)(v35 + 614);
      switch ( *(unsigned __int8 *)(v26 + 172) )
      {
        case 0u:
          if ( v36 != -1000 || v37 >= 500 )
          {
            if ( v37 == 1000 && v36 > -250 )
            {
              *(_BYTE *)(v26 + 172) = 7;
              *(_BYTE *)(v26 + 173) = 7;
            }
          }
          else
          {
            *(_BYTE *)(v26 + 172) = 1;
            *(_BYTE *)(v26 + 173) = 1;
          }
          break;
        case 2u:
          if ( v36 != -1000 || v37 <= -500 )
          {
            if ( v37 == -1000 && v36 > -250 )
              goto LABEL_150;
          }
          else
          {
            *(_BYTE *)(v26 + 172) = 1;
            *(_BYTE *)(v26 + 173) = 1;
          }
          break;
        case 4u:
          if ( v36 != 1000 || v37 <= -500 )
          {
            if ( v37 == -1000 && v36 < 250 )
            {
LABEL_150:
              *(_BYTE *)(v26 + 172) = 3;
              *(_BYTE *)(v26 + 173) = 3;
            }
          }
          else
          {
            *(_BYTE *)(v26 + 172) = 5;
            *(_BYTE *)(v26 + 173) = 5;
          }
          break;
        case 6u:
          if ( v36 != 1000 || v37 >= 500 )
          {
            if ( v37 == 1000 && v36 < 250 )
            {
              *(_BYTE *)(v26 + 172) = 7;
              *(_BYTE *)(v26 + 173) = 7;
            }
          }
          else
          {
            *(_BYTE *)(v26 + 172) = 5;
            *(_BYTE *)(v26 + 173) = 5;
          }
          break;
        default:
          break;
      }
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(v26 + 172);
      result = (int *)dword_49DA1C[dword_1317E74];
      *((_BYTE *)result + 173) = *((_BYTE *)result + 172);
      return result;
    case 0x84u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(32);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(174, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1018;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 40;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 7;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        171,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      sub_416860(
        62,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      result = (int *)dword_131D690;
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_4239C0(25);
        if ( *(_DWORD *)(a2 + 68)
          && !*(_DWORD *)(a2 + 80)
          && !*(_DWORD *)(a2 + 76)
          && !*(_DWORD *)(a2 + 92)
          && *(_DWORD *)(a2 + 168) < 0xDCu )
        {
          sub_46FC00(a2, (int)(&lpString)[dword_131D690]);
        }
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 21;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
        v38 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v38);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        v39 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v39);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        dword_1550B6B = *(_DWORD *)(a2 + 56);
        v40 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
        byte_1550B6F = BYTE1(v40);
        byte_1550B70 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
        v41 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
        byte_1550B71 = BYTE1(v41);
        byte_1550B72 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
        sub_42EA60(a1, &byte_1550B73);
        sub_42EA60(a2, byte_1550B78);
        *(_WORD *)((char *)&dword_1550B7C + 1) = 0;
        HIBYTE(dword_1550B7C) = 0;
        byte_1550B80 = -124;
        result = (int *)sub_479790(33);
      }
      return result;
    case 0x85u:
      return sub_4239C0(33);
    case 0x86u:
      return sub_4239C0(34);
    case 0x87u:
      return sub_4239C0(35);
    case 0x88u:
      return sub_4239C0(36);
    case 0x89u:
      v42 = a1;
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_4239C0(37);
        if ( *(_DWORD *)(a2 + 68)
          && !*(_DWORD *)(a2 + 80)
          && !*(_DWORD *)(a2 + 76)
          && !*(_DWORD *)(a2 + 92)
          && *(_DWORD *)(a2 + 168) < 0xDCu )
        {
          sub_46FC00(a2, (int)(&lpString)[dword_131D690]);
        }
      }
      else
      {
        *(_BYTE *)(a1 + 174) = 10;
        *(_WORD *)(a1 + 176) = 0;
        *(_DWORD *)(a1 + 600) = 1;
        sub_423330(a1);
      }
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1021;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        181,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1026;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 4;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 137;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*(float *)(a2 + 112);
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*(float *)(a2 + 120);
      v43 = (signed __int64)(*(float *)(a2 + 112) * 0.025 - *(float *)(a1 + 112) * 0.025);
      v44 = (signed __int16)v43;
      v84 = (signed __int16)v43;
      v45 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001 - *(float *)(v42 + 120) * 0.050000001);
      v46 = (signed __int16)v45;
      v87 = (signed __int16)v45;
      if ( (_WORD)v44 )
      {
        if ( (v44 & 0x8000u) == 0 )
        {
          if ( (_WORD)v45 )
          {
            if ( (v45 & 0x8000u) == 0i64 )
            {
              *(_BYTE *)(v42 + 172) = 6;
              *(_BYTE *)(v42 + 173) = 6;
            }
            else
            {
              *(_BYTE *)(v42 + 172) = 4;
              *(_BYTE *)(v42 + 173) = 4;
            }
          }
          else
          {
            *(_BYTE *)(v42 + 172) = 5;
            *(_BYTE *)(v42 + 173) = 5;
          }
        }
        else if ( (_WORD)v45 )
        {
          if ( (v45 & 0x8000u) == 0i64 )
          {
            *(_BYTE *)(v42 + 172) = 0;
            *(_BYTE *)(v42 + 173) = 0;
          }
          else
          {
            *(_BYTE *)(v42 + 172) = 2;
            *(_BYTE *)(v42 + 173) = 2;
          }
        }
        else
        {
          *(_BYTE *)(v42 + 172) = 1;
          *(_BYTE *)(v42 + 173) = 1;
        }
      }
      else if ( (v45 & 0x8000u) == 0i64 )
      {
        *(_BYTE *)(v42 + 172) = 7;
        *(_BYTE *)(v42 + 173) = 7;
      }
      else
      {
        *(_BYTE *)(v42 + 172) = 3;
        *(_BYTE *)(v42 + 173) = 3;
      }
      v47 = abs((signed __int16)v45);
      v48 = abs(v44);
      if ( v48 <= v47 )
      {
        if ( v48 >= v47 )
        {
          if ( v46 && v44 )
          {
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v84 / (double)v48 * 1000.0);
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v87 / (double)v47 * 1000.0);
          }
          else
          {
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
          }
        }
        else if ( v46 )
        {
          v50 = (double)v47;
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v84 / v50 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v87 / v50 * 1000.0);
        }
        else
        {
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v84 * 1000.0);
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
        }
      }
      else if ( v44 )
      {
        v49 = (double)v48;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v84 / v49 * 1000.0);
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v87 / v49 * 1000.0);
      }
      else
      {
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v87 * 1000.0);
      }
      v51 = dword_49DA1C[dword_1317E74];
      v52 = *(signed __int16 *)(v51 + 612);
      v53 = *(signed __int16 *)(v51 + 614);
      switch ( *(unsigned __int8 *)(v42 + 172) )
      {
        case 0u:
          if ( v52 != -1000 || v53 >= 500 )
          {
            if ( v53 == 1000 && v52 > -250 )
            {
              *(_BYTE *)(v42 + 172) = 7;
              *(_BYTE *)(v42 + 173) = 7;
            }
          }
          else
          {
            *(_BYTE *)(v42 + 172) = 1;
            *(_BYTE *)(v42 + 173) = 1;
          }
          break;
        case 2u:
          if ( v52 != -1000 || v53 <= -500 )
          {
            if ( v53 == -1000 && v52 > -250 )
              goto LABEL_225;
          }
          else
          {
            *(_BYTE *)(v42 + 172) = 1;
            *(_BYTE *)(v42 + 173) = 1;
          }
          break;
        case 4u:
          if ( v52 != 1000 || v53 <= -500 )
          {
            if ( v53 == -1000 && v52 < 250 )
            {
LABEL_225:
              *(_BYTE *)(v42 + 172) = 3;
              *(_BYTE *)(v42 + 173) = 3;
            }
          }
          else
          {
            *(_BYTE *)(v42 + 172) = 5;
            *(_BYTE *)(v42 + 173) = 5;
          }
          break;
        case 6u:
          if ( v52 != 1000 || v53 >= 500 )
          {
            if ( v53 == 1000 && v52 < 250 )
            {
              *(_BYTE *)(v42 + 172) = 7;
              *(_BYTE *)(v42 + 173) = 7;
            }
          }
          else
          {
            *(_BYTE *)(v42 + 172) = 5;
            *(_BYTE *)(v42 + 173) = 5;
          }
          break;
        default:
          break;
      }
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(v42 + 172);
      result = (int *)dword_49DA1C[dword_1317E74];
      *((_BYTE *)result + 173) = *((_BYTE *)result + 172);
      return result;
    case 0x8Au:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_4239C0(38);
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1029;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 138;
      *(_DWORD *)(a2 + 636) = 138;
      return (int *)sub_416860(
                      181,
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                      0,
                      0);
    case 0x8Bu:
      return sub_4239C0(39);
    case 0x8Cu:
      return sub_4239C0(40);
    case 0x8Du:
      return sub_4239C0(41);
    case 0x8Eu:
      return sub_4239C0(42);
    case 0x8Fu:
      return sub_4239C0(43);
    case 0xC8u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_423A40(0);
        v54 = 0;
        if ( dword_1317E74 > 0 )
        {
          v55 = (int *)&lpString;
          do
          {
            v56 = *v55;
            if ( *(_DWORD *)(*v55 + 68) && *(_DWORD *)(v56 + 76) && *(_WORD *)(v56 + 756) < 4u )
            {
              sub_46F5D0(v56, (int)(&lpString)[dword_131D690]);
              *(_DWORD *)(*v55 + 100) = -1;
              *(_BYTE *)(*v55 + 104) = 0;
              *(_BYTE *)(*v55 + 174) = 0;
              sub_46FC50(*v55, *(_DWORD *)(*v55 + 132), *(_DWORD *)(*v55 + 136));
            }
            ++v54;
            ++v55;
          }
          while ( v54 < dword_1317E74 );
        }
      }
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1033;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 50;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 200;
      *(_DWORD *)(a2 + 636) = 200;
      return (int *)sub_416860(
                      161,
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                      0,
                      0);
    case 0xC9u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_423A40(1);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        150,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1032;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      result = (int *)dword_49DA1C[dword_1317E74];
      *((_BYTE *)result + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 201;
      *(_DWORD *)(a2 + 636) = 201;
      return result;
    case 0xCAu:
      return (int *)sub_423A40(2);
    case 0xCBu:
      return (int *)sub_423A40(3);
    case 0xCCu:
      return (int *)sub_423A40(4);
    case 0xCDu:
      return (int *)sub_423A40(5);
    case 0xCEu:
      return (int *)sub_423A40(6);
    case 0xCFu:
      return (int *)sub_423A40(7);
    case 0xD0u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_423A40(8);
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1004;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 6;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 4;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 4;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 50;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 10;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 70.0;
      result = (int *)208;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 208;
      *(_DWORD *)(a2 + 636) = 208;
      return result;
    case 0xD1u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_423A40(9);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        150,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      v57 = 5;
      do
      {
        v58 = (unsigned __int64)(signed __int64)*(float *)(a2 + 120) + rand() % 30 - 15;
        v59 = rand() % 40;
        sub_41C960((unsigned __int64)(signed __int64)*(float *)(a2 + 112) + v59 - 20, v58);
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1043;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 4;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 100;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 3;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        --v57;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 176) = rand() % 10;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 209;
      }
      while ( v57 );
      v60 = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(a2 + 636) = 209;
      *(_DWORD *)(a2 + 624) = v60;
      return (int *)sub_416860(
                      161,
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                      (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                      0,
                      0);
    case 0xD2u:
      return (int *)sub_423A40(10);
    case 0xD3u:
      return (int *)sub_423A40(11);
    case 0xD4u:
      return (int *)sub_423A40(12);
    case 0xD5u:
      return (int *)sub_423A40(13);
    case 0xD6u:
      return (int *)sub_423A40(14);
    case 0xD7u:
      return (int *)sub_423A40(15);
    case 0xD8u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_423A40(16);
        if ( *(_DWORD *)(a2 + 68)
          && !*(_DWORD *)(a2 + 80)
          && !*(_DWORD *)(a2 + 76)
          && !*(_DWORD *)(a2 + 92)
          && *(_DWORD *)(a2 + 168) < 0xDCu )
        {
          sub_46FC00(a2, (int)(&lpString)[dword_131D690]);
        }
        goto LABEL_274;
      }
      if ( *(_DWORD *)(a1 + 68) && *(_DWORD *)(a1 + 76) )
      {
        dword_13225EC = 1;
        dword_13225F0 = 8;
LABEL_274:
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 21;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
        v61 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v61);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        v62 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v62);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        dword_1550B6B = *(_DWORD *)(a2 + 56);
        v63 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
        byte_1550B6F = BYTE1(v63);
        byte_1550B70 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
        v64 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
        byte_1550B71 = BYTE1(v64);
        byte_1550B72 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
        sub_42EA60(a1, &byte_1550B73);
        sub_42EA60(a2, byte_1550B78);
        *(_WORD *)((char *)&dword_1550B7C + 1) = 0;
        HIBYTE(dword_1550B7C) = 0;
        byte_1550B80 = -40;
        sub_479790(33);
        goto LABEL_279;
      }
      *(_BYTE *)(a1 + 174) = 10;
      *(_WORD *)(a1 + 176) = 0;
      *(_DWORD *)(a1 + 600) = 1;
      sub_423330(a1);
LABEL_279:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        150,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1071;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        166,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      result = (int *)dword_49DA1C[dword_1317E74];
      *((_WORD *)result + 88) = 0;
      return result;
    case 0xD9u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_423A40(17);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1043;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(174, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120), 0, 0);
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1018;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 40;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 7;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        171,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1003;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        166,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1071;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_416860(
        166,
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
        (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
        0,
        0);
      result = (int *)dword_131D690;
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
      {
        sub_4239C0(17);
        if ( *(_DWORD *)(a2 + 68)
          && !*(_DWORD *)(a2 + 80)
          && !*(_DWORD *)(a2 + 76)
          && !*(_DWORD *)(a2 + 92)
          && *(_DWORD *)(a2 + 168) < 0xDCu )
        {
          sub_46FC00(a2, (int)(&lpString)[dword_131D690]);
        }
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 21;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
        v65 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v65);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        v66 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v66);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        dword_1550B6B = *(_DWORD *)(a2 + 56);
        v67 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
        byte_1550B6F = BYTE1(v67);
        byte_1550B70 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
        v68 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
        byte_1550B71 = BYTE1(v68);
        byte_1550B72 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
        sub_42EA60(a1, &byte_1550B73);
        sub_42EA60(a2, byte_1550B78);
        *(_WORD *)((char *)&dword_1550B7C + 1) = 0;
        HIBYTE(dword_1550B7C) = 0;
        byte_1550B80 = -39;
        result = (int *)sub_479790(33);
      }
      return result;
    case 0xDAu:
      return (int *)sub_423A40(18);
    case 0xDBu:
      return (int *)sub_423A40(19);
    case 0xDCu:
      return (int *)sub_423A40(20);
    case 0xDDu:
      return (int *)sub_423A40(21);
    case 0xDEu:
      return (int *)sub_423A40(22);
    case 0xDFu:
      return (int *)sub_423A40(23);
    case 0xE0u:
      return (int *)sub_423A40(24);
    case 0xE1u:
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_423A40(25);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      v11 = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_41C960((signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120));
      *(_DWORD *)(a2 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      v13 = 225;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      v12 = dword_49DA1C[dword_1317E74];
LABEL_300:
      *(_DWORD *)(v12 + 636) = v13;
      *(_DWORD *)(v11 + 636) = v13;
      v10 = dword_49DA1C[dword_1317E74];
      return (int *)sub_416860(150, (signed __int64)*(float *)(v10 + 112), (signed __int64)*(float *)(v10 + 120), 0, 0);
    case 0xE2u:
      v69 = a1;
      if ( *(_DWORD *)(a1 + 52) == dword_131D690 )
        sub_423A40(26);
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1063;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a2;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1005;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 11;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 600) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 5;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 226;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 132) = (signed __int64)*(float *)(a2 + 112);
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 136) = (signed __int64)*(float *)(a2 + 120);
      v70 = (signed __int64)(*(float *)(a2 + 112) * 0.025 - *(float *)(a1 + 112) * 0.025);
      v71 = (signed __int16)v70;
      v85 = (signed __int16)v70;
      v72 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001 - *(float *)(v69 + 120) * 0.050000001);
      v73 = (signed __int16)v72;
      v88 = (signed __int16)v72;
      if ( (_WORD)v71 )
      {
        if ( (v71 & 0x8000u) == 0 )
        {
          if ( (_WORD)v72 )
          {
            if ( (v72 & 0x8000u) == 0i64 )
            {
              *(_BYTE *)(v69 + 172) = 6;
              *(_BYTE *)(v69 + 173) = 6;
            }
            else
            {
              *(_BYTE *)(v69 + 172) = 4;
              *(_BYTE *)(v69 + 173) = 4;
            }
          }
          else
          {
            *(_BYTE *)(v69 + 172) = 5;
            *(_BYTE *)(v69 + 173) = 5;
          }
        }
        else if ( (_WORD)v72 )
        {
          if ( (v72 & 0x8000u) == 0i64 )
          {
            *(_BYTE *)(v69 + 172) = 0;
            *(_BYTE *)(v69 + 173) = 0;
          }
          else
          {
            *(_BYTE *)(v69 + 172) = 2;
            *(_BYTE *)(v69 + 173) = 2;
          }
        }
        else
        {
          *(_BYTE *)(v69 + 172) = 1;
          *(_BYTE *)(v69 + 173) = 1;
        }
      }
      else if ( (v72 & 0x8000u) == 0i64 )
      {
        *(_BYTE *)(v69 + 172) = 7;
        *(_BYTE *)(v69 + 173) = 7;
      }
      else
      {
        *(_BYTE *)(v69 + 172) = 3;
        *(_BYTE *)(v69 + 173) = 3;
      }
      v74 = abs((signed __int16)v72);
      v75 = abs(v71);
      if ( v75 <= v74 )
      {
        if ( v75 >= v74 )
        {
          if ( v71 && v73 )
          {
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v85 / (double)v75 * 1000.0);
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v88 / (double)v74 * 1000.0);
            goto LABEL_332;
          }
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
        }
        else
        {
          if ( v73 )
          {
            v77 = (double)v74;
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v85 / v77 * 1000.0);
            *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v88 / v77 * 1000.0);
            goto LABEL_332;
          }
          *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v85 * 1000.0);
        }
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 0;
      }
      else if ( v71 )
      {
        v76 = (double)v75;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = (signed __int64)((double)v85 / v76 * 1000.0);
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v88 / v76 * 1000.0);
      }
      else
      {
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = (signed __int64)((double)v88 * 1000.0);
      }
LABEL_332:
      v78 = dword_49DA1C[dword_1317E74];
      v79 = *(signed __int16 *)(v78 + 612);
      v80 = *(signed __int16 *)(v78 + 614);
      switch ( *(unsigned __int8 *)(v69 + 172) )
      {
        case 0u:
          if ( v79 != -1000 || v80 >= 500 )
          {
            if ( v80 == 1000 && v79 > -250 )
            {
              *(_BYTE *)(v69 + 172) = 7;
              *(_BYTE *)(v69 + 173) = 7;
            }
          }
          else
          {
            *(_BYTE *)(v69 + 172) = 1;
            *(_BYTE *)(v69 + 173) = 1;
          }
          break;
        case 2u:
          if ( v79 != -1000 || v80 <= -500 )
          {
            if ( v80 == -1000 && v79 > -250 )
              goto LABEL_356;
          }
          else
          {
            *(_BYTE *)(v69 + 172) = 1;
            *(_BYTE *)(v69 + 173) = 1;
          }
          break;
        case 4u:
          if ( v79 != 1000 || v80 <= -500 )
          {
            if ( v80 == -1000 && v79 < 250 )
            {
LABEL_356:
              *(_BYTE *)(v69 + 172) = 3;
              *(_BYTE *)(v69 + 173) = 3;
            }
          }
          else
          {
            *(_BYTE *)(v69 + 172) = 5;
            *(_BYTE *)(v69 + 173) = 5;
          }
          break;
        case 6u:
          if ( v79 != 1000 || v80 >= 500 )
          {
            if ( v80 == 1000 && v79 < 250 )
            {
              *(_BYTE *)(v69 + 172) = 7;
              *(_BYTE *)(v69 + 173) = 7;
            }
          }
          else
          {
            *(_BYTE *)(v69 + 172) = 5;
            *(_BYTE *)(v69 + 173) = 5;
          }
          break;
        default:
          break;
      }
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(v69 + 172);
      result = (int *)dword_49DA1C[dword_1317E74];
      *((_BYTE *)result + 173) = *((_BYTE *)result + 172);
      return result;
    case 0xE3u:
      return (int *)sub_423A40(27);
    case 0xE4u:
      return (int *)sub_423A40(28);
    case 0xE5u:
      return (int *)sub_423A40(29);
    case 0xE6u:
      return (int *)sub_423A40(30);
    case 0xE7u:
      return (int *)sub_423A40(31);
    case 0xE8u:
      return (int *)sub_423A40(32);
    case 0xE9u:
      return (int *)sub_423A40(33);
    case 0xEAu:
      return (int *)sub_423A40(34);
    case 0x12Cu:
      result = (int *)a1;
      *(_DWORD *)(a1 + 628) = a2;
      *(_BYTE *)(a1 + 174) = 8;
      goto LABEL_368;
    case 0x12Du:
      result = (int *)a1;
      *(_BYTE *)(a1 + 174) = 10;
LABEL_368:
      *((_WORD *)result + 88) = 0;
      result[150] = 1;
      return result;
    default:
      return result;
  }
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 13225EC: using guessed type int dword_13225EC;
// 13225F0: using guessed type int dword_13225F0;
// 1330125: using guessed type char byte_1330125;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;

//----- (00464F70) --------------------------------------------------------
int __cdecl sub_464F70(int a1, int a2)
{
  int result; // eax

  result = a2;
  switch ( a2 )
  {
    case 118:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1008;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      result = sub_416860(
                 168,
                 (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                 (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                 0,
                 0);
      break;
    case 131:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1022;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      result = sub_416860(
                 175,
                 (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                 (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                 0,
                 0);
      break;
    case 137:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1025;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      result = sub_416860(
                 176,
                 (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                 (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                 0,
                 0);
      break;
    case 216:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1003;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      result = sub_416860(
                 166,
                 (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                 (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                 0,
                 0);
      break;
    default:
      return result;
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;

//----- (00465490) --------------------------------------------------------
int __cdecl sub_465490(int a1, __int16 a2, __int16 a3)
{
  int result; // eax
  signed int v4; // esi
  __int16 v5; // cx
  signed int v6; // [esp+18h] [ebp+8h]

  result = a2;
  switch ( a2 )
  {
    case 101:
      v4 = 0;
      do
      {
        sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
        *(_DWORD *)(a1 + 624) = dword_49DA1C[dword_1317E74];
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1030;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 15;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
        v5 = 13 * v4++;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = v5;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = 50;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 1;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 620) = -20;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 50;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 97) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 98) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
        result = dword_49DA1C[dword_1317E74];
        *(_DWORD *)(result + 636) = 101;
      }
      while ( v4 < 3 );
      *(_DWORD *)(a1 + 636) = 101;
      break;
    case 102:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(a1 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 7;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      result = 102;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 102;
      *(_DWORD *)(a1 + 636) = 102;
      break;
    case 103:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(a1 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1002;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 30;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      result = 103;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 103;
      *(_DWORD *)(a1 + 636) = 103;
      break;
    case 104:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(a1 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1035;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 6;
      result = 104;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 104;
      *(_DWORD *)(a1 + 636) = 104;
      break;
    case 105:
      v6 = 0;
      do
      {
        sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = *(_DWORD *)(a1 + 168);
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(a1 + 172);
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(a1 + 173);
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = *(unsigned __int8 *)(a1 + 174);
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 7;
        *(_BYTE *)(dword_49DA1C[dword_1317E74] + 184) = 4 * ++v6;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
        *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 100;
        *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 105;
        *(_DWORD *)(a1 + 636) = 105;
      }
      while ( v6 < 7 );
      result = dword_1317E74;
      *(_DWORD *)(a1 + 624) = dword_49DA1C[dword_1317E74];
      break;
    case 106:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1031;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 5;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 614) = -30;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 4;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = *(_BYTE *)(a1 + 173);
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172);
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = (double)*(signed __int16 *)(dword_49DA1C[dword_1317E74] + 614)
                                                    + *(float *)(a1 + 120);
      result = 106;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 106;
      *(_DWORD *)(a1 + 636) = 106;
      break;
    case 108:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(a1 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1015;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 10;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      result = 108;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 108;
      *(_DWORD *)(a1 + 636) = 108;
      break;
    case 109:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(a1 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1004;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 10;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 6;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 4;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 618) = 4;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 50;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 612) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 10;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 70.0;
      result = 109;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 109;
      *(_DWORD *)(a1 + 636) = 109;
      break;
    case 110:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(a1 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1035;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 1;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 10;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 0;
      result = 110;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 110;
      *(_DWORD *)(a1 + 636) = 110;
      break;
    case 138:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(a1 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1029;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      result = 138;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 138;
      *(_DWORD *)(a1 + 636) = 138;
      break;
    case 201:
      sub_41C960((signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120));
      *(_DWORD *)(a1 + 624) = dword_49DA1C[dword_1317E74];
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = a1;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1032;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 6;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 20;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = a3;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 7;
      result = 201;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = 201;
      *(_DWORD *)(a1 + 636) = 201;
      break;
    default:
      return result;
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;

//----- (00466490) --------------------------------------------------------
__int16 __cdecl sub_466490(int a1, int a2, _WORD *a3)
{
  int v3; // eax
  __int16 v4; // dx

  v3 = *(_DWORD *)(a1 + 624);
  if ( v3 )
  {
    switch ( a2 )
    {
      case 101:
      case 104:
      case 108:
        LOWORD(v3) = *(_WORD *)(v3 + 610);
        *a3 = v3;
        break;
      case 102:
      case 105:
      case 109:
        v4 = *(_WORD *)(v3 + 610);
        LOWORD(v3) = (_WORD)a3;
        *a3 = v4;
        break;
      case 103:
      case 106:
      case 110:
        *a3 = *(_WORD *)(v3 + 610);
        break;
      default:
        return v3;
    }
  }
  else
  {
    *a3 = 0;
  }
  return v3;
}

//----- (00466510) --------------------------------------------------------
char __cdecl sub_466510(int a1, unsigned int a2)
{
  int v2; // eax

  v2 = *(_DWORD *)(a1 + 760) - 1;
  if ( *(_DWORD *)(a1 + 760) == 1 )
  {
    LOBYTE(v2) = a2;
    if ( a2 <= *(_DWORD *)(a1 + 764) )
    {
      if ( *(_WORD *)(a1 + 86) )
      {
        LOBYTE(v2) = sub_423330(a1);
        *(_WORD *)(a1 + 176) = 1;
      }
    }
    else
    {
      *(_DWORD *)(a1 + 760) = -1;
    }
  }
  return v2;
}

//----- (00466560) --------------------------------------------------------
BOOL sub_466560()
{
  return dword_1330520 == 1 || dword_1330520 == 2;
}
// 1330520: using guessed type int dword_1330520;

//----- (00466580) --------------------------------------------------------
BOOL sub_466580()
{
  return dword_1330520 == 3 || dword_1330520 == 2;
}
// 1330520: using guessed type int dword_1330520;

//----- (004665A0) --------------------------------------------------------
BOOL sub_4665A0()
{
  return dword_1330520 != 0;
}
// 1330520: using guessed type int dword_1330520;

//----- (004665B0) --------------------------------------------------------
int __cdecl sub_4665B0(int a1)
{
  int result; // eax

  result = a1;
  dword_1330520 = a1;
  return result;
}
// 1330520: using guessed type int dword_1330520;

//----- (004665C0) --------------------------------------------------------
signed int sub_4665C0()
{
  sub_4665B0(0);
  dword_1330528 = 0;
  ppv = 0;
  return 1;
}
// 1330528: using guessed type int dword_1330528;

//----- (004665F0) --------------------------------------------------------
signed int __thiscall sub_4665F0(void *this)
{
  signed int result; // eax
  int v2; // esi
  void *v3; // [esp+14h] [ebp-4h]

  v3 = this;
  if ( CoCreateInstance(&rclsid, 0, 1u, &riid, &ppv) >= 0 )
  {
    if ( (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_483340, (int *)&v3) >= 0 )
    {
      v2 = (*(int (__stdcall **)(void *, int *))(*(_DWORD *)v3 + 28))(v3, &dword_1330528);
      (*(void (__stdcall **)(void *))(*(_DWORD *)v3 + 8))(v3);
      if ( v2 >= 0 )
      {
        result = 1;
      }
      else
      {
        sub_466670();
        result = 0;
      }
    }
    else
    {
      sub_466670();
      result = 0;
    }
  }
  else
  {
    ppv = 0;
    result = 0;
  }
  return result;
}
// 1330528: using guessed type int dword_1330528;

//----- (00466670) --------------------------------------------------------
int sub_466670()
{
  if ( ppv )
  {
    (*(void (__stdcall **)(LPVOID))(*(_DWORD *)ppv + 8))(ppv);
    ppv = 0;
  }
  dword_1330528 = 0;
  return sub_4665B0(0);
}
// 1330528: using guessed type int dword_1330528;

//----- (004666A0) --------------------------------------------------------
char __cdecl sub_4666A0(LPCSTR lpMultiByteStr)
{
  void *v1; // ecx
  signed int v2; // eax
  HCURSOR v3; // eax
  int v4; // ebx
  HCURSOR v5; // eax
  WCHAR WideCharStr; // [esp+0h] [ebp-208h]

  sub_466670();
  v2 = sub_4665F0(v1);
  if ( v2 )
  {
    MultiByteToWideChar(0, 0, lpMultiByteStr, -1, &WideCharStr, 260);
    v3 = LoadCursorA(0, (LPCSTR)0x7F02);
    SetCursor(v3);
    v4 = (*(int (__stdcall **)(LPVOID, WCHAR *, _DWORD))(*(_DWORD *)ppv + 52))(ppv, &WideCharStr, 0);
    v5 = LoadCursorA(0, (LPCSTR)0x7F00);
    SetCursor(v5);
    LOBYTE(v2) = v4 >= 0;
  }
  return v2;
}

//----- (00466730) --------------------------------------------------------
char __cdecl sub_466730(int a1, LPCSTR lpFileName)
{
  const CHAR *v2; // esi
  int v3; // eax
  int v4; // eax

  v2 = lpFileName;
  if ( lpFileName && (LOBYTE(v3) = sub_4666A0(lpFileName), v3) )
  {
    GetFullPathNameA(v2, 0x104u, MultiByteStr, (LPSTR *)&lpFileName);
    strncpy(byte_133031C, lpFileName, 0x200u);
    byte_133051B = 0;
    LOBYTE(v4) = sub_4665B0(1);
  }
  else
  {
    LOBYTE(v4) = sub_4666A0(MultiByteStr);
    if ( v4 )
      LOBYTE(v4) = sub_4665B0(1);
  }
  return v4;
}
// 133051B: using guessed type char byte_133051B;

//----- (004667A0) --------------------------------------------------------
int __thiscall sub_4667A0(void *this)
{
  int result; // eax
  int v2; // esi
  void *v3; // [esp+10h] [ebp-4h]

  v3 = this;
  result = sub_466560();
  if ( result )
  {
    result = (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_483380, (int *)&v3);
    if ( result >= 0 )
    {
      v2 = (*(int (__stdcall **)(void *))(*(_DWORD *)v3 + 28))(v3);
      result = (*(int (__stdcall **)(void *))(*(_DWORD *)v3 + 8))(v3);
      if ( v2 >= 0 )
        result = sub_4665B0(3);
    }
  }
  return result;
}

//----- (004667F0) --------------------------------------------------------
int sub_4667F0()
{
  int result; // eax
  int v1; // esi
  int v2; // [esp+3Ch] [ebp-18h]
  int v3; // [esp+40h] [ebp-14h]
  double v4; // [esp+44h] [ebp-10h]
  double v5; // [esp+4Ch] [ebp-8h]

  result = sub_466580();
  if ( result )
  {
    result = (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_483380, &v3);
    if ( result >= 0 )
    {
      if ( (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_483390, &v2) >= 0 )
      {
        if ( (*(int (__stdcall **)(int, double *))(*(_DWORD *)v2 + 28))(v2, &v4) >= 0
          && (*(int (__stdcall **)(int, double *))(*(_DWORD *)v2 + 36))(v2, &v5) >= 0
          && v4 - v5 < 1.0 )
        {
          (*(void (__stdcall **)(int, _DWORD, _DWORD))(*(_DWORD *)v2 + 32))(v2, 0, 0);
          v1 = (*(int (__stdcall **)(int))(*(_DWORD *)v3 + 28))(v3);
          (*(void (__stdcall **)(int))(*(_DWORD *)v3 + 8))(v3);
          if ( v1 >= 0 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 8))(v2);
            return sub_4665B0(3);
          }
        }
        (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      }
      result = (*(int (__stdcall **)(int))(*(_DWORD *)v3 + 8))(v3);
    }
  }
  return result;
}

//----- (004668D0) --------------------------------------------------------
int sub_4668D0()
{
  int result; // eax
  int v1; // [esp+3Ch] [ebp-Ch]
  int v2; // [esp+40h] [ebp-8h]
  char v3; // [esp+44h] [ebp-4h]

  result = sub_466580();
  if ( result )
  {
    result = (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_483380, &v1);
    if ( result >= 0 )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)v1 + 32))(v1);
      if ( (**(int (__stdcall ***)(LPVOID, void *, int *))ppv)(ppv, &unk_483390, &v2) >= 0 )
      {
        (*(void (__stdcall **)(int, _DWORD, _DWORD))(*(_DWORD *)v2 + 32))(v2, 0, 0);
        (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      }
      (*(void (__stdcall **)(int, signed int, char *))(*(_DWORD *)v1 + 40))(v1, -1, &v3);
      (*(void (__stdcall **)(int))(*(_DWORD *)v1 + 36))(v1);
      (*(void (__stdcall **)(int))(*(_DWORD *)v1 + 8))(v1);
      result = sub_4665B0(1);
    }
  }
  return result;
}

//----- (00466970) --------------------------------------------------------
int __cdecl sub_466970(_DWORD *a1, _DWORD *a2, _DWORD *a3, int *a4)
{
  int result; // eax

  if ( *a1 <= dword_1540B4C )
  {
    if ( *a1 < 0 )
      *a1 = 0;
  }
  else
  {
    *a1 = dword_1540B4C;
  }
  if ( *a2 <= dword_1540B50 )
  {
    if ( *a2 < 0 )
      *a2 = 0;
  }
  else
  {
    *a2 = dword_1540B50;
  }
  if ( *a3 <= dword_1540B4C )
  {
    if ( *a3 < 0 )
      *a3 = 0;
  }
  else
  {
    *a3 = dword_1540B4C;
  }
  result = *a4;
  if ( *a4 <= dword_1540B50 )
  {
    if ( result < 0 )
      *a4 = 0;
  }
  else
  {
    *a4 = dword_1540B50;
  }
  return result;
}
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (004669F0) --------------------------------------------------------
MCIERROR __cdecl sub_4669F0(const char *a1)
{
  int v1; // eax
  int v2; // ecx
  int v3; // eax
  int v4; // ecx
  int v5; // eax
  int v6; // ecx
  int v7; // eax
  int v8; // ecx
  int v9; // edi
  _DWORD *v10; // eax
  int v11; // ST14_4
  int v12; // ST14_4
  MCIERROR result; // eax
  bool v14; // zf
  signed int v15; // eax

  word_131ABFE = *((unsigned __int8 *)a1 + 1) + (*(unsigned __int8 *)a1 << 8);
  byte_1547958 = a1[6];
  sub_416990(57);
  sub_416700(58, 0);
  sub_416700(59, 0);
  sub_416700(60, 0);
  if ( byte_1560A78 == 2 )
  {
    dword_1330654 = *((unsigned __int8 *)a1 + 3) + (*((unsigned __int8 *)a1 + 2) << 8);
    dword_1330658 = *((unsigned __int8 *)a1 + 5) + (*((unsigned __int8 *)a1 + 4) << 8);
    *((_DWORD *)(&lpString)[dword_131D690] + 37) = dword_1330654;
    *((_DWORD *)(&lpString)[dword_131D690] + 38) = dword_1330658;
    sub_423330((int)(&lpString)[dword_131D690]);
  }
  LOBYTE(dword_48EB10) = a1[7];
  BYTE1(dword_48EB10) = dword_48EB10;
  if ( (_BYTE)dword_48EB10 == 1 )
  {
    sub_416860(57, 0, 0, 0, 1);
    sub_416700(57, 0);
  }
  byte_49CFF0 = 64;
  HIWORD(v1) = 0;
  HIWORD(v2) = 0;
  dword_13225E0 = dword_48BA58[(unsigned __int16)word_131ABFE];
  dword_133052C = *((unsigned __int8 *)a1 + 8);
  BYTE1(v1) = a1[9];
  LOBYTE(v1) = a1[10];
  dword_1330654 = (unsigned __int16)v1;
  BYTE1(v2) = a1[11];
  LOBYTE(v2) = a1[12];
  dword_1330658 = (unsigned __int16)v2;
  if ( (_WORD)v1 && v2 )
    sub_4245C0(v1, v2);
  HIWORD(v3) = 0;
  HIWORD(v4) = 0;
  dword_133052C = *((unsigned __int8 *)a1 + 13);
  BYTE1(v3) = a1[14];
  LOBYTE(v3) = a1[15];
  dword_1330654 = (unsigned __int16)v3;
  BYTE1(v4) = a1[16];
  LOBYTE(v4) = a1[17];
  dword_1330658 = (unsigned __int16)v4;
  if ( (_WORD)v3 && v4 )
    sub_4245C0(v3, v4);
  HIWORD(v5) = 0;
  HIWORD(v6) = 0;
  dword_133052C = *((unsigned __int8 *)a1 + 18);
  BYTE1(v5) = a1[19];
  LOBYTE(v5) = a1[20];
  dword_1330654 = (unsigned __int16)v5;
  BYTE1(v6) = a1[21];
  LOBYTE(v6) = a1[22];
  dword_1330658 = (unsigned __int16)v6;
  if ( (_WORD)v5 && v6 )
    sub_4245C0(v5, v6);
  HIWORD(v7) = 0;
  HIWORD(v8) = 0;
  dword_133052C = *((unsigned __int8 *)a1 + 23);
  BYTE1(v7) = a1[24];
  LOBYTE(v7) = a1[25];
  dword_1330654 = (unsigned __int16)v7;
  BYTE1(v8) = a1[26];
  LOBYTE(v8) = a1[27];
  dword_1330658 = (unsigned __int16)v8;
  if ( (_WORD)v7 && v8 )
    sub_4245C0(v7, v8);
  strcpy((char *)&unk_131949C, a1 + 28);
  byte_13225F5 = a1[48];
  sub_4248D0();
  v9 = 0;
  dword_1322614 = 0;
  dword_133052C = 0;
  v10 = &unk_48B9A0;
  while ( *(v10 - 2) != (unsigned __int16)word_131ABFE
       || *v10 != (unsigned __int8)byte_1547958 && v10[1] != (unsigned __int8)byte_1547958 )
  {
    v10 += 4;
    ++v9;
    if ( (signed int)v10 >= (signed int)&unk_48BA60 )
    {
      dword_133052C = v9;
      goto LABEL_24;
    }
  }
  dword_133052C = v9;
  dword_1322614 = 1;
LABEL_24:
  switch ( byte_1547958 )
  {
    case 0:
      byte_1547959 = 0;
      sub_424130(0);
      break;
    case 1:
      byte_1547959 = 1;
      sub_424130(1);
      break;
    case 2:
      byte_1547959 = 2;
      sub_424130(2);
      break;
    case 3:
      byte_1547959 = 3;
      sub_424130(3);
      break;
    case 4:
      byte_1547959 = 4;
      sub_424130(4);
      break;
    case 5:
      byte_1547959 = 5;
      sub_424130(5);
      break;
    case 6:
      v11 = byte_4897A8[(unsigned __int16)word_131ABFE];
      byte_1547959 = 6;
      sub_424410(v11, 6);
      break;
    case 7:
      byte_1547959 = 7;
      sub_424130(7);
      break;
    case 8:
      byte_1547959 = 8;
      sub_424130(8);
      break;
    case 9:
      byte_1547959 = 9;
      sub_424130(9);
      break;
    case 0xA:
      byte_1547959 = 10;
      sub_424130(10);
      break;
    case 0xB:
      byte_1547959 = 11;
      sub_424130(11);
      break;
    case 0xC:
      byte_1547959 = 11;
      sub_424130(12);
      break;
    case 0xD:
      byte_1547959 = 11;
      sub_424130(13);
      break;
    case 0xE:
      byte_1547959 = 11;
      sub_424130(14);
      break;
    case 0xF:
      byte_1547959 = 10;
      sub_424130(15);
      break;
    case 0x10:
      byte_1547959 = 10;
      sub_424130(16);
      break;
    case 0x11:
      byte_1547959 = 9;
      sub_424130(17);
      break;
    case 0x12:
      v12 = byte_4897A8[(unsigned __int16)word_131ABFE];
      byte_1547959 = 8;
      sub_424410(v12, 18);
      break;
    case 0x13:
      byte_1547959 = 6;
      sub_424130(19);
      break;
    case 0x14:
      byte_1547959 = 4;
      sub_424130(20);
      break;
    case 0x15:
      byte_1547959 = 2;
      sub_424130(21);
      break;
    case 0x16:
      byte_1547959 = 1;
      sub_424130(22);
      break;
    case 0x17:
      byte_1547959 = 0;
      sub_424130(23);
      break;
    default:
      break;
  }
  if ( word_131ABFE == 1
    || (signed int)(unsigned __int16)word_131ABFE > 113 && (signed int)(unsigned __int16)word_131ABFE <= 116 )
  {
    sub_42DEC0();
    result = sub_42DC70(7);
  }
  else if ( dword_48BA58[(unsigned __int16)word_131ABFE] )
  {
    result = dword_48BA58[dword_131ABF0];
    if ( !result )
    {
      v15 = rand() & 0x80000001;
      v14 = v15 == 0;
      if ( v15 < 0 )
        v14 = (((_BYTE)v15 - 1) | 0xFFFFFFFE) == -1;
      if ( v14 )
      {
        sub_42DEC0();
        result = sub_42DC70(9);
      }
      else
      {
        sub_42DEC0();
        result = sub_42DC70(8);
      }
    }
  }
  else
  {
    result = dword_131ABF0;
    if ( dword_48BA58[dword_131ABF0]
      || dword_131ABF0 == 1
      || dword_131ABF0 == 114
      || dword_131ABF0 == 115
      || dword_131ABF0 == 116 )
    {
      if ( byte_1324782 )
      {
        if ( byte_1324782 == 1 )
        {
          sub_42DEC0();
          result = sub_42DC70(3);
        }
        else
        {
          result = (unsigned __int8)byte_1324782 - 2;
          if ( byte_1324782 == 2 )
          {
            sub_42DEC0();
            result = sub_42DC70(4);
          }
        }
      }
      else
      {
        sub_42DEC0();
        result = sub_42DC70(5);
      }
    }
  }
  return result;
}
// 48BA58: using guessed type int dword_48BA58[];
// 48EB10: using guessed type int dword_48EB10;
// 49CFF0: using guessed type char byte_49CFF0;
// 131ABF0: using guessed type int dword_131ABF0;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131D690: using guessed type int dword_131D690;
// 13225E0: using guessed type int dword_13225E0;
// 13225F5: using guessed type char byte_13225F5;
// 1322614: using guessed type int dword_1322614;
// 1324782: using guessed type char byte_1324782;
// 133052C: using guessed type int dword_133052C;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 1547958: using guessed type char byte_1547958;
// 1547959: using guessed type char byte_1547959;
// 1560A78: using guessed type char byte_1560A78;

//----- (00466F20) --------------------------------------------------------
MCIERROR __cdecl sub_466F20(unsigned __int8 *a1)
{
  unsigned __int8 *v1; // ebp
  int v2; // eax
  signed int v3; // edx
  LPCSTR v4; // ecx
  int v5; // eax
  int v6; // ecx
  int v7; // eax
  int v8; // ecx
  int v9; // eax
  int v10; // ecx
  int v11; // eax
  int v12; // ecx
  int v13; // edi
  _DWORD *v14; // eax
  int v15; // ST10_4
  int v16; // ST10_4
  int v17; // eax
  MCIERROR result; // eax
  int v19; // ecx
  bool v20; // zf
  signed int v21; // eax
  char v22; // [esp+8h] [ebp-14h]

  v1 = a1;
  word_131ABFE = a1[1] + (*a1 << 8);
  byte_1547958 = a1[6];
  sub_416990(57);
  sub_416700(58, 0);
  sub_416700(59, 0);
  sub_416700(60, 0);
  dword_1330654 = v1[3] + (v1[2] << 8);
  dword_1330658 = v1[5] + (v1[4] << 8);
  *((_DWORD *)(&lpString)[dword_131D690] + 37) = dword_1330654;
  *((_DWORD *)(&lpString)[dword_131D690] + 38) = dword_1330658;
  sub_423330((int)(&lpString)[dword_131D690]);
  LOBYTE(dword_48EB10) = a1[7];
  BYTE1(dword_48EB10) = dword_48EB10;
  if ( (_BYTE)dword_48EB10 == 1 )
  {
    sub_416860(57, 0, 0, 0, 1);
    sub_416700(57, 0);
  }
  byte_49CFF0 = 64;
  sprintf(&v22, a03dMap, (unsigned __int16)word_131ABFE);
  dword_13225E0 = dword_48BA58[(unsigned __int16)word_131ABFE];
  sub_422950(&v22);
  v2 = (unsigned __int16)dword_1317E74;
  v3 = 1;
  dword_1330654 = (unsigned __int16)dword_1317E74;
  dword_1330658 = 1;
  dword_1330534 = 0;
  if ( (unsigned __int16)dword_1317E74 - 1 > 0 )
  {
    do
    {
      v4 = (&lpString)[dword_131D690];
      if ( *((_DWORD *)v4 + 159) == -1 || *((LPCSTR *)(&lpString)[v3] + 156) != v4 )
      {
        sub_41CE40((int)(&lpString)[v3]);
        v2 = dword_1330654;
        v3 = dword_1330658;
      }
      else
      {
        dword_1330658 = ++v3;
      }
      ++dword_1330534;
    }
    while ( dword_1330534 < v2 - 1 );
  }
  byte_49D965 = 0;
  sub_477670((unsigned __int16)word_131ABFE);
  HIWORD(v5) = 0;
  HIWORD(v6) = 0;
  dword_133052C = a1[8];
  BYTE1(v5) = a1[9];
  LOBYTE(v5) = a1[10];
  dword_1330654 = (unsigned __int16)v5;
  BYTE1(v6) = a1[11];
  LOBYTE(v6) = a1[12];
  dword_1330658 = (unsigned __int16)v6;
  if ( (_WORD)v5 && v6 )
    sub_4245C0(v5, v6);
  HIWORD(v7) = 0;
  HIWORD(v8) = 0;
  dword_133052C = a1[13];
  BYTE1(v7) = a1[14];
  LOBYTE(v7) = a1[15];
  dword_1330654 = (unsigned __int16)v7;
  BYTE1(v8) = a1[16];
  LOBYTE(v8) = a1[17];
  dword_1330658 = (unsigned __int16)v8;
  if ( (_WORD)v7 && v8 )
    sub_4245C0(v7, v8);
  HIWORD(v9) = 0;
  HIWORD(v10) = 0;
  dword_133052C = a1[18];
  BYTE1(v9) = a1[19];
  LOBYTE(v9) = a1[20];
  dword_1330654 = (unsigned __int16)v9;
  BYTE1(v10) = a1[21];
  LOBYTE(v10) = a1[22];
  dword_1330658 = (unsigned __int16)v10;
  if ( (_WORD)v9 && v10 )
    sub_4245C0(v9, v10);
  HIWORD(v11) = 0;
  HIWORD(v12) = 0;
  dword_133052C = a1[23];
  BYTE1(v11) = a1[24];
  LOBYTE(v11) = a1[25];
  dword_1330654 = (unsigned __int16)v11;
  BYTE1(v12) = a1[26];
  LOBYTE(v12) = a1[27];
  dword_1330658 = (unsigned __int16)v12;
  if ( (_WORD)v11 && v12 )
    sub_4245C0(v11, v12);
  strcpy((char *)&unk_131949C, (const char *)a1 + 28);
  byte_13225F5 = a1[48];
  sub_4248D0();
  v13 = 0;
  dword_1322614 = 0;
  dword_133052C = 0;
  v14 = &unk_48B9A0;
  while ( *(v14 - 2) != (unsigned __int16)word_131ABFE
       || *v14 != (unsigned __int8)byte_1547958 && v14[1] != (unsigned __int8)byte_1547958 )
  {
    v14 += 4;
    ++v13;
    if ( (signed int)v14 >= (signed int)&unk_48BA60 )
    {
      dword_133052C = v13;
      goto LABEL_28;
    }
  }
  dword_133052C = v13;
  dword_1322614 = 1;
LABEL_28:
  switch ( byte_1547958 )
  {
    case 0:
      byte_1547959 = 0;
      sub_424130(0);
      break;
    case 1:
      byte_1547959 = 1;
      sub_424130(1);
      break;
    case 2:
      byte_1547959 = 2;
      sub_424130(2);
      break;
    case 3:
      byte_1547959 = 3;
      sub_424130(3);
      break;
    case 4:
      byte_1547959 = 4;
      sub_424130(4);
      break;
    case 5:
      byte_1547959 = 5;
      sub_424130(5);
      break;
    case 6:
      v15 = byte_4897A8[(unsigned __int16)word_131ABFE];
      byte_1547959 = 6;
      sub_424410(v15, 6);
      break;
    case 7:
      byte_1547959 = 7;
      sub_424130(7);
      break;
    case 8:
      byte_1547959 = 8;
      sub_424130(8);
      break;
    case 9:
      byte_1547959 = 9;
      sub_424130(9);
      break;
    case 0xA:
      byte_1547959 = 10;
      sub_424130(10);
      break;
    case 0xB:
      byte_1547959 = 11;
      sub_424130(11);
      break;
    case 0xC:
      byte_1547959 = 11;
      sub_424130(12);
      break;
    case 0xD:
      byte_1547959 = 11;
      sub_424130(13);
      break;
    case 0xE:
      byte_1547959 = 11;
      sub_424130(14);
      break;
    case 0xF:
      byte_1547959 = 10;
      sub_424130(15);
      break;
    case 0x10:
      byte_1547959 = 10;
      sub_424130(16);
      break;
    case 0x11:
      byte_1547959 = 9;
      sub_424130(17);
      break;
    case 0x12:
      v16 = byte_4897A8[(unsigned __int16)word_131ABFE];
      byte_1547959 = 8;
      sub_424410(v16, 18);
      break;
    case 0x13:
      byte_1547959 = 6;
      sub_424130(19);
      break;
    case 0x14:
      byte_1547959 = 4;
      sub_424130(20);
      break;
    case 0x15:
      byte_1547959 = 2;
      sub_424130(21);
      break;
    case 0x16:
      byte_1547959 = 1;
      sub_424130(22);
      break;
    case 0x17:
      byte_1547959 = 0;
      sub_424130(23);
      break;
    default:
      break;
  }
  LOBYTE(dword_1330548) = 0;
  *(_WORD *)((char *)&dword_1330548 + 1) = 24321;
  HIBYTE(dword_1330548) = -113;
  switch ( word_131ABFE )
  {
    case 52:
      sub_41CB10(4540, 3190, (int)&dword_1330548);
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1037;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
      v17 = dword_49DA1C[dword_1317E74];
      goto LABEL_59;
    case 85:
      sub_41CB10(3260, 1910, (int)&dword_1330548);
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1037;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
      v17 = dword_49DA1C[dword_1317E74];
      goto LABEL_59;
    case 104:
      sub_41CB10(3220, 1970, (int)&dword_1330548);
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1037;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
      v17 = dword_49DA1C[dword_1317E74];
LABEL_59:
      *(float *)(v17 + 112) = *(float *)(v17 + 112) + 5.0;
      break;
  }
  if ( word_131ABFE == 1
    || (signed int)(unsigned __int16)word_131ABFE > 113 && (signed int)(unsigned __int16)word_131ABFE <= 116 )
  {
    sub_42DEC0();
    result = sub_42DC70(7);
  }
  else
  {
    result = dword_131ABF0;
    v19 = dword_48BA58[dword_131ABF0];
    if ( dword_48BA58[(unsigned __int16)word_131ABFE] )
    {
      if ( !v19 )
      {
        v21 = rand() & 0x80000001;
        v20 = v21 == 0;
        if ( v21 < 0 )
          v20 = (((_BYTE)v21 - 1) | 0xFFFFFFFE) == -1;
        if ( v20 )
        {
          sub_42DEC0();
          result = sub_42DC70(9);
        }
        else
        {
          sub_42DEC0();
          result = sub_42DC70(8);
        }
      }
    }
    else if ( v19 || dword_131ABF0 == 1 || dword_131ABF0 == 114 || dword_131ABF0 == 115 || dword_131ABF0 == 116 )
    {
      if ( byte_1324782 )
      {
        if ( byte_1324782 == 1 )
        {
          sub_42DEC0();
          result = sub_42DC70(3);
        }
        else
        {
          result = (unsigned __int8)byte_1324782 - 2;
          if ( byte_1324782 == 2 )
          {
            sub_42DEC0();
            result = sub_42DC70(4);
          }
        }
      }
      else
      {
        sub_42DEC0();
        result = sub_42DC70(5);
      }
    }
  }
  return result;
}
// 48BA58: using guessed type int dword_48BA58[];
// 48EB10: using guessed type int dword_48EB10;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D965: using guessed type char byte_49D965;
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;
// 131ABF0: using guessed type int dword_131ABF0;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131D690: using guessed type int dword_131D690;
// 13225E0: using guessed type int dword_13225E0;
// 13225F5: using guessed type char byte_13225F5;
// 1322614: using guessed type int dword_1322614;
// 1324782: using guessed type char byte_1324782;
// 133052C: using guessed type int dword_133052C;
// 1330534: using guessed type int dword_1330534;
// 1330548: using guessed type int dword_1330548;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 1547958: using guessed type char byte_1547958;
// 1547959: using guessed type char byte_1547959;

//----- (00467770) --------------------------------------------------------
char __cdecl sub_467770(_BYTE *a1)
{
  int v1; // eax
  unsigned __int16 v2; // ax
  int v3; // eax
  int v4; // ecx
  int v5; // eax
  int v6; // ecx
  int v7; // eax
  int v8; // ecx
  int v9; // eax
  int v10; // ecx
  unsigned __int8 v11; // dl
  int v12; // edi
  _DWORD *v13; // eax
  int v14; // ST14_4
  int v15; // ST14_4
  bool v16; // zf
  signed int v17; // eax

  LOBYTE(v1) = byte_1560A78;
  if ( byte_1560A78 )
  {
    dword_13225DC = 0;
  }
  else
  {
    HIBYTE(v2) = *a1;
    LOBYTE(v2) = a1[1];
    dword_13225DC = 0;
    dword_1330654 = v2;
    word_131ABFE = v2;
    sub_416990(57);
    sub_416700(58, 0);
    sub_416700(59, 0);
    sub_416700(60, 0);
    LOBYTE(dword_48EB10) = a1[2];
    BYTE1(dword_48EB10) = dword_48EB10;
    if ( (_BYTE)dword_48EB10 == 1 )
    {
      sub_416860(57, 0, 0, 0, 1);
      sub_416700(57, 0);
    }
    HIWORD(v3) = 0;
    dword_13225E0 = dword_48BA58[dword_1330654];
    dword_133052C = (unsigned __int8)a1[3];
    BYTE1(v3) = a1[4];
    LOBYTE(v3) = a1[5];
    HIWORD(v4) = 0;
    dword_1330654 = (unsigned __int16)v3;
    BYTE1(v4) = a1[6];
    LOBYTE(v4) = a1[7];
    dword_1330658 = (unsigned __int16)v4;
    if ( (_WORD)v3 && v4 )
      sub_4245C0(v3, v4);
    HIWORD(v5) = 0;
    HIWORD(v6) = 0;
    dword_133052C = (unsigned __int8)a1[8];
    BYTE1(v5) = a1[9];
    LOBYTE(v5) = a1[10];
    dword_1330654 = (unsigned __int16)v5;
    BYTE1(v6) = a1[11];
    LOBYTE(v6) = a1[12];
    dword_1330658 = (unsigned __int16)v6;
    if ( (_WORD)v5 && v6 )
      sub_4245C0(v5, v6);
    HIWORD(v7) = 0;
    HIWORD(v8) = 0;
    dword_133052C = (unsigned __int8)a1[13];
    BYTE1(v7) = a1[14];
    LOBYTE(v7) = a1[15];
    dword_1330654 = (unsigned __int16)v7;
    BYTE1(v8) = a1[16];
    LOBYTE(v8) = a1[17];
    dword_1330658 = (unsigned __int16)v8;
    if ( (_WORD)v7 && v8 )
      sub_4245C0(v7, v8);
    HIWORD(v9) = 0;
    HIWORD(v10) = 0;
    dword_133052C = (unsigned __int8)a1[18];
    BYTE1(v9) = a1[19];
    LOBYTE(v9) = a1[20];
    dword_1330654 = (unsigned __int16)v9;
    BYTE1(v10) = a1[21];
    LOBYTE(v10) = a1[22];
    dword_1330658 = (unsigned __int16)v10;
    if ( (_WORD)v9 && v10 )
      sub_4245C0(v9, v10);
    sub_4248D0();
    v11 = a1[23];
    v12 = 0;
    byte_1547958 = a1[23];
    dword_1322614 = 0;
    dword_133052C = 0;
    v13 = &unk_48B9A0;
    while ( *(v13 - 2) != (unsigned __int16)word_131ABFE || *v13 != v11 && v13[1] != v11 )
    {
      v13 += 4;
      ++v12;
      if ( (signed int)v13 >= (signed int)&unk_48BA60 )
      {
        dword_133052C = v12;
        goto LABEL_24;
      }
    }
    dword_133052C = v12;
    dword_1322614 = 1;
LABEL_24:
    switch ( v11 )
    {
      case 0u:
        byte_1547959 = 0;
        sub_424130(0);
        break;
      case 1u:
        byte_1547959 = 1;
        sub_424130(1);
        break;
      case 2u:
        byte_1547959 = 2;
        sub_424130(2);
        break;
      case 3u:
        byte_1547959 = 3;
        sub_424130(3);
        break;
      case 4u:
        byte_1547959 = 4;
        sub_424130(4);
        break;
      case 5u:
        byte_1547959 = 5;
        sub_424130(5);
        break;
      case 6u:
        v14 = byte_4897A8[(unsigned __int16)word_131ABFE];
        byte_1547959 = 6;
        sub_424410(v14, 6);
        break;
      case 7u:
        byte_1547959 = 7;
        sub_424130(7);
        break;
      case 8u:
        byte_1547959 = 8;
        sub_424130(8);
        break;
      case 9u:
        byte_1547959 = 9;
        sub_424130(9);
        break;
      case 0xAu:
        byte_1547959 = 10;
        sub_424130(10);
        break;
      case 0xBu:
        byte_1547959 = 11;
        sub_424130(11);
        break;
      case 0xCu:
        byte_1547959 = 11;
        sub_424130(12);
        break;
      case 0xDu:
        byte_1547959 = 11;
        sub_424130(13);
        break;
      case 0xEu:
        byte_1547959 = 11;
        sub_424130(14);
        break;
      case 0xFu:
        byte_1547959 = 10;
        sub_424130(15);
        break;
      case 0x10u:
        byte_1547959 = 10;
        sub_424130(16);
        break;
      case 0x11u:
        byte_1547959 = 9;
        sub_424130(17);
        break;
      case 0x12u:
        v15 = byte_4897A8[(unsigned __int16)word_131ABFE];
        byte_1547959 = 8;
        sub_424410(v15, 18);
        break;
      case 0x13u:
        byte_1547959 = 6;
        sub_424130(19);
        break;
      case 0x14u:
        byte_1547959 = 4;
        sub_424130(20);
        break;
      case 0x15u:
        byte_1547959 = 2;
        sub_424130(21);
        break;
      case 0x16u:
        byte_1547959 = 1;
        sub_424130(22);
        break;
      case 0x17u:
        byte_1547959 = 0;
        sub_424130(23);
        break;
      default:
        break;
    }
    if ( word_131ABFE == 1
      || (signed int)(unsigned __int16)word_131ABFE > 113 && (signed int)(unsigned __int16)word_131ABFE <= 116 )
    {
      sub_42DEC0();
      LOBYTE(v1) = sub_42DC70(7);
    }
    else if ( dword_48BA58[(unsigned __int16)word_131ABFE] )
    {
      v1 = dword_48BA58[dword_131ABF0];
      if ( !v1 )
      {
        v17 = rand() & 0x80000001;
        v16 = v17 == 0;
        if ( v17 < 0 )
          v16 = (((_BYTE)v17 - 1) | 0xFFFFFFFE) == -1;
        if ( v16 )
        {
          sub_42DEC0();
          LOBYTE(v1) = sub_42DC70(9);
        }
        else
        {
          sub_42DEC0();
          LOBYTE(v1) = sub_42DC70(8);
        }
      }
    }
    else
    {
      LOBYTE(v1) = dword_131ABF0;
      if ( dword_48BA58[dword_131ABF0]
        || dword_131ABF0 == 1
        || dword_131ABF0 == 114
        || dword_131ABF0 == 115
        || dword_131ABF0 == 116 )
      {
        if ( byte_1324782 )
        {
          if ( byte_1324782 == 1 )
          {
            sub_42DEC0();
            LOBYTE(v1) = sub_42DC70(3);
          }
          else
          {
            LOBYTE(v1) = byte_1324782 - 2;
            if ( byte_1324782 == 2 )
            {
              sub_42DEC0();
              LOBYTE(v1) = sub_42DC70(4);
            }
          }
        }
        else
        {
          sub_42DEC0();
          LOBYTE(v1) = sub_42DC70(5);
        }
      }
    }
  }
  return v1;
}
// 48BA58: using guessed type int dword_48BA58[];
// 48EB10: using guessed type int dword_48EB10;
// 131ABF0: using guessed type int dword_131ABF0;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 13225DC: using guessed type int dword_13225DC;
// 13225E0: using guessed type int dword_13225E0;
// 1322614: using guessed type int dword_1322614;
// 1324782: using guessed type char byte_1324782;
// 133052C: using guessed type int dword_133052C;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 1547958: using guessed type char byte_1547958;
// 1547959: using guessed type char byte_1547959;
// 1560A78: using guessed type char byte_1560A78;

//----- (00467C10) --------------------------------------------------------
int __cdecl sub_467C10(_BYTE *a1)
{
  unsigned __int16 v1; // cx
  int v2; // esi
  int v3; // ecx
  int result; // eax
  char v5; // dl

  HIBYTE(v1) = *a1;
  LOBYTE(v1) = a1[1];
  v2 = (unsigned __int8)a1[3] | (((unsigned __int8)a1[2] | (v1 << 8)) << 8);
  dword_1330654 = (unsigned __int8)a1[3] | (((unsigned __int8)a1[2] | (v1 << 8)) << 8);
  HIBYTE(v1) = a1[4];
  LOBYTE(v1) = a1[5];
  v3 = (unsigned __int8)a1[7] | (((unsigned __int8)a1[6] | (v1 << 8)) << 8);
  dword_1330658 = v3;
  if ( byte_1328DEE == 1 )
  {
    result = 2 * (unsigned __int8)byte_1330048;
    v5 = byte_1330048 + 1;
    dword_48CEC8[result] = v2;
    dword_48CECC[result] = v3;
  }
  else
  {
    result = 2 * (unsigned __int8)byte_1330048;
    v5 = byte_1330048 + 1;
    dword_48CE28[result] = v2;
    dword_48CE2C[result] = v3;
  }
  byte_1330048 = v5;
  return result * 4;
}
// 48CE28: using guessed type int dword_48CE28[];
// 48CE2C: using guessed type int dword_48CE2C[];
// 48CEC8: using guessed type int dword_48CEC8[];
// 1328DEE: using guessed type char byte_1328DEE;
// 1330048: using guessed type char byte_1330048;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;

//----- (00467CB0) --------------------------------------------------------
signed int __cdecl sub_467CB0(int *a1)
{
  signed int result; // eax
  LPCSTR v2; // eax
  int v3; // ecx

  dword_1330548 = *a1;
  result = sub_4254F0(&dword_1330548);
  dword_1330538 = result;
  if ( result != -1 )
  {
    if ( byte_1322634 || (_BYTE)dword_13246D8 || dword_48CF6C != 11 )
    {
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      v2 = (&lpString)[dword_131D690];
      LOBYTE(dword_1550B62) = 44;
      *(int *)((char *)&dword_1550B62 + 1) = dword_1330548;
      v3 = *((_DWORD *)v2 + 14);
      LOBYTE(dword_1550B6B) = 3;
      dword_1550B67 = v3;
      result = sub_479790(12);
    }
    else
    {
      qmemcpy(&unk_13194B8, a1 + 2, 0x14u);
      byte_1322634 = 2;
      dword_13211CC = dword_1330548;
      byte_1330094 = 3;
      byte_1330095 = 0;
      sprintf(byte_132963C, aS_6, &unk_13194B8);
      result = strlen((const char *)&unk_48E920) + 1;
      qmemcpy(byte_1329474, &unk_48E920, result);
    }
  }
  return result;
}
// 48CF6C: using guessed type int dword_48CF6C;
// 131D690: using guessed type int dword_131D690;
// 13211CC: using guessed type int dword_13211CC;
// 1322634: using guessed type char byte_1322634;
// 13246D8: using guessed type int dword_13246D8;
// 1330094: using guessed type char byte_1330094;
// 1330095: using guessed type char byte_1330095;
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;

//----- (00467DE0) --------------------------------------------------------
char __cdecl sub_467DE0(int a1)
{
  signed int v1; // eax
  signed int v2; // eax
  const char *v3; // edi
  LPCSTR v4; // edx
  signed int v5; // eax
  const char *v6; // edi
  signed int v7; // eax
  signed int v8; // eax

  LOBYTE(v1) = byte_1322634;
  if ( byte_1322634 )
  {
    LOBYTE(v1) = *(_BYTE *)(a1 + 8) - 1;
    switch ( *(unsigned __int8 *)(a1 + 8) )
    {
      case 1u:
        dword_1330548 = *(_DWORD *)(a1 + 4);
        v2 = sub_4254F0(&dword_1330548);
        dword_1330538 = v2;
        if ( v2 == -1 )
        {
          byte_1322634 = 0;
          v1 = 0;
          do
          {
            dword_132A270[2 * v1] = -1;
            dword_1329450[2 * v1++] = -1;
          }
          while ( v1 < 4 );
          dword_13226CC = 0;
          dword_1329638 = 0;
          byte_1328E45 = 0;
          LOBYTE(dword_13246D8) = 0;
          byte_1330094 = 0;
          byte_1330095 = 0;
          byte_1330080 = 0;
          dword_133052C = v1;
        }
        else
        {
          v3 = (&lpString)[v2];
          byte_1322634 = 3;
          byte_1330080 = 1;
          strcpy((char *)&unk_13194B8, v3);
          sprintf(byte_1324784, &byte_48C740, &unk_13194B8);
          strcpy((char *)&unk_13247E8, (const char *)&unk_48C724);
          dword_1330084 = 2;
          sub_416860(12, 0, 0, 0, 0);
          byte_1328E45 = 15;
          LOBYTE(dword_132A268) = 0;
          v1 = 0;
          do
          {
            dword_132A270[2 * v1] = -1;
            dword_1329450[2 * v1++] = -1;
          }
          while ( v1 < 4 );
          dword_133052C = v1;
          LOBYTE(v1) = byte_133005C;
          dword_13226CC = 0;
          dword_1329638 = 0;
          if ( !byte_133005C )
          {
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            v4 = (&lpString)[dword_131D690];
            LOBYTE(dword_1550B62) = 19;
            *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v4 + 14);
            sub_479790(7);
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 67;
            sub_479790(3);
            byte_1550B60[0] = -9;
            byte_1550B61[0] = 113;
            LOBYTE(dword_1550B62) = 100;
            LOBYTE(v1) = sub_479790(3);
          }
        }
        return v1;
      case 2u:
        v5 = 0;
        byte_1322634 = 0;
        do
        {
          dword_132A270[2 * v5] = -1;
          dword_1329450[2 * v5++] = -1;
        }
        while ( v5 < 4 );
        dword_133052C = v5;
        dword_13226CC = 0;
        dword_1329638 = 0;
        byte_1328E45 = 0;
        LOBYTE(dword_13246D8) = 0;
        byte_1330094 = 0;
        byte_1330095 = 0;
        byte_1330080 = 3;
        v6 = (const char *)&unk_48E98C;
        goto LABEL_20;
      case 3u:
        v7 = 0;
        byte_1322634 = 0;
        do
        {
          dword_132A270[2 * v7] = -1;
          dword_1329450[2 * v7++] = -1;
        }
        while ( v7 < 4 );
        dword_133052C = v7;
        dword_13226CC = 0;
        dword_1329638 = 0;
        byte_1328E45 = 0;
        LOBYTE(dword_13246D8) = 0;
        byte_1330094 = 0;
        byte_1330095 = 0;
        byte_1330080 = 3;
        v6 = (const char *)&unk_48E974;
        goto LABEL_20;
      case 4u:
        v8 = 0;
        byte_1322634 = 0;
        do
        {
          dword_132A270[2 * v8] = -1;
          dword_1329450[2 * v8++] = -1;
        }
        while ( v8 < 4 );
        dword_133052C = v8;
        dword_13226CC = 0;
        dword_1329638 = 0;
        byte_1328E45 = 0;
        LOBYTE(dword_13246D8) = 0;
        byte_1330094 = 0;
        byte_1330095 = 0;
        byte_1330080 = 3;
        v6 = (const char *)&unk_48E954;
LABEL_20:
        dword_1330084 = 2;
        strcpy(byte_1324784, v6);
        v1 = strlen((const char *)&unk_48E948) + 1;
        qmemcpy(&unk_13247E8, &unk_48E948, v1);
        dword_1330088 = dword_13211C8;
        break;
      default:
        return v1;
    }
  }
  return v1;
}
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 1322634: using guessed type char byte_1322634;
// 13226CC: using guessed type int dword_13226CC;
// 13246D8: using guessed type int dword_13246D8;
// 1328E45: using guessed type char byte_1328E45;
// 1329450: using guessed type int dword_1329450[];
// 1329638: using guessed type int dword_1329638;
// 132A268: using guessed type int dword_132A268;
// 132A270: using guessed type int dword_132A270[];
// 133005C: using guessed type char byte_133005C;
// 1330080: using guessed type char byte_1330080;
// 1330084: using guessed type int dword_1330084;
// 1330088: using guessed type int dword_1330088;
// 1330094: using guessed type char byte_1330094;
// 1330095: using guessed type char byte_1330095;
// 133052C: using guessed type int dword_133052C;
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 1550B62: using guessed type int dword_1550B62;

//----- (00468130) --------------------------------------------------------
unsigned int __cdecl sub_468130(_BYTE *a1)
{
  unsigned __int16 v1; // ax
  unsigned __int16 v2; // cx

  HIBYTE(v1) = *a1;
  LOBYTE(v1) = a1[1];
  dword_1330654 = (unsigned __int8)a1[3] | (((unsigned __int8)a1[2] | (v1 << 8)) << 8);
  HIBYTE(v2) = a1[4];
  LOBYTE(v2) = a1[5];
  dword_1330658 = (unsigned __int8)a1[7] | (((unsigned __int8)a1[6] | (v2 << 8)) << 8);
  sub_42BDE0(dword_1330654, dword_1330658);
  sprintf(byte_1330550, aS_7, a1 + 8, (char *)dword_1308324 + 68 * dword_1330654 + 4, dword_1330658);
  return sub_422E80(byte_1330550, 4);
}
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;

//----- (004681C0) --------------------------------------------------------
__int16 __cdecl sub_4681C0(_BYTE *a1)
{
  unsigned __int16 v1; // cx
  int v2; // ecx
  __int16 result; // ax
  LPCSTR v4; // edx

  HIBYTE(v1) = *a1;
  LOBYTE(v1) = a1[1];
  v2 = (unsigned __int8)a1[3] | (((unsigned __int8)a1[2] | (v1 << 8)) << 8);
  result = v2;
  dword_1330654 = v2;
  switch ( v2 )
  {
    case 410:
      sub_42BD80(410, 1);
      result = dword_1322660 + 50;
      LOWORD(dword_1322660) = dword_1322660 + 50;
      if ( (unsigned __int16)dword_1322660 > 0x64u )
        LOWORD(dword_1322660) = 100;
      break;
    case 100000:
      dword_132FFEC = dword_1324F54;
      *((_WORD *)(&lpString)[dword_131D690] + 43) = dword_1324F54;
      result = word_1328E46;
      v4 = (&lpString)[dword_131D690];
      LOWORD(dword_132FFFC) = word_1328E46;
      *((_WORD *)v4 + 45) = word_1328E46;
      break;
    case -1:
      LOWORD(dword_1322660) = 100;
      break;
  }
  return result;
}
// 131D690: using guessed type int dword_131D690;
// 1322660: using guessed type int dword_1322660;
// 1324F54: using guessed type int dword_1324F54;
// 1328E46: using guessed type __int16 word_1328E46;
// 132FFFC: using guessed type int dword_132FFFC;
// 1330654: using guessed type int dword_1330654;

//----- (00468270) --------------------------------------------------------
char __cdecl sub_468270(int a1)
{
  char result; // al
  int v2; // edx
  unsigned __int16 v3; // cx
  int v4; // esi
  int v5; // ebx
  int v6; // edi
  int v7; // eax
  int v8; // edx
  int v9; // eax
  int v10; // eax
  int v11; // edx
  int v12; // eax
  char v13; // [esp+Fh] [ebp-105h]
  char v14; // [esp+10h] [ebp-104h]

  result = a1;
  v2 = *(_DWORD *)a1;
  v13 = *(_BYTE *)(a1 + 17);
  dword_1330548 = *(_DWORD *)a1;
  HIBYTE(v3) = *(_BYTE *)(a1 + 8);
  LOBYTE(v3) = *(_BYTE *)(a1 + 9);
  v4 = *(unsigned __int8 *)(a1 + 11) | ((*(unsigned __int8 *)(a1 + 10) | (v3 << 8)) << 8);
  dword_1330654 = *(unsigned __int8 *)(a1 + 11) | ((*(unsigned __int8 *)(a1 + 10) | (v3 << 8)) << 8);
  HIBYTE(v3) = *(_BYTE *)(a1 + 12);
  LOBYTE(v3) = *(_BYTE *)(a1 + 13);
  v5 = *(unsigned __int8 *)(a1 + 15);
  v6 = v5 | ((*(unsigned __int8 *)(a1 + 14) | (v3 << 8)) << 8);
  dword_1330658 = v5 | ((*(unsigned __int8 *)(a1 + 14) | (v3 << 8)) << 8);
  switch ( *(_BYTE *)(a1 + 16) )
  {
    case 1:
      result = dword_13211CC;
      if ( (_WORD)v2 == (_WORD)dword_13211CC )
      {
        result = BYTE2(dword_1330548);
        if ( BYTE2(dword_1330548) == BYTE2(dword_13211CC) )
        {
          result = HIBYTE(dword_13211CC);
          if ( HIBYTE(dword_1330548) == HIBYTE(dword_13211CC) )
          {
            v10 = 2 * v13;
            v11 = dword_13211C8;
            dword_1329450[v10] = v4;
            dword_1329454[v10] = v6;
            v12 = dword_1329450[v10];
            dword_1329638 = 0;
            dword_13226CC = 0;
            dword_1324F58 = v11;
            sprintf(&v14, &byte_48E9B8, (char *)dword_1308324 + 68 * v12 + 4);
            result = sub_422E80(&v14, 3);
          }
        }
      }
      break;
    case 2:
      result = dword_13211CC;
      if ( (_WORD)v2 == (_WORD)dword_13211CC )
      {
        result = BYTE2(dword_1330548);
        if ( BYTE2(dword_1330548) == BYTE2(dword_13211CC) )
        {
          result = HIBYTE(dword_13211CC);
          if ( HIBYTE(dword_1330548) == HIBYTE(dword_13211CC) )
          {
            v8 = dword_13211C8;
            v9 = 2 * v13;
            dword_1329450[v9] = -1;
            dword_1329454[v9] = 0;
            dword_1329638 = 0;
            dword_13226CC = 0;
            dword_1324F58 = v8;
            result = sub_422E80((const char *)&unk_48E9E0, 3);
          }
        }
      }
      break;
    case 3:
      dword_1330548 = *((_DWORD *)(&lpString)[dword_131D690] + 14);
      if ( dword_1330548 == *(_DWORD *)a1 )
      {
        v7 = 2 * (unsigned __int8)dword_13246A8;
        dword_1324F58 = dword_13211C8;
        dword_132A270[v7] = -1;
        dword_132A274[v7] = 0;
        result = sub_422E80((const char *)&unk_48E9F4, 3);
      }
      break;
  }
  return result;
}
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13211CC: using guessed type int dword_13211CC;
// 13226CC: using guessed type int dword_13226CC;
// 13246A8: using guessed type int dword_13246A8;
// 1324F58: using guessed type int dword_1324F58;
// 1329450: using guessed type int dword_1329450[];
// 1329638: using guessed type int dword_1329638;
// 132A270: using guessed type int dword_132A270[];
// 132A274: using guessed type int dword_132A274[];
// 1330548: using guessed type int dword_1330548;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;

//----- (004684B0) --------------------------------------------------------
char __cdecl sub_4684B0(int a1)
{
  char result; // al

  dword_1330548 = *(_DWORD *)a1;
  result = dword_1330548;
  if ( (_WORD)dword_1330548 == (_WORD)dword_13211CC )
  {
    result = BYTE2(dword_1330548);
    if ( BYTE2(dword_1330548) == BYTE2(dword_13211CC) )
    {
      result = HIBYTE(dword_13211CC);
      if ( HIBYTE(dword_1330548) == HIBYTE(dword_13211CC) )
      {
        result = *(_BYTE *)(a1 + 8);
        dword_13226CC = *(unsigned __int8 *)(a1 + 8);
      }
    }
  }
  return result;
}
// 13211CC: using guessed type int dword_13211CC;
// 13226CC: using guessed type int dword_13226CC;
// 1330548: using guessed type int dword_1330548;

//----- (00468500) --------------------------------------------------------
signed int __cdecl sub_468500(_BYTE *a1)
{
  signed int result; // eax
  signed int v2; // eax
  int v3; // ecx
  signed int v4; // eax
  int v5; // ecx

  if ( *a1 == 1 )
  {
    v2 = 0;
    dword_133052C = 0;
    do
    {
      v3 = dword_132A270[2 * v2];
      if ( v3 != -1 )
      {
        sub_42BD80(v3, dword_132A274[2 * v2]);
        v2 = dword_133052C;
      }
      dword_133052C = ++v2;
    }
    while ( v2 < 4 );
    v4 = 0;
    dword_133052C = 0;
    do
    {
      v5 = dword_1329450[2 * v4];
      if ( v5 != -1 )
      {
        sub_42BDE0(v5, dword_1329454[2 * v4]);
        v4 = dword_133052C;
      }
      dword_133052C = ++v4;
    }
    while ( v4 < 4 );
    byte_1322634 = 0;
    byte_1330080 = 3;
    sprintf(byte_1324784, &byte_48EA08, &unk_13194B8);
    dword_1330088 = dword_13211C8;
    dword_1330084 = 1;
    result = 0;
    do
    {
      dword_132A270[2 * result] = -1;
      dword_1329450[2 * result++] = -1;
    }
    while ( result < 4 );
  }
  else
  {
    byte_1322634 = 0;
    byte_1330080 = 3;
    sprintf(byte_1324784, &byte_48EA24, &unk_13194B8);
    result = 0;
    dword_1330084 = 1;
    dword_1330088 = dword_13211C8;
    do
    {
      dword_132A270[2 * result] = -1;
      dword_1329450[2 * result++] = -1;
    }
    while ( result < 4 );
  }
  dword_13226CC = 0;
  dword_1329638 = 0;
  byte_1328E45 = 0;
  dword_133052C = result;
  return result;
}
// 13211C8: using guessed type int dword_13211C8;
// 1322634: using guessed type char byte_1322634;
// 13226CC: using guessed type int dword_13226CC;
// 1328E45: using guessed type char byte_1328E45;
// 1329450: using guessed type int dword_1329450[];
// 1329638: using guessed type int dword_1329638;
// 132A270: using guessed type int dword_132A270[];
// 132A274: using guessed type int dword_132A274[];
// 1330080: using guessed type char byte_1330080;
// 1330084: using guessed type int dword_1330084;
// 1330088: using guessed type int dword_1330088;
// 133052C: using guessed type int dword_133052C;

//----- (00468640) --------------------------------------------------------
char __cdecl sub_468640(_BYTE *a1)
{
  unsigned __int16 v1; // cx
  LPCSTR v2; // ecx
  LPCSTR v3; // ecx
  LPCSTR v4; // ecx
  LPCSTR v5; // ecx
  LPCSTR v6; // ecx
  LPCSTR v7; // eax
  LPCSTR v8; // eax
  char *v9; // ecx

  HIBYTE(v1) = *a1;
  LOBYTE(v1) = a1[1];
  dword_48CF80 = (unsigned __int8)a1[3] | (((unsigned __int8)a1[2] | (v1 << 8)) << 8);
  HIBYTE(v1) = a1[4];
  LOBYTE(v1) = a1[5];
  dword_48CF84 = (unsigned __int8)a1[7] | (((unsigned __int8)a1[6] | (v1 << 8)) << 8);
  HIBYTE(v1) = a1[8];
  LOBYTE(v1) = a1[9];
  dword_48CF90 = (unsigned __int8)a1[11] | (((unsigned __int8)a1[10] | (v1 << 8)) << 8);
  HIBYTE(v1) = a1[12];
  LOBYTE(v1) = a1[13];
  dword_48CF94 = (unsigned __int8)a1[15] | (((unsigned __int8)a1[14] | (v1 << 8)) << 8);
  HIBYTE(v1) = a1[16];
  LOBYTE(v1) = a1[17];
  dword_48CF7C = (unsigned __int8)a1[19] | (((unsigned __int8)a1[18] | (v1 << 8)) << 8);
  HIBYTE(v1) = a1[20];
  LOBYTE(v1) = a1[21];
  dword_48CF88 = (unsigned __int8)a1[23] | (((unsigned __int8)a1[22] | (v1 << 8)) << 8);
  HIBYTE(v1) = a1[24];
  LOBYTE(v1) = a1[25];
  dword_48CF8C = (unsigned __int8)a1[27] | (((unsigned __int8)a1[26] | (v1 << 8)) << 8);
  if ( dword_48CF8C != -1 )
  {
    if ( byte_1324782 )
    {
      if ( byte_1324782 == 1 )
      {
        switch ( *((unsigned __int16 *)dword_1308324 + 34 * dword_48CF8C + 20) )
        {
          case 0x2Au:
          case 0x2Bu:
          case 0x2Cu:
          case 0x99u:
          case 0x9Au:
          case 0x9Eu:
          case 0x9Fu:
          case 0xA0u:
          case 0xA1u:
          case 0xA2u:
          case 0xA4u:
          case 0xA5u:
          case 0xA6u:
          case 0xA7u:
            v3 = (&lpString)[dword_131D690];
            if ( BYTE2(dword_13246DC) )
              *((_DWORD *)v3 + 42) = 63;
            else
              *((_DWORD *)v3 + 42) = 43;
            break;
          case 0x2Du:
          case 0x2Fu:
          case 0x30u:
          case 0x98u:
          case 0x9Bu:
          case 0x9Cu:
          case 0x9Du:
          case 0xA3u:
            v2 = (&lpString)[dword_131D690];
            if ( BYTE2(dword_13246DC) )
              *((_DWORD *)v2 + 42) = 60;
            else
              *((_DWORD *)v2 + 42) = 40;
            break;
          case 0xEFu:
          case 0xF0u:
          case 0xF1u:
          case 0xF2u:
          case 0xF3u:
          case 0xF4u:
          case 0xF5u:
          case 0xF6u:
          case 0xF7u:
          case 0xF8u:
          case 0xF9u:
            goto LABEL_28;
          default:
            break;
        }
      }
      else if ( byte_1324782 == 2 )
      {
        switch ( *((unsigned __int16 *)dword_1308324 + 34 * dword_48CF8C + 20) )
        {
          case 0x2Au:
          case 0x2Cu:
          case 0x99u:
          case 0x9Au:
          case 0x9Eu:
          case 0x9Fu:
          case 0xA1u:
          case 0xA4u:
          case 0xA7u:
            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 83;
            break;
          case 0x2Bu:
          case 0xA0u:
          case 0xA2u:
          case 0xA5u:
          case 0xA6u:
            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 86;
            break;
          case 0x2Du:
          case 0x2Fu:
          case 0x30u:
          case 0x98u:
          case 0x9Bu:
          case 0x9Cu:
          case 0x9Du:
          case 0xA3u:
            *((_DWORD *)(&lpString)[dword_131D690] + 42) = 80;
            break;
          default:
            break;
        }
      }
    }
    else
    {
      switch ( *((unsigned __int16 *)dword_1308324 + 34 * dword_48CF8C + 20) )
      {
        case 0x2Au:
        case 0x2Cu:
        case 0x99u:
        case 0x9Au:
        case 0x9Eu:
        case 0x9Fu:
        case 0xA1u:
        case 0xA4u:
        case 0xA7u:
          v5 = (&lpString)[dword_131D690];
          if ( BYTE2(dword_13246DC) )
            goto LABEL_24;
          *((_DWORD *)v5 + 42) = 3;
          break;
        case 0x2Bu:
        case 0xA0u:
        case 0xA2u:
        case 0xA5u:
        case 0xA6u:
          v5 = (&lpString)[dword_131D690];
          if ( BYTE2(dword_13246DC) )
LABEL_24:
            *((_DWORD *)v5 + 42) = 23;
          else
            *((_DWORD *)v5 + 42) = 6;
          break;
        case 0x2Du:
        case 0x2Fu:
        case 0x30u:
        case 0x98u:
        case 0x9Bu:
        case 0x9Cu:
        case 0x9Du:
        case 0xA3u:
          v4 = (&lpString)[dword_131D690];
          if ( BYTE2(dword_13246DC) )
            *((_DWORD *)v4 + 42) = 20;
          else
            *((_DWORD *)v4 + 42) = 0;
          break;
        case 0xEFu:
        case 0xF0u:
        case 0xF1u:
        case 0xF2u:
        case 0xF3u:
          v6 = (&lpString)[dword_131D690];
          if ( BYTE2(dword_13246DC) )
            *((_DWORD *)v6 + 42) = 26;
          else
            *((_DWORD *)v6 + 42) = 9;
          break;
        case 0xF4u:
        case 0xF5u:
        case 0xF6u:
        case 0xF7u:
        case 0xF8u:
        case 0xF9u:
LABEL_28:
          *((_DWORD *)(&lpString)[dword_131D690] + 42) = 12;
          break;
        default:
          break;
      }
    }
  }
  if ( dword_48CF80 != -1 )
  {
    switch ( *((char *)dword_1308324 + 68 * dword_48CF80) )
    {
      case 0:
        *((_DWORD *)(&lpString)[dword_131D690] + 187) = 700;
        if ( *((_WORD *)dword_1308324 + 34 * dword_48CF80 + 20) == 300 )
          *((_DWORD *)(&lpString)[dword_131D690] + 187) = 704;
        break;
      case 1:
        *((_DWORD *)(&lpString)[dword_131D690] + 187) = 701;
        break;
      case 2:
        v7 = (&lpString)[dword_131D690];
        if ( byte_1324782 != 2 )
        {
          *((_DWORD *)v7 + 187) = 800;
          goto LABEL_47;
        }
        *((_DWORD *)v7 + 187) = 707;
        break;
      case 3:
        v8 = (&lpString)[dword_131D690];
        if ( byte_1324782 != 2 )
        {
          *((_DWORD *)v8 + 187) = 801;
          goto LABEL_47;
        }
        *((_DWORD *)v8 + 187) = 708;
        break;
      case 4:
        *((_DWORD *)(&lpString)[dword_131D690] + 187) = 703;
        if ( *((_WORD *)dword_1308324 + 34 * dword_48CF80 + 20) == 301 )
          *((_DWORD *)(&lpString)[dword_131D690] + 187) = 706;
        break;
      case 5:
        *((_DWORD *)(&lpString)[dword_131D690] + 187) = 702;
        break;
      case 6:
        *((_DWORD *)(&lpString)[dword_131D690] + 187) = 500;
        if ( *((_WORD *)dword_1308324 + 34 * dword_48CF80 + 20) == 302 )
          *((_DWORD *)(&lpString)[dword_131D690] + 187) = 502;
        break;
      case 7:
        *((_DWORD *)(&lpString)[dword_131D690] + 187) = 501;
        if ( byte_1324782 != 2 )
          goto LABEL_47;
        break;
      case 8:
        *((_DWORD *)(&lpString)[dword_131D690] + 187) = 850;
        goto LABEL_47;
      case 9:
        *((_DWORD *)(&lpString)[dword_131D690] + 187) = 0;
        *((_DWORD *)(&lpString)[dword_131D690] + 188) = 600;
        break;
      case 10:
        *((_DWORD *)(&lpString)[dword_131D690] + 187) = 600;
LABEL_47:
        *((_DWORD *)(&lpString)[dword_131D690] + 188) = 0;
        break;
      default:
        *((_DWORD *)(&lpString)[dword_131D690] + 187) = 0;
        break;
    }
  }
  if ( dword_48CF90 != -1 )
  {
    v9 = (char *)dword_1308324 + 68 * dword_48CF90;
    if ( *v9 == 14 )
    {
      switch ( *((unsigned __int16 *)v9 + 20) )
      {
        case 0x31u:
        case 0x36u:
        case 0x38u:
        case 0x57u:
        case 0xB3u:
        case 0xB4u:
        case 0xB5u:
        case 0xB6u:
        case 0xB7u:
        case 0xB8u:
        case 0xB9u:
        case 0xBAu:
          *((_DWORD *)(&lpString)[dword_131D690] + 188) = 902;
          break;
        case 0x32u:
        case 0x33u:
        case 0x54u:
        case 0xA8u:
        case 0xA9u:
        case 0xAAu:
        case 0xABu:
        case 0xACu:
          *((_DWORD *)(&lpString)[dword_131D690] + 188) = 900;
          break;
        default:
          *((_DWORD *)(&lpString)[dword_131D690] + 188) = 901;
          break;
      }
    }
    else
    {
      *((_DWORD *)(&lpString)[dword_131D690] + 188) = 0;
    }
  }
  return sub_423330((int)(&lpString)[dword_131D690]);
}
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;
// 131D690: using guessed type int dword_131D690;
// 13246DC: using guessed type int dword_13246DC;
// 1324782: using guessed type char byte_1324782;

//----- (00468FA0) --------------------------------------------------------
signed int __cdecl sub_468FA0(_BYTE *a1)
{
  signed int result; // eax

  LOBYTE(result) = *a1;
  dword_1322614 = 1;
  byte_1547958 = result;
  result = (unsigned __int8)result;
  switch ( (unsigned __int8)result )
  {
    case 0u:
      byte_1547959 = 0;
      result = sub_424130(0);
      dword_1322658 = 0;
      break;
    case 1u:
      byte_1547959 = 1;
      result = sub_424130(1);
      break;
    case 2u:
      byte_1547959 = 2;
      result = sub_424130(2);
      break;
    case 3u:
      byte_1547959 = 3;
      result = sub_424130(3);
      break;
    case 4u:
      byte_1547959 = 4;
      result = sub_424130(4);
      break;
    case 5u:
      byte_1547959 = 5;
      result = sub_424130(5);
      break;
    case 6u:
      byte_1547959 = 6;
      result = sub_424410(byte_4897A8[(unsigned __int16)word_131ABFE], 6);
      break;
    case 7u:
      byte_1547959 = 7;
      result = sub_424130(7);
      break;
    case 8u:
      byte_1547959 = 8;
      result = sub_424130(8);
      break;
    case 9u:
      byte_1547959 = 9;
      result = sub_424130(9);
      break;
    case 0xAu:
      byte_1547959 = 10;
      result = sub_424130(10);
      break;
    case 0xBu:
      byte_1547959 = 11;
      result = sub_424130(11);
      break;
    case 0xCu:
      byte_1547959 = 11;
      result = sub_424130(12);
      break;
    case 0xDu:
      byte_1547959 = 11;
      result = sub_424130(13);
      break;
    case 0xEu:
      byte_1547959 = 11;
      result = sub_424130(14);
      break;
    case 0xFu:
      byte_1547959 = 10;
      result = sub_424130(15);
      break;
    case 0x10u:
      byte_1547959 = 10;
      result = sub_424130(16);
      break;
    case 0x11u:
      byte_1547959 = 9;
      result = sub_424130(17);
      break;
    case 0x12u:
      byte_1547959 = 8;
      result = sub_424410(byte_4897A8[(unsigned __int16)word_131ABFE], 18);
      break;
    case 0x13u:
      byte_1547959 = 6;
      result = sub_424130(19);
      break;
    case 0x14u:
      byte_1547959 = 4;
      result = sub_424130(20);
      break;
    case 0x15u:
      byte_1547959 = 2;
      result = sub_424130(21);
      break;
    case 0x16u:
      byte_1547959 = 1;
      result = sub_424130(22);
      break;
    case 0x17u:
      byte_1547959 = 0;
      result = sub_424130(23);
      break;
    default:
      return result;
  }
  return result;
}
// 131ABFE: using guessed type __int16 word_131ABFE;
// 1322614: using guessed type int dword_1322614;
// 1322658: using guessed type int dword_1322658;
// 1547958: using guessed type char byte_1547958;
// 1547959: using guessed type char byte_1547959;

//----- (00469210) --------------------------------------------------------
int __cdecl sub_469210(int a1)
{
  unsigned __int16 v1; // cx
  unsigned __int16 v2; // dx
  unsigned __int16 v3; // ax
  int v4; // eax
  int v5; // eax
  unsigned __int16 v6; // dx
  unsigned __int16 v7; // ax
  unsigned __int16 v8; // ax
  unsigned __int16 v9; // cx
  char v10; // al
  LPCSTR v11; // eax
  signed __int64 v12; // rax
  unsigned __int16 v13; // ax
  unsigned __int16 v14; // cx
  LPCSTR v15; // eax
  __int16 v16; // cx
  unsigned __int16 v17; // ax
  LPCSTR v18; // ecx
  int v19; // edx
  LPCSTR v20; // esi

  dword_1330548 = *(_DWORD *)a1;
  HIBYTE(v1) = *(_BYTE *)(a1 + 13);
  LOBYTE(v1) = *(_BYTE *)(a1 + 14);
  dword_133065C = v1;
  HIBYTE(v2) = *(_BYTE *)(a1 + 15);
  LOBYTE(v2) = *(_BYTE *)(a1 + 16);
  dword_1330660 = v2;
  HIBYTE(v3) = *(_BYTE *)(a1 + 9);
  LOBYTE(v3) = *(_BYTE *)(a1 + 10);
  dword_1330654 = v3;
  HIBYTE(v1) = *(_BYTE *)(a1 + 11);
  LOBYTE(v1) = *(_BYTE *)(a1 + 12);
  dword_1330658 = v1;
  LOBYTE(v2) = *(_BYTE *)(a1 + 7);
  v4 = *(unsigned __int8 *)(a1 + 8);
  dword_133052C = dword_1317E74;
  dword_1330534 = v4 + ((v2 & 1) << 8);
  v5 = sub_425480(&dword_1330548);
  dword_1330538 = v5;
  if ( dword_133052C == dword_1317E74 )
  {
    *((_BYTE *)(&lpString)[v5] + 174) = 2;
    *((_DWORD *)(&lpString)[dword_1330538] + 33) = 40 * dword_133065C + 20;
    *((_DWORD *)(&lpString)[dword_1330538] + 34) = 20 * dword_1330660 + 10;
    *((_DWORD *)(&lpString)[dword_1330538] + 47) = 1;
    v11 = (&lpString)[dword_1330538];
    if ( *((_DWORD *)v11 + 17) )
      *((_DWORD *)v11 + 17) = 1;
  }
  else
  {
    *((_BYTE *)dword_1542DA4
    + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)(&lpString)[v5] + 30) * 0.050000001)
    + (unsigned __int16)(signed __int64)(*((float *)(&lpString)[v5] + 28) * 0.025)) = 0;
    HIBYTE(v6) = *(_BYTE *)(a1 + 9);
    LOBYTE(v6) = *(_BYTE *)(a1 + 10);
    dword_1330654 = v6;
    HIBYTE(v7) = *(_BYTE *)(a1 + 11);
    LOBYTE(v7) = *(_BYTE *)(a1 + 12);
    dword_1330658 = v7;
    sub_466970(&dword_1330654, &dword_1330658, &dword_133065C, &dword_1330660);
    *((_DWORD *)(&lpString)[dword_1330538] + 37) = dword_1330654;
    *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
    if ( !sub_424ED0(dword_1330538, dword_1330654, dword_1330658) )
    {
      *((float *)(&lpString)[dword_1330538] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
      *((float *)(&lpString)[dword_1330538] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
      *((_DWORD *)(&lpString)[dword_1330538] + 29) = *((_DWORD *)(&lpString)[dword_1330538] + 30);
      *((_DWORD *)(&lpString)[dword_1330538] + 33) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 28);
      *((_DWORD *)(&lpString)[dword_1330538] + 35) = *((_DWORD *)(&lpString)[dword_1330538] + 33);
      *((_DWORD *)(&lpString)[dword_1330538] + 34) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 29);
      *((_DWORD *)(&lpString)[dword_1330538] + 36) = *((_DWORD *)(&lpString)[dword_1330538] + 34);
    }
    *((_BYTE *)(&lpString)[dword_1330538] + 174) = 2;
    *((_DWORD *)(&lpString)[dword_1330538] + 33) = 40 * dword_133065C + 20;
    *((_DWORD *)(&lpString)[dword_1330538] + 34) = 20 * dword_1330660 + 10;
    *((_DWORD *)(&lpString)[dword_1330538] + 47) = 1;
    HIBYTE(v8) = *(_BYTE *)(a1 + 18);
    LOBYTE(v8) = *(_BYTE *)(a1 + 19);
    dword_1330654 = v8;
    HIBYTE(v9) = *(_BYTE *)(a1 + 20);
    LOBYTE(v9) = *(_BYTE *)(a1 + 21);
    dword_1330658 = v9;
    if ( v8 != -1 )
      sub_465490((int)(&lpString)[dword_1330538], v8, v9);
    if ( *(_BYTE *)(a1 + 17) )
    {
      *((_WORD *)(&lpString)[dword_1330538] + 302) = 1;
      v10 = rand() % 8;
      *((_BYTE *)(&lpString)[dword_1330538] + 172) = v10;
      *((_BYTE *)(&lpString)[dword_1330538] + 173) = (&lpString)[dword_1330538][172];
    }
  }
  sub_42E780((int)(&lpString)[dword_1330538], (_BYTE *)(a1 + 4));
  LODWORD(v12) = (&lpString)[dword_1330538];
  if ( *(_BYTE *)(v12 + 48) != 4 )
  {
    *(_BYTE *)(v12 + 104) = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 25) = -1;
    LODWORD(v12) = dword_1330538;
    if ( !dword_13083AC[8 * *((_DWORD *)(&lpString)[dword_1330538] + 42)] )
    {
      dword_49D008 = fopen(aErrorlogTxt, aAt);
      fprintf(dword_49D008, &byte_48EA3C, *((_DWORD *)(&lpString)[dword_1330538] + 42));
      fclose(dword_49D008);
      *((_DWORD *)(&lpString)[dword_1330538] + 42) = 0;
      LODWORD(v12) = dword_1330538;
    }
    if ( *(_BYTE *)(a1 + 17) )
    {
      if ( *(_BYTE *)(a1 + 17) == 1 )
      {
        HIBYTE(v13) = *(_BYTE *)(a1 + 9);
        LOBYTE(v13) = *(_BYTE *)(a1 + 10);
        dword_1330654 = v13;
        HIBYTE(v14) = *(_BYTE *)(a1 + 11);
        LOBYTE(v14) = *(_BYTE *)(a1 + 12);
        dword_1330658 = v14;
        sub_466970(&dword_1330654, &dword_1330658, &dword_1330654, &dword_1330658);
        *((_BYTE *)dword_1542DA4
        + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)(&lpString)[dword_1330538] + 30) * 0.050000001)
        + (unsigned __int16)(signed __int64)(*((float *)(&lpString)[dword_1330538] + 28) * 0.025)) = 0;
        *((_WORD *)(&lpString)[dword_1330538] + 43) = 0;
        *((float *)(&lpString)[dword_1330538] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
        *((float *)(&lpString)[dword_1330538] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
        *((_DWORD *)(&lpString)[dword_1330538] + 29) = *((_DWORD *)(&lpString)[dword_1330538] + 30);
        *((_DWORD *)(&lpString)[dword_1330538] + 33) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 28);
        *((_DWORD *)(&lpString)[dword_1330538] + 35) = *((_DWORD *)(&lpString)[dword_1330538] + 33);
        *((_DWORD *)(&lpString)[dword_1330538] + 34) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 29);
        *((_DWORD *)(&lpString)[dword_1330538] + 36) = *((_DWORD *)(&lpString)[dword_1330538] + 34);
        *((_BYTE *)dword_1542DA4
        + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)(&lpString)[dword_1330538] + 30) * 0.050000001)
        + (unsigned __int16)(signed __int64)(*((float *)(&lpString)[dword_1330538] + 28) * 0.025)) = 0;
        v15 = (&lpString)[dword_1330538];
        v16 = *(_WORD *)(dword_8D3C24[*((_DWORD *)v15 + 42)] + 136);
        if ( v16 )
        {
          *((_WORD *)v15 + 88) = v16 - 1;
          *((_BYTE *)(&lpString)[dword_1330538] + 174) = 17;
          *((_BYTE *)(&lpString)[dword_1330538] + 99) = 1;
        }
        else
        {
          *((_BYTE *)v15 + 174) = 0;
        }
        *((_DWORD *)(&lpString)[dword_1330538] + 150) = 1;
        *((_DWORD *)(&lpString)[dword_1330538] + 47) = 0;
        *((_DWORD *)(&lpString)[dword_1330538] + 23) = 1;
        *((_BYTE *)(&lpString)[dword_1330538] + 104) = 0;
        LODWORD(v12) = dword_1330538;
        *((_DWORD *)(&lpString)[dword_1330538] + 25) = -1;
      }
    }
    else
    {
      if ( *((_DWORD *)(&lpString)[(_DWORD)v12] + 23) )
      {
        if ( dword_48CCE4 == (_DWORD)v12 )
        {
          if ( dword_1330060 )
          {
            dword_1330060 = 0;
            sub_46FEB0();
            *((_DWORD *)(&lpString)[dword_131D690] + 15) = 0;
            byte_1328E45 = 0;
          }
          dword_48CCE4 = -1;
          *((_DWORD *)(&lpString)[dword_131D690] + 25) = -1;
          LODWORD(v12) = dword_1330538;
        }
        *((_DWORD *)(&lpString)[(_DWORD)v12] + 23) = 0;
        *((_WORD *)(&lpString)[dword_1330538] + 42) = 100;
        *((_WORD *)(&lpString)[dword_1330538] + 43) = 100;
        HIBYTE(v17) = *(_BYTE *)(a1 + 9);
        LOBYTE(v17) = *(_BYTE *)(a1 + 10);
        dword_1330654 = v17;
        dword_133065C = v17;
        HIBYTE(v17) = *(_BYTE *)(a1 + 11);
        LOBYTE(v17) = *(_BYTE *)(a1 + 12);
        dword_1330658 = v17;
        dword_1330660 = v17;
        sub_466970(&dword_1330654, &dword_1330658, &dword_133065C, &dword_1330660);
        *((_DWORD *)(&lpString)[dword_1330538] + 37) = dword_1330654;
        *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
        if ( !sub_424ED0(dword_1330538, dword_1330654, dword_1330658) )
        {
          *((float *)(&lpString)[dword_1330538] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
          *((float *)(&lpString)[dword_1330538] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
          *((_DWORD *)(&lpString)[dword_1330538] + 29) = *((_DWORD *)(&lpString)[dword_1330538] + 30);
          *((_DWORD *)(&lpString)[dword_1330538] + 33) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 28);
          *((_DWORD *)(&lpString)[dword_1330538] + 35) = *((_DWORD *)(&lpString)[dword_1330538] + 33);
          *((_DWORD *)(&lpString)[dword_1330538] + 34) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 29);
          *((_DWORD *)(&lpString)[dword_1330538] + 36) = *((_DWORD *)(&lpString)[dword_1330538] + 34);
        }
        *((_BYTE *)(&lpString)[dword_1330538] + 174) = 0;
        *((_DWORD *)(&lpString)[dword_1330538] + 47) = 0;
        LODWORD(v12) = dword_1330538;
      }
      v18 = (&lpString)[(_DWORD)v12];
      if ( !dword_8D3C24[*((_DWORD *)v18 + 42)] )
        dword_1330654 = 0;
      v19 = dword_8D3C24[*((_DWORD *)v18 + 42)];
      if ( !*(_WORD *)(v19 + 16) && !*(_WORD *)(v19 + 32) )
      {
        *((float *)v18 + 28) = (double)(unsigned int)dword_133065C * 40.0 + 20.0;
        *((float *)(&lpString)[dword_1330538] + 30) = (double)(unsigned int)dword_1330660 * 20.0 + 10.0;
        *((_DWORD *)(&lpString)[dword_1330538] + 29) = *((_DWORD *)(&lpString)[dword_1330538] + 30);
        *((_DWORD *)(&lpString)[dword_1330538] + 33) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 28);
        *((_DWORD *)(&lpString)[dword_1330538] + 35) = *((_DWORD *)(&lpString)[dword_1330538] + 33);
        *((_DWORD *)(&lpString)[dword_1330538] + 34) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 29);
        *((_DWORD *)(&lpString)[dword_1330538] + 36) = *((_DWORD *)(&lpString)[dword_1330538] + 34);
        *((_DWORD *)(&lpString)[dword_1330538] + 47) = 0;
        *((_BYTE *)(&lpString)[dword_1330538] + 174) = 0;
        LODWORD(v12) = dword_1330538;
      }
      *((_DWORD *)(&lpString)[(_DWORD)v12] + 150) = 0;
      v20 = (&lpString)[dword_1330538];
      v12 = (signed __int64)*((float *)v20 + 28);
      if ( (_DWORD)v12 == *((_DWORD *)v20 + 33) )
      {
        v12 = (signed __int64)*((float *)v20 + 29);
        if ( (_DWORD)v12 == *((_DWORD *)v20 + 34) )
          *((_BYTE *)v20 + 174) = 0;
      }
    }
  }
  return v12;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 8D3C24: using guessed type int dword_8D3C24[];
// 13083AC: using guessed type int dword_13083AC[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1328E45: using guessed type char byte_1328E45;
// 1330060: using guessed type int dword_1330060;
// 133052C: using guessed type int dword_133052C;
// 1330534: using guessed type int dword_1330534;
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1330660: using guessed type int dword_1330660;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (00469CA0) --------------------------------------------------------
int __cdecl sub_469CA0(int a1)
{
  unsigned __int16 v1; // cx
  unsigned __int16 v2; // dx
  int result; // eax
  LPCSTR v4; // esi
  LPCSTR v5; // eax
  signed int v6; // ecx
  int v7; // ecx
  int v8; // ecx
  int v9; // ecx
  LPCSTR v10; // eax
  _WORD *v11; // eax
  __int16 v12; // cx
  unsigned __int16 v13; // ax
  unsigned __int16 v14; // cx
  LPCSTR v15; // esi
  LPCSTR v16; // ebp
  LPCSTR v17; // esi
  int v18; // edi
  int v19; // eax
  char v20; // al

  dword_1330548 = *(_DWORD *)a1;
  HIBYTE(v1) = *(_BYTE *)(a1 + 4);
  LOBYTE(v1) = *(_BYTE *)(a1 + 5);
  dword_1330654 = v1;
  HIBYTE(v2) = *(_BYTE *)(a1 + 6);
  LOBYTE(v2) = *(_BYTE *)(a1 + 7);
  dword_1330658 = v2;
  sub_466970(&dword_1330654, &dword_1330658, &dword_1330654, &dword_1330658);
  result = sub_425480(&dword_1330548);
  v4 = (&lpString)[result];
  dword_1330538 = result;
  if ( *((_DWORD *)v4 + 23) )
    return result;
  if ( result != dword_131D690 )
  {
    *((_BYTE *)dword_1542DA4
    + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v4 + 30) * 0.050000001)
    + (unsigned __int16)(signed __int64)(*((float *)v4 + 28) * 0.025)) = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 37) = dword_1330654;
    *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
    *((float *)(&lpString)[dword_1330538] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
    *((float *)(&lpString)[dword_1330538] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
    *((_DWORD *)(&lpString)[dword_1330538] + 29) = *((_DWORD *)(&lpString)[dword_1330538] + 30);
    *((_DWORD *)(&lpString)[dword_1330538] + 33) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 28);
    *((_DWORD *)(&lpString)[dword_1330538] + 35) = *((_DWORD *)(&lpString)[dword_1330538] + 33);
    *((_DWORD *)(&lpString)[dword_1330538] + 34) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 29);
    *((_DWORD *)(&lpString)[dword_1330538] + 36) = *((_DWORD *)(&lpString)[dword_1330538] + 34);
    *((_BYTE *)(&lpString)[dword_1330538] + 105) = *(_BYTE *)(a1 + 16);
    *((_WORD *)(&lpString)[dword_1330538] + 88) = 0;
    v5 = (&lpString)[dword_1330538];
    dword_133054C = (int)v5;
    v6 = *((_DWORD *)v5 + 187);
    if ( v6 > 502 )
    {
      if ( v6 < 800 )
        goto LABEL_7;
      if ( v6 > 801 )
      {
        if ( v6 == 850 )
        {
          if ( *(_WORD *)(dword_8D3C24[*((_DWORD *)v5 + 42)] + 56) )
            *((_BYTE *)v5 + 174) = 7;
          goto LABEL_31;
        }
        goto LABEL_7;
      }
    }
    else
    {
      if ( v6 == 502 || (v7 = v6 - 500) == 0 )
      {
        if ( *(_WORD *)(dword_8D3C24[*((_DWORD *)v5 + 42)] + 120) )
        {
          *((_BYTE *)v5 + 174) = 15;
          goto LABEL_31;
        }
        goto LABEL_30;
      }
      if ( v7 != 1 )
      {
LABEL_7:
        if ( dword_132258C & 1 )
        {
          if ( (dword_132258C & 1) != 1 )
          {
LABEL_31:
            *((_BYTE *)(&lpString)[dword_1330538] + 104) = 1;
            *((_DWORD *)(&lpString)[dword_1330538] + 150) = 1;
            result = dword_1330538;
            goto LABEL_32;
          }
          if ( *(_WORD *)(dword_8D3C24[*((_DWORD *)v5 + 42)] + 48) )
          {
            *((_BYTE *)v5 + 174) = 6;
            goto LABEL_31;
          }
        }
LABEL_30:
        *((_BYTE *)v5 + 174) = 5;
        goto LABEL_31;
      }
    }
    if ( dword_132258C & 1 )
    {
      if ( (dword_132258C & 1) != 1 )
        goto LABEL_31;
      v8 = *((_DWORD *)v5 + 42);
      if ( *(_WORD *)(dword_8D3C24[v8] + 64) && v8 != 80 && v8 != 83 && v8 != 86 )
      {
        *((_BYTE *)v5 + 174) = 8;
        goto LABEL_31;
      }
    }
    else
    {
      v9 = *((_DWORD *)v5 + 42);
      if ( *(_WORD *)(dword_8D3C24[v9] + 56) && v9 != 80 && v9 != 83 && v9 != 86 )
      {
        *((_BYTE *)v5 + 174) = 7;
        goto LABEL_31;
      }
    }
    goto LABEL_30;
  }
LABEL_32:
  v10 = (&lpString)[result];
  if ( *((_DWORD *)v10 + 159) == 200 )
  {
    v11 = (_WORD *)*((_DWORD *)v10 + 156);
    if ( v11 )
    {
      v12 = v11[304];
      v11[302] = 1;
      v11[305] = v12 + 1;
    }
  }
  dword_1330548 = *(_DWORD *)(a1 + 8);
  HIBYTE(v13) = *(_BYTE *)(a1 + 12);
  LOBYTE(v13) = *(_BYTE *)(a1 + 13);
  dword_1330654 = v13;
  HIBYTE(v14) = *(_BYTE *)(a1 + 14);
  LOBYTE(v14) = *(_BYTE *)(a1 + 15);
  dword_1330658 = v14;
  result = sub_425480(&dword_1330548);
  v15 = (&lpString)[result];
  dword_133052C = result;
  if ( !*((_DWORD *)v15 + 23) )
  {
    *((_BYTE *)dword_1542DA4
    + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v15 + 30) * 0.050000001)
    + (unsigned __int16)(signed __int64)(*((float *)v15 + 28) * 0.025)) = 0;
    *((_DWORD *)(&lpString)[dword_133052C] + 37) = dword_1330654;
    *((_DWORD *)(&lpString)[dword_133052C] + 38) = dword_1330658;
    *((float *)(&lpString)[dword_133052C] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
    *((float *)(&lpString)[dword_133052C] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
    *((_DWORD *)(&lpString)[dword_133052C] + 29) = *((_DWORD *)(&lpString)[dword_133052C] + 30);
    *((_DWORD *)(&lpString)[dword_133052C] + 33) = (signed __int64)*((float *)(&lpString)[dword_133052C] + 28);
    *((_DWORD *)(&lpString)[dword_133052C] + 35) = *((_DWORD *)(&lpString)[dword_133052C] + 33);
    *((_DWORD *)(&lpString)[dword_133052C] + 34) = (signed __int64)*((float *)(&lpString)[dword_133052C] + 29);
    *((_DWORD *)(&lpString)[dword_133052C] + 36) = *((_DWORD *)(&lpString)[dword_133052C] + 34);
    v16 = (&lpString)[dword_133052C];
    v17 = (&lpString)[dword_1330538];
    v18 = (signed __int64)(*((float *)v17 + 28) * 0.025) - (signed __int64)(*((float *)v16 + 28) * 0.025);
    dword_133065C = v18;
    v19 = (signed __int64)(*((float *)v17 + 30) * 0.050000001) - (signed __int64)(*((float *)v16 + 30) * 0.050000001);
    dword_1330660 = (signed __int64)(*((float *)v17 + 30) * 0.050000001)
                  - (signed __int64)(*((float *)v16 + 30) * 0.050000001);
    if ( (signed __int16)v18 == -1 )
    {
      v19 = (signed __int16)v19;
      if ( (signed __int16)v19 == -1 )
      {
        *((_BYTE *)v17 + 172) = 6;
        *((_BYTE *)(&lpString)[dword_1330538] + 173) = 6;
      }
      else if ( v19 )
      {
        if ( v19 == 1 )
        {
          *((_BYTE *)v17 + 172) = 4;
          *((_BYTE *)(&lpString)[dword_1330538] + 173) = 4;
        }
      }
      else
      {
        *((_BYTE *)v17 + 172) = 5;
        *((_BYTE *)(&lpString)[dword_1330538] + 173) = 5;
      }
      goto LABEL_56;
    }
    if ( (_WORD)v18 )
    {
      if ( (signed __int16)v18 == 1 )
      {
        v19 = (signed __int16)v19;
        if ( (signed __int16)v19 == -1 )
        {
          *((_BYTE *)v17 + 172) = 0;
          *((_BYTE *)(&lpString)[dword_1330538] + 173) = 0;
        }
        else if ( v19 )
        {
          if ( v19 == (signed __int16)v18 )
          {
            v20 = 2;
LABEL_48:
            *((_BYTE *)v17 + 172) = v20;
            *((_BYTE *)(&lpString)[dword_1330538] + 173) = v20;
            goto LABEL_56;
          }
        }
        else
        {
          *((_BYTE *)v17 + 172) = 1;
          *((_BYTE *)(&lpString)[dword_1330538] + 173) = 1;
        }
      }
    }
    else
    {
      v19 = (signed __int16)v19;
      if ( (signed __int16)v19 == -1 )
      {
        *((_BYTE *)v17 + 172) = 7;
        *((_BYTE *)(&lpString)[dword_1330538] + 173) = 7;
        goto LABEL_56;
      }
      if ( v19 == 1 )
      {
        v20 = 3;
        goto LABEL_48;
      }
    }
LABEL_56:
    *((_BYTE *)(&lpString)[dword_133052C] + 172) = (*((unsigned __int8 *)(&lpString)[dword_1330538] + 173) + 4) % 8;
    result = (int)(&lpString)[dword_133052C];
    *(_BYTE *)(result + 173) = *(_BYTE *)(result + 172);
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 131D690: using guessed type int dword_131D690;
// 132258C: using guessed type int dword_132258C;
// 133052C: using guessed type int dword_133052C;
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 133054C: using guessed type int dword_133054C;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1330660: using guessed type int dword_1330660;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (0046A370) --------------------------------------------------------
int __cdecl sub_46A370(int a1)
{
  int v1; // eax
  LPCSTR v2; // ST04_4
  unsigned __int16 v3; // ax
  LPCSTR v4; // edi
  unsigned __int16 v5; // cx
  int result; // eax
  LPCSTR v7; // edi
  unsigned __int16 v8; // dx
  unsigned __int16 v9; // cx
  LPCSTR v10; // ecx

  dword_1330548 = *(_DWORD *)a1;
  v1 = sub_425480(&dword_1330548);
  v2 = (&lpString)[v1];
  dword_1330538 = v1;
  sub_42E780((int)v2, (_BYTE *)(a1 + 16));
  HIBYTE(v3) = *(_BYTE *)(a1 + 8);
  LOBYTE(v3) = *(_BYTE *)(a1 + 9);
  v4 = (&lpString)[dword_1330538];
  dword_1330654 = v3;
  HIBYTE(v5) = *(_BYTE *)(a1 + 10);
  LOBYTE(v5) = *(_BYTE *)(a1 + 11);
  dword_1330658 = v5;
  *((_BYTE *)dword_1542DA4
  + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v4 + 30) * 0.050000001)
  + (unsigned __int16)(signed __int64)(*((float *)v4 + 28) * 0.025)) = 0;
  *((_DWORD *)(&lpString)[dword_1330538] + 37) = dword_1330654;
  *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
  *((float *)(&lpString)[dword_1330538] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
  *((float *)(&lpString)[dword_1330538] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
  *((_DWORD *)(&lpString)[dword_1330538] + 29) = *((_DWORD *)(&lpString)[dword_1330538] + 30);
  dword_1330548 = *(_DWORD *)(a1 + 4);
  dword_1330654 = dword_1317E74;
  result = sub_425480(&dword_1330548);
  dword_133053C = result;
  if ( dword_1330654 != dword_1317E74 )
  {
    v7 = (&lpString)[result];
    HIBYTE(v8) = *(_BYTE *)(a1 + 12);
    LOBYTE(v8) = *(_BYTE *)(a1 + 13);
    dword_1330654 = v8;
    HIBYTE(v9) = *(_BYTE *)(a1 + 14);
    LOBYTE(v9) = *(_BYTE *)(a1 + 15);
    dword_1330658 = v9;
    *((_BYTE *)dword_1542DA4
    + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v7 + 30) * 0.050000001)
    + (unsigned __int16)(signed __int64)(*((float *)v7 + 28) * 0.025)) = 0;
    *((_DWORD *)(&lpString)[dword_133053C] + 37) = dword_1330654;
    *((_DWORD *)(&lpString)[dword_133053C] + 38) = dword_1330658;
    *((float *)(&lpString)[dword_133053C] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
    *((float *)(&lpString)[dword_133053C] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
    *((_DWORD *)(&lpString)[dword_133053C] + 29) = *((_DWORD *)(&lpString)[dword_133053C] + 30);
    result = dword_133053C;
  }
  if ( result != dword_131D690 )
  {
    sub_42E780((int)(&lpString)[result], (_BYTE *)(a1 + 21));
    result = dword_133053C;
  }
  v10 = (&lpString)[dword_1330538];
  if ( !*((_DWORD *)v10 + 23) && !*((_DWORD *)(&lpString)[result] + 23) )
  {
    *((_DWORD *)v10 + 47) = 1;
    *((_DWORD *)(&lpString)[dword_1330538] + 25) = dword_133053C;
    *((_DWORD *)(&lpString)[dword_1330538] + 33) = 20
                                                 - 40
                                                 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_133053C]
                                                                                      + 28)
                                                                                    * -0.025);
    *((_DWORD *)(&lpString)[dword_1330538] + 34) = 10
                                                 - 20
                                                 * (unsigned __int64)(signed __int64)(*((float *)(&lpString)[dword_133053C]
                                                                                      + 30)
                                                                                    * -0.050000001);
    *((_BYTE *)(&lpString)[dword_1330538] + 174) = 2;
    result = (int)(&lpString)[dword_1330538];
    *(_DWORD *)(result + 600) = 0;
  }
  return result;
}
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1330538: using guessed type int dword_1330538;
// 133053C: using guessed type int dword_133053C;
// 1330548: using guessed type int dword_1330548;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (0046A6F0) --------------------------------------------------------
int __cdecl sub_46A6F0(int a1)
{
  int v1; // eax
  LPCSTR v2; // esi
  unsigned __int16 v3; // cx
  unsigned __int16 v4; // dx
  LPCSTR v5; // ecx
  int result; // eax
  LPCSTR v7; // esi
  unsigned __int16 v8; // ax
  _WORD *v9; // ecx
  __int16 v10; // dx
  LPCSTR v11; // esi
  unsigned __int16 v12; // ax
  unsigned __int16 v13; // cx
  LPCSTR v14; // ecx
  LPCSTR v15; // eax
  int v16; // esi
  int v17; // eax
  int v18; // eax
  __int16 v19; // dx
  __int16 v20; // cx
  int v21; // esi
  int v22; // esi
  signed __int64 v23; // rax
  signed __int64 v24; // rax
  signed __int64 v25; // rax
  double v26; // st7
  int v27; // esi
  int v28; // esi
  bool v29; // sf
  unsigned __int8 v30; // of
  unsigned int v31; // eax
  int v32; // eax
  int v33; // edx
  int *v34; // eax
  int v35; // ecx
  LPCSTR v36; // eax

  dword_1330548 = *(_DWORD *)a1;
  v1 = sub_425480(&dword_1330548);
  v2 = (&lpString)[v1];
  dword_133052C = v1;
  if ( !*((_DWORD *)v2 + 19) )
  {
    HIBYTE(v3) = *(_BYTE *)(a1 + 16);
    LOBYTE(v3) = *(_BYTE *)(a1 + 17);
    dword_1330654 = v3;
    HIBYTE(v4) = *(_BYTE *)(a1 + 18);
    LOBYTE(v4) = *(_BYTE *)(a1 + 19);
    dword_1330658 = v4;
    *((_BYTE *)dword_1542DA4
    + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v2 + 30) * 0.050000001)
    + (unsigned __int16)(signed __int64)(*((float *)v2 + 28) * 0.025)) = 0;
    *((_DWORD *)(&lpString)[dword_133052C] + 37) = dword_1330654;
    *((_DWORD *)(&lpString)[dword_133052C] + 38) = dword_1330658;
    *((float *)(&lpString)[dword_133052C] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
    *((float *)(&lpString)[dword_133052C] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
    *((_DWORD *)(&lpString)[dword_133052C] + 29) = *((_DWORD *)(&lpString)[dword_133052C] + 30);
    *((_DWORD *)(&lpString)[dword_133052C] + 33) = (signed __int64)*((float *)(&lpString)[dword_133052C] + 28);
    *((_DWORD *)(&lpString)[dword_133052C] + 35) = *((_DWORD *)(&lpString)[dword_133052C] + 33);
    *((_DWORD *)(&lpString)[dword_133052C] + 34) = (signed __int64)*((float *)(&lpString)[dword_133052C] + 29);
    *((_DWORD *)(&lpString)[dword_133052C] + 36) = *((_DWORD *)(&lpString)[dword_133052C] + 34);
    *((_DWORD *)(&lpString)[dword_133052C] + 47) = 0;
    v1 = dword_133052C;
  }
  v5 = (&lpString)[v1];
  if ( *((_DWORD *)v5 + 18) )
  {
    *((_DWORD *)v5 + 18) = 0;
    v1 = dword_133052C;
  }
  if ( v1 != dword_131D690 )
    sub_42E780((int)(&lpString)[v1], (_BYTE *)(a1 + 20));
  dword_1330548 = *(_DWORD *)(a1 + 4);
  dword_1330654 = dword_1317E74;
  result = sub_425480(&dword_1330548);
  v7 = (&lpString)[result];
  dword_1330538 = result;
  if ( !*((_DWORD *)v7 + 23) && !*((_DWORD *)(&lpString)[dword_133052C] + 23) )
  {
    if ( result == dword_131D690 )
    {
      dword_1330654 = dword_13246AC;
      HIBYTE(v8) = *(_BYTE *)(a1 + 30);
      LOBYTE(v8) = *(_BYTE *)(a1 + 31);
      dword_13246AC = *(unsigned __int8 *)(a1 + 33) | ((*(unsigned __int8 *)(a1 + 32) | (v8 << 8)) << 8);
      sprintf((char *)v7 + 768, off_48EA54, dword_13246AC - dword_1330654);
      *((_DWORD *)(&lpString)[dword_1330538] + 197) = dword_13211C8;
    }
    else
    {
      if ( *((_DWORD *)v7 + 159) != 200 || (v9 = (_WORD *)*((_DWORD *)v7 + 156)) == 0 )
      {
LABEL_15:
        if ( result != dword_131D690 )
        {
          v11 = (&lpString)[result];
          if ( !*((_DWORD *)v11 + 19) )
          {
            HIBYTE(v12) = *(_BYTE *)(a1 + 12);
            LOBYTE(v12) = *(_BYTE *)(a1 + 13);
            dword_1330654 = v12;
            HIBYTE(v13) = *(_BYTE *)(a1 + 14);
            LOBYTE(v13) = *(_BYTE *)(a1 + 15);
            dword_1330658 = v13;
            *((_BYTE *)dword_1542DA4
            + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v11 + 30) * 0.050000001)
            + (unsigned __int16)(signed __int64)(*((float *)v11 + 28) * 0.025)) = 0;
            *((_DWORD *)(&lpString)[dword_1330538] + 37) = dword_1330654;
            *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
            *((float *)(&lpString)[dword_1330538] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
            *((float *)(&lpString)[dword_1330538] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
            *((_DWORD *)(&lpString)[dword_1330538] + 29) = *((_DWORD *)(&lpString)[dword_1330538] + 30);
            *((_DWORD *)(&lpString)[dword_1330538] + 33) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 28);
            *((_DWORD *)(&lpString)[dword_1330538] + 35) = *((_DWORD *)(&lpString)[dword_1330538] + 33);
            *((_DWORD *)(&lpString)[dword_1330538] + 34) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 29);
            *((_DWORD *)(&lpString)[dword_1330538] + 36) = *((_DWORD *)(&lpString)[dword_1330538] + 34);
            result = dword_1330538;
          }
          if ( result != dword_131D690 )
          {
            sub_42E780((int)(&lpString)[result], (_BYTE *)(a1 + 25));
            result = dword_1330538;
            v14 = (&lpString)[dword_1330538];
            if ( !v14[104] && !v14[174] )
            {
              *((_BYTE *)v14 + 104) = 1;
              result = dword_1330538;
            }
          }
        }
        v15 = (&lpString)[result];
        dword_133054C = (int)(&lpString)[dword_133052C];
        v16 = dword_133054C;
        dword_133065C = (signed __int64)(*(float *)(dword_133054C + 112) * 0.025)
                      - (signed __int64)(*((float *)v15 + 28) * 0.025);
        v17 = (signed __int64)(*(float *)(dword_133054C + 120) * 0.050000001)
            - (signed __int64)(*((float *)(&lpString)[dword_1330538] + 30) * 0.050000001);
        dword_1330660 = (signed __int64)(*(float *)(dword_133054C + 120) * 0.050000001)
                      - (signed __int64)(*((float *)(&lpString)[dword_1330538] + 30) * 0.050000001);
        if ( (signed __int16)dword_133065C == -1 )
        {
          v17 = (signed __int16)v17;
          if ( (signed __int16)v17 == -1 )
          {
            *(_BYTE *)(dword_133054C + 172) = 6;
            *(_BYTE *)(dword_133054C + 173) = 6;
            goto LABEL_41;
          }
          if ( !v17 )
          {
            *(_BYTE *)(dword_133054C + 172) = 5;
            *(_BYTE *)(dword_133054C + 173) = 5;
            goto LABEL_41;
          }
          if ( v17 == 1 )
          {
            *(_BYTE *)(dword_133054C + 172) = 4;
            *(_BYTE *)(dword_133054C + 173) = 4;
            goto LABEL_41;
          }
        }
        else if ( (_WORD)dword_133065C )
        {
          if ( (signed __int16)dword_133065C == 1 )
          {
            v17 = (signed __int16)v17;
            if ( (signed __int16)v17 == -1 )
            {
              *(_BYTE *)(dword_133054C + 172) = 0;
              *(_BYTE *)(dword_133054C + 173) = 0;
              goto LABEL_41;
            }
            if ( !v17 )
            {
              *(_BYTE *)(dword_133054C + 172) = 1;
              *(_BYTE *)(dword_133054C + 173) = 1;
              goto LABEL_41;
            }
            if ( v17 == (signed __int16)dword_133065C )
            {
              *(_BYTE *)(dword_133054C + 172) = 2;
              *(_BYTE *)(dword_133054C + 173) = 2;
LABEL_41:
              v16 = dword_133054C;
              goto LABEL_42;
            }
          }
        }
        else
        {
          v17 = (signed __int16)v17;
          if ( (signed __int16)v17 == -1 )
          {
            *(_BYTE *)(dword_133054C + 172) = 7;
            *(_BYTE *)(dword_133054C + 173) = 7;
            goto LABEL_41;
          }
          if ( v17 == 1 )
          {
            *(_BYTE *)(dword_133054C + 172) = 3;
            *(_BYTE *)(dword_133054C + 173) = 3;
            goto LABEL_41;
          }
        }
LABEL_42:
        *((_BYTE *)(&lpString)[dword_1330538] + 172) = (*(unsigned __int8 *)(v16 + 173) + 4) % 8;
        *((_BYTE *)(&lpString)[dword_1330538] + 173) = (&lpString)[dword_1330538][172];
        v18 = dword_133054C;
        if ( *(_DWORD *)(dword_133054C + 168) > 0xF2u )
        {
          *(_BYTE *)(dword_133054C + 172) = 0;
          *(_BYTE *)(dword_133054C + 173) = 0;
          v18 = dword_133054C;
        }
        *(_DWORD *)(v18 + 600) = 1;
        *(_BYTE *)(dword_133054C + 174) = 11;
        *(_WORD *)(dword_133054C + 176) = 0;
        HIBYTE(v19) = *(_BYTE *)(a1 + 8);
        LOBYTE(v19) = *(_BYTE *)(a1 + 9);
        *(_WORD *)(dword_133054C + 84) = v19;
        HIBYTE(v20) = *(_BYTE *)(a1 + 10);
        LOBYTE(v20) = *(_BYTE *)(a1 + 11);
        *(_WORD *)(dword_133054C + 86) = v20;
        v21 = dword_133054C;
        if ( *(_DWORD *)(dword_133054C + 52) == dword_131D690 )
        {
          dword_1324F54 = *(unsigned __int16 *)(dword_133054C + 84);
          dword_132FFEC = *(unsigned __int16 *)(dword_133054C + 86);
        }
        if ( *(_DWORD *)(dword_133054C + 168) < 0xF3u )
        {
          switch ( *(unsigned __int8 *)(a1 + 34) )
          {
            case 1u:
              if ( !*(_WORD *)(dword_133054C + 86) )
                goto LABEL_70;
              *(_DWORD *)(dword_133054C + 760) = 1;
              *(_DWORD *)(dword_133054C + 764) = GetTickCount() + 2000;
              sub_41C960(
                (signed __int64)*(float *)(dword_133054C + 112),
                (signed __int64)*(float *)(dword_133054C + 120));
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = dword_133054C;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = dword_133054C;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1068;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 7;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 3;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 610) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 3;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
              *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 120) + 20.0;
              v21 = dword_133054C;
              break;
            case 2u:
              sub_416860(
                167,
                (signed __int64)*(float *)(dword_133054C + 112),
                (signed __int64)*(float *)(dword_133054C + 120),
                0,
                0);
              switch ( *(unsigned __int8 *)(dword_133054C + 172) )
              {
                case 0u:
                  v22 = (unsigned __int64)(signed __int64)*(float *)(dword_133054C + 112) + 200;
                  goto LABEL_60;
                case 1u:
                  v23 = (signed __int64)*(float *)(dword_133054C + 112);
                  v22 = v23 + 200;
                  dword_1330654 = v23 + 200;
                  v24 = (signed __int64)*(float *)(dword_133054C + 120);
                  dword_1330658 = v24;
                  break;
                case 2u:
                  v22 = (unsigned __int64)(signed __int64)*(float *)(dword_133054C + 112) + 200;
                  goto LABEL_54;
                case 3u:
                  v22 = (signed __int64)*(float *)(dword_133054C + 112);
                  goto LABEL_54;
                case 4u:
                  v22 = (unsigned __int64)(signed __int64)*(float *)(dword_133054C + 112) - 200;
LABEL_54:
                  dword_1330654 = v22;
                  LODWORD(v24) = (unsigned __int64)(signed __int64)*(float *)(dword_133054C + 120) + 100;
                  dword_1330658 = (unsigned __int64)(signed __int64)*(float *)(dword_133054C + 120) + 100;
                  break;
                case 5u:
                  v25 = (signed __int64)*(float *)(dword_133054C + 112);
                  v22 = v25 - 200;
                  dword_1330654 = v25 - 200;
                  v24 = (signed __int64)*(float *)(dword_133054C + 120);
                  dword_1330658 = v24;
                  break;
                case 6u:
                  v22 = (unsigned __int64)(signed __int64)*(float *)(dword_133054C + 112) - 200;
                  goto LABEL_60;
                case 7u:
                  v22 = (signed __int64)*(float *)(dword_133054C + 112);
LABEL_60:
                  dword_1330654 = v22;
                  LODWORD(v24) = (unsigned __int64)(signed __int64)*(float *)(dword_133054C + 120) - 100;
                  dword_1330658 = (unsigned __int64)(signed __int64)*(float *)(dword_133054C + 120) - 100;
                  break;
                default:
                  v22 = dword_1330654;
                  LODWORD(v24) = dword_1330658;
                  break;
              }
              sub_426260(*(_DWORD *)(dword_133054C + 52), v22, v24);
              v21 = dword_133054C;
              v26 = *(float *)(dword_133054C + 112) * 0.025;
              if ( v26 != (double)(*(_DWORD *)(dword_133054C + 132) / 40)
                || (double)(*(_DWORD *)(dword_133054C + 136) / 40) != *(float *)(dword_133054C + 120) * 0.025 )
              {
                *((_BYTE *)dword_1542DA4
                + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(dword_133054C + 120) * 0.050000001)
                + (unsigned __int16)(signed __int64)v26) = 0;
                sub_429A60(
                  dword_133054C,
                  (signed __int64)*(float *)(dword_133054C + 112) / 40,
                  (signed __int64)*(float *)(dword_133054C + 120) / 20,
                  *(_DWORD *)(dword_133054C + 132) / 40,
                  *(_DWORD *)(dword_133054C + 136) / 20);
                *(float *)(dword_133054C + 112) = (double)*(signed int *)(dword_133054C + 132);
                *(float *)(dword_133054C + 120) = (double)*(signed int *)(dword_133054C + 136);
                *(_DWORD *)(dword_133054C + 116) = *(_DWORD *)(dword_133054C + 120);
                *(_DWORD *)(dword_133054C + 140) = *(_DWORD *)(dword_133054C + 132);
                *(_DWORD *)(dword_133054C + 144) = *(_DWORD *)(dword_133054C + 136);
                v21 = dword_133054C;
              }
              break;
            case 3u:
              sub_416860(
                167,
                (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
                (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
                0,
                0);
              dword_133052C = 0;
              do
              {
                sub_41C960(
                  (signed __int64)*(float *)(dword_133054C + 112),
                  (signed __int64)*(float *)(dword_133054C + 120));
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1051;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
                *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
                *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
                *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
                *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
                v27 = dword_49DA1C[dword_1317E74];
                *(float *)(v27 + 112) = (double)(rand() % 40 - 20) + *(float *)(v27 + 112);
                v28 = dword_49DA1C[dword_1317E74];
                *(float *)(v28 + 116) = (double)(rand() % 20 - 10) + *(float *)(v28 + 116);
                v30 = __OFSUB__(dword_133052C + 1, 3);
                v29 = dword_133052C++ - 2 < 0;
              }
              while ( v29 ^ v30 );
              v21 = dword_133054C;
              break;
            case 4u:
              break;
            default:
              dword_1330098 = 0;
              break;
          }
        }
        if ( *(_WORD *)(v21 + 86) )
        {
          result = dword_1330538;
          if ( dword_1330538 == dword_131D690 )
          {
            result = *(unsigned __int8 *)(a1 + 34) - 1;
            switch ( *(unsigned __int8 *)(a1 + 34) )
            {
              case 1u:
                result = sub_4233F0(1);
                *(_BYTE *)(dword_133054C + 184) = 0;
                break;
              case 2u:
                result = sub_4233F0(2);
                *(_BYTE *)(dword_133054C + 184) = 0;
                break;
              case 3u:
                result = sub_4233F0(3);
                *(_BYTE *)(dword_133054C + 184) = 0;
                break;
              case 4u:
                result = sub_4233F0(9);
                *(_BYTE *)(dword_133054C + 184) = 0;
                break;
              default:
                dword_1330098 = 0;
                goto LABEL_107;
            }
          }
          else
          {
LABEL_107:
            *(_BYTE *)(v21 + 184) = 0;
          }
        }
        else
        {
LABEL_70:
          strcpy((char *)(&lpString)[dword_1330538] + 768, aLastHit);
          *((_DWORD *)(&lpString)[dword_1330538] + 197) = dword_13211C8;
          if ( dword_1330538 == dword_131D690 )
          {
            switch ( *(unsigned __int8 *)(a1 + 34) )
            {
              case 1u:
                sub_4233F0(1);
                break;
              case 2u:
                sub_4233F0(2);
                break;
              case 3u:
                sub_4233F0(3);
                break;
              case 4u:
                sub_4233F0(9);
                break;
              default:
                v31 = *(_DWORD *)(dword_133054C + 168);
                if ( v31 >= 0xCA && v31 <= 0xCC )
                  sub_4233F0(8);
                dword_1330098 = 0;
                break;
            }
          }
          *(_DWORD *)(dword_133054C + 132) = (signed __int64)*(float *)(dword_133054C + 112);
          *(_DWORD *)(dword_133054C + 140) = *(_DWORD *)(dword_133054C + 132);
          *(_DWORD *)(dword_133054C + 136) = (signed __int64)*(float *)(dword_133054C + 120);
          *(_DWORD *)(dword_133054C + 144) = *(_DWORD *)(dword_133054C + 136);
          *(_DWORD *)(dword_133054C + 188) = 0;
          *(_DWORD *)(dword_133054C + 72) = 0;
          *(_DWORD *)(dword_133054C + 92) = 1;
          *(_BYTE *)(dword_133054C + 104) = 0;
          *((_BYTE *)(&lpString)[dword_1330538] + 104) = 0;
          v32 = dword_133054C;
          if ( *(_DWORD *)(dword_133054C + 636) != -1
            && (*(_DWORD *)(dword_133054C + 52) == dword_131D690
             || *(_DWORD *)(dword_133054C + 68) && *(_DWORD *)(dword_133054C + 76)) )
          {
            sub_46F670(dword_133054C, dword_133054C);
            v32 = dword_133054C;
          }
          *(_DWORD *)(v32 + 636) = -1;
          if ( *(_DWORD *)(dword_133054C + 76) )
          {
            sub_46F7A0(dword_133054C);
            sub_46F5D0(dword_133054C, (int)(&lpString)[dword_131D690]);
          }
          if ( dword_1330538 == dword_131D690 )
            sub_46F7A0((int)(&lpString)[dword_1330538]);
          v33 = dword_133054C;
          if ( *(_DWORD *)(dword_133054C + 52) == dword_131D690 )
          {
            v34 = dword_48CECC;
            do
            {
              *(v34 - 1) = -1;
              *v34 = 0;
              v34 += 2;
            }
            while ( (signed int)v34 < (signed int)&unk_48CF44 );
            v35 = 0;
            dword_133052C = 0;
            if ( dword_1317E74 > 0 )
            {
              do
              {
                v36 = (&lpString)[v35];
                if ( *((_DWORD *)v36 + 19) && *((_DWORD *)v36 + 17) )
                {
                  *((_BYTE *)v36 + 104) = 0;
                  *((_DWORD *)(&lpString)[dword_133052C] + 25) = -1;
                  sub_46F7A0((int)(&lpString)[dword_133052C]);
                  sub_46F5D0((int)(&lpString)[dword_133052C], (int)(&lpString)[dword_131D690]);
                  v35 = dword_133052C;
                }
                dword_133052C = ++v35;
              }
              while ( v35 < dword_1317E74 );
              v33 = dword_133054C;
            }
          }
          result = *(_DWORD *)(v33 + 168);
          if ( *(_DWORD *)(dword_8D3C24[result] + 140) )
          {
            *(_BYTE *)(v33 + 99) = 0;
            *(_BYTE *)(dword_133054C + 174) = 17;
            result = dword_133054C;
            *(_DWORD *)(dword_133054C + 600) = 1;
            *(_WORD *)(dword_133054C + 176) = 0;
          }
        }
        return result;
      }
      v10 = v9[304];
      v9[302] = 1;
      v9[305] = v10 + 1;
    }
    result = dword_1330538;
    goto LABEL_15;
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13246AC: using guessed type int dword_13246AC;
// 1324F54: using guessed type int dword_1324F54;
// 1330098: using guessed type int dword_1330098;
// 133052C: using guessed type int dword_133052C;
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 133054C: using guessed type int dword_133054C;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1330660: using guessed type int dword_1330660;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (0046B790) --------------------------------------------------------
int __cdecl sub_46B790(int a1)
{
  int v1; // eax
  LPCSTR v2; // edi
  unsigned __int16 v3; // cx
  unsigned __int16 v4; // dx
  int v5; // ecx
  LPCSTR v6; // edi
  unsigned __int16 v7; // dx
  unsigned __int16 v8; // ax
  int result; // eax
  LPCSTR v10; // eax
  _WORD *v11; // eax
  __int16 v12; // cx
  LPCSTR v13; // ebp
  int v14; // esi
  int v15; // edi
  signed __int64 v16; // rax
  __int16 v17; // di
  int v18; // eax
  char v19; // al
  int v20; // ecx
  int v21; // eax
  int v22; // edx
  int v23; // [esp+1Ch] [ebp+4h]

  dword_1330548 = *(_DWORD *)a1;
  v1 = sub_425480(&dword_1330548);
  v2 = (&lpString)[v1];
  dword_1330538 = v1;
  if ( !*((_DWORD *)v2 + 19) )
  {
    HIBYTE(v3) = *(_BYTE *)(a1 + 12);
    LOBYTE(v3) = *(_BYTE *)(a1 + 13);
    dword_1330654 = v3;
    HIBYTE(v4) = *(_BYTE *)(a1 + 14);
    LOBYTE(v4) = *(_BYTE *)(a1 + 15);
    dword_1330658 = v4;
    *((_BYTE *)dword_1542DA4
    + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v2 + 30) * 0.050000001)
    + (unsigned __int16)(signed __int64)(*((float *)v2 + 28) * 0.025)) = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 37) = dword_1330654;
    *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
    *((float *)(&lpString)[dword_1330538] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
    *((float *)(&lpString)[dword_1330538] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
    *((_DWORD *)(&lpString)[dword_1330538] + 29) = *((_DWORD *)(&lpString)[dword_1330538] + 30);
    *((_DWORD *)(&lpString)[dword_1330538] + 33) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 28);
    *((_DWORD *)(&lpString)[dword_1330538] + 35) = *((_DWORD *)(&lpString)[dword_1330538] + 33);
    *((_DWORD *)(&lpString)[dword_1330538] + 34) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 29);
    *((_DWORD *)(&lpString)[dword_1330538] + 36) = *((_DWORD *)(&lpString)[dword_1330538] + 34);
    *((_DWORD *)(&lpString)[dword_1330538] + 47) = 0;
    v1 = dword_1330538;
  }
  if ( v1 != dword_131D690 )
    sub_42E780((int)(&lpString)[v1], (_BYTE *)(a1 + 16));
  dword_1330548 = *(_DWORD *)(a1 + 4);
  dword_1330654 = dword_1317E74;
  v5 = sub_425480(&dword_1330548);
  dword_133053C = v5;
  if ( v5 != dword_131D690 )
  {
    v6 = (&lpString)[v5];
    if ( !*((_DWORD *)v6 + 19) )
    {
      HIBYTE(v7) = *(_BYTE *)(a1 + 8);
      LOBYTE(v7) = *(_BYTE *)(a1 + 9);
      dword_1330654 = v7;
      HIBYTE(v8) = *(_BYTE *)(a1 + 10);
      LOBYTE(v8) = *(_BYTE *)(a1 + 11);
      dword_1330658 = v8;
      *((_BYTE *)dword_1542DA4
      + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v6 + 30) * 0.050000001)
      + (unsigned __int16)(signed __int64)(*((float *)v6 + 28) * 0.025)) = 0;
      *((_DWORD *)(&lpString)[dword_133053C] + 37) = dword_1330654;
      *((_DWORD *)(&lpString)[dword_133053C] + 38) = dword_1330658;
      *((float *)(&lpString)[dword_133053C] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
      *((float *)(&lpString)[dword_133053C] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
      *((_DWORD *)(&lpString)[dword_133053C] + 29) = *((_DWORD *)(&lpString)[dword_133053C] + 30);
      *((_DWORD *)(&lpString)[dword_133053C] + 33) = (signed __int64)*((float *)(&lpString)[dword_133053C] + 28);
      *((_DWORD *)(&lpString)[dword_133053C] + 35) = *((_DWORD *)(&lpString)[dword_133053C] + 33);
      *((_DWORD *)(&lpString)[dword_133053C] + 34) = (signed __int64)*((float *)(&lpString)[dword_133053C] + 29);
      *((_DWORD *)(&lpString)[dword_133053C] + 36) = *((_DWORD *)(&lpString)[dword_133053C] + 34);
      v5 = dword_133053C;
    }
  }
  result = (int)(&lpString)[dword_1330538];
  if ( !*(_DWORD *)(result + 92) )
  {
    result = (int)(&lpString)[v5];
    if ( !*(_DWORD *)(result + 92) )
    {
      if ( v5 != dword_131D690 )
      {
        sub_42E780(result, (_BYTE *)(a1 + 21));
        v10 = (&lpString)[dword_133053C];
        if ( !v10[104] && !v10[174] )
          *((_BYTE *)v10 + 104) = 1;
        if ( *((_DWORD *)(&lpString)[dword_133053C] + 159) == 200 )
        {
          v11 = (_WORD *)*((_DWORD *)(&lpString)[dword_1330538] + 156);
          if ( v11 )
          {
            v12 = v11[304];
            v11[302] = 1;
            v11[305] = v12 + 1;
          }
        }
        v5 = dword_133053C;
      }
      v13 = (&lpString)[v5];
      dword_133054C = (int)(&lpString)[dword_1330538];
      v14 = dword_133054C;
      v15 = (signed __int64)(*((float *)v13 + 28) * 0.025);
      v16 = (signed __int64)(*(float *)(dword_133054C + 112) * 0.025);
      v23 = v15;
      v17 = v16 - v15;
      dword_133065C = v16 - v23;
      v18 = (signed __int64)(*(float *)(dword_133054C + 120) * 0.050000001)
          - (signed __int64)(*((float *)v13 + 30) * 0.050000001);
      dword_1330660 = (signed __int64)(*(float *)(dword_133054C + 120) * 0.050000001)
                    - (signed __int64)(*((float *)v13 + 30) * 0.050000001);
      switch ( v17 )
      {
        case -1:
          v18 = (signed __int16)v18;
          if ( (signed __int16)v18 == -1 )
          {
            v19 = 6;
            goto LABEL_37;
          }
          if ( !v18 )
          {
            v19 = 5;
            goto LABEL_37;
          }
          if ( v18 != 1 )
            goto LABEL_39;
          *(_BYTE *)(dword_133054C + 172) = 4;
          *(_BYTE *)(dword_133054C + 173) = 4;
          break;
        case 0:
          v18 = (signed __int16)v18;
          if ( (signed __int16)v18 == -1 )
          {
            v19 = 7;
            goto LABEL_37;
          }
          if ( v18 == 1 )
          {
            v19 = 3;
            goto LABEL_37;
          }
LABEL_39:
          *((_BYTE *)(&lpString)[dword_133053C] + 172) = (*(unsigned __int8 *)(v14 + 173) + 4) % 8;
          *((_BYTE *)(&lpString)[dword_133053C] + 173) = (&lpString)[dword_133053C][172];
          *(_WORD *)(dword_133054C + 176) = 0;
          *(_DWORD *)(dword_133054C + 600) = 1;
          v20 = dword_133054C;
          v21 = *(_DWORD *)(dword_133054C + 748);
          if ( v21 == 800 || v21 == 801 || v21 == 501 || *(_DWORD *)(dword_133054C + 752) == 600 )
          {
            result = *(_DWORD *)(dword_133054C + 168);
            v22 = dword_8D3C24[result];
            if ( *(_WORD *)(v22 + 104) && result != 80 && result != 83 && result != 86 )
            {
              *(_BYTE *)(dword_133054C + 174) = 13;
LABEL_52:
              v20 = dword_133054C;
LABEL_53:
              if ( *(_DWORD *)(v20 + 168) > 0xF2u )
              {
                *(_BYTE *)(v20 + 172) = 0;
                *(_BYTE *)(dword_133054C + 173) = 0;
              }
              return result;
            }
            if ( !*(_WORD *)(v22 + 96) )
              goto LABEL_53;
          }
          else
          {
            result = dword_8D3C24[*(_DWORD *)(dword_133054C + 168)];
            if ( !*(_WORD *)(result + 96) )
              goto LABEL_53;
          }
          *(_BYTE *)(dword_133054C + 174) = 12;
          goto LABEL_52;
        case 1:
          v18 = (signed __int16)v18;
          if ( (signed __int16)v18 == -1 )
          {
            *(_BYTE *)(dword_133054C + 172) = 0;
            *(_BYTE *)(dword_133054C + 173) = 0;
          }
          else
          {
            if ( v18 )
            {
              if ( v18 == v17 )
              {
                v19 = 2;
LABEL_37:
                *(_BYTE *)(dword_133054C + 172) = v19;
                *(_BYTE *)(dword_133054C + 173) = v19;
                break;
              }
              goto LABEL_39;
            }
            *(_BYTE *)(dword_133054C + 172) = 1;
            *(_BYTE *)(dword_133054C + 173) = 1;
          }
          break;
        default:
          goto LABEL_39;
      }
      v14 = dword_133054C;
      goto LABEL_39;
    }
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1330538: using guessed type int dword_1330538;
// 133053C: using guessed type int dword_133053C;
// 1330548: using guessed type int dword_1330548;
// 133054C: using guessed type int dword_133054C;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1330660: using guessed type int dword_1330660;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (0046BDD0) --------------------------------------------------------
signed int __cdecl sub_46BDD0(int a1)
{
  int v1; // eax
  int v2; // eax
  LPCSTR v3; // edi
  unsigned __int16 v4; // ax
  unsigned __int16 v5; // cx
  signed int result; // eax

  v1 = *(_DWORD *)a1;
  dword_133052C = dword_1317E74;
  dword_1330548 = v1;
  v2 = sub_425480(&dword_1330548);
  v3 = (&lpString)[v2];
  dword_1330538 = v2;
  dword_133054C = (int)v3;
  if ( dword_133052C != dword_1317E74 )
  {
    HIBYTE(v4) = *(_BYTE *)(a1 + 4);
    LOBYTE(v4) = *(_BYTE *)(a1 + 5);
    dword_1330654 = v4;
    HIBYTE(v5) = *(_BYTE *)(a1 + 6);
    LOBYTE(v5) = *(_BYTE *)(a1 + 7);
    dword_1330658 = v5;
    *((_BYTE *)dword_1542DA4
    + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v3 + 30) * 0.050000001)
    + (unsigned __int16)(signed __int64)(*((float *)v3 + 28) * 0.025)) = 0;
    *(_DWORD *)(dword_133054C + 148) = dword_1330654;
    *(_DWORD *)(dword_133054C + 152) = dword_1330658;
    *(float *)(dword_133054C + 112) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
    *(float *)(dword_133054C + 120) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
    *(_DWORD *)(dword_133054C + 116) = *(_DWORD *)(dword_133054C + 120);
    *(_DWORD *)(dword_133054C + 132) = (signed __int64)*(float *)(dword_133054C + 112);
    *(_DWORD *)(dword_133054C + 140) = *(_DWORD *)(dword_133054C + 132);
    *(_DWORD *)(dword_133054C + 136) = (signed __int64)*(float *)(dword_133054C + 116);
    *(_DWORD *)(dword_133054C + 144) = *(_DWORD *)(dword_133054C + 136);
  }
  dword_1330548 = *(_DWORD *)(a1 + 8);
  result = sub_4254F0(&dword_1330548);
  dword_1330538 = result;
  if ( result == dword_131D690 )
  {
    *(_DWORD *)(dword_133054C + 80) = 0;
    *(_DWORD *)(dword_133054C + 76) = 1;
    *(_BYTE *)(dword_133054C + 99) = 0;
    *(_BYTE *)(dword_133054C + 98) = 0;
    *(_BYTE *)(dword_133054C + 97) = 0;
    *(_DWORD *)(dword_133054C + 100) = -1;
    result = dword_133054C;
    *(_DWORD *)(dword_133054C + 72) = 0;
    *(_BYTE *)(dword_133054C + 104) = 0;
  }
  else
  {
    *(_DWORD *)(dword_133054C + 76) = 0;
    *(_DWORD *)(dword_133054C + 80) = 1;
  }
  return result;
}
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 133052C: using guessed type int dword_133052C;
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 133054C: using guessed type int dword_133054C;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (0046BFE0) --------------------------------------------------------
int __cdecl sub_46BFE0(int *a1)
{
  int result; // eax

  dword_1330548 = *a1;
  dword_1330538 = sub_4254F0(&dword_1330548);
  dword_1330548 = a1[1];
  dword_133053C = sub_4254F0(&dword_1330548);
  result = dword_1330538;
  if ( dword_1330538 != -1 )
  {
    result = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 20) = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 19) = 0;
    *((_BYTE *)(&lpString)[dword_1330538] + 104) = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 25) = -1;
    *((_BYTE *)(&lpString)[dword_1330538] + 99) = 0;
    *((_BYTE *)(&lpString)[dword_1330538] + 98) = 0;
    *((_BYTE *)(&lpString)[dword_1330538] + 97) = 0;
  }
  return result;
}
// 1330538: using guessed type int dword_1330538;
// 133053C: using guessed type int dword_133053C;
// 1330548: using guessed type int dword_1330548;

//----- (0046C0A0) --------------------------------------------------------
int __cdecl sub_46C0A0(_BYTE *a1)
{
  int result; // eax

  if ( !*a1 )
    return sub_422E80((const char *)&unk_48EA58, 3);
  if ( *a1 == 1 )
    return sub_422E80((const char *)&unk_48EA6C, 3);
  result = (unsigned __int8)*a1 - 2;
  if ( *a1 == 2 )
    result = sub_422E80((const char *)&unk_48EA80, 3);
  return result;
}

//----- (0046C0F0) --------------------------------------------------------
int __cdecl sub_46C0F0(int *a1)
{
  signed int v1; // esi
  int result; // eax
  unsigned __int16 v3; // cx
  int v4; // ecx
  int v5; // ecx
  LPCSTR v6; // eax
  LPCSTR v7; // ecx

  dword_1330548 = *a1;
  v1 = sub_4254F0(&dword_1330548);
  result = dword_48CCE4;
  dword_1330538 = v1;
  if ( dword_48CCE4 == v1 )
  {
    if ( v1 == -1 )
      return result;
    dword_48CCE4 = -1;
    result = (int)(&lpString)[dword_131D690];
    *(_DWORD *)(result + 100) = -1;
    *((_DWORD *)(&lpString)[dword_131D690] + 150) = 0;
    v1 = dword_1330538;
  }
  if ( v1 != -1 )
  {
    LOBYTE(v3) = 0;
    HIBYTE(v3) = dword_1330548;
    v4 = HIBYTE(dword_1330548) | ((BYTE2(dword_1330548) | ((BYTE1(dword_1330548) | v3) << 8)) << 8);
    if ( v4 >= 80000 && v4 < 90000 )
    {
      sub_41C960((signed __int64)*((float *)(&lpString)[v1] + 28), (signed __int64)*((float *)(&lpString)[v1] + 30));
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 628) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1024;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 8;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 2;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 608) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = 4;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
      v1 = dword_1330538;
    }
    v5 = 0;
    for ( dword_133052C = 0; v5 < dword_1317E74; dword_133052C = v5 )
    {
      v6 = (&lpString)[v5];
      if ( *((_DWORD *)v6 + 25) == v1 )
      {
        *((_DWORD *)v6 + 25) = -1;
        v1 = dword_1330538;
        v5 = dword_133052C;
      }
      ++v5;
    }
    dword_133054C = (int)(&lpString)[v1];
    *((_BYTE *)dword_1542DA4
    + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(dword_133054C + 120) * 0.050000001)
    + (unsigned __int16)(signed __int64)(*(float *)(dword_133054C + 112) * 0.025)) = 0;
    sub_41CE40(dword_133054C);
    result = 0;
    for ( dword_133052C = 0; result < dword_1317E74; dword_133052C = result )
    {
      v7 = (&lpString)[result];
      if ( *((_DWORD *)v7 + 156) == dword_133054C && v7[48] == 5 )
      {
        sub_41CE40((int)(&lpString)[result]);
        result = dword_133052C - 1;
      }
      ++result;
    }
    byte_49D965 = 0;
  }
  return result;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 49D965: using guessed type char byte_49D965;
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 133052C: using guessed type int dword_133052C;
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 133054C: using guessed type int dword_133054C;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (0046C3A0) --------------------------------------------------------
signed int __cdecl sub_46C3A0(int *a1)
{
  signed int result; // eax
  int v2; // edx
  LPCSTR v3; // ecx
  LPCSTR v4; // ecx

  dword_1330548 = *a1;
  result = sub_4254F0(&dword_1330548);
  dword_1330538 = result;
  if ( dword_48CCE4 == result )
  {
    if ( result == -1 )
      return result;
    dword_48CCE4 = -1;
    *((_DWORD *)(&lpString)[dword_131D690] + 25) = -1;
    *((_DWORD *)(&lpString)[dword_131D690] + 150) = 0;
    result = dword_1330538;
  }
  if ( result != -1 && result != dword_131D690 )
  {
    v2 = 0;
    for ( dword_133052C = 0; v2 < dword_1317E74; dword_133052C = v2 )
    {
      v3 = (&lpString)[v2];
      if ( *((_DWORD *)v3 + 25) == result )
      {
        *((_DWORD *)v3 + 25) = -1;
        result = dword_1330538;
        v2 = dword_133052C;
      }
      ++v2;
    }
    dword_133054C = (int)(&lpString)[result];
    *((_BYTE *)dword_1542DA4
    + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(dword_133054C + 120) * 0.050000001)
    + (unsigned __int16)(signed __int64)(*(float *)(dword_133054C + 112) * 0.025)) = 0;
    sub_41CE40(dword_133054C);
    result = 0;
    for ( dword_133052C = 0; result < dword_1317E74; dword_133052C = result )
    {
      v4 = (&lpString)[result];
      if ( *((_DWORD *)v4 + 156) == dword_133054C && v4[48] == 5 )
      {
        sub_41CE40((int)(&lpString)[result]);
        result = dword_133052C - 1;
      }
      ++result;
    }
    byte_49D965 = 0;
  }
  return result;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 49D965: using guessed type char byte_49D965;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 133052C: using guessed type int dword_133052C;
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 133054C: using guessed type int dword_133054C;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (0046C510) --------------------------------------------------------
int __cdecl sub_46C510(unsigned __int8 *a1)
{
  int v1; // esi
  unsigned __int16 v2; // dx
  int v3; // edx
  int result; // eax

  v1 = *a1;
  dword_1330654 = *a1;
  HIBYTE(v2) = a1[1];
  LOBYTE(v2) = a1[2];
  v3 = a1[4] | ((a1[3] | (v2 << 8)) << 8);
  result = v3;
  dword_1330658 = v3;
  switch ( v1 )
  {
    case 0:
      HIWORD(dword_13246D8) = v3;
      break;
    case 1:
      word_132A2B6 = v3;
      break;
    case 2:
      word_13226AA = v3;
      break;
    case 3:
      HIWORD(dword_13246A4) = v3;
      break;
    case 5:
      HIWORD(dword_132FFFC) = v3;
      break;
    case 6:
      LOWORD(dword_1329424) = v3;
      break;
    case 9:
      dword_13246AC = v3;
      break;
    case 10:
      dword_132FFEC = v3;
      break;
    case 11:
      LOWORD(dword_13246DC) = v3;
      break;
    case 12:
      LOWORD(dword_132FFFC) = v3;
      break;
    case 13:
      LOWORD(dword_1322660) = v3;
      break;
    case 14:
      dword_1324F54 = v3;
      break;
    case 15:
      word_1328E46 = v3;
      break;
    default:
      return result;
  }
  return result;
}
// 1322660: using guessed type int dword_1322660;
// 13226AA: using guessed type __int16 word_13226AA;
// 13246A4: using guessed type int dword_13246A4;
// 13246AC: using guessed type int dword_13246AC;
// 13246D8: using guessed type int dword_13246D8;
// 13246DC: using guessed type int dword_13246DC;
// 1324F54: using guessed type int dword_1324F54;
// 1328E46: using guessed type __int16 word_1328E46;
// 1329424: using guessed type int dword_1329424;
// 132A2B6: using guessed type __int16 word_132A2B6;
// 132FFFC: using guessed type int dword_132FFFC;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;

//----- (0046C600) --------------------------------------------------------
char __cdecl sub_46C600(_BYTE *a1)
{
  char result; // al
  _BYTE *v2; // esi
  int v3; // edx
  unsigned __int16 v4; // cx
  int v5; // eax
  int v6; // eax
  char v7; // al
  LPCSTR v8; // edi
  unsigned __int16 v9; // ax
  unsigned __int16 v10; // cx
  int v11; // eax
  int v12; // ecx
  int v13; // eax
  int v14; // ecx
  int v15; // eax
  int v16; // ecx
  int v17; // eax
  int v18; // ecx
  signed int v19; // eax
  int *v20; // eax
  bool v21; // zf
  signed int v22; // eax
  LPCSTR v23; // eax

  result = byte_1322628;
  if ( byte_1560A78 && !byte_1322628 )
  {
    dword_13225DC = 0;
    return result;
  }
  v2 = a1;
  v3 = (unsigned __int16)word_131ABFE;
  dword_131ABF0 = (unsigned __int16)word_131ABFE;
  HIBYTE(v4) = *a1;
  LOBYTE(v4) = a1[1];
  word_131ABFE = v4;
  if ( byte_1322628 && byte_48BC38[v3] != byte_48BC38[v4] )
  {
    v5 = (unsigned __int8)byte_48BC38[v4];
    byte_1560A78 = 2;
    if ( v5 )
    {
      v6 = v5 - 1;
      if ( v6 )
      {
        if ( v6 == 1 )
        {
          word_1551334 = 8600;
          strcpy(byte_1551F14, byte_49D8BC);
        }
      }
      else
      {
        word_1551334 = 8500;
        strcpy(byte_1551F14, byte_49D8D0);
      }
    }
    else
    {
      word_1551334 = 8700;
      strcpy(byte_1551F14, byte_49D8E4);
    }
    result = sub_41A820(v3, v4);
    byte_1560A78 = 0;
    dword_13225DC = 0;
    byte_1322628 = byte_1322628 != 1 ? 0 : 2;
    return result;
  }
  dword_1330658 = 1;
  dword_133052C = 0;
  dword_1330654 = (unsigned __int16)dword_1317E74;
  if ( (unsigned __int16)dword_1317E74 - 1 > 0 )
  {
    do
    {
      sub_41CE40((int)(&lpString)[dword_1330658]);
      ++dword_133052C;
    }
    while ( dword_133052C < dword_1330654 - 1 );
  }
  byte_49D965 = 0;
  byte_1547958 = v2[6];
  switch ( byte_1547958 )
  {
    case 0:
    case 0x17:
      byte_1547959 = 0;
      break;
    case 1:
    case 0x16:
      byte_1547959 = 1;
      break;
    case 2:
    case 0x15:
      byte_1547959 = 2;
      break;
    case 3:
      byte_1547959 = 3;
      break;
    case 4:
    case 0x14:
      byte_1547959 = 4;
      break;
    case 5:
      byte_1547959 = 5;
      break;
    case 6:
    case 0x13:
      byte_1547959 = 6;
      break;
    case 7:
      byte_1547959 = 7;
      break;
    case 8:
    case 0x12:
      byte_1547959 = 8;
      break;
    case 9:
    case 0x11:
      byte_1547959 = 9;
      break;
    case 0xA:
    case 0xF:
    case 0x10:
      byte_1547959 = 10;
      break;
    case 0xB:
    case 0xC:
    case 0xD:
    case 0xE:
      byte_1547959 = 11;
      break;
    default:
      break;
  }
  v7 = v2[7];
  LOBYTE(dword_48EB10) = v7;
  BYTE1(dword_48EB10) = v7;
  v8 = (&lpString)[dword_131D690];
  HIBYTE(v9) = v2[2];
  LOBYTE(v9) = v2[3];
  dword_1330654 = v9;
  HIBYTE(v10) = v2[4];
  LOBYTE(v10) = v2[5];
  dword_1330658 = v10;
  *((_BYTE *)dword_1542DA4
  + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v8 + 30) * 0.050000001)
  + (unsigned __int16)(signed __int64)(*((float *)v8 + 28) * 0.025)) = 0;
  *((_DWORD *)(&lpString)[dword_131D690] + 37) = dword_1330654;
  *((_DWORD *)(&lpString)[dword_131D690] + 38) = dword_1330658;
  *((float *)(&lpString)[dword_131D690] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
  *((float *)(&lpString)[dword_131D690] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
  *((_DWORD *)(&lpString)[dword_131D690] + 29) = *((_DWORD *)(&lpString)[dword_131D690] + 30);
  *((_DWORD *)(&lpString)[dword_131D690] + 33) = (signed __int64)*((float *)(&lpString)[dword_131D690] + 28);
  *((_DWORD *)(&lpString)[dword_131D690] + 35) = *((_DWORD *)(&lpString)[dword_131D690] + 33);
  *((_DWORD *)(&lpString)[dword_131D690] + 34) = (signed __int64)*((float *)(&lpString)[dword_131D690] + 29);
  *((_DWORD *)(&lpString)[dword_131D690] + 36) = *((_DWORD *)(&lpString)[dword_131D690] + 34);
  dword_13225E0 = dword_48BA58[(unsigned __int16)word_131ABFE];
  sprintf(byte_1330550, a03dMap, (unsigned __int16)word_131ABFE);
  sub_422950(byte_1330550);
  sub_477670((unsigned __int16)word_131ABFE);
  HIWORD(v11) = 0;
  HIWORD(v12) = 0;
  dword_133052C = (unsigned __int8)v2[8];
  BYTE1(v11) = v2[9];
  LOBYTE(v11) = v2[10];
  dword_1330654 = (unsigned __int16)v11;
  BYTE1(v12) = v2[11];
  LOBYTE(v12) = v2[12];
  dword_1330658 = (unsigned __int16)v12;
  if ( (_WORD)v11 && v12 )
    sub_4245C0(v11, v12);
  HIWORD(v13) = 0;
  HIWORD(v14) = 0;
  dword_133052C = (unsigned __int8)v2[13];
  BYTE1(v13) = v2[14];
  LOBYTE(v13) = v2[15];
  dword_1330654 = (unsigned __int16)v13;
  BYTE1(v14) = v2[16];
  LOBYTE(v14) = v2[17];
  dword_1330658 = (unsigned __int16)v14;
  if ( (_WORD)v13 && v14 )
    sub_4245C0(v13, v14);
  HIWORD(v16) = 0;
  HIWORD(v15) = 0;
  dword_133052C = (unsigned __int8)v2[18];
  BYTE1(v15) = v2[19];
  LOBYTE(v15) = v2[20];
  dword_1330654 = (unsigned __int16)v15;
  BYTE1(v16) = v2[21];
  LOBYTE(v16) = v2[22];
  dword_1330658 = (unsigned __int16)v16;
  if ( (_WORD)v15 && v16 )
    sub_4245C0(v15, v16);
  HIWORD(v17) = 0;
  HIWORD(v18) = 0;
  dword_133052C = (unsigned __int8)v2[23];
  BYTE1(v17) = v2[24];
  LOBYTE(v17) = v2[25];
  dword_1330654 = (unsigned __int16)v17;
  BYTE1(v18) = v2[26];
  LOBYTE(v18) = v2[27];
  dword_1330658 = (unsigned __int16)v18;
  if ( (_WORD)v17 && v18 )
    sub_4245C0(v17, v18);
  sub_4248D0();
  LOBYTE(a1) = 0;
  *(_WORD *)((char *)&a1 + 1) = 24321;
  HIBYTE(a1) = -113;
  switch ( word_131ABFE )
  {
    case 52:
      sub_41CB10(4540, 3190, (int)&a1);
      goto LABEL_46;
    case 85:
      sub_41CB10(3260, 1910, (int)&a1);
      goto LABEL_46;
    case 104:
      sub_41CB10(3220, 1970, (int)&a1);
LABEL_46:
      *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1037;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 1;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
      *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
      *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
      *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 30.0;
      *(float *)(dword_49DA1C[dword_1317E74] + 112) = *(float *)(dword_49DA1C[dword_1317E74] + 112) + 5.0;
      break;
  }
  if ( byte_1322628 )
  {
    if ( byte_1322628 == 1 )
    {
      byte_1322628 = 2;
    }
    else if ( byte_1322628 == 2 )
    {
      byte_1322628 = 0;
    }
  }
  else
  {
    *((_DWORD *)(&lpString)[dword_131D690] + 23) = 0;
    *((_DWORD *)(&lpString)[dword_131D690] + 150) = 0;
    *((_BYTE *)(&lpString)[dword_131D690] + 174) = 0;
    dword_1322658 = 0;
    LOBYTE(dword_13246D8) = 0;
    byte_1328E45 = 0;
    dword_48CCE4 = -1;
    dword_489040 = -1;
    dword_132260C = 0;
    dword_1330060 = 0;
    dword_48CF70 = -1;
    dword_48CF6C = -1;
    dword_133007C = 0;
    byte_1330080 = 0;
    byte_133005C = 0;
    byte_131D68C = 0;
    byte_131AC00 = 0;
    dword_1330054 = 0;
    dword_133004C = 0;
    dword_1330058 = 0;
    dword_1330050 = 0;
    dword_48CF9C = -1;
    dword_1330018 = 0;
    dword_1330014 = 0;
    dword_133001C = 0;
    dword_1330024 = 0;
    dword_1330020 = 0;
    LOBYTE(dword_132A268) = 0;
    byte_13225E8 = 0;
    byte_13225E9 = 0;
    v19 = 0;
    do
    {
      dword_48CEC8[v19] = -1;
      dword_48CE28[v19] = -1;
      dword_48CECC[v19] = 0;
      dword_48CE2C[v19] = 0;
      v19 += 2;
    }
    while ( v19 < 30 );
    v20 = dword_48CCEC;
    dword_133052C = 40;
    do
    {
      *(v20 - 1) = -1;
      *v20 = 0;
      v20 += 2;
    }
    while ( (signed int)v20 < (signed int)dword_48CE2C );
    dword_48CF7C = -1;
    dword_48CF80 = -1;
    dword_48CF84 = -1;
    dword_48CF88 = -1;
    dword_48CF8C = -1;
    dword_48CF90 = -1;
    dword_48CF94 = -1;
    dword_48CF74 = -1;
    dword_48CF78 = -1;
  }
  sub_42DEC0();
  sub_416700(58, 0);
  sub_416700(59, 0);
  sub_416700(60, 0);
  if ( word_131ABFE == 1
    || (signed int)(unsigned __int16)word_131ABFE > 113 && (signed int)(unsigned __int16)word_131ABFE <= 116 )
  {
    sub_42DC70(7);
  }
  else if ( dword_48BA58[(unsigned __int16)word_131ABFE] )
  {
    v22 = rand() & 0x80000001;
    v21 = v22 == 0;
    if ( v22 < 0 )
      v21 = (((_BYTE)v22 - 1) | 0xFFFFFFFE) == -1;
    if ( v21 )
      sub_42DC70(9);
    else
      sub_42DC70(8);
  }
  else if ( byte_1324782 )
  {
    if ( byte_1324782 == 1 )
    {
      sub_42DC70(3);
    }
    else if ( byte_1324782 == 2 )
    {
      sub_42DC70(4);
    }
  }
  else
  {
    sub_42DC70(5);
  }
  dword_13225DC = 0;
  sub_424410(byte_4897A8[(unsigned __int16)word_131ABFE], (unsigned __int8)byte_1547958);
  result = byte_133005C;
  if ( !byte_133005C )
  {
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    v23 = (&lpString)[dword_131D690];
    LOBYTE(dword_1550B62) = 19;
    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v23 + 14);
    sub_479790(7);
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 67;
    sub_479790(3);
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 100;
    result = sub_479790(3);
  }
  return result;
}
// 489040: using guessed type int dword_489040;
// 48BA58: using guessed type int dword_48BA58[];
// 48CCE4: using guessed type int dword_48CCE4;
// 48CE28: using guessed type int dword_48CE28[];
// 48CE2C: using guessed type int dword_48CE2C[];
// 48CEC8: using guessed type int dword_48CEC8[];
// 48CF6C: using guessed type int dword_48CF6C;
// 48CF70: using guessed type int dword_48CF70;
// 48CF74: using guessed type int dword_48CF74;
// 48CF78: using guessed type int dword_48CF78;
// 48CF7C: using guessed type int dword_48CF7C;
// 48CF80: using guessed type int dword_48CF80;
// 48CF84: using guessed type int dword_48CF84;
// 48CF88: using guessed type int dword_48CF88;
// 48CF8C: using guessed type int dword_48CF8C;
// 48CF90: using guessed type int dword_48CF90;
// 48CF94: using guessed type int dword_48CF94;
// 48CF9C: using guessed type int dword_48CF9C;
// 48EB10: using guessed type int dword_48EB10;
// 49D965: using guessed type char byte_49D965;
// 49DA1C: using guessed type int dword_49DA1C[];
// 1317E74: using guessed type int dword_1317E74;
// 131ABF0: using guessed type int dword_131ABF0;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131AC00: using guessed type char byte_131AC00;
// 131D68C: using guessed type char byte_131D68C;
// 131D690: using guessed type int dword_131D690;
// 13225DC: using guessed type int dword_13225DC;
// 13225E0: using guessed type int dword_13225E0;
// 13225E8: using guessed type char byte_13225E8;
// 13225E9: using guessed type char byte_13225E9;
// 132260C: using guessed type int dword_132260C;
// 1322628: using guessed type char byte_1322628;
// 1322658: using guessed type int dword_1322658;
// 13246D8: using guessed type int dword_13246D8;
// 1324782: using guessed type char byte_1324782;
// 1328E45: using guessed type char byte_1328E45;
// 132A268: using guessed type int dword_132A268;
// 1330014: using guessed type int dword_1330014;
// 1330018: using guessed type int dword_1330018;
// 133001C: using guessed type int dword_133001C;
// 1330020: using guessed type int dword_1330020;
// 1330024: using guessed type int dword_1330024;
// 133004C: using guessed type int dword_133004C;
// 1330050: using guessed type int dword_1330050;
// 1330054: using guessed type int dword_1330054;
// 1330058: using guessed type int dword_1330058;
// 133005C: using guessed type char byte_133005C;
// 1330060: using guessed type int dword_1330060;
// 133007C: using guessed type int dword_133007C;
// 1330080: using guessed type char byte_1330080;
// 133052C: using guessed type int dword_133052C;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1540B4C: using guessed type int dword_1540B4C;
// 1547958: using guessed type char byte_1547958;
// 1547959: using guessed type char byte_1547959;
// 1550B62: using guessed type int dword_1550B62;
// 1560A78: using guessed type char byte_1560A78;

//----- (0046CEE0) --------------------------------------------------------
char __cdecl sub_46CEE0(int a1)
{
  int v1; // eax
  CHAR *v2; // edx
  CHAR v3; // al
  unsigned int v4; // eax
  int v5; // eax
  int v6; // edx

  dword_1330548 = *(_DWORD *)a1;
  v1 = sub_425480(&dword_1330548);
  v2 = (CHAR *)(&lpString)[v1];
  dword_1330538 = v1;
  dword_133054C = (int)v2;
  v3 = v2[48];
  if ( v3 != 4 )
  {
    if ( v3 == 3 )
    {
      strcpy(v2, (const char *)&unk_48EA94);
      sub_42E780(dword_133054C, (_BYTE *)(a1 + 27));
      LOBYTE(v4) = dword_133054C;
      qmemcpy((void *)(dword_133054C + 20), (const void *)(a1 + 32), 0x14u);
      return v4;
    }
    qmemcpy(v2, (const void *)(a1 + 4), 0x14u);
    *(_WORD *)(dword_133054C + 40) = *(unsigned __int8 *)(a1 + 24);
    *(_BYTE *)(dword_133054C + 43) = *(_BYTE *)(a1 + 25);
    *(_BYTE *)(dword_133054C + 42) = *(_BYTE *)(a1 + 26);
    v5 = dword_133054C;
    if ( *(_BYTE *)(dword_133054C + 42) )
    {
      if ( *(_BYTE *)(dword_133054C + 42) == 1 )
      {
        if ( !*(_BYTE *)(dword_133054C + 43) )
        {
          v6 = dword_49D9B0[3 * *(unsigned __int16 *)(dword_133054C + 40)];
          goto LABEL_17;
        }
        if ( *(_BYTE *)(dword_133054C + 43) == 1 )
        {
          v6 = dword_11FDC30[3 * *(unsigned __int16 *)(dword_133054C + 40)];
          goto LABEL_17;
        }
      }
      else if ( *(_BYTE *)(dword_133054C + 42) == 2 )
      {
        v6 = dword_1308270[3 * *(unsigned __int16 *)(dword_133054C + 40)];
LABEL_17:
        *(_DWORD *)(dword_133054C + 44) = v6;
        v5 = dword_133054C;
        goto LABEL_18;
      }
    }
    else
    {
      if ( !*(_BYTE *)(dword_133054C + 43) )
      {
        v6 = dword_6BE230[3 * *(unsigned __int16 *)(dword_133054C + 40)];
        goto LABEL_17;
      }
      if ( *(_BYTE *)(dword_133054C + 43) == 1 )
      {
        v6 = dword_8D3B90[3 * *(unsigned __int16 *)(dword_133054C + 40)];
        goto LABEL_17;
      }
    }
LABEL_18:
    LOBYTE(v4) = sub_42E780(v5, (_BYTE *)(a1 + 27));
    qmemcpy((void *)(dword_133054C + 20), (const void *)(a1 + 32), 0x14u);
    return v4;
  }
  qmemcpy(v2, (const void *)(a1 + 4), 0x14u);
  *(_BYTE *)(dword_133054C + 19) = 0;
  v4 = strlen((const char *)&unk_48EAA0) + 1;
  qmemcpy((void *)(dword_133054C + 20), &unk_48EAA0, v4);
  return v4;
}
// 8D3B90: using guessed type int dword_8D3B90[];
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 133054C: using guessed type int dword_133054C;

//----- (0046D090) --------------------------------------------------------
int __cdecl sub_46D090(int *a1)
{
  int result; // eax
  int v2; // ecx
  LPCSTR v3; // esi
  LPCSTR v4; // edx
  LPCSTR v5; // edx

  dword_1330548 = *a1;
  result = sub_425480(&dword_1330548);
  dword_1330538 = result;
  if ( dword_48CCE4 == result )
  {
    if ( result == -1 )
      return result;
    dword_48CCE4 = -1;
    *((_DWORD *)(&lpString)[dword_131D690] + 25) = -1;
    *((_DWORD *)(&lpString)[dword_131D690] + 150) = 0;
    result = dword_1330538;
  }
  if ( result != -1 )
  {
    v2 = 0;
    v3 = (&lpString)[result];
    for ( dword_133052C = 0; v2 < dword_1317E74; dword_133052C = v2 )
    {
      v4 = (&lpString)[v2];
      if ( *((_DWORD *)v4 + 25) == result )
      {
        *((_DWORD *)v4 + 25) = -1;
        result = dword_1330538;
        v2 = dword_133052C;
      }
      v5 = (&lpString)[v2];
      if ( *((LPCSTR *)v5 + 156) == v3 && v5[48] == 5 )
      {
        sub_41CE40((int)(&lpString)[v2]);
        result = dword_1330538;
        v2 = dword_133052C - 1;
      }
      ++v2;
    }
    *((_BYTE *)dword_1542DA4
    + dword_1540B4C * (unsigned __int16)(signed __int64)(*((float *)v3 + 30) * 0.050000001)
    + (unsigned __int16)(signed __int64)(*((float *)v3 + 28) * 0.025)) = 0;
    result = sub_41CE40((int)v3);
    byte_49D965 = 0;
  }
  return result;
}
// 48CCE4: using guessed type int dword_48CCE4;
// 49D965: using guessed type char byte_49D965;
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 133052C: using guessed type int dword_133052C;
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (0046D1C0) --------------------------------------------------------
int __cdecl sub_46D1C0(char *a1)
{
  int v1; // eax
  unsigned __int16 v2; // cx
  char v3; // dl
  unsigned int v4; // ecx
  char *v5; // edi
  char *v6; // esi
  signed int v7; // edx
  _BYTE *v8; // ecx

  v1 = 782 * dword_1330020;
  byte_132A2C1[v1] = *a1;
  byte_132A2C2[v1] = a1[1];
  byte_132A2C3[v1] = a1[2];
  byte_132A2C4[v1] = a1[3];
  byte_132A2C0[v1] = 1;
  HIBYTE(v2) = a1[4];
  LOBYTE(v2) = a1[5];
  v3 = a1[5];
  v4 = (unsigned int)v2 >> 2;
  qmemcpy((char *)&unk_132A2DA + v1, a1 + 6, 4 * v4);
  v6 = &a1[4 * v4 + 6];
  v5 = (char *)&unk_132A2DA + 4 * v4 + v1;
  LOBYTE(v4) = v3;
  v7 = 20;
  qmemcpy(v5, v6, v4 & 3);
  v8 = (char *)&unk_132A2FD + v1;
  dword_133052C = 20;
  do
  {
    *v8 = 0;
    v8 += 36;
    --v7;
  }
  while ( v7 );
  sprintf(
    byte_1330550,
    aD_3,
    (unsigned __int8)byte_132A2C2[v1],
    (unsigned __int8)byte_132A2C3[v1],
    (unsigned __int8)byte_132A2C4[v1]);
  sub_422E80(byte_1330550, 4);
  return dword_1330020++ + 1;
}
// 1330020: using guessed type int dword_1330020;
// 133052C: using guessed type int dword_133052C;

//----- (0046D290) --------------------------------------------------------
int __cdecl sub_46D290(int a1)
{
  int v1; // edx
  unsigned __int16 v2; // cx
  char v3; // al
  unsigned int v4; // ecx
  char *v5; // edi
  const void *v6; // esi
  _BYTE *v7; // eax
  signed int v8; // ecx

  v1 = 782 * dword_1330014;
  strcpy(&byte_13250A5[782 * dword_1330014], (const char *)a1);
  byte_13250A1[v1] = *(_BYTE *)(a1 + 20);
  byte_13250A2[v1] = *(_BYTE *)(a1 + 21);
  byte_13250A3[v1] = *(_BYTE *)(a1 + 22);
  byte_13250A4[v1] = *(_BYTE *)(a1 + 23);
  byte_13250A0[v1] = *(_BYTE *)(a1 + 24);
  HIBYTE(v2) = *(_BYTE *)(a1 + 25);
  LOBYTE(v2) = *(_BYTE *)(a1 + 26);
  v3 = *(_BYTE *)(a1 + 26);
  v4 = (unsigned int)v2 >> 2;
  qmemcpy((char *)&unk_13250BA + v1, (const void *)(a1 + 27), 4 * v4);
  v6 = (const void *)(a1 + 27 + 4 * v4);
  v5 = (char *)&unk_13250BA + 4 * v4 + v1;
  LOBYTE(v4) = v3;
  v7 = (char *)&unk_13250DD + v1;
  qmemcpy(v5, v6, v4 & 3);
  v8 = 20;
  dword_133052C = 20;
  do
  {
    *v7 = 0;
    v7 += 36;
    --v8;
  }
  while ( v8 );
  sprintf(byte_1330550, aD_4, (unsigned __int8)byte_13250A2[v1], (unsigned __int8)byte_13250A3[v1], &byte_13250A5[v1]);
  sub_422E80(byte_1330550, 4);
  return dword_1330014++ + 1;
}
// 1330014: using guessed type int dword_1330014;
// 133052C: using guessed type int dword_133052C;

//----- (0046D380) --------------------------------------------------------
int __cdecl sub_46D380(int a1)
{
  unsigned __int16 v1; // cx
  unsigned __int16 v2; // dx
  int v3; // eax
  int result; // eax
  LPCSTR v5; // ecx
  LPCSTR v6; // ecx
  __int16 v7; // cx
  LPCSTR v8; // ecx
  char v9; // al
  char v10; // t1
  char v11; // t1
  __int16 v12; // dx
  char v13; // t1
  char v14; // ch
  int v15; // ebp
  unsigned __int16 v16; // ax
  unsigned __int16 v17; // ax
  int v18; // eax
  int v19; // ecx
  int v20; // esi
  signed __int64 v21; // rax
  double v22; // st7
  int v23; // esi
  int v24; // esi
  bool v25; // sf
  unsigned __int8 v26; // of
  _DWORD *v27; // eax
  unsigned int v28; // ecx
  int v29; // edx
  int *v30; // eax
  int v31; // ecx
  LPCSTR v32; // eax

  dword_1330548 = *(_DWORD *)a1;
  HIBYTE(v1) = *(_BYTE *)(a1 + 12);
  LOBYTE(v1) = *(_BYTE *)(a1 + 13);
  dword_133065C = v1;
  HIBYTE(v2) = *(_BYTE *)(a1 + 14);
  LOBYTE(v2) = *(_BYTE *)(a1 + 15);
  dword_1330660 = v2;
  dword_1330654 = *(unsigned __int8 *)(a1 + 5) | 16 * *(unsigned __int8 *)(a1 + 4);
  HIBYTE(v2) = *(_BYTE *)(a1 + 6);
  LOBYTE(v2) = *(_BYTE *)(a1 + 7);
  dword_1330658 = v2;
  dword_133052C = dword_1317E74;
  v3 = sub_425480(&dword_1330548);
  dword_1330538 = v3;
  if ( v3 == dword_131D690 )
  {
    if ( *(_BYTE *)(a1 + 42) == 1 )
    {
      sub_4233F0(4);
    }
    else
    {
      if ( *(_BYTE *)(a1 + 42) != 4 )
      {
        dword_1330098 = 0;
        goto LABEL_9;
      }
      sub_4233F0(9);
    }
  }
  else
  {
    *((_DWORD *)(&lpString)[v3] + 37) = dword_1330654;
    *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
    sub_423330((int)(&lpString)[dword_1330538]);
    *((_DWORD *)(&lpString)[dword_1330538] + 47) = 0;
    *((_BYTE *)(&lpString)[dword_1330538] + 104) = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 25) = -1;
  }
  v3 = dword_1330538;
LABEL_9:
  if ( v3 != dword_131D690 )
    sub_42E780((int)(&lpString)[v3], (_BYTE *)(a1 + 16));
  dword_133052C = dword_1317E74;
  dword_1330548 = *(_DWORD *)(a1 + 8);
  result = sub_425480(&dword_1330548);
  dword_133053C = result;
  if ( dword_133052C != dword_1317E74 )
  {
    *((_DWORD *)(&lpString)[result] + 37) = dword_133065C;
    *((_DWORD *)(&lpString)[dword_133053C] + 38) = dword_1330660;
    sub_423330((int)(&lpString)[dword_133053C]);
    *((_BYTE *)(&lpString)[dword_133053C] + 174) = 0;
    *((_WORD *)(&lpString)[dword_133053C] + 88) = 0;
    *((_DWORD *)(&lpString)[dword_133053C] + 47) = 0;
    *((_BYTE *)(&lpString)[dword_133053C] + 104) = 0;
    *((_DWORD *)(&lpString)[dword_133053C] + 25) = -1;
    sub_42E780((int)(&lpString)[dword_133053C], (_BYTE *)(a1 + 21));
    result = dword_133053C;
  }
  v5 = (&lpString)[result];
  if ( *((_DWORD *)v5 + 18) )
  {
    *((_DWORD *)v5 + 18) = 0;
    result = dword_133053C;
  }
  v6 = (&lpString)[dword_1330538];
  if ( !*((_DWORD *)v6 + 23) )
  {
    result = (int)(&lpString)[result];
    if ( !*(_DWORD *)(result + 92) )
    {
      *((_DWORD *)v6 + 157) = result;
      v7 = dword_1330660 - dword_1330658;
      dword_133052C = (signed __int16)(dword_133065C - dword_1330654);
      dword_1330530 = (signed __int16)(dword_1330660 - dword_1330658);
      if ( (_WORD)dword_133065C == (_WORD)dword_1330654 )
      {
        if ( v7 >= 0 )
        {
          *((_BYTE *)(&lpString)[dword_1330538] + 172) = 7;
          *((_BYTE *)(&lpString)[dword_1330538] + 173) = 7;
        }
        else
        {
          *((_BYTE *)(&lpString)[dword_1330538] + 172) = 3;
          *((_BYTE *)(&lpString)[dword_1330538] + 173) = 3;
        }
        goto LABEL_33;
      }
      if ( (signed __int16)(dword_133065C - dword_1330654) >= 0 )
      {
        if ( (_WORD)dword_1330660 == (_WORD)dword_1330658 )
        {
          *((_BYTE *)(&lpString)[dword_1330538] + 172) = 5;
          *((_BYTE *)(&lpString)[dword_1330538] + 173) = 5;
          goto LABEL_33;
        }
        if ( v7 < 0 )
        {
          *((_BYTE *)(&lpString)[dword_1330538] + 172) = 4;
          *((_BYTE *)(&lpString)[dword_1330538] + 173) = 4;
          goto LABEL_33;
        }
        v9 = 6;
        v8 = (&lpString)[dword_1330538];
      }
      else
      {
        if ( (_WORD)dword_1330660 == (_WORD)dword_1330658 )
        {
          *((_BYTE *)(&lpString)[dword_1330538] + 172) = 1;
          *((_BYTE *)(&lpString)[dword_1330538] + 173) = 1;
LABEL_33:
          dword_133054C = (int)(&lpString)[dword_133053C];
          v10 = *(_BYTE *)(a1 + 30);
          v11 = *(_BYTE *)(a1 + 31);
          HIBYTE(v12) = *(_BYTE *)(a1 + 32);
          LOBYTE(v12) = *(_BYTE *)(a1 + 33);
          *(_WORD *)(dword_133054C + 84) = v12;
          v13 = *(_BYTE *)(a1 + 34);
          v14 = *(_BYTE *)(a1 + 35);
          HIBYTE(v12) = *(_BYTE *)(a1 + 36);
          LOBYTE(v12) = *(_BYTE *)(a1 + 37);
          *(_WORD *)(dword_133054C + 86) = v12;
          if ( dword_133053C == dword_131D690 )
          {
            v15 = dword_133054C;
            dword_1324F54 = *(unsigned __int16 *)(dword_133054C + 84);
            dword_132FFEC = *(unsigned __int16 *)(dword_133054C + 86);
          }
          else
          {
            if ( dword_1330538 == dword_131D690 )
            {
              dword_133052C = dword_13246AC;
              HIBYTE(v16) = *(_BYTE *)(a1 + 38);
              LOBYTE(v16) = *(_BYTE *)(a1 + 39);
              dword_13246AC = *(unsigned __int8 *)(a1 + 41) | ((*(unsigned __int8 *)(a1 + 40) | (v16 << 8)) << 8);
              sprintf((char *)(&lpString)[dword_1330538] + 768, off_48EA54, dword_13246AC - dword_133052C);
              *((_DWORD *)(&lpString)[dword_1330538] + 197) = dword_13211C8;
            }
            v15 = dword_133054C;
          }
          if ( *(_DWORD *)(v15 + 168) > 0xF2u )
          {
            *(_BYTE *)(v15 + 172) = 0;
            *(_BYTE *)(dword_133054C + 173) = 0;
            v15 = dword_133054C;
          }
          HIBYTE(v17) = *(_BYTE *)(a1 + 26);
          LOBYTE(v17) = *(_BYTE *)(a1 + 27);
          v18 = *(unsigned __int8 *)(a1 + 29) | ((*(unsigned __int8 *)(a1 + 28) | (v17 << 8)) << 8);
          dword_133052C = v18;
          if ( v18 == 302 )
          {
            switch ( *((unsigned __int8 *)(&lpString)[dword_1330538] + 172) )
            {
              case 0u:
                v20 = (unsigned __int64)(signed __int64)*(float *)(v15 + 112) - 80;
                LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(v15 + 120) + 40;
                break;
              case 1u:
                v20 = (unsigned __int64)(signed __int64)*(float *)(v15 + 112) - 80;
                v21 = (signed __int64)*(float *)(v15 + 120);
                break;
              case 2u:
                v20 = (unsigned __int64)(signed __int64)*(float *)(v15 + 112) - 80;
                LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(v15 + 120) - 40;
                break;
              case 3u:
                v20 = (signed __int64)*(float *)(v15 + 112);
                LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(v15 + 120) - 40;
                break;
              case 4u:
                v20 = (unsigned __int64)(signed __int64)*(float *)(v15 + 112) + 80;
                LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(v15 + 120) - 40;
                break;
              case 5u:
                v20 = (unsigned __int64)(signed __int64)*(float *)(v15 + 112) + 80;
                v21 = (signed __int64)*(float *)(v15 + 120);
                break;
              case 6u:
                v20 = (unsigned __int64)(signed __int64)*(float *)(v15 + 112) + 80;
                LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(v15 + 120) + 40;
                break;
              case 7u:
                v20 = (signed __int64)*(float *)(v15 + 112);
                LODWORD(v21) = (unsigned __int64)(signed __int64)*(float *)(v15 + 120) + 40;
                break;
              default:
                v20 = a1;
                LODWORD(v21) = a1;
                break;
            }
            sub_426260(*(_DWORD *)(v15 + 52), v20, v21);
            v19 = dword_133054C;
            v22 = *(float *)(dword_133054C + 112) * 0.025;
            if ( v22 != (double)(*(_DWORD *)(dword_133054C + 132) / 40)
              || (double)(*(_DWORD *)(dword_133054C + 136) / 40) != *(float *)(dword_133054C + 120) * 0.025 )
            {
              *((_BYTE *)dword_1542DA4
              + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(dword_133054C + 120) * 0.050000001)
              + (unsigned __int16)(signed __int64)v22) = 0;
              sub_429A60(
                dword_133054C,
                (signed __int64)*(float *)(dword_133054C + 112) / 40,
                (signed __int64)*(float *)(dword_133054C + 120) / 20,
                *(_DWORD *)(dword_133054C + 132) / 40,
                *(_DWORD *)(dword_133054C + 136) / 20);
              *(float *)(dword_133054C + 112) = (double)*(signed int *)(dword_133054C + 132);
              *(float *)(dword_133054C + 120) = (double)*(signed int *)(dword_133054C + 136);
              *(_DWORD *)(dword_133054C + 116) = *(_DWORD *)(dword_133054C + 120);
              *(_DWORD *)(dword_133054C + 140) = *(_DWORD *)(dword_133054C + 132);
              *(_DWORD *)(dword_133054C + 144) = *(_DWORD *)(dword_133054C + 136);
              *(_DWORD *)(dword_133054C + 148) = (signed __int64)*(float *)(dword_133054C + 112) / 40;
              *(_DWORD *)(dword_133054C + 152) = (signed __int64)*(float *)(dword_133054C + 116) / 20;
              v19 = dword_133054C;
            }
          }
          else
          {
            sub_464F70(v15, v18);
            v19 = dword_133054C;
          }
          if ( *(_BYTE *)(a1 + 42) == 1 )
          {
            sub_416860(
              167,
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 112),
              (signed __int64)*(float *)(dword_49DA1C[dword_1317E74] + 120),
              0,
              0);
            dword_133052C = 0;
            do
            {
              sub_41C960(
                (signed __int64)*(float *)(dword_133054C + 112),
                (signed __int64)*(float *)(dword_133054C + 120));
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 624) = 0;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = 1051;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 5;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 64) = 12;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 174) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 604) = 0;
              *(_WORD *)(dword_49DA1C[dword_1317E74] + 606) = 0;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 172) = 0;
              *(_BYTE *)(dword_49DA1C[dword_1317E74] + 173) = 0;
              *(_DWORD *)(dword_49DA1C[dword_1317E74] + 636) = -1;
              *(float *)(dword_49DA1C[dword_1317E74] + 116) = *(float *)(dword_49DA1C[dword_1317E74] + 116) - 20.0;
              v23 = dword_49DA1C[dword_1317E74];
              *(float *)(v23 + 112) = (double)(rand() % 40 - 20) + *(float *)(v23 + 112);
              v24 = dword_49DA1C[dword_1317E74];
              *(float *)(v24 + 116) = (double)(rand() % 20 - 10) + *(float *)(v24 + 116);
              v26 = __OFSUB__(dword_133052C + 1, 3);
              v25 = dword_133052C++ - 2 < 0;
            }
            while ( v25 ^ v26 );
            v19 = dword_133054C;
          }
          else if ( *(_BYTE *)(a1 + 42) != 4 )
          {
            dword_1330098 = 0;
          }
          if ( *(_WORD *)(v19 + 86) )
          {
            *(_WORD *)(v19 + 604) = 0;
            *(_BYTE *)(dword_133054C + 174) = 11;
            *(_DWORD *)(dword_133054C + 600) = 1;
            *(_WORD *)(dword_133054C + 176) = 0;
            result = dword_133054C;
            if ( *(_DWORD *)(dword_133054C + 168) > 0xF2u )
            {
              *(_BYTE *)(dword_133054C + 172) = 0;
              *(_BYTE *)(dword_133054C + 173) = 0;
            }
          }
          else
          {
            strcpy((char *)(&lpString)[dword_1330538] + 768, aLastHit);
            *((_DWORD *)(&lpString)[dword_1330538] + 197) = dword_13211C8;
            *(_DWORD *)(dword_133054C + 132) = (signed __int64)*(float *)(dword_133054C + 112);
            *(_DWORD *)(dword_133054C + 140) = *(_DWORD *)(dword_133054C + 132);
            *(_DWORD *)(dword_133054C + 136) = (signed __int64)*(float *)(dword_133054C + 120);
            *(_DWORD *)(dword_133054C + 144) = *(_DWORD *)(dword_133054C + 136);
            *(_DWORD *)(dword_133054C + 188) = 0;
            *(_DWORD *)(dword_133054C + 72) = 0;
            *(_DWORD *)(dword_133054C + 92) = 1;
            *(_BYTE *)(dword_133054C + 104) = 0;
            *((_BYTE *)(&lpString)[dword_1330538] + 104) = 0;
            *((_DWORD *)(&lpString)[dword_1330538] + 150) = 0;
            v27 = (_DWORD *)dword_133054C;
            if ( dword_1330538 == dword_131D690 )
            {
              v28 = *(_DWORD *)(dword_133054C + 168);
              if ( v28 >= 0xCA && v28 <= 0xCC )
              {
                sub_4233F0(8);
                v27 = (_DWORD *)dword_133054C;
              }
            }
            if ( v27[159] != -1 && (v27[13] == dword_131D690 || v27[17] && v27[19]) )
            {
              sub_46F670((int)v27, (int)v27);
              v27 = (_DWORD *)dword_133054C;
            }
            v27[159] = -1;
            if ( *(_DWORD *)(dword_133054C + 76) )
            {
              sub_46F7A0(dword_133054C);
              sub_46F5D0(dword_133054C, (int)(&lpString)[dword_131D690]);
            }
            if ( dword_1330538 == dword_131D690 )
              sub_46F7A0((int)(&lpString)[dword_1330538]);
            v29 = dword_133054C;
            if ( *(_DWORD *)(dword_133054C + 52) == dword_131D690 )
            {
              v30 = dword_48CECC;
              do
              {
                *(v30 - 1) = -1;
                *v30 = 0;
                v30 += 2;
              }
              while ( (signed int)v30 < (signed int)&unk_48CF44 );
              v31 = 0;
              dword_133052C = 0;
              if ( dword_1317E74 > 0 )
              {
                do
                {
                  v32 = (&lpString)[v31];
                  if ( *((_DWORD *)v32 + 19) && *((_DWORD *)v32 + 17) )
                  {
                    *((_BYTE *)v32 + 104) = 0;
                    *((_DWORD *)(&lpString)[dword_133052C] + 25) = -1;
                    sub_46F7A0((int)(&lpString)[dword_133052C]);
                    sub_46F5D0((int)(&lpString)[dword_133052C], (int)(&lpString)[dword_131D690]);
                    v31 = dword_133052C;
                  }
                  dword_133052C = ++v31;
                }
                while ( v31 < dword_1317E74 );
                v29 = dword_133054C;
              }
            }
            result = *(_DWORD *)(v29 + 168);
            if ( *(_DWORD *)(dword_8D3C24[result] + 140) )
            {
              *(_BYTE *)(v29 + 99) = 0;
              *(_BYTE *)(dword_133054C + 174) = 17;
              result = dword_133054C;
              *(_DWORD *)(dword_133054C + 600) = 1;
              *(_WORD *)(dword_133054C + 176) = 0;
            }
          }
          return result;
        }
        if ( v7 >= 0 )
        {
          *((_BYTE *)(&lpString)[dword_1330538] + 172) = 0;
          *((_BYTE *)(&lpString)[dword_1330538] + 173) = 0;
          goto LABEL_33;
        }
        v8 = (&lpString)[dword_1330538];
        v9 = 2;
      }
      *((_BYTE *)v8 + 172) = v9;
      *((_BYTE *)(&lpString)[dword_1330538] + 173) = v9;
      goto LABEL_33;
    }
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 8D3C24: using guessed type int dword_8D3C24[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13246AC: using guessed type int dword_13246AC;
// 1324F54: using guessed type int dword_1324F54;
// 1330098: using guessed type int dword_1330098;
// 133052C: using guessed type int dword_133052C;
// 1330530: using guessed type int dword_1330530;
// 1330538: using guessed type int dword_1330538;
// 133053C: using guessed type int dword_133053C;
// 1330548: using guessed type int dword_1330548;
// 133054C: using guessed type int dword_133054C;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1330660: using guessed type int dword_1330660;
// 1540B4C: using guessed type int dword_1540B4C;

//----- (0046E050) --------------------------------------------------------
int __cdecl sub_46E050(int a1)
{
  unsigned __int16 v1; // cx
  unsigned __int16 v2; // dx
  int v3; // eax
  int result; // eax
  LPCSTR v5; // ecx
  __int16 v6; // ax
  LPCSTR v7; // ecx
  char v8; // al
  bool v9; // sf
  LPCSTR v10; // eax
  int v11; // ecx
  int v12; // ecx
  int v13; // edx

  dword_1330548 = *(_DWORD *)a1;
  HIBYTE(v1) = *(_BYTE *)(a1 + 12);
  LOBYTE(v1) = *(_BYTE *)(a1 + 13);
  dword_133065C = v1;
  HIBYTE(v2) = *(_BYTE *)(a1 + 14);
  LOBYTE(v2) = *(_BYTE *)(a1 + 15);
  dword_1330660 = v2;
  dword_1330654 = *(unsigned __int8 *)(a1 + 5) | 16 * *(unsigned __int8 *)(a1 + 4);
  HIBYTE(v2) = *(_BYTE *)(a1 + 6);
  LOBYTE(v2) = *(_BYTE *)(a1 + 7);
  dword_1330658 = v2;
  dword_133052C = dword_1317E74;
  v3 = sub_425480(&dword_1330548);
  dword_1330538 = v3;
  if ( v3 != dword_131D690 )
  {
    *((_DWORD *)(&lpString)[v3] + 37) = dword_1330654;
    *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
    sub_423330((int)(&lpString)[dword_1330538]);
    *((_DWORD *)(&lpString)[dword_1330538] + 47) = 0;
    *((_BYTE *)(&lpString)[dword_1330538] + 104) = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 25) = -1;
    sub_42E780((int)(&lpString)[dword_1330538], (_BYTE *)(a1 + 16));
  }
  dword_133052C = dword_1317E74;
  dword_1330548 = *(_DWORD *)(a1 + 8);
  result = sub_425480(&dword_1330548);
  dword_133053C = result;
  if ( dword_133052C != dword_1317E74 )
  {
    *((_DWORD *)(&lpString)[result] + 37) = dword_133065C;
    *((_DWORD *)(&lpString)[dword_133053C] + 38) = dword_1330660;
    sub_423330((int)(&lpString)[dword_133053C]);
    *((_BYTE *)(&lpString)[dword_133053C] + 174) = 0;
    *((_WORD *)(&lpString)[dword_133053C] + 88) = 0;
    *((_DWORD *)(&lpString)[dword_133053C] + 47) = 0;
    *((_BYTE *)(&lpString)[dword_133053C] + 104) = 0;
    *((_DWORD *)(&lpString)[dword_133053C] + 25) = -1;
    sub_42E780((int)(&lpString)[dword_133053C], (_BYTE *)(a1 + 21));
    result = dword_133053C;
  }
  v5 = (&lpString)[dword_1330538];
  if ( !*((_DWORD *)v5 + 23) )
  {
    result = (int)(&lpString)[result];
    if ( !*(_DWORD *)(result + 92) )
    {
      *((_DWORD *)v5 + 157) = result;
      sub_423330((int)(&lpString)[dword_133053C]);
      v6 = dword_1330660 - dword_1330658;
      dword_133052C = (signed __int16)(dword_133065C - dword_1330654);
      dword_1330530 = (signed __int16)(dword_1330660 - dword_1330658);
      if ( (_WORD)dword_133065C == (_WORD)dword_1330654 )
      {
        v7 = (&lpString)[dword_1330538];
        if ( v6 >= 0 )
          v8 = 7;
        else
          v8 = 3;
        goto LABEL_21;
      }
      if ( (signed __int16)(dword_133065C - dword_1330654) >= 0 )
      {
        v9 = v6 < 0;
        v7 = (&lpString)[dword_1330538];
        if ( (_WORD)dword_1330660 == (_WORD)dword_1330658 )
        {
          v8 = 5;
        }
        else
        {
          v8 = 4;
          if ( !v9 )
            v8 = 6;
        }
        goto LABEL_21;
      }
      v7 = (&lpString)[dword_1330538];
      if ( (_WORD)dword_1330660 == (_WORD)dword_1330658 )
      {
        *((_BYTE *)v7 + 172) = 1;
        *((_BYTE *)(&lpString)[dword_1330538] + 173) = 1;
      }
      else
      {
        if ( v6 < 0 )
        {
          v8 = 2;
LABEL_21:
          *((_BYTE *)v7 + 172) = v8;
          *((_BYTE *)(&lpString)[dword_1330538] + 173) = v8;
          goto LABEL_22;
        }
        *((_BYTE *)v7 + 172) = 0;
        *((_BYTE *)(&lpString)[dword_1330538] + 173) = 0;
      }
LABEL_22:
      v10 = (&lpString)[dword_133053C];
      dword_133054C = (int)v10;
      *((_WORD *)v10 + 88) = 0;
      *(_DWORD *)(dword_133054C + 600) = 1;
      result = dword_133054C;
      v11 = *(_DWORD *)(dword_133054C + 748);
      if ( v11 == 800 || v11 == 801 || v11 == 501 || *(_DWORD *)(dword_133054C + 752) == 600 )
      {
        v12 = *(_DWORD *)(dword_133054C + 168);
        v13 = dword_8D3C24[v12];
        if ( *(_WORD *)(v13 + 104) && v12 != 80 && v12 != 83 && v12 != 86 )
        {
          *(_BYTE *)(dword_133054C + 174) = 13;
LABEL_35:
          result = dword_133054C;
LABEL_36:
          if ( *(_DWORD *)(result + 168) > 0xF2u )
          {
            *(_BYTE *)(result + 172) = 0;
            *(_BYTE *)(dword_133054C + 173) = 0;
          }
          return result;
        }
        if ( !*(_WORD *)(v13 + 96) )
          goto LABEL_36;
      }
      else if ( !*(_WORD *)(dword_8D3C24[*(_DWORD *)(dword_133054C + 168)] + 96) )
      {
        goto LABEL_36;
      }
      *(_BYTE *)(dword_133054C + 174) = 12;
      goto LABEL_35;
    }
  }
  return result;
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 133052C: using guessed type int dword_133052C;
// 1330530: using guessed type int dword_1330530;
// 1330538: using guessed type int dword_1330538;
// 133053C: using guessed type int dword_133053C;
// 1330548: using guessed type int dword_1330548;
// 133054C: using guessed type int dword_133054C;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1330660: using guessed type int dword_1330660;

//----- (0046E420) --------------------------------------------------------
char __cdecl sub_46E420(int a1)
{
  unsigned __int16 v1; // cx
  unsigned __int16 v2; // dx
  int v3; // eax
  LPCSTR v4; // ecx
  int v5; // eax
  LPCSTR v6; // ecx

  dword_1330548 = *(_DWORD *)a1;
  HIBYTE(v1) = *(_BYTE *)(a1 + 12);
  LOBYTE(v1) = *(_BYTE *)(a1 + 13);
  dword_133065C = v1;
  HIBYTE(v2) = *(_BYTE *)(a1 + 14);
  LOBYTE(v2) = *(_BYTE *)(a1 + 15);
  dword_1330660 = v2;
  dword_1330654 = *(unsigned __int8 *)(a1 + 5) | 16 * *(unsigned __int8 *)(a1 + 4);
  HIBYTE(v2) = *(_BYTE *)(a1 + 6);
  LOBYTE(v2) = *(_BYTE *)(a1 + 7);
  dword_1330658 = v2;
  dword_133052C = dword_1317E74;
  v3 = sub_425480(&dword_1330548);
  v4 = (&lpString)[v3];
  dword_1330538 = v3;
  *((_DWORD *)v4 + 37) = dword_1330654;
  *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
  sub_423330((int)(&lpString)[dword_1330538]);
  *((_DWORD *)(&lpString)[dword_1330538] + 47) = 0;
  *((_BYTE *)(&lpString)[dword_1330538] + 104) = 0;
  *((_DWORD *)(&lpString)[dword_1330538] + 25) = -1;
  if ( dword_1330538 != dword_131D690 )
    sub_42E780((int)(&lpString)[dword_1330538], (_BYTE *)(a1 + 16));
  dword_133052C = dword_1317E74;
  dword_1330548 = *(_DWORD *)(a1 + 8);
  v5 = sub_425480(&dword_1330548);
  dword_133053C = v5;
  if ( dword_133052C != dword_1317E74 )
  {
    *((_DWORD *)(&lpString)[v5] + 37) = dword_133065C;
    *((_DWORD *)(&lpString)[dword_133053C] + 38) = dword_1330660;
    sub_423330((int)(&lpString)[dword_133053C]);
    *((_BYTE *)(&lpString)[dword_133053C] + 174) = 0;
    *((_WORD *)(&lpString)[dword_133053C] + 88) = 0;
    *((_DWORD *)(&lpString)[dword_133053C] + 47) = 0;
    *((_BYTE *)(&lpString)[dword_133053C] + 104) = 0;
    *((_DWORD *)(&lpString)[dword_133053C] + 25) = -1;
    sub_42E780((int)(&lpString)[dword_133053C], (_BYTE *)(a1 + 21));
    v5 = dword_133053C;
  }
  v6 = (&lpString)[dword_1330538];
  if ( !*((_DWORD *)v6 + 23) )
  {
    v5 = (int)(&lpString)[v5];
    if ( !*(_DWORD *)(v5 + 92) )
    {
      *((_DWORD *)v6 + 157) = v5;
      dword_1330534 = *(unsigned __int8 *)(a1 + 29)
                    + ((*(unsigned __int8 *)(a1 + 28)
                      + ((*(unsigned __int8 *)(a1 + 27) + (*(unsigned __int8 *)(a1 + 26) << 8)) << 8)) << 8);
      LOBYTE(v5) = sub_45F2C0((int)(&lpString)[dword_1330538], (int)(&lpString)[dword_133053C], dword_1330534);
    }
  }
  return v5;
}
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 133052C: using guessed type int dword_133052C;
// 1330534: using guessed type int dword_1330534;
// 1330538: using guessed type int dword_1330538;
// 133053C: using guessed type int dword_133053C;
// 1330548: using guessed type int dword_1330548;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1330660: using guessed type int dword_1330660;

//----- (0046E690) --------------------------------------------------------
int *__cdecl sub_46E690(int a1)
{
  unsigned __int16 v1; // cx
  unsigned __int16 v2; // dx
  int v3; // eax
  __int16 v4; // cx
  __int16 v5; // ax
  LPCSTR v6; // eax
  unsigned __int16 v7; // dx
  unsigned __int16 v8; // ax
  int v9; // edi
  int *result; // eax
  LPCSTR v11; // ecx
  int v12; // eax
  unsigned int v13; // ecx
  int v14; // edx
  int v15; // edx
  LPCSTR v16; // ecx

  dword_1330548 = *(_DWORD *)a1;
  HIBYTE(v1) = *(_BYTE *)(a1 + 5);
  LOBYTE(v1) = *(_BYTE *)(a1 + 6);
  dword_1330654 = v1;
  HIBYTE(v2) = *(_BYTE *)(a1 + 6);
  LOBYTE(v2) = *(_BYTE *)(a1 + 7);
  dword_133052C = dword_1317E74;
  dword_1330658 = v2;
  v3 = sub_425480(&dword_1330548);
  dword_1330538 = v3;
  if ( dword_133052C != dword_1317E74 )
  {
    *((_DWORD *)(&lpString)[v3] + 37) = dword_1330654;
    *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
    *((_DWORD *)(&lpString)[dword_1330538] + 41) = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 40) = 0;
    *((float *)(&lpString)[dword_1330538] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
    *((float *)(&lpString)[dword_1330538] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
    *((_DWORD *)(&lpString)[dword_1330538] + 29) = *((_DWORD *)(&lpString)[dword_1330538] + 30);
    *((_DWORD *)(&lpString)[dword_1330538] + 33) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 28);
    *((_DWORD *)(&lpString)[dword_1330538] + 35) = *((_DWORD *)(&lpString)[dword_1330538] + 33);
    *((_DWORD *)(&lpString)[dword_1330538] + 34) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 29);
    *((_DWORD *)(&lpString)[dword_1330538] + 36) = *((_DWORD *)(&lpString)[dword_1330538] + 34);
    *((_BYTE *)(&lpString)[dword_1330538] + 174) = 0;
    *((_WORD *)(&lpString)[dword_1330538] + 88) = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 47) = 0;
    *((_BYTE *)(&lpString)[dword_1330538] + 104) = 0;
    *((_DWORD *)(&lpString)[dword_1330538] + 25) = -1;
    sub_42E780((int)(&lpString)[dword_1330538], (_BYTE *)(a1 + 16));
    v3 = dword_1330538;
  }
  HIBYTE(v4) = *(_BYTE *)(a1 + 25);
  LOBYTE(v4) = *(_BYTE *)(a1 + 26);
  *((_WORD *)(&lpString)[v3] + 44) = v4;
  HIBYTE(v5) = *(_BYTE *)(a1 + 27);
  LOBYTE(v5) = *(_BYTE *)(a1 + 28);
  *((_WORD *)(&lpString)[dword_1330538] + 45) = v5;
  if ( dword_1330538 == dword_131D690 )
  {
    v6 = (&lpString)[dword_1330538];
    word_1328E46 = *((_WORD *)v6 + 44);
    LOWORD(dword_132FFFC) = *((_WORD *)v6 + 45);
  }
  dword_133052C = dword_1317E74;
  dword_1330548 = *(_DWORD *)(a1 + 8);
  HIBYTE(v7) = *(_BYTE *)(a1 + 12);
  LOBYTE(v7) = *(_BYTE *)(a1 + 13);
  dword_1330654 = v7;
  HIBYTE(v8) = *(_BYTE *)(a1 + 14);
  LOBYTE(v8) = *(_BYTE *)(a1 + 15);
  dword_1330658 = v8;
  dword_1330534 = *(unsigned __int8 *)(a1 + 24)
                + ((*(unsigned __int8 *)(a1 + 23)
                  + ((*(unsigned __int8 *)(a1 + 22) + (*(unsigned __int8 *)(a1 + 21) << 8)) << 8)) << 8);
  v9 = sub_425480(&dword_1330548);
  result = (int *)dword_1330538;
  dword_133053C = v9;
  if ( !*((_DWORD *)(&lpString)[dword_1330538] + 23) )
  {
    v11 = (&lpString)[v9];
    if ( !*((_DWORD *)v11 + 23) )
    {
      v12 = dword_1317E74;
      if ( dword_133052C == dword_1317E74 )
      {
        if ( v9 != dword_131D690 || *((_DWORD *)v11 + 17) && *((_DWORD *)v11 + 19) )
        {
          v13 = *((_DWORD *)v11 + 159);
          if ( v13 != -1 )
          {
            v14 = v13 >= 0xC8 ? byte_48E688[v13] : (unsigned __int8)byte_48E6C0[v13];
            dword_133052C = v14;
            if ( v14 == 1 || v14 == 2 )
            {
              v15 = 0;
              dword_133052C = 0;
              if ( dword_1317E74 > 0 )
              {
                do
                {
                  v16 = (&lpString)[v15];
                  if ( v16[48] == 5 && *((LPCSTR *)v16 + 157) == (&lpString)[v9] )
                  {
                    sub_41CE40((int)(&lpString)[v15]);
                    v12 = dword_1317E74;
                    v9 = dword_133053C;
                    v15 = dword_133052C - 1;
                  }
                  dword_133052C = ++v15;
                }
                while ( v15 < v12 );
              }
            }
          }
        }
      }
      else
      {
        *((_DWORD *)v11 + 37) = dword_1330654;
        *((_DWORD *)(&lpString)[dword_133053C] + 38) = dword_1330658;
        *((_DWORD *)(&lpString)[dword_133053C] + 41) = 0;
        *((_DWORD *)(&lpString)[dword_133053C] + 40) = 0;
        *((float *)(&lpString)[dword_133053C] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
        *((float *)(&lpString)[dword_133053C] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
        *((_DWORD *)(&lpString)[dword_133053C] + 29) = *((_DWORD *)(&lpString)[dword_133053C] + 30);
        *((_DWORD *)(&lpString)[dword_133053C] + 33) = (signed __int64)*((float *)(&lpString)[dword_133053C] + 28);
        *((_DWORD *)(&lpString)[dword_133053C] + 35) = *((_DWORD *)(&lpString)[dword_133053C] + 33);
        *((_DWORD *)(&lpString)[dword_133053C] + 34) = (signed __int64)*((float *)(&lpString)[dword_133053C] + 29);
        *((_DWORD *)(&lpString)[dword_133053C] + 36) = *((_DWORD *)(&lpString)[dword_133053C] + 34);
        *((_BYTE *)(&lpString)[dword_133053C] + 174) = 0;
        *((_WORD *)(&lpString)[dword_133053C] + 88) = 0;
        *((_DWORD *)(&lpString)[dword_133053C] + 47) = 0;
        *((_BYTE *)(&lpString)[dword_133053C] + 104) = 0;
        *((_DWORD *)(&lpString)[dword_133053C] + 25) = -1;
        sub_42E780((int)(&lpString)[dword_133053C], (_BYTE *)(a1 + 16));
        v9 = dword_133053C;
      }
      result = sub_45F610(
                 (int)(&lpString)[dword_1330538],
                 (int)(&lpString)[v9],
                 dword_1330654,
                 dword_1330658,
                 (int *)dword_1330534);
    }
  }
  return result;
}
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1328E46: using guessed type __int16 word_1328E46;
// 132FFFC: using guessed type int dword_132FFFC;
// 133052C: using guessed type int dword_133052C;
// 1330534: using guessed type int dword_1330534;
// 1330538: using guessed type int dword_1330538;
// 133053C: using guessed type int dword_133053C;
// 1330548: using guessed type int dword_1330548;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;

//----- (0046EC10) --------------------------------------------------------
LPCSTR __cdecl sub_46EC10(int a1)
{
  unsigned __int16 v1; // cx
  unsigned __int16 v2; // dx
  int v3; // eax
  LPCSTR result; // eax
  unsigned __int16 v5; // dx
  unsigned __int16 v6; // cx
  int v7; // edx
  int v8; // eax
  __int16 v9; // cx

  dword_1330530 = 0;
  dword_1330548 = *(_DWORD *)a1;
  HIBYTE(v1) = *(_BYTE *)(a1 + 5);
  LOBYTE(v1) = *(_BYTE *)(a1 + 6);
  dword_1330654 = v1;
  HIBYTE(v2) = *(_BYTE *)(a1 + 6);
  LOBYTE(v2) = *(_BYTE *)(a1 + 7);
  dword_133052C = dword_1317E74;
  dword_1330658 = v2;
  v3 = sub_425480(&dword_1330548);
  dword_1330538 = v3;
  result = (&lpString)[v3];
  if ( !*((_DWORD *)result + 23) )
  {
    if ( dword_133052C != dword_1317E74 )
    {
      *((_DWORD *)result + 37) = dword_1330654;
      *((_DWORD *)(&lpString)[dword_1330538] + 38) = dword_1330658;
      *((_DWORD *)(&lpString)[dword_1330538] + 41) = 0;
      *((_DWORD *)(&lpString)[dword_1330538] + 40) = 0;
      *((float *)(&lpString)[dword_1330538] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
      *((float *)(&lpString)[dword_1330538] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
      *((_DWORD *)(&lpString)[dword_1330538] + 29) = *((_DWORD *)(&lpString)[dword_1330538] + 30);
      *((_DWORD *)(&lpString)[dword_1330538] + 33) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 28);
      *((_DWORD *)(&lpString)[dword_1330538] + 35) = *((_DWORD *)(&lpString)[dword_1330538] + 33);
      *((_DWORD *)(&lpString)[dword_1330538] + 34) = (signed __int64)*((float *)(&lpString)[dword_1330538] + 29);
      *((_DWORD *)(&lpString)[dword_1330538] + 36) = *((_DWORD *)(&lpString)[dword_1330538] + 34);
      *((_BYTE *)(&lpString)[dword_1330538] + 174) = 0;
      *((_WORD *)(&lpString)[dword_1330538] + 88) = 0;
      *((_DWORD *)(&lpString)[dword_1330538] + 47) = 0;
      *((_BYTE *)(&lpString)[dword_1330538] + 104) = 0;
      *((_DWORD *)(&lpString)[dword_1330538] + 25) = -1;
      sub_42E780((int)(&lpString)[dword_1330538], (_BYTE *)(a1 + 16));
    }
    dword_133052C = dword_1317E74;
    dword_1330548 = *(_DWORD *)(a1 + 8);
    HIBYTE(v5) = *(_BYTE *)(a1 + 12);
    LOBYTE(v5) = *(_BYTE *)(a1 + 13);
    dword_1330654 = v5;
    HIBYTE(v6) = *(_BYTE *)(a1 + 14);
    LOBYTE(v6) = *(_BYTE *)(a1 + 15);
    LOBYTE(v5) = 0;
    dword_1330658 = v6;
    HIBYTE(v5) = dword_1330548;
    v7 = HIBYTE(dword_1330548) | ((BYTE2(dword_1330548) | ((BYTE1(dword_1330548) | v5) << 8)) << 8);
    dword_1330530 = v7;
    if ( v7 >= 80000 && v7 < 89000 || !v7 )
      goto LABEL_14;
    v8 = sub_425480(&dword_1330548);
    dword_133053C = v8;
    if ( dword_133052C != dword_1317E74 )
    {
      *((_DWORD *)(&lpString)[v8] + 37) = dword_1330654;
      *((_DWORD *)(&lpString)[dword_133053C] + 38) = dword_1330658;
      *((_DWORD *)(&lpString)[dword_133053C] + 41) = 0;
      *((_DWORD *)(&lpString)[dword_133053C] + 40) = 0;
      *((float *)(&lpString)[dword_133053C] + 28) = (double)(unsigned int)dword_1330654 * 40.0 + 20.0;
      *((float *)(&lpString)[dword_133053C] + 30) = (double)(unsigned int)dword_1330658 * 20.0 + 10.0;
      *((_DWORD *)(&lpString)[dword_133053C] + 29) = *((_DWORD *)(&lpString)[dword_133053C] + 30);
      *((_DWORD *)(&lpString)[dword_133053C] + 33) = (signed __int64)*((float *)(&lpString)[dword_133053C] + 28);
      *((_DWORD *)(&lpString)[dword_133053C] + 35) = *((_DWORD *)(&lpString)[dword_133053C] + 33);
      *((_DWORD *)(&lpString)[dword_133053C] + 34) = (signed __int64)*((float *)(&lpString)[dword_133053C] + 29);
      *((_DWORD *)(&lpString)[dword_133053C] + 36) = *((_DWORD *)(&lpString)[dword_133053C] + 34);
      *((_BYTE *)(&lpString)[dword_133053C] + 174) = 0;
      *((_WORD *)(&lpString)[dword_133053C] + 88) = 0;
      *((_DWORD *)(&lpString)[dword_133053C] + 47) = 0;
      *((_BYTE *)(&lpString)[dword_133053C] + 104) = 0;
      *((_DWORD *)(&lpString)[dword_133053C] + 25) = -1;
      sub_42E780((int)(&lpString)[dword_133053C], (_BYTE *)(a1 + 16));
      v8 = dword_133053C;
    }
    result = (&lpString)[v8];
    if ( !*((_DWORD *)result + 23) )
    {
LABEL_14:
      HIBYTE(v9) = *(_BYTE *)(a1 + 25);
      LOBYTE(v9) = *(_BYTE *)(a1 + 26);
      *((_WORD *)(&lpString)[dword_1330538] + 44) = v9;
      HIBYTE(v9) = *(_BYTE *)(a1 + 27);
      LOBYTE(v9) = *(_BYTE *)(a1 + 28);
      *((_WORD *)(&lpString)[dword_1330538] + 45) = v9;
      result = (LPCSTR)dword_1330538;
      if ( dword_1330538 == dword_131D690 )
      {
        result = (&lpString)[dword_1330538];
        word_1328E46 = *((_WORD *)result + 44);
        LOWORD(dword_132FFFC) = *((_WORD *)result + 45);
      }
    }
  }
  return result;
}
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 1328E46: using guessed type __int16 word_1328E46;
// 132FFFC: using guessed type int dword_132FFFC;
// 133052C: using guessed type int dword_133052C;
// 1330530: using guessed type int dword_1330530;
// 1330538: using guessed type int dword_1330538;
// 133053C: using guessed type int dword_133053C;
// 1330548: using guessed type int dword_1330548;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;

//----- (0046F0D0) --------------------------------------------------------
char __cdecl sub_46F0D0(int a1)
{
  unsigned __int16 v1; // cx
  unsigned __int16 v2; // dx
  unsigned __int16 v3; // ax
  int v4; // edi
  int v5; // ecx
  unsigned __int16 v6; // ax
  unsigned __int16 v7; // cx
  unsigned __int16 v8; // dx
  int v9; // eax
  unsigned __int16 v10; // cx
  unsigned __int16 v11; // dx

  dword_1330548 = *(_DWORD *)a1;
  HIBYTE(v1) = *(_BYTE *)(a1 + 13);
  LOBYTE(v1) = *(_BYTE *)(a1 + 14);
  dword_133065C = v1;
  HIBYTE(v2) = *(_BYTE *)(a1 + 15);
  LOBYTE(v2) = *(_BYTE *)(a1 + 16);
  dword_1330660 = v2;
  HIBYTE(v3) = *(_BYTE *)(a1 + 9);
  LOBYTE(v3) = *(_BYTE *)(a1 + 10);
  dword_1330654 = v3;
  HIBYTE(v1) = *(_BYTE *)(a1 + 11);
  LOBYTE(v1) = *(_BYTE *)(a1 + 12);
  v4 = v1;
  dword_1330658 = v1;
  v5 = *(unsigned __int8 *)(a1 + 8) + ((*(_BYTE *)(a1 + 7) & 1) << 8);
  dword_133052C = dword_1317E74;
  dword_1330534 = v5;
  if ( v3 <= dword_1540B4C )
  {
    LOBYTE(v3) = dword_1540B50;
    if ( v4 <= dword_1540B50 )
    {
      if ( v5 <= 242 )
      {
        if ( dword_13083AC[8 * v5] )
        {
          dword_1330538 = sub_425480(&dword_1330548);
          dword_133054C = (int)(&lpString)[dword_1330538];
          *(_BYTE *)(dword_133054C + 174) = 0;
          *(_DWORD *)(dword_133054C + 188) = 0;
          *(_DWORD *)(dword_133054C + 600) = 1;
          *(_WORD *)(dword_133054C + 176) = 0;
          HIBYTE(v6) = *(_BYTE *)(a1 + 18);
          LOBYTE(v6) = *(_BYTE *)(a1 + 19);
          dword_1330654 = v6;
          HIBYTE(v7) = *(_BYTE *)(a1 + 20);
          LOBYTE(v7) = *(_BYTE *)(a1 + 21);
          dword_1330658 = v7;
          HIBYTE(v8) = *(_BYTE *)(a1 + 13);
          LOBYTE(v8) = *(_BYTE *)(a1 + 14);
          dword_133065C = v8;
          HIBYTE(v6) = *(_BYTE *)(a1 + 15);
          LOBYTE(v6) = *(_BYTE *)(a1 + 16);
          dword_1330660 = v6;
          *((_BYTE *)dword_1542DA4
          + dword_1540B4C * (unsigned __int16)(signed __int64)(*(float *)(dword_133054C + 120) * 0.050000001)
          + (unsigned __int16)(signed __int64)(*(float *)(dword_133054C + 112) * 0.025)) = 0;
          *(float *)(dword_133054C + 112) = (double)(unsigned int)dword_133065C * 40.0 + 20.0;
          *(float *)(dword_133054C + 120) = (double)(unsigned int)dword_1330660 * 20.0 + 10.0;
          *(_DWORD *)(dword_133054C + 116) = *(_DWORD *)(dword_133054C + 120);
          *(_DWORD *)(dword_133054C + 132) = (signed __int64)*(float *)(dword_133054C + 112);
          *(_DWORD *)(dword_133054C + 140) = *(_DWORD *)(dword_133054C + 132);
          *(_DWORD *)(dword_133054C + 136) = (signed __int64)*(float *)(dword_133054C + 116);
          *(_DWORD *)(dword_133054C + 144) = *(_DWORD *)(dword_133054C + 136);
          if ( (_WORD)dword_1330654 != -1 )
            sub_465490(dword_133054C, dword_1330654, dword_1330658);
          *(_BYTE *)(dword_133054C + 104) = 0;
          *(_DWORD *)(dword_133054C + 100) = -1;
          v9 = dword_133054C;
          if ( *(_DWORD *)(dword_133054C + 52) != dword_131D690 )
          {
            sub_42E780(dword_133054C, (_BYTE *)(a1 + 4));
            v9 = dword_133054C;
          }
          if ( !dword_13083AC[8 * *(_DWORD *)(v9 + 168)] )
          {
            dword_49D008 = fopen(aErrorlogTxt, aAt);
            fprintf(dword_49D008, &byte_48EA3C, *((_DWORD *)(&lpString)[dword_1330538] + 42));
            fclose(dword_49D008);
            *(_DWORD *)(dword_133054C + 168) = 0;
            v9 = dword_133054C;
          }
          HIBYTE(v10) = *(_BYTE *)(a1 + 9);
          LOBYTE(v10) = *(_BYTE *)(a1 + 10);
          dword_1330654 = v10;
          HIBYTE(v11) = *(_BYTE *)(a1 + 11);
          LOBYTE(v11) = *(_BYTE *)(a1 + 12);
          dword_1330658 = v11;
          LOBYTE(v3) = sub_429A60(v9, v10, v11, dword_133065C, dword_1330660);
        }
      }
      else
      {
        dword_1330534 = 0;
      }
    }
    else
    {
      dword_1330658 = dword_1540B50;
    }
  }
  else
  {
    dword_1330654 = dword_1540B4C;
  }
  return v3;
}
// 13083AC: using guessed type int dword_13083AC[];
// 1317E74: using guessed type int dword_1317E74;
// 131D690: using guessed type int dword_131D690;
// 133052C: using guessed type int dword_133052C;
// 1330534: using guessed type int dword_1330534;
// 1330538: using guessed type int dword_1330538;
// 1330548: using guessed type int dword_1330548;
// 133054C: using guessed type int dword_133054C;
// 1330654: using guessed type int dword_1330654;
// 1330658: using guessed type int dword_1330658;
// 133065C: using guessed type int dword_133065C;
// 1330660: using guessed type int dword_1330660;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;

//----- (0046F400) --------------------------------------------------------
int __cdecl sub_46F400(int a1, const char *a2)
{
  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  LOBYTE(dword_1550B62) = 96;
  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
  LOBYTE(dword_1550B67) = byte_1330030;
  qmemcpy((char *)&dword_1550B67 + 1, byte_1330000, 0x14u);
  LOBYTE(dword_1550B7C) = strlen(a2);
  qmemcpy((char *)&dword_1550B7C + 1, a2, (unsigned __int8)dword_1550B7C);
  return sub_479790((unsigned __int8)dword_1550B7C + 29);
}
// 1330030: using guessed type char byte_1330030;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B7C: using guessed type int dword_1550B7C;

//----- (0046F4A0) --------------------------------------------------------
int __cdecl sub_46F4A0(int a1)
{
  signed __int64 v1; // rax
  signed __int64 v2; // rax
  int result; // eax

  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  LOBYTE(dword_1550B62) = 35;
  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
  v1 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  LOBYTE(dword_1550B67) = BYTE1(v1);
  BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  v2 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  BYTE2(dword_1550B67) = BYTE1(v2);
  HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  sub_479790(11);
  dword_131D688 = 0;
  do
  {
    if ( dword_4862F0 )
    {
      sub_4773E0();
      dword_1547438 = (int)dword_6BDF00;
      sub_4562F0();
      sub_4564F0();
      sub_443E60();
      sub_443C70(255, 0, 0);
      sub_443FC0(402, 302, &byte_48EAF8);
      sub_443C70(255, 255, 255);
      sub_443FC0(400, 300, &byte_48EAF8);
      sub_443EA0();
      nullsub_1();
      sub_479E60();
    }
    sub_479930();
    result = dword_131D688;
  }
  while ( !dword_131D688 );
  return result;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862F0: using guessed type int dword_4862F0;
// 131D688: using guessed type int dword_131D688;
// 1547438: using guessed type int dword_1547438;
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;

//----- (0046F5D0) --------------------------------------------------------
int __cdecl sub_46F5D0(int a1, int a2)
{
  signed __int64 v2; // rax
  signed __int64 v3; // rax

  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  LOBYTE(dword_1550B62) = 18;
  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
  v2 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  LOBYTE(dword_1550B67) = BYTE1(v2);
  BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  v3 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  BYTE2(dword_1550B67) = BYTE1(v3);
  HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  dword_1550B6B = *(_DWORD *)(a2 + 56);
  return sub_479790(15);
}
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;

//----- (0046F670) --------------------------------------------------------
int __cdecl sub_46F670(int a1, int a2)
{
  signed __int64 v2; // rax
  signed __int64 v3; // rax
  signed __int64 v4; // rax
  signed __int64 v5; // rax

  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  LOBYTE(dword_1550B62) = 113;
  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
  v2 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  LOBYTE(dword_1550B67) = BYTE1(v2);
  BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  v3 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  BYTE2(dword_1550B67) = BYTE1(v3);
  HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  dword_1550B6B = *(_DWORD *)(a1 + 56);
  v4 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  byte_1550B6F = BYTE1(v4);
  byte_1550B70 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  v5 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  byte_1550B71 = BYTE1(v5);
  byte_1550B72 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  sub_42EA60(a1, &byte_1550B73);
  byte_1550B78[0] = *(_DWORD *)(a2 + 636) >> 24;
  byte_1550B79 = *(_DWORD *)(a2 + 636) >> 16;
  byte_1550B7A = *(_WORD *)(a2 + 636) >> 8;
  byte_1550B7B = *(_BYTE *)(a2 + 636);
  return sub_479790(28);
}
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B79: using guessed type char byte_1550B79;
// 1550B7A: using guessed type char byte_1550B7A;
// 1550B7B: using guessed type char byte_1550B7B;

//----- (0046F7A0) --------------------------------------------------------
int __cdecl sub_46F7A0(int a1)
{
  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  LOBYTE(dword_1550B62) = 11;
  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
  return sub_479790(7);
}
// 1550B62: using guessed type int dword_1550B62;

//----- (0046F7D0) --------------------------------------------------------
void __cdecl sub_46F7D0(int a1, int a2, int a3)
{
  signed __int64 v3; // rax
  signed __int64 v4; // rax
  signed __int64 v5; // rax
  signed __int64 v6; // rax
  signed __int64 v7; // rax
  signed __int64 v8; // rax
  signed __int64 v9; // rax
  signed __int64 v10; // rax

  if ( *(_DWORD *)(a2 + 168) <= 0xF2u
    && sub_4256E0(a1, (signed __int64)*(float *)(a2 + 112), (signed __int64)*(float *)(a2 + 120))
    && sub_4256E0(a2, (signed __int64)*(float *)(a1 + 112), (signed __int64)*(float *)(a1 + 120)) )
  {
    if ( a3 == 117 )
    {
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      LOBYTE(dword_1550B62) = 103;
      *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
      v7 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
      LOBYTE(dword_1550B67) = BYTE1(v7);
      BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
      v8 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
      BYTE2(dword_1550B67) = BYTE1(v8);
      HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
      dword_1550B6B = *(_DWORD *)(a1 + 56);
      v9 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
      byte_1550B6F = BYTE1(v9);
      byte_1550B70 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
      v10 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001 - 1.0);
      byte_1550B71 = BYTE1(v10);
      byte_1550B72 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001 - 1.0);
      sub_42EA60(a1, &byte_1550B73);
      sub_42EA60(a1, byte_1550B78);
      *(_WORD *)((char *)&dword_1550B7C + 1) = 0;
      HIBYTE(dword_1550B7C) = 0;
      byte_1550B80 = 117;
      sub_479790(33);
    }
    else if ( !*(_DWORD *)(a2 + 92) )
    {
      if ( *(_WORD *)(dword_8D3C24[*(_DWORD *)(a2 + 168)] + 88) )
      {
        byte_1550B60[0] = -9;
        byte_1550B61[0] = 113;
        LOBYTE(dword_1550B62) = 103;
        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
        v3 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        LOBYTE(dword_1550B67) = BYTE1(v3);
        BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
        v4 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        BYTE2(dword_1550B67) = BYTE1(v4);
        HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
        dword_1550B6B = *(_DWORD *)(a2 + 56);
        v5 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
        byte_1550B6F = BYTE1(v5);
        byte_1550B70 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
        v6 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
        byte_1550B71 = BYTE1(v6);
        byte_1550B72 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
        sub_42EA60(a1, &byte_1550B73);
        sub_42EA60(a2, byte_1550B78);
        BYTE1(dword_1550B7C) = HIBYTE(a3);
        BYTE2(dword_1550B7C) = BYTE2(a3);
        HIBYTE(dword_1550B7C) = BYTE1(a3);
        byte_1550B80 = a3;
        sub_479790(33);
      }
    }
  }
}
// 8D3C24: using guessed type int dword_8D3C24[];
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;

//----- (0046FAA0) --------------------------------------------------------
int __cdecl sub_46FAA0(int a1)
{
  int v1; // esi
  int v2; // eax
  signed __int64 v3; // rax
  signed __int64 v4; // rax
  int v5; // eax
  int v6; // eax
  int v8; // [esp+4h] [ebp-4h]

  v1 = a1;
  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  LOBYTE(dword_1550B62) = 114;
  v2 = *(_DWORD *)(a1 + 56);
  v8 = 0;
  *(int *)((char *)&dword_1550B62 + 1) = v2;
  sub_42EA60(a1, &dword_1550B67);
  v3 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  BYTE1(dword_1550B6B) = BYTE1(v3);
  BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  v4 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  HIBYTE(dword_1550B6B) = BYTE1(v4);
  byte_1550B6F = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 31)
                                  + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 132)) >> 32) >> 4)) >> 8;
  byte_1550B71 = (char)*(_DWORD *)(a1 + 132) / 40;
  byte_1550B72 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 31)
                                  + ((signed int)((unsigned __int64)(1717986919i64 * *(signed int *)(v1 + 136)) >> 32) >> 3)) >> 8;
  byte_1550B73 = *(_DWORD *)(a1 + 136) / 20;
  v5 = *(_DWORD *)(a1 + 636);
  if ( v5 != -1 )
    sub_466490(a1, v5, &v8);
  v6 = *(_DWORD *)(a1 + 636);
  byte_1550B74 = BYTE1(v6);
  byte_1550B75[0] = *(_BYTE *)(a1 + 636);
  byte_1550B76[0] = BYTE1(v8);
  byte_1550B77[0] = v8;
  return sub_479790(24);
}
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (0046FC00) --------------------------------------------------------
int __cdecl sub_46FC00(int a1, int a2)
{
  int result; // eax

  result = a2;
  if ( *(_DWORD *)(a2 + 168) != 237 )
  {
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 15;
    *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
    dword_1550B67 = *(_DWORD *)(a2 + 56);
    result = sub_479790(11);
  }
  return result;
}
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;

//----- (0046FC50) --------------------------------------------------------
int __cdecl sub_46FC50(int a1, int a2, int a3)
{
  int v3; // eax
  signed __int64 v4; // rax
  signed __int64 v5; // rax
  int v6; // eax
  int v7; // eax
  int v9; // [esp+4h] [ebp-4h]

  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  LOBYTE(dword_1550B62) = 3;
  v3 = *(_DWORD *)(a1 + 56);
  v9 = 0;
  *(int *)((char *)&dword_1550B62 + 1) = v3;
  sub_42EA60(a1, &dword_1550B67);
  v4 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  BYTE1(dword_1550B6B) = BYTE1(v4);
  BYTE2(dword_1550B6B) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  v5 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  HIBYTE(dword_1550B6B) = BYTE1(v5);
  byte_1550B6F = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  byte_1550B71 = ((((unsigned __int64)(1717986919i64 * a2) >> 32) & 0x80000000) != 0i64)
               + ((signed int)((unsigned __int64)(1717986919i64 * a2) >> 32) >> 4);
  byte_1550B70 = (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * a2) >> 32) >> 31)
                                  + ((signed int)((unsigned __int64)(1717986919i64 * a2) >> 32) >> 4)) >> 8;
  HIDWORD(v5) = a3 / 20;
  byte_1550B73 = a3 / 20;
  byte_1550B72 = BYTE5(v5);
  v6 = *(_DWORD *)(a1 + 636);
  if ( v6 != -1 )
    sub_466490(a1, v6, &v9);
  v7 = *(_DWORD *)(a1 + 636);
  byte_1550B74 = BYTE1(v7);
  byte_1550B75[0] = *(_BYTE *)(a1 + 636);
  byte_1550B76[0] = BYTE1(v9);
  byte_1550B77[0] = v9;
  return sub_479790(24);
}
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B74: using guessed type char byte_1550B74;

//----- (0046FD80) --------------------------------------------------------
int __cdecl sub_46FD80(int a1, int a2, int a3)
{
  signed __int64 v3; // rax
  signed __int64 v4; // rax
  signed __int64 v5; // rax
  signed __int64 v6; // rax

  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  LOBYTE(dword_1550B62) = 21;
  *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(a1 + 56);
  v3 = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  LOBYTE(dword_1550B67) = BYTE1(v3);
  BYTE1(dword_1550B67) = (signed __int64)(*(float *)(a1 + 112) * 0.025);
  v4 = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  BYTE2(dword_1550B67) = BYTE1(v4);
  HIBYTE(dword_1550B67) = (signed __int64)(*(float *)(a1 + 120) * 0.050000001);
  dword_1550B6B = *(_DWORD *)(a2 + 56);
  v5 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
  byte_1550B6F = BYTE1(v5);
  byte_1550B70 = (signed __int64)(*(float *)(a2 + 112) * 0.025);
  v6 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
  byte_1550B71 = BYTE1(v6);
  byte_1550B72 = (signed __int64)(*(float *)(a2 + 120) * 0.050000001);
  sub_42EA60(a1, &byte_1550B73);
  sub_42EA60(a2, byte_1550B78);
  BYTE1(dword_1550B7C) = HIBYTE(a3);
  BYTE2(dword_1550B7C) = BYTE2(a3);
  HIBYTE(dword_1550B7C) = BYTE1(a3);
  byte_1550B80 = a3;
  return sub_479790(33);
}
// 1550B62: using guessed type int dword_1550B62;
// 1550B67: using guessed type int dword_1550B67;
// 1550B6B: using guessed type int dword_1550B6B;
// 1550B6F: using guessed type char byte_1550B6F;
// 1550B70: using guessed type char byte_1550B70;
// 1550B71: using guessed type char byte_1550B71;
// 1550B72: using guessed type char byte_1550B72;
// 1550B73: using guessed type char byte_1550B73;
// 1550B7C: using guessed type int dword_1550B7C;
// 1550B80: using guessed type char byte_1550B80;

//----- (0046FEB0) --------------------------------------------------------
int sub_46FEB0()
{
  byte_1550B60[0] = -9;
  byte_1550B61[0] = 113;
  LOBYTE(dword_1550B62) = 55;
  *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)(&lpString)[dword_131D690] + 15);
  return sub_479790(7);
}
// 131D690: using guessed type int dword_131D690;
// 1550B62: using guessed type int dword_1550B62;

//----- (0046FEF0) --------------------------------------------------------
int __cdecl sub_46FEF0(int a1)
{
  int result; // eax

  dword_1540B58 = 0;
  result = a1;
  memset32(byte_1540B6C, a1, 0x41Au);
  return result;
}
// 1540B58: using guessed type int dword_1540B58;

//----- (0046FF20) --------------------------------------------------------
int __cdecl sub_46FF20(int a1, int a2, char a3)
{
  char v3; // bl
  int v4; // esi
  int result; // eax
  int v6; // edx
  int v7; // edi
  int v8; // ebp
  signed int v9; // ecx
  int v10; // edi
  int v11; // esi
  char v12; // dl
  int v13; // ebp
  char v14; // bl
  int v15; // [esp+10h] [ebp-10h]
  int v16; // [esp+14h] [ebp-Ch]
  int v17; // [esp+18h] [ebp-8h]
  int v18; // [esp+1Ch] [ebp-4h]
  int v19; // [esp+24h] [ebp+4h]
  int v20; // [esp+28h] [ebp+8h]

  v3 = a3;
  v4 = a1 + 10;
  result = a2 + 20;
  v6 = a2 + 19;
  v17 = a1 + 10;
  v15 = a2 + 19;
  v7 = a2 + 19;
  v8 = a1 + 10 - (a2 + 20);
  while ( 1 )
  {
    --result;
    ++v8;
    ++v7;
    v19 = v4 - 1;
    v16 = result;
    v20 = v8;
    v18 = v7;
    if ( result <= v6 )
    {
      v9 = v7;
      v10 = 70 * v19;
      v11 = 70 * v4;
      while ( 1 )
      {
        v12 = 7;
        if ( v3 <= 7 )
          v12 = v3;
        v13 = result + v8;
        if ( v13 > -1 && v13 < 60 && result > -1 && result < 70 )
        {
          v14 = v12 + byte_1540B6C[v11 + result];
          byte_1540B6C[v11 + result] = v14;
          if ( v14 > 15 )
            byte_1540B6C[v11 + result] = 15;
        }
        if ( v19 > -1 && v19 < 60 && result > -1 && result < 70 )
        {
          byte_1540B6C[v10 + result] += v12;
          if ( byte_1540B6C[v10 + result] > 15 )
            byte_1540B6C[v10 + result] = 15;
        }
        if ( v13 > -1 && v13 < 60 && v9 > -1 && v9 < 70 )
        {
          byte_1540B6C[v11 + v9] += v12;
          if ( byte_1540B6C[v11 + v9] > 15 )
            byte_1540B6C[v11 + v9] = 15;
        }
        if ( v19 > -1 && v19 < 60 && v9 > -1 && v9 < 70 )
        {
          byte_1540B6C[v10 + v9] += v12;
          if ( byte_1540B6C[v10 + v9] > 15 )
            byte_1540B6C[v10 + v9] = 15;
        }
        v6 = v15;
        ++result;
        v11 += 70;
        v10 -= 70;
        --v9;
        --v19;
        if ( result > v15 )
          break;
        v8 = v20;
        v3 = a3;
      }
      result = v16;
      v4 = v17;
      v8 = v20;
      v3 = a3;
      v7 = v18;
    }
    if ( v3 <= 0 )
      break;
    a3 = --v3;
  }
  return result;
}

//----- (004700B0) --------------------------------------------------------
int __cdecl sub_4700B0(int a1)
{
  int result; // eax
  int v2; // ecx
  int v3; // esi
  int v4; // edx
  int v5; // ebx
  bool v6; // zf
  int v7; // ebx
  int v8; // eax
  int v9; // ecx
  int v10; // [esp+10h] [ebp+4h]

  result = 1;
  word_133079C = 0;
  dword_1540B68 = 1;
  dword_1542DE0 = 0;
  dword_1542DD8 = 100;
  v2 = x + 900 * y;
  v3 = v2 + a1 + 270050;
  v4 = dword_1547438;
  v5 = v2 + 270050;
  v10 = v2 + a1 + 270050;
  dword_133078C = v2 + 270050;
  v6 = *(_WORD *)dword_1547438 == 0;
  word_1540B64 = *(_WORD *)dword_1547438;
  dword_1542DE0 = v2 + 270050;
  if ( !v6 )
  {
    while ( 1 )
    {
      v7 = *(unsigned __int16 *)(v4 + 2 * result) + v5;
      v8 = result + 1;
      dword_1542DE0 = v7;
      dword_1540B68 = v8;
      if ( *(_WORD *)(v4 + 2 * v8 - 2) > 0x12Cu )
      {
        v3 += 900;
        v10 = v3;
      }
      if ( v3 <= v7 )
      {
        v9 = 0;
      }
      else
      {
        v9 = *(unsigned __int16 *)(v4 + 2 * v8);
        if ( v3 < (unsigned __int16)v9 + v7 )
          v9 = v3 - v7;
      }
      qmemcpy((void *)(2 * v7 + 20125132), (const void *)(v4 + 2 * v8 + 2), 2 * v9);
      v5 = *(unsigned __int16 *)(v4 + 2 * v8) + v7;
      dword_1542DE0 = v5;
      result = v8 + *(unsigned __int16 *)(v4 + 2 * v8) + 1;
      dword_1540B68 = result;
      if ( (unsigned __int16)++word_133079C >= (unsigned __int16)word_1540B64 )
        break;
      v3 = v10;
    }
  }
  return result;
}
// 133078C: using guessed type int dword_133078C;
// 133079C: using guessed type __int16 word_133079C;
// 1540B64: using guessed type __int16 word_1540B64;
// 1540B68: using guessed type int dword_1540B68;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;

//----- (004701D0) --------------------------------------------------------
int __cdecl sub_4701D0(int a1)
{
  int result; // eax
  int v2; // ecx
  int v3; // esi
  int v4; // edx
  int v5; // ebx
  bool v6; // zf
  int v7; // ebx
  int v8; // eax
  int v9; // ecx
  int v10; // [esp+10h] [ebp+4h]

  result = 1;
  word_133079C = 0;
  dword_1540B68 = 1;
  dword_1542DE0 = 0;
  dword_1542DD8 = 100;
  v2 = x + 900 * y;
  v3 = v2 + a1 + 270050;
  v4 = dword_1547438;
  v5 = v2 + 270050;
  v10 = v2 + a1 + 270050;
  dword_133078C = v2 + 270050;
  v6 = *(_WORD *)dword_1547438 == 0;
  word_1540B64 = *(_WORD *)dword_1547438;
  dword_1542DE0 = v2 + 270050;
  if ( !v6 )
  {
    while ( 1 )
    {
      v7 = *(unsigned __int16 *)(v4 + 2 * result) + v5;
      v8 = result + 1;
      dword_1542DE0 = v7;
      dword_1540B68 = v8;
      if ( *(_WORD *)(v4 + 2 * v8 - 2) > 0x190u )
      {
        v3 += 900;
        v10 = v3;
      }
      if ( v3 <= v7 )
      {
        v9 = 0;
      }
      else
      {
        v9 = *(unsigned __int16 *)(v4 + 2 * v8);
        if ( v3 < (unsigned __int16)v9 + v7 )
          v9 = v3 - v7;
      }
      qmemcpy((void *)(2 * v7 + 20125132), (const void *)(v4 + 2 * v8 + 2), 2 * v9);
      v5 = *(unsigned __int16 *)(v4 + 2 * v8) + v7;
      dword_1542DE0 = v5;
      result = v8 + *(unsigned __int16 *)(v4 + 2 * v8) + 1;
      dword_1540B68 = result;
      if ( (unsigned __int16)++word_133079C >= (unsigned __int16)word_1540B64 )
        break;
      v3 = v10;
    }
  }
  return result;
}
// 133078C: using guessed type int dword_133078C;
// 133079C: using guessed type __int16 word_133079C;
// 1540B64: using guessed type __int16 word_1540B64;
// 1540B68: using guessed type int dword_1540B68;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;

//----- (004702F0) --------------------------------------------------------
signed int sub_4702F0()
{
  unsigned int v0; // ecx
  int v1; // esi
  signed int result; // eax
  int v3; // ebp
  __int16 v4; // bx
  unsigned int v5; // edi
  bool v6; // zf
  unsigned int v7; // ebx
  signed int v8; // ecx
  unsigned int v9; // edx
  unsigned __int16 v10; // dx
  bool v11; // cf

  word_133079C = 0;
  dword_1542DE0 = 0;
  v0 = (unsigned int)(unsigned __int16)dword_1570244 >> 1;
  v1 = dword_1547438;
  result = 1;
  v3 = 900 - v0;
  dword_1540B68 = 1;
  dword_133078C = x + y * v0;
  dword_1542DD8 = 900 - v0;
  v4 = *(_WORD *)dword_1547438;
  dword_1542DE0 = x + y * v0;
  word_1540B64 = v4;
  v5 = v0 * (y + 1);
  v6 = v4 == 0;
  x = (unsigned int)(unsigned __int16)dword_1570244 >> 1;
  v7 = 601 * v0;
  if ( !v6 )
  {
    while ( 1 )
    {
      dword_1542DE0 += *(unsigned __int16 *)(v1 + 2 * result);
      if ( *(_WORD *)(v1 + 2 * result) > 0x190u )
      {
        v5 += (unsigned int)(unsigned __int16)dword_1570244 >> 1;
        dword_1542DE0 -= v3;
      }
      ++result;
      v8 = 0;
      dword_1540B68 = result;
      x = 0;
      if ( *(_WORD *)(v1 + 2 * result) )
        break;
LABEL_10:
      dword_1542DE0 += *(unsigned __int16 *)(v1 + 2 * result);
      v10 = *(_WORD *)(v1 + 2 * result);
      v11 = (unsigned __int16)(word_133079C++ + 1) < (unsigned __int16)word_1540B64;
      result += v10 + 1;
      dword_1540B68 = result;
      if ( !v11 )
        return result;
    }
    while ( 1 )
    {
      v9 = v8 + dword_1542DE0;
      if ( v8 + dword_1542DE0 > v7 )
        break;
      if ( v9 < v5 )
      {
        *(_WORD *)(dword_1570240 + 2 * v9) = *(_WORD *)(v1 + 2 * (result + v8) + 2);
        result = dword_1540B68;
        v8 = x;
        v1 = dword_1547438;
      }
      x = ++v8;
      if ( v8 >= *(unsigned __int16 *)(v1 + 2 * result) )
      {
        v3 = dword_1542DD8;
        goto LABEL_10;
      }
    }
  }
  return result;
}
// 133078C: using guessed type int dword_133078C;
// 133079C: using guessed type __int16 word_133079C;
// 1540B64: using guessed type __int16 word_1540B64;
// 1540B68: using guessed type int dword_1540B68;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;
// 1570240: using guessed type int dword_1570240;
// 1570244: using guessed type int dword_1570244;

//----- (00470450) --------------------------------------------------------
signed int __cdecl sub_470450(int a1)
{
  int v1; // ecx
  signed int v2; // esi
  int v3; // edx
  signed int result; // eax

  v1 = a1;
  v2 = 20;
  v3 = x + 900 * y;
  do
  {
    result = 0;
    do
    {
      if ( *(_BYTE *)(v1 + result) == 49 )
        word_13B5390[v3 + result] = -1;
      ++result;
    }
    while ( result < 20 );
    v1 += 21;
    v3 += 900;
    --v2;
  }
  while ( v2 );
  return result;
}

//----- (004704B0) --------------------------------------------------------
__int16 sub_4704B0()
{
  int v0; // ebp
  int v1; // ebx
  int v2; // ecx
  __int16 result; // ax
  int v4; // edi
  bool v5; // zf
  int v6; // edi
  int v7; // ebx

  v0 = dword_1547438;
  v1 = 1;
  word_133079C = 0;
  dword_1540B68 = 1;
  dword_1542DE0 = 0;
  dword_1542DD8 = 100;
  v2 = x + 900 * y + 270050;
  dword_133078C = x + 900 * y + 270050;
  result = *(_WORD *)dword_1547438;
  v4 = x + 900 * y + 270050;
  v5 = *(_WORD *)dword_1547438 == 0;
  word_1540B64 = *(_WORD *)dword_1547438;
  dword_1542DE0 = x + 900 * y + 270050;
  if ( !v5 )
  {
    do
    {
      v6 = *(unsigned __int16 *)(v0 + 2 * v1) + v4;
      v7 = v1 + 1;
      dword_1542DE0 = v6;
      dword_1540B68 = v7;
      if ( (v6 - v2) % 0x384u > 0x64 )
      {
        qmemcpy((void *)(2 * v6 + 20125132), (const void *)(v0 + 2 * v7 + 2), 2 * *(unsigned __int16 *)(v0 + 2 * v7));
        v6 = dword_1542DE0;
        v2 = dword_133078C;
      }
      v4 = *(unsigned __int16 *)(v0 + 2 * v7) + v6;
      dword_1542DE0 = v4;
      v1 = v7 + *(unsigned __int16 *)(v0 + 2 * v7) + 1;
      result = word_133079C + 1;
      dword_1540B68 = v1;
      ++word_133079C;
    }
    while ( (unsigned __int16)word_133079C < (unsigned __int16)word_1540B64 );
  }
  return result;
}
// 133078C: using guessed type int dword_133078C;
// 133079C: using guessed type __int16 word_133079C;
// 1540B64: using guessed type __int16 word_1540B64;
// 1540B68: using guessed type int dword_1540B68;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;

//----- (004705B0) --------------------------------------------------------
__int16 sub_4705B0()
{
  __int16 *v0; // edi
  int v1; // eax
  __int16 v2; // cx
  __int16 *v3; // esi
  __int16 *v4; // esi
  __int16 v5; // dx
  __int16 result; // ax

  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  v0 = (__int16 *)(2 * (x + 900 * y) + 20665232);
  HIWORD(v1) = 0;
  v2 = *(_WORD *)dword_1547438;
  v3 = (__int16 *)(dword_1547438 + 2);
  do
  {
    LOWORD(v1) = 2 * *v3;
    v0 = (__int16 *)((char *)v0 + v1);
    v4 = v3 + 1;
    v5 = *v4;
    v3 = v4 + 1;
    do
    {
      result = *v3;
      *v0 = *v3;
      ++v0;
      ++v3;
      --v5;
    }
    while ( v5 );
    --v2;
  }
  while ( v2 );
  return result;
}
// 1540B60: using guessed type int dword_1540B60;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;

//----- (00470630) --------------------------------------------------------
__int16 sub_470630()
{
  _WORD *v0; // edi
  int v1; // eax
  __int16 v2; // cx
  _WORD *v3; // esi
  __int16 *v4; // esi
  __int16 v5; // dx
  unsigned __int16 v6; // ax
  __int16 v7; // bx
  __int16 result; // ax

  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  v0 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  HIWORD(v1) = 0;
  v2 = *(_WORD *)dword_1547438;
  v3 = (_WORD *)(dword_1547438 + 2);
  do
  {
    LOWORD(v1) = 2 * *v3;
    v0 = (_WORD *)((char *)v0 + v1);
    v4 = v3 + 1;
    v5 = *v4;
    v3 = v4 + 1;
    do
    {
      v6 = 32 * (*v3 & 0x1F) & 0x7FF;
      v7 = v6 | ((*v3 & 0x1F) << 10);
      result = v6 >> 5;
      *v0 = result | v7;
      ++v0;
      ++v3;
      --v5;
    }
    while ( v5 );
    --v2;
  }
  while ( v2 );
  return result;
}
// 1540B60: using guessed type int dword_1540B60;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;

//----- (00470750) --------------------------------------------------------
__int16 sub_470750()
{
  int v0; // edx
  int v1; // esi
  __int16 result; // ax
  int v3; // edi
  unsigned __int16 v4; // bx
  int v5; // edi
  int v6; // esi
  int v7; // eax
  int v8; // ecx
  int v9; // edx

  v0 = dword_1547438;
  v1 = 1;
  word_133079C = 0;
  dword_1540B68 = 1;
  result = 225 * y;
  v3 = x + 900 * y + 270050;
  dword_1542DE0 = x + 900 * y + 270050;
  v4 = *(_WORD *)dword_1547438;
  word_1540B64 = *(_WORD *)dword_1547438;
  if ( word_1540B64 )
  {
    do
    {
      v5 = *(unsigned __int16 *)(v0 + 2 * v1) + v3;
      v6 = v1 + 1;
      dword_1542DE0 = v5;
      dword_1540B68 = v6;
      dword_1540B60 = 2 * v5 + 20126932;
      HIWORD(v7) = 0;
      dword_1542DDC = 2 * v5 + 20125132;
      LOWORD(v7) = *(_WORD *)(v0 + 2 * v6);
      v1 = v6 + 1;
      v8 = 0;
      dword_1542DD8 = (unsigned __int16)v7;
      dword_1540B68 = v1;
      dword_1541BD8 = 0;
      if ( (signed int)(unsigned __int16)v7 > 0 )
      {
        while ( 1 )
        {
          *(_WORD *)(dword_1540B60 + 2 * v8 + 2) = *(_WORD *)(v0 + 2 * v1);
          *(_WORD *)(dword_1540B60 + 2 * dword_1541BD8) = *(_WORD *)(dword_1540B60 + 2 * dword_1541BD8 + 2);
          *(_WORD *)(dword_1542DDC + 2 * dword_1541BD8 + 2) = *(_WORD *)(dword_1540B60 + 2 * dword_1541BD8);
          *(_WORD *)(dword_1542DDC + 2 * dword_1541BD8) = *(_WORD *)(dword_1542DDC + 2 * dword_1541BD8 + 2);
          v8 = dword_1541BD8 + 2;
          v1 = dword_1540B68++ + 1;
          v7 = dword_1542DD8;
          v9 = (dword_1541BD8 + 2) / 2;
          dword_1541BD8 += 2;
          if ( v9 >= dword_1542DD8 )
            break;
          v0 = dword_1547438;
        }
        v5 = dword_1542DE0;
        v4 = word_1540B64;
        v0 = dword_1547438;
      }
      v3 = v5 + v7 + 900;
      result = word_133079C + 1;
      dword_1542DE0 = v3;
      ++word_133079C;
    }
    while ( (unsigned __int16)word_133079C < v4 );
  }
  return result;
}
// 133079C: using guessed type __int16 word_133079C;
// 1540B60: using guessed type int dword_1540B60;
// 1540B64: using guessed type __int16 word_1540B64;
// 1540B68: using guessed type int dword_1540B68;
// 1541BD8: using guessed type int dword_1541BD8;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;

//----- (004708C0) --------------------------------------------------------
int sub_4708C0()
{
  int result; // eax
  int v1; // ecx
  int v2; // esi
  unsigned __int16 v3; // di
  unsigned __int16 v4; // dx
  int v5; // ebx
  int v6; // ecx
  _WORD *v7; // edi
  __int16 v8; // dx
  int v9; // ecx

  result = 0;
  v1 = 1;
  dword_1541BD8 = 0;
  word_133079C = 0;
  dword_1540B68 = 1;
  dword_1542DE0 = 0;
  dword_1542DD8 = 100;
  v2 = dword_1547438;
  dword_133078C = x + 900 * (dword_1330678 + y) + 270050;
  v3 = *(_WORD *)dword_1547438;
  dword_1542DE0 = x + 900 * (dword_1330678 + y) + 270050;
  word_1540B64 = v3;
  if ( v3 )
  {
    do
    {
      v4 = *(_WORD *)(v2 + 2 * v1);
      v5 = v4 + dword_1542DE0;
      dword_1542DE0 += v4;
      if ( *(_WORD *)(v2 + 2 * v1) > 0x190u )
      {
        if ( result & 1 )
          dword_1542DE0 = v5 - 900;
        dword_1541BD8 = ++result;
      }
      v6 = v1 + 1;
      dword_1540B68 = v6;
      if ( !(result & 1) )
      {
        dword_1542DDC = 2 * (dword_1542DE0 + result / 2 - dword_133067C) + 20125132;
        x = *(unsigned __int16 *)(v2 + 2 * v6);
        v7 = (_WORD *)(2 * (dword_1542DE0 + result / 2 - dword_133067C) + 20125132);
        v8 = word_4BBFA8;
        v9 = x;
        do
        {
          *v7 = (unsigned __int16)(v8 & *v7) >> 1;
          ++v7;
          --v9;
        }
        while ( v9 );
        result = dword_1541BD8;
        v6 = dword_1540B68;
        v3 = word_1540B64;
        v2 = dword_1547438;
      }
      dword_1542DE0 += *(unsigned __int16 *)(v2 + 2 * v6);
      v1 = v6 + *(unsigned __int16 *)(v2 + 2 * v6) + 1;
      dword_1540B68 = v1;
      ++word_133079C;
    }
    while ( (unsigned __int16)word_133079C < v3 );
  }
  return result;
}
// 4BBFA8: using guessed type __int16 word_4BBFA8;
// 1330678: using guessed type int dword_1330678;
// 133067C: using guessed type int dword_133067C;
// 133078C: using guessed type int dword_133078C;
// 133079C: using guessed type __int16 word_133079C;
// 1540B64: using guessed type __int16 word_1540B64;
// 1540B68: using guessed type int dword_1540B68;
// 1541BD8: using guessed type int dword_1541BD8;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;

//----- (00470A20) --------------------------------------------------------
__int16 sub_470A20()
{
  int v0; // eax
  _WORD *v1; // edi
  int v2; // edx
  int v3; // eax
  int v4; // ecx
  _WORD *v5; // esi
  __int16 *v6; // esi
  __int16 v7; // cx
  _WORD *v8; // ebx
  int v10; // [esp-4h] [ebp-10h]

  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1540B60 = dword_1547438;
  dword_1547444 = 2 * (x + 900 * dword_1330670) + 20665232;
  v0 = (unsigned __int8)dword_1547948 << 17;
  dword_1541C20 = (int)&unk_6C8628 + v0;
  if ( (unsigned __int8)dword_1547948 <= 4u )
    dword_1541C18 = (int)&unk_788628 + v0;
  else
    dword_1541C18 = (int)&unk_828628;
  v1 = (_WORD *)dword_1542DDC;
  v2 = dword_1541C20;
  HIWORD(v3) = 0;
  v4 = *(unsigned __int16 *)dword_1540B60;
  v5 = (_WORD *)(dword_1540B60 + 2);
  do
  {
    LOWORD(v3) = 2 * *v5;
    v1 = (_WORD *)((char *)v1 + v3);
    if ( dword_1547444 < (unsigned int)v1 )
      break;
    v6 = v5 + 1;
    v10 = v4;
    v7 = *v6;
    v5 = v6 + 1;
    do
    {
      v8 = (_WORD *)(v2 + 2 * (unsigned __int16)*v5);
      LOWORD(v3) = *v8;
      *v1 = *v8;
      ++v1;
      ++v5;
      --v7;
    }
    while ( v7 );
    HIWORD(v4) = HIWORD(v10);
    LOWORD(v4) = v10 - 1;
  }
  while ( (_WORD)v10 != 1 );
  return v3;
}
// 1330670: using guessed type int dword_1330670;
// 1540B60: using guessed type int dword_1540B60;
// 1541C18: using guessed type int dword_1541C18;
// 1541C20: using guessed type int dword_1541C20;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;
// 1547444: using guessed type int dword_1547444;
// 1547948: using guessed type int dword_1547948;

//----- (00470B10) --------------------------------------------------------
__int16 sub_470B10()
{
  int v0; // eax
  __int16 *v1; // edi
  int v2; // edx
  int v3; // eax
  int v4; // ecx
  _WORD *v5; // esi
  __int16 *v6; // esi
  __int16 v7; // cx
  __int16 *v8; // ebx
  __int16 result; // ax
  int v10; // [esp-4h] [ebp-10h]

  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1540B60 = dword_1547438;
  dword_1547444 = 2 * (x + 900 * dword_1330670) + 20665232;
  v0 = (unsigned __int8)dword_1547948 << 17;
  dword_1541C20 = (int)&unk_6C8628 + v0;
  if ( (unsigned __int8)dword_1547948 <= 4u )
    dword_1541C18 = (int)&unk_788628 + v0;
  else
    dword_1541C18 = (int)&unk_828628;
  v1 = (__int16 *)dword_1542DDC;
  v2 = dword_1541C20;
  HIWORD(v3) = 0;
  v4 = *(unsigned __int16 *)dword_1540B60;
  v5 = (_WORD *)(dword_1540B60 + 2);
  do
  {
    *v1 |= 0x8000u;
    v1[1] |= 0x4000u;
    LOWORD(v3) = 2 * *v5;
    v1 = (__int16 *)((char *)v1 + v3);
    *(v1 - 1) |= 0x8000u;
    *(v1 - 2) |= 0x4000u;
    if ( dword_1547444 < (unsigned int)v1 )
      v2 = dword_1541C18;
    v6 = v5 + 1;
    v10 = v4;
    v7 = *v6;
    v5 = v6 + 1;
    do
    {
      v8 = (__int16 *)(v2 + 2 * (unsigned __int16)*v5);
      result = *v8;
      *v1 = *v8;
      ++v1;
      ++v5;
      --v7;
    }
    while ( v7 );
    HIWORD(v4) = HIWORD(v10);
    LOWORD(v4) = v10 - 1;
  }
  while ( (_WORD)v10 != 1 );
  return result;
}
// 1330670: using guessed type int dword_1330670;
// 1540B60: using guessed type int dword_1540B60;
// 1541C18: using guessed type int dword_1541C18;
// 1541C20: using guessed type int dword_1541C20;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;
// 1547444: using guessed type int dword_1547444;
// 1547948: using guessed type int dword_1547948;

//----- (00470C10) --------------------------------------------------------
__int16 sub_470C10()
{
  _WORD *v0; // edi
  char *v1; // edx
  int v2; // eax
  int v3; // ecx
  _WORD *v4; // esi
  __int16 *v5; // esi
  __int16 v6; // cx
  char *v7; // ebx
  __int16 result; // ax
  int v9; // [esp-4h] [ebp-10h]

  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v0 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v1 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  HIWORD(v2) = 0;
  v3 = *(unsigned __int16 *)dword_1547438;
  v4 = (_WORD *)(dword_1547438 + 2);
  do
  {
    LOWORD(v2) = 2 * *v4;
    v0 = (_WORD *)((char *)v0 + v2);
    v5 = v4 + 1;
    *(v0 - 1) |= 0x8000u;
    *(v0 - 2) |= 0x4000u;
    v9 = v3;
    v6 = *v5;
    v4 = v5 + 1;
    do
    {
      v7 = &v1[2 * (unsigned __int16)*v4];
      result = *(_WORD *)v7;
      *v0 = *(_WORD *)v7;
      ++v0;
      ++v4;
      --v6;
    }
    while ( v6 );
    *v0 |= 0x8000u;
    v0[1] |= 0x4000u;
    HIWORD(v3) = HIWORD(v9);
    LOWORD(v3) = v9 - 1;
  }
  while ( (_WORD)v9 != 1 );
  return result;
}
// 1540B60: using guessed type int dword_1540B60;
// 1541C20: using guessed type int dword_1541C20;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00470CD0) --------------------------------------------------------
__int16 sub_470CD0()
{
  _WORD *v0; // edi
  char *v1; // edx
  int v2; // ecx
  _WORD *v3; // esi
  _WORD *v4; // esi
  int v5; // ST00_4
  __int16 v6; // bx
  __int16 result; // ax
  int v8; // [esp-4h] [ebp-10h]

  word_133079C = 0;
  dword_1542DE0 = 0;
  dword_1540B68 = 1;
  dword_1542DD8 = 100;
  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v0 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v1 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v2 = *(unsigned __int16 *)dword_1547438;
  v3 = (_WORD *)(dword_1547438 + 2);
  do
  {
    v0 = (_WORD *)((char *)v0 + (unsigned __int16)(2 * *v3));
    v4 = v3 + 1;
    v8 = v2;
    LOWORD(v2) = *v4;
    v3 = v4 + 1;
    do
    {
      v5 = v2;
      v6 = *v3 & 0x1F;
      result = (unsigned __int16)(v6 * dword_13315BC) >> 5;
      LOWORD(v2) = result | v6 * HIWORD(dword_13315BC) & 0x3E0 | ((unsigned __int16)(v6 * word_13315C0) >> 5 << 10);
      *v0 = *(_WORD *)&v1[2 * v2];
      ++v0;
      ++v3;
      HIWORD(v2) = HIWORD(v5);
      LOWORD(v2) = v5 - 1;
    }
    while ( (_WORD)v5 != 1 );
    HIWORD(v2) = HIWORD(v8);
    LOWORD(v2) = v8 - 1;
  }
  while ( (_WORD)v8 != 1 );
  return result;
}
// 133079C: using guessed type __int16 word_133079C;
// 13315BC: using guessed type int dword_13315BC;
// 13315C0: using guessed type __int16 word_13315C0;
// 1540B60: using guessed type int dword_1540B60;
// 1540B68: using guessed type int dword_1540B68;
// 1541C20: using guessed type int dword_1541C20;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00470DD0) --------------------------------------------------------
__int16 sub_470DD0()
{
  _WORD *v0; // edi
  char *v1; // edx
  int v2; // ecx
  _WORD *v3; // esi
  _WORD *v4; // esi
  int v5; // ST00_4
  __int16 v6; // bx
  __int16 result; // ax
  int v8; // [esp-4h] [ebp-10h]

  word_133079C = 0;
  dword_1542DE0 = 0;
  dword_1540B68 = 1;
  dword_1542DD8 = 100;
  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v0 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v1 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v2 = *(unsigned __int16 *)dword_1547438;
  v3 = (_WORD *)(dword_1547438 + 2);
  do
  {
    v0 = (_WORD *)((char *)v0 + (unsigned __int16)(2 * *v3));
    v4 = v3 + 1;
    v8 = v2;
    LOWORD(v2) = *v4;
    v3 = v4 + 1;
    do
    {
      v5 = v2;
      v6 = *v3 & 0x1F;
      result = (unsigned __int16)(v6 * dword_13315BC) >> 5;
      LOWORD(v2) = result | 2 * (v6 * HIWORD(dword_13315BC) & 0x3E0) | ((unsigned __int16)(v6 * word_13315C0) >> 5 << 11);
      *v0 = *(_WORD *)&v1[2 * v2];
      ++v0;
      ++v3;
      HIWORD(v2) = HIWORD(v5);
      LOWORD(v2) = v5 - 1;
    }
    while ( (_WORD)v5 != 1 );
    HIWORD(v2) = HIWORD(v8);
    LOWORD(v2) = v8 - 1;
  }
  while ( (_WORD)v8 != 1 );
  return result;
}
// 133079C: using guessed type __int16 word_133079C;
// 13315BC: using guessed type int dword_13315BC;
// 13315C0: using guessed type __int16 word_13315C0;
// 1540B60: using guessed type int dword_1540B60;
// 1540B68: using guessed type int dword_1540B68;
// 1541C20: using guessed type int dword_1541C20;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00470FF0) --------------------------------------------------------
__int16 sub_470FF0()
{
  _WORD *v0; // edi
  char *v1; // edx
  int v2; // ecx
  _WORD *v3; // esi
  _WORD *v4; // esi
  int v5; // ST00_4
  __int16 v6; // bx
  __int16 result; // ax
  int v8; // [esp-4h] [ebp-10h]

  word_133079C = 0;
  dword_1542DE0 = 0;
  dword_1540B68 = 1;
  dword_1542DD8 = 100;
  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v0 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v1 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v2 = *(unsigned __int16 *)dword_1547438;
  v3 = (_WORD *)(dword_1547438 + 2);
  do
  {
    v0 = (_WORD *)((char *)v0 + (unsigned __int16)(2 * *v3));
    v4 = v3 + 1;
    *(v0 - 1) |= 0x8000u;
    *(v0 - 2) |= 0x4000u;
    v8 = v2;
    LOWORD(v2) = *v4;
    v3 = v4 + 1;
    do
    {
      v5 = v2;
      v6 = *v3 & 0x1F;
      result = (unsigned __int16)(v6 * dword_13315BC) >> 5;
      LOWORD(v2) = result | 2 * (v6 * HIWORD(dword_13315BC) & 0x3E0) | ((unsigned __int16)(v6 * word_13315C0) >> 5 << 11);
      *v0 = *(_WORD *)&v1[2 * v2];
      ++v0;
      ++v3;
      HIWORD(v2) = HIWORD(v5);
      LOWORD(v2) = v5 - 1;
    }
    while ( (_WORD)v5 != 1 );
    v0[1] |= 0x8000u;
    v0[2] |= 0x4000u;
    HIWORD(v2) = HIWORD(v8);
    LOWORD(v2) = v8 - 1;
  }
  while ( (_WORD)v8 != 1 );
  return result;
}
// 133079C: using guessed type __int16 word_133079C;
// 13315BC: using guessed type int dword_13315BC;
// 13315C0: using guessed type __int16 word_13315C0;
// 1540B60: using guessed type int dword_1540B60;
// 1540B68: using guessed type int dword_1540B68;
// 1541C20: using guessed type int dword_1541C20;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00471110) --------------------------------------------------------
__int16 sub_471110()
{
  _WORD *v0; // edi
  char *v1; // edx
  int v2; // ecx
  _WORD *v3; // esi
  _WORD *v4; // esi
  int v5; // ST00_4
  __int16 result; // ax
  int v7; // [esp-4h] [ebp-10h]

  word_133079C = 0;
  dword_1542DE0 = 0;
  dword_1540B68 = 1;
  dword_1542DD8 = 100;
  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v0 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v1 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v2 = *(unsigned __int16 *)dword_1547438;
  v3 = (_WORD *)(dword_1547438 + 2);
  do
  {
    v0 = (_WORD *)((char *)v0 + (unsigned __int16)(2 * *v3));
    v4 = v3 + 1;
    v7 = v2;
    LOWORD(v2) = *v4;
    v3 = v4 + 1;
    do
    {
      v5 = v2;
      LOWORD(v2) = ((unsigned __int16)((*v3 & 0x1F) * dword_13315BC) >> 5) | (*v3 & 0x1F) * HIWORD(dword_13315BC) & 0x3E0 | ((unsigned __int16)((*v3 & 0x1F) * word_13315C0) >> 5 << 10);
      result = word_4BBFA8;
      *v0 = ((unsigned __int16)(word_4BBFA8 & *v0) >> 1)
          + ((unsigned __int16)(word_4BBFA8 & *(_WORD *)&v1[2 * v2]) >> 1);
      ++v0;
      ++v3;
      HIWORD(v2) = HIWORD(v5);
      LOWORD(v2) = v5 - 1;
    }
    while ( (_WORD)v5 != 1 );
    HIWORD(v2) = HIWORD(v7);
    LOWORD(v2) = v7 - 1;
  }
  while ( (_WORD)v7 != 1 );
  return result;
}
// 4BBFA8: using guessed type __int16 word_4BBFA8;
// 133079C: using guessed type __int16 word_133079C;
// 13315BC: using guessed type int dword_13315BC;
// 13315C0: using guessed type __int16 word_13315C0;
// 1540B60: using guessed type int dword_1540B60;
// 1540B68: using guessed type int dword_1540B68;
// 1541C20: using guessed type int dword_1541C20;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00471230) --------------------------------------------------------
__int16 sub_471230()
{
  _WORD *v0; // edi
  char *v1; // edx
  int v2; // ecx
  _WORD *v3; // esi
  _WORD *v4; // esi
  int v5; // ST00_4
  __int16 result; // ax
  int v7; // [esp-4h] [ebp-10h]

  word_133079C = 0;
  dword_1542DE0 = 0;
  dword_1540B68 = 1;
  dword_1542DD8 = 100;
  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v0 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v1 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v2 = *(unsigned __int16 *)dword_1547438;
  v3 = (_WORD *)(dword_1547438 + 2);
  do
  {
    v0 = (_WORD *)((char *)v0 + (unsigned __int16)(2 * *v3));
    v4 = v3 + 1;
    v7 = v2;
    LOWORD(v2) = *v4;
    v3 = v4 + 1;
    do
    {
      v5 = v2;
      LOWORD(v2) = ((unsigned __int16)((*v3 & 0x1F) * dword_13315BC) >> 5) | 2
                                                                           * ((*v3 & 0x1F) * HIWORD(dword_13315BC) & 0x3E0) | ((unsigned __int16)((*v3 & 0x1F) * word_13315C0) >> 5 << 11);
      result = word_4BBFA8;
      *v0 = ((unsigned __int16)(word_4BBFA8 & *v0) >> 1)
          + ((unsigned __int16)(word_4BBFA8 & *(_WORD *)&v1[2 * v2]) >> 1);
      ++v0;
      ++v3;
      HIWORD(v2) = HIWORD(v5);
      LOWORD(v2) = v5 - 1;
    }
    while ( (_WORD)v5 != 1 );
    HIWORD(v2) = HIWORD(v7);
    LOWORD(v2) = v7 - 1;
  }
  while ( (_WORD)v7 != 1 );
  return result;
}
// 4BBFA8: using guessed type __int16 word_4BBFA8;
// 133079C: using guessed type __int16 word_133079C;
// 13315BC: using guessed type int dword_13315BC;
// 13315C0: using guessed type __int16 word_13315C0;
// 1540B60: using guessed type int dword_1540B60;
// 1540B68: using guessed type int dword_1540B68;
// 1541C20: using guessed type int dword_1541C20;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00471350) --------------------------------------------------------
__int16 sub_471350()
{
  _WORD *v0; // edi
  char *v1; // edx
  int v2; // eax
  int v3; // ecx
  _WORD *v4; // esi
  __int16 *v5; // esi
  __int16 v6; // cx
  char *v7; // ebx
  __int16 result; // ax
  int v9; // [esp-4h] [ebp-10h]

  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v0 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v1 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  HIWORD(v2) = 0;
  v3 = *(unsigned __int16 *)dword_1547438;
  v4 = (_WORD *)(dword_1547438 + 2);
  do
  {
    LOWORD(v2) = 2 * *v4;
    v0 = (_WORD *)((char *)v0 + v2);
    v5 = v4 + 1;
    v9 = v3;
    v6 = *v5;
    v4 = v5 + 1;
    do
    {
      v7 = &v1[2 * (unsigned __int16)*v4];
      result = *(_WORD *)v7;
      *v0 = *(_WORD *)v7;
      ++v0;
      ++v4;
      --v6;
    }
    while ( v6 );
    HIWORD(v3) = HIWORD(v9);
    LOWORD(v3) = v9 - 1;
  }
  while ( (_WORD)v9 != 1 );
  return result;
}
// 1540B60: using guessed type int dword_1540B60;
// 1541C20: using guessed type int dword_1541C20;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (004713F0) --------------------------------------------------------
__int16 sub_4713F0()
{
  _WORD *v0; // edi
  char *v1; // edx
  void *v2; // ebx
  int v3; // eax
  int v4; // ecx
  _WORD *v5; // esi
  __int16 *v6; // esi
  __int16 v7; // cx
  char *v8; // ebx
  int v10; // [esp-8h] [ebp-14h]
  void *v11; // [esp-4h] [ebp-10h]

  dword_1541C18 = (int)&unk_147BD4C;
  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v0 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v1 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  v2 = &unk_147BD4C;
  HIWORD(v3) = 0;
  v4 = *(unsigned __int16 *)dword_1547438;
  v5 = (_WORD *)(dword_1547438 + 2);
  do
  {
    LOWORD(v3) = 2 * *v5;
    v0 = (_WORD *)((char *)v0 + v3);
    v6 = v5 + 1;
    if ( (signed int)v0 >= (signed int)v2 )
      break;
    v11 = v2;
    v10 = v4;
    v7 = *v6;
    v5 = v6 + 1;
    do
    {
      v8 = &v1[2 * (unsigned __int16)*v5];
      LOWORD(v3) = *(_WORD *)v8;
      *v0 = *(_WORD *)v8;
      ++v0;
      ++v5;
      --v7;
    }
    while ( v7 );
    HIWORD(v4) = HIWORD(v10);
    v2 = v11;
    LOWORD(v4) = v10 - 1;
  }
  while ( (_WORD)v10 != 1 );
  return v3;
}
// 1540B60: using guessed type int dword_1540B60;
// 1541C18: using guessed type int dword_1541C18;
// 1541C20: using guessed type int dword_1541C20;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (004714B0) --------------------------------------------------------
__int16 sub_4714B0()
{
  char *v0; // ebp
  _WORD *v1; // ecx
  unsigned int v2; // edi
  __int16 result; // ax
  _WORD *v4; // esi
  unsigned __int16 *v5; // esi
  int v6; // edx
  int v7; // eax
  unsigned int v8; // ebx
  int v9; // eax
  int v10; // ebx
  bool v11; // zf

  v0 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  word_133079C = 0;
  v1 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v2 = 1800 * y + 20665232;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C18 = 1800 * y + 20665232;
  dword_1541C1C = (int)&unk_147BD4C;
  dword_1540B60 = dword_1547438;
  dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  result = *(_WORD *)dword_1547438;
  v4 = (_WORD *)(dword_1547438 + 2);
  word_1540B64 = result;
  dword_1540B60 = dword_1547438 + 2;
  if ( result )
  {
    while ( 1 )
    {
      v1 += (unsigned __int16)*v4;
      dword_1542DDC = (int)v1;
      if ( *v4 > 0x190u )
      {
        dword_1542DE0 = ((signed int)((unsigned __int16)*v4
                                    + (-1851608123i64 * (unsigned __int64)(unsigned __int16)*v4 >> 32)) >> 9)
                      + ((unsigned int)((unsigned __int16)*v4
                                      + (-1851608123i64 * (unsigned __int64)(unsigned __int16)*v4 >> 32)) >> 31)
                      + 1;
        v2 += 1800 * dword_1542DE0;
        dword_1541C18 = v2;
      }
      result = dword_1541C1C;
      v5 = v4 + 1;
      dword_1540B60 = (int)v5;
      if ( (unsigned int)v1 > dword_1541C1C )
        return result;
      v6 = *v5;
      v4 = v5 + 1;
      dword_1542DE0 = (unsigned __int16)v6;
      dword_1540B60 = (int)v4;
      if ( (unsigned int)v1 > v2 )
        goto LABEL_8;
      v7 = 2 * v6;
      v8 = (unsigned int)&v1[v6];
      if ( v8 > v2 )
        break;
      v4 = (_WORD *)((char *)v4 + v7);
      v1 += v6;
      dword_1540B60 = (int)v4;
      dword_1542DDC = v8;
      dword_1542DE0 = 0;
LABEL_14:
      result = word_133079C++ + 1;
      if ( (unsigned __int16)word_133079C >= (unsigned __int16)word_1540B64 )
        return result;
    }
    v9 = (signed int)((signed int)v1 + v7 - v2) >> 1;
    v10 = v6 - v9;
    v6 = v9;
    dword_1542DD8 = v10;
    v10 *= 2;
    v4 = (_WORD *)((char *)v4 + v10);
    v1 = (_WORD *)((char *)v1 + v10);
    dword_1542DE0 = v9;
    dword_1540B60 = (int)v4;
    dword_1542DDC = (int)v1;
LABEL_8:
    if ( v6 )
    {
      while ( 1 )
      {
        *v1 = *(_WORD *)&v0[2 * (unsigned __int16)*v4];
        v4 = (_WORD *)(dword_1540B60 + 2);
        v1 = (_WORD *)(dword_1542DDC + 2);
        v11 = dword_1542DE0 == 1;
        dword_1540B60 += 2;
        dword_1542DDC += 2;
        --dword_1542DE0;
        if ( v11 )
          break;
        v0 = (char *)dword_1541C20;
      }
      v2 = dword_1541C18;
      v0 = (char *)dword_1541C20;
    }
    goto LABEL_14;
  }
  return result;
}
// 133079C: using guessed type __int16 word_133079C;
// 1540B60: using guessed type int dword_1540B60;
// 1540B64: using guessed type __int16 word_1540B64;
// 1541C18: using guessed type int dword_1541C18;
// 1541C1C: using guessed type int dword_1541C1C;
// 1541C20: using guessed type int dword_1541C20;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00471680) --------------------------------------------------------
__int16 sub_471680()
{
  __int16 result; // ax
  _WORD *v1; // ecx
  unsigned int v2; // edi
  _WORD *v3; // esi
  char *v4; // ebp
  bool v5; // zf
  unsigned __int16 *v6; // esi
  int v7; // edx
  int v8; // eax
  int v9; // eax

  word_133079C = 0;
  dword_1541C1C = (int)&unk_147BD4C;
  result = dword_1547438;
  v1 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v2 = 1800 * y + 20666832;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C18 = 1800 * y + 20666832;
  dword_1540B60 = dword_1547438;
  if ( (unsigned int)v1 <= v2 )
  {
    v3 = (_WORD *)(dword_1547438 + 2);
    v4 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
    dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
    v5 = *(_WORD *)dword_1547438 == 0;
    word_1540B64 = *(_WORD *)dword_1547438;
    dword_1540B60 = dword_1547438 + 2;
    if ( !v5 )
    {
      do
      {
        v1 += (unsigned __int16)*v3;
        dword_1542DDC = (int)v1;
        if ( *v3 > 0x190u )
        {
          dword_1542DE0 = ((signed int)((unsigned __int16)*v3
                                      + (-1851608123i64 * (unsigned __int64)(unsigned __int16)*v3 >> 32)) >> 9)
                        + ((unsigned int)((unsigned __int16)*v3
                                        + (-1851608123i64 * (unsigned __int64)(unsigned __int16)*v3 >> 32)) >> 31)
                        + 1;
          v2 += 1800 * dword_1542DE0;
          dword_1541C18 = v2;
        }
        result = dword_1541C1C;
        v6 = v3 + 1;
        dword_1540B60 = (int)v6;
        if ( (unsigned int)v1 > dword_1541C1C )
          break;
        v7 = *v6;
        v3 = v6 + 1;
        dword_1542DE0 = (unsigned __int16)v7;
        dword_1540B60 = (int)v3;
        if ( (unsigned int)v1 <= v2 )
        {
          if ( (unsigned int)&v1[v7] <= v2 )
          {
            v8 = 0;
            dword_1542DD8 = 0;
          }
          else
          {
            v8 = (signed int)((signed int)v1 + 2 * v7 - v2) >> 1;
            v7 -= v8;
            dword_1542DD8 = v8;
            dword_1542DE0 = v7;
          }
          if ( v7 )
          {
            while ( 1 )
            {
              *v1 = *(_WORD *)&v4[2 * (unsigned __int16)*v3];
              v3 = (_WORD *)(dword_1540B60 + 2);
              v1 = (_WORD *)(dword_1542DDC + 2);
              v5 = dword_1542DE0 == 1;
              dword_1540B60 += 2;
              dword_1542DDC += 2;
              --dword_1542DE0;
              if ( v5 )
                break;
              v4 = (char *)dword_1541C20;
            }
            v2 = dword_1541C18;
            v4 = (char *)dword_1541C20;
            v8 = dword_1542DD8;
          }
        }
        else
        {
          v8 = v7;
          dword_1542DE0 = 0;
          dword_1542DD8 = v7;
        }
        if ( v8 )
        {
          v9 = 2 * v8;
          dword_1542DD8 = 0;
          v3 = (_WORD *)((char *)v3 + v9);
          v1 = (_WORD *)((char *)v1 + v9);
          dword_1540B60 = (int)v3;
          dword_1542DDC = (int)v1;
        }
        result = word_133079C++ + 1;
      }
      while ( (unsigned __int16)word_133079C < (unsigned __int16)word_1540B64 );
    }
  }
  return result;
}
// 133079C: using guessed type __int16 word_133079C;
// 1540B60: using guessed type int dword_1540B60;
// 1540B64: using guessed type __int16 word_1540B64;
// 1541C18: using guessed type int dword_1541C18;
// 1541C1C: using guessed type int dword_1541C1C;
// 1541C20: using guessed type int dword_1541C20;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00471860) --------------------------------------------------------
__int16 sub_471860()
{
  char *v0; // ebp
  _WORD *v1; // ecx
  unsigned int v2; // edi
  __int16 result; // ax
  _WORD *v4; // esi
  _WORD *v5; // esi
  int v6; // edx
  int v7; // eax
  unsigned int v8; // ebx
  int v9; // eax
  int v10; // ebx
  bool v11; // zf

  word_133079C = 0;
  v0 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  dword_1540B60 = dword_1547438;
  v1 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v2 = 1800 * y + 20665232;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C18 = 1800 * y + 20665232;
  dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
  result = *(_WORD *)dword_1547438;
  v4 = (_WORD *)(dword_1547438 + 2);
  word_1540B64 = result;
  dword_1540B60 = dword_1547438 + 2;
  if ( result )
  {
    while ( 1 )
    {
      v1 += (unsigned __int16)*v4;
      dword_1542DDC = (int)v1;
      if ( *v4 > 0x190u )
      {
        dword_1542DE0 = ((signed int)((unsigned __int16)*v4
                                    + (-1851608123i64 * (unsigned __int64)(unsigned __int16)*v4 >> 32)) >> 9)
                      + ((unsigned int)((unsigned __int16)*v4
                                      + (-1851608123i64 * (unsigned __int64)(unsigned __int16)*v4 >> 32)) >> 31)
                      + 1;
        v2 += 1800 * dword_1542DE0;
        dword_1541C18 = v2;
      }
      v5 = v4 + 1;
      HIWORD(v6) = 0;
      dword_1540B60 = (int)v5;
      LOWORD(v6) = *v5;
      v4 = v5 + 1;
      dword_1542DE0 = (unsigned __int16)v6;
      dword_1540B60 = (int)v4;
      if ( (unsigned int)v1 > v2 )
        goto LABEL_7;
      v7 = 2 * v6;
      v8 = (unsigned int)&v1[v6];
      if ( v8 > v2 )
        break;
      v4 = (_WORD *)((char *)v4 + v7);
      v1 += v6;
      dword_1540B60 = (int)v4;
      dword_1542DDC = v8;
      dword_1542DE0 = 0;
LABEL_13:
      result = word_133079C++ + 1;
      if ( (unsigned __int16)word_133079C >= (unsigned __int16)word_1540B64 )
        return result;
    }
    v9 = (signed int)((signed int)v1 + v7 - v2) >> 1;
    v10 = v6 - v9;
    v6 = v9;
    dword_1542DD8 = v10;
    v10 *= 2;
    v4 = (_WORD *)((char *)v4 + v10);
    v1 = (_WORD *)((char *)v1 + v10);
    dword_1542DE0 = v9;
    dword_1540B60 = (int)v4;
    dword_1542DDC = (int)v1;
LABEL_7:
    if ( v6 )
    {
      while ( 1 )
      {
        *v1 = *(_WORD *)&v0[2 * (unsigned __int16)*v4];
        v4 = (_WORD *)(dword_1540B60 + 2);
        v1 = (_WORD *)(dword_1542DDC + 2);
        v11 = dword_1542DE0 == 1;
        dword_1540B60 += 2;
        dword_1542DDC += 2;
        --dword_1542DE0;
        if ( v11 )
          break;
        v0 = (char *)dword_1541C20;
      }
      v2 = dword_1541C18;
      v0 = (char *)dword_1541C20;
    }
    goto LABEL_13;
  }
  return result;
}
// 133079C: using guessed type __int16 word_133079C;
// 1540B60: using guessed type int dword_1540B60;
// 1540B64: using guessed type __int16 word_1540B64;
// 1541C18: using guessed type int dword_1541C18;
// 1541C20: using guessed type int dword_1541C20;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00471A20) --------------------------------------------------------
__int16 sub_471A20()
{
  __int16 result; // ax
  _WORD *v1; // ecx
  unsigned int v2; // edi
  _WORD *v3; // esi
  char *v4; // ebp
  bool v5; // zf
  _WORD *v6; // esi
  int v7; // edx
  int v8; // eax
  int v9; // eax

  word_133079C = 0;
  result = dword_1547438;
  v1 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v2 = 1800 * y + 20666832;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  dword_1541C18 = 1800 * y + 20666832;
  dword_1540B60 = dword_1547438;
  if ( (unsigned int)v1 <= v2 )
  {
    v3 = (_WORD *)(dword_1547438 + 2);
    v4 = (char *)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
    dword_1541C20 = (int)&unk_6C8628 + 0x20000 * (unsigned __int8)dword_1547948;
    v5 = *(_WORD *)dword_1547438 == 0;
    word_1540B64 = *(_WORD *)dword_1547438;
    dword_1540B60 = dword_1547438 + 2;
    if ( !v5 )
    {
      do
      {
        v1 += (unsigned __int16)*v3;
        dword_1542DDC = (int)v1;
        if ( *v3 > 0x190u )
        {
          dword_1542DE0 = ((signed int)((unsigned __int16)*v3
                                      + (-1851608123i64 * (unsigned __int64)(unsigned __int16)*v3 >> 32)) >> 9)
                        + ((unsigned int)((unsigned __int16)*v3
                                        + (-1851608123i64 * (unsigned __int64)(unsigned __int16)*v3 >> 32)) >> 31)
                        + 1;
          v2 += 1800 * dword_1542DE0;
          dword_1541C18 = v2;
        }
        v6 = v3 + 1;
        HIWORD(v7) = 0;
        dword_1540B60 = (int)v6;
        LOWORD(v7) = *v6;
        v3 = v6 + 1;
        dword_1542DE0 = (unsigned __int16)v7;
        dword_1540B60 = (int)v3;
        if ( (unsigned int)v1 <= v2 )
        {
          if ( (unsigned int)&v1[v7] <= v2 )
          {
            v8 = 0;
            dword_1542DD8 = 0;
          }
          else
          {
            v8 = (signed int)((signed int)v1 + 2 * v7 - v2) >> 1;
            v7 -= v8;
            dword_1542DD8 = v8;
            dword_1542DE0 = v7;
          }
          if ( v7 )
          {
            while ( 1 )
            {
              *v1 = *(_WORD *)&v4[2 * (unsigned __int16)*v3];
              v3 = (_WORD *)(dword_1540B60 + 2);
              v1 = (_WORD *)(dword_1542DDC + 2);
              v5 = dword_1542DE0 == 1;
              dword_1540B60 += 2;
              dword_1542DDC += 2;
              --dword_1542DE0;
              if ( v5 )
                break;
              v4 = (char *)dword_1541C20;
            }
            v2 = dword_1541C18;
            v4 = (char *)dword_1541C20;
            v8 = dword_1542DD8;
          }
        }
        else
        {
          v8 = v7;
          dword_1542DE0 = 0;
          dword_1542DD8 = v7;
        }
        if ( v8 )
        {
          v9 = 2 * v8;
          dword_1542DD8 = 0;
          v3 = (_WORD *)((char *)v3 + v9);
          v1 = (_WORD *)((char *)v1 + v9);
          dword_1540B60 = (int)v3;
          dword_1542DDC = (int)v1;
        }
        result = word_133079C++ + 1;
      }
      while ( (unsigned __int16)word_133079C < (unsigned __int16)word_1540B64 );
    }
  }
  return result;
}
// 133079C: using guessed type __int16 word_133079C;
// 1540B60: using guessed type int dword_1540B60;
// 1540B64: using guessed type __int16 word_1540B64;
// 1541C18: using guessed type int dword_1541C18;
// 1541C20: using guessed type int dword_1541C20;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00471BF0) --------------------------------------------------------
__int16 sub_471BF0()
{
  int v0; // edx
  _WORD *v1; // edi
  __int16 v2; // dx
  int v3; // eax
  int v4; // ecx
  _WORD *v5; // esi
  __int16 *v6; // esi
  __int16 v7; // cx
  __int16 result; // ax
  int v9; // [esp-4h] [ebp-10h]

  v0 = x + 900 * y;
  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * v0 + 20665232;
  v1 = (_WORD *)(2 * v0 + 20665232);
  v2 = word_4BBFA8;
  HIWORD(v3) = 0;
  v4 = *(unsigned __int16 *)dword_1547438;
  v5 = (_WORD *)(dword_1547438 + 2);
  do
  {
    LOWORD(v3) = 2 * *v5;
    v1 = (_WORD *)((char *)v1 + v3);
    v6 = v5 + 1;
    v9 = v4;
    v7 = *v6;
    v5 = v6 + 1;
    do
    {
      result = ((unsigned __int16)(v2 & *v5) >> 1) + ((unsigned __int16)(v2 & *v1) >> 1);
      *v1 = result;
      ++v1;
      ++v5;
      --v7;
    }
    while ( v7 );
    HIWORD(v4) = HIWORD(v9);
    LOWORD(v4) = v9 - 1;
  }
  while ( (_WORD)v9 != 1 );
  return result;
}
// 4BBFA8: using guessed type __int16 word_4BBFA8;
// 1540B60: using guessed type int dword_1540B60;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;

//----- (00471D80) --------------------------------------------------------
int sub_471D80()
{
  _WORD *v0; // edi
  char *v1; // edx
  int result; // eax
  int v3; // ecx
  _WORD *v4; // esi
  __int16 *v5; // esi
  __int16 v6; // cx
  __int16 v7; // ST00_2
  int v8; // [esp-4h] [ebp-10h]

  dword_1540B60 = dword_1547438;
  dword_1542DDC = 2 * (x + 900 * y) + 20665232;
  v0 = (_WORD *)(2 * (x + 900 * y) + 20665232);
  v1 = (char *)&unk_8C899C + 1024 * (unsigned __int8)dword_1547948;
  HIWORD(result) = 0;
  v3 = *(unsigned __int16 *)dword_1547438;
  v4 = (_WORD *)(dword_1547438 + 2);
  do
  {
    LOWORD(result) = 2 * *v4;
    v0 = (_WORD *)((char *)v0 + result);
    v5 = v4 + 1;
    v8 = v3;
    v6 = *v5;
    v4 = v5 + 1;
    do
    {
      v7 = v6;
      result = (unsigned __int8)v1[(unsigned __int16)(32 * (*v4 & 0x1F)) + (*v0 & 0x1F)];
      *v0 = result | 32 * (unsigned __int8)v1[(unsigned __int16)(32 * ((*v4 >> 5) & 0x1F)) + ((*v0 >> 5) & 0x1F)] | ((unsigned __int8)v1[(unsigned __int16)(32 * (*v4 >> 10)) + (unsigned __int16)(*v0 >> 10)] << 10);
      ++v0;
      ++v4;
      --v6;
    }
    while ( v7 != 1 );
    HIWORD(v3) = HIWORD(v8);
    LOWORD(v3) = v8 - 1;
  }
  while ( (_WORD)v8 != 1 );
  return result;
}
// 1540B60: using guessed type int dword_1540B60;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00471E80) --------------------------------------------------------
unsigned __int16 sub_471E80()
{
  _WORD *v0; // edi
  int v1; // ecx
  _WORD *v2; // esi
  _WORD *v3; // esi
  signed int v4; // ecx
  _WORD *v5; // esi
  _WORD *v6; // edi
  char *v7; // edx
  __int16 v8; // cx
  int v9; // eax
  int v10; // ebx
  unsigned __int16 result; // ax
  __int16 v12; // [esp-8h] [ebp-14h]
  int v13; // [esp-4h] [ebp-10h]
  signed int v14; // [esp-4h] [ebp-10h]

  dword_1542DDC = (int)&unk_13315CC;
  dword_1540B60 = dword_1547438;
  dword_133078C = 2 * (x + 900 * (y + 300)) + 20125232;
  dword_1541C20 = 1800 * (dword_1330678 - 1) + 20125132;
  v0 = &unk_13315CC;
  v1 = *(unsigned __int16 *)dword_1547438;
  v2 = (_WORD *)(dword_1547438 + 2);
  do
  {
    v13 = v1;
    LOWORD(v1) = *v2;
    v3 = v2 + 1;
    while ( v1 )
    {
      *v0 = 1984;
      ++v0;
      --v1;
    }
    LOWORD(v1) = *v3;
    v2 = v3 + 1;
    while ( v1 )
    {
      *v0 = *v2;
      ++v2;
      ++v0;
      --v1;
    }
    HIWORD(v1) = HIWORD(v13);
    LOWORD(v1) = v13 - 1;
  }
  while ( (_WORD)v13 != 1 );
  LOWORD(v1) = dword_133067C;
  while ( v1 )
  {
    *v0 = 1984;
    ++v0;
    --v1;
  }
  v4 = 31;
  v5 = (_WORD *)dword_133078C;
  v6 = (_WORD *)dword_1541C20;
  do
  {
    v7 = (char *)&unk_8C899C + 1024 * (unsigned __int16)dword_1547948;
    v14 = v4;
    v8 = dword_133067C;
    do
    {
      v12 = v8;
      HIWORD(v9) = 0;
      HIWORD(v10) = 0;
      if ( *v6 != 1984 )
      {
        LOWORD(v10) = 32 * (*v6 >> 11);
        LOWORD(v9) = *v5 >> 11;
        *v5 = (unsigned __int8)v7[(unsigned __int16)(32 * (*v6 & 0x1F)) + (*v5 & 0x1F)] | ((unsigned __int8)v7[(unsigned __int16)(32 * ((*v6 >> 6) & 0x1F)) + ((*v5 >> 6) & 0x1F)] << 6) | ((unsigned __int8)v7[v10 + v9] << 11);
      }
      ++v6;
      ++v5;
      --v8;
    }
    while ( v12 != 1 );
    v5 = (_WORD *)((char *)v5 + (unsigned __int16)(2 * (900 - dword_133067C)));
    result = 2 * (dword_133067C + 900);
    v6 = (_WORD *)((char *)v6 - result);
    HIWORD(v4) = HIWORD(v14);
    LOBYTE(dword_1547948) = dword_1547948 + 1;
    LOWORD(v4) = v14 - 1;
  }
  while ( (_WORD)v14 != 1 );
  return result;
}
// 1330678: using guessed type int dword_1330678;
// 133067C: using guessed type int dword_133067C;
// 133078C: using guessed type int dword_133078C;
// 1540B60: using guessed type int dword_1540B60;
// 1541C20: using guessed type int dword_1541C20;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00472010) --------------------------------------------------------
unsigned __int16 sub_472010()
{
  _WORD *v0; // edi
  int v1; // ecx
  _WORD *v2; // esi
  _WORD *v3; // esi
  signed int v4; // ecx
  _WORD *v5; // esi
  _WORD *v6; // edi
  char *v7; // edx
  __int16 v8; // cx
  int v9; // eax
  int v10; // ebx
  unsigned __int16 result; // ax
  __int16 v12; // [esp-8h] [ebp-14h]
  int v13; // [esp-4h] [ebp-10h]
  signed int v14; // [esp-4h] [ebp-10h]

  dword_1542DDC = (int)&unk_13315CC;
  dword_1540B60 = dword_1547438;
  dword_133078C = 2 * (x + 900 * (y + 300)) + 20125232;
  dword_1541C20 = 1800 * (dword_1330678 - 1) + 20125132;
  v0 = &unk_13315CC;
  v1 = *(unsigned __int16 *)dword_1547438;
  v2 = (_WORD *)(dword_1547438 + 2);
  do
  {
    v13 = v1;
    LOWORD(v1) = *v2;
    v3 = v2 + 1;
    while ( v1 )
    {
      *v0 = 992;
      ++v0;
      --v1;
    }
    LOWORD(v1) = *v3;
    v2 = v3 + 1;
    while ( v1 )
    {
      *v0 = *v2;
      ++v2;
      ++v0;
      --v1;
    }
    HIWORD(v1) = HIWORD(v13);
    LOWORD(v1) = v13 - 1;
  }
  while ( (_WORD)v13 != 1 );
  LOWORD(v1) = dword_133067C;
  while ( v1 )
  {
    *v0 = 992;
    ++v0;
    --v1;
  }
  v4 = 31;
  v5 = (_WORD *)dword_133078C;
  v6 = (_WORD *)dword_1541C20;
  do
  {
    v7 = (char *)&unk_8C899C + 1024 * (unsigned __int16)dword_1547948;
    v14 = v4;
    v8 = dword_133067C;
    do
    {
      v12 = v8;
      HIWORD(v9) = 0;
      HIWORD(v10) = 0;
      if ( *v6 != 992 )
      {
        LOWORD(v10) = 32 * (*v6 >> 10);
        LOWORD(v9) = *v5 >> 10;
        *v5 = (unsigned __int8)v7[(unsigned __int16)(32 * (*v6 & 0x1F)) + (*v5 & 0x1F)] | 32
                                                                                        * (unsigned __int8)v7[(unsigned __int16)(32 * ((*v6 >> 5) & 0x1F)) + ((*v5 >> 5) & 0x1F)] | ((unsigned __int8)v7[v10 + v9] << 10);
      }
      ++v6;
      ++v5;
      --v8;
    }
    while ( v12 != 1 );
    v5 = (_WORD *)((char *)v5 + (unsigned __int16)(2 * (900 - dword_133067C)));
    result = 2 * (dword_133067C + 900);
    v6 = (_WORD *)((char *)v6 - result);
    HIWORD(v4) = HIWORD(v14);
    LOBYTE(dword_1547948) = dword_1547948 + 1;
    LOWORD(v4) = v14 - 1;
  }
  while ( (_WORD)v14 != 1 );
  return result;
}
// 1330678: using guessed type int dword_1330678;
// 133067C: using guessed type int dword_133067C;
// 133078C: using guessed type int dword_133078C;
// 1540B60: using guessed type int dword_1540B60;
// 1541C20: using guessed type int dword_1541C20;
// 1542DDC: using guessed type int dword_1542DDC;
// 1547438: using guessed type int dword_1547438;
// 1547948: using guessed type int dword_1547948;

//----- (00472360) --------------------------------------------------------
__int64 sub_472360()
{
  _WORD *v0; // edi
  __int16 v1; // bx
  int v2; // ecx
  __int64 v4; // [esp-20h] [ebp-2Ch]

  dword_1541BD8 = 0;
  word_133079C = 0;
  dword_1540B68 = 1;
  dword_1542DD8 = 1800;
  dword_133078C = x + 900 * y + 270050;
  dword_1542DE0 = x + 900 * y + 270050;
  dword_1542DDC = 2 * dword_133078C + 20125132;
  HIDWORD(v4) = 2 * dword_133078C + 20125132;
  LODWORD(v4) = x + 900 * y + 270050;
  v0 = (_WORD *)(2 * dword_133078C + 20125132);
  v1 = word_8D3C02;
  v2 = dword_1330678;
  do
  {
    *v0 |= v1;
    v0 += 900;
    --v2;
  }
  while ( v2 );
  return v4;
}
// 4BBFA8: using guessed type __int16 word_4BBFA8;
// 8D3C02: using guessed type __int16 word_8D3C02;
// 1330678: using guessed type int dword_1330678;
// 133078C: using guessed type int dword_133078C;
// 133079C: using guessed type __int16 word_133079C;
// 1540B68: using guessed type int dword_1540B68;
// 1541BD8: using guessed type int dword_1541BD8;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;

//----- (004723F0) --------------------------------------------------------
__int16 sub_4723F0()
{
  int v0; // edi
  int v1; // esi
  __int16 result; // ax
  __int16 *v3; // edi
  __int16 *v4; // edi
  int v5; // edi
  int v6; // esi
  __int16 *v7; // edi

  dword_1541BD8 = 0;
  word_133079C = 0;
  dword_1540B68 = 1;
  dword_1542DD8 = 1800;
  dword_133078C = x + 900 * y + 270050;
  dword_1542DE0 = x + 900 * y + 270050;
  dword_1542DDC = 2 * dword_133078C + 20125132;
  if ( dword_1330678 == 1 )
  {
    result = word_8D3C00;
    *(_WORD *)dword_1542DDC = word_8D3C00;
  }
  else if ( dword_1330678 == 2 )
  {
    v5 = dword_1542DDC;
    v6 = dword_1542DD8;
    result = word_8D3C00;
    *(_WORD *)dword_1542DDC = word_8D3C00;
    v7 = (__int16 *)(v6 + v5);
    *(v7 - 1) = result;
    *v7 = result;
    v7[1] = result;
    *(__int16 *)((char *)v7 + v6) = result;
  }
  else
  {
    v0 = dword_1542DDC;
    v1 = dword_1542DD8;
    result = word_8D3C00;
    *(_WORD *)dword_1542DDC = word_8D3C00;
    *(_WORD *)(v0 + 2) = result;
    v3 = (__int16 *)(v1 + v0);
    *(v3 - 1) = result;
    *v3 = result;
    v3[1] = result;
    v3[2] = result;
    v4 = (__int16 *)((char *)v3 + v1);
    *v4 = result;
    v4[1] = result;
  }
  return result;
}
// 8D3C00: using guessed type __int16 word_8D3C00;
// 1330678: using guessed type int dword_1330678;
// 133078C: using guessed type int dword_133078C;
// 133079C: using guessed type __int16 word_133079C;
// 1540B68: using guessed type int dword_1540B68;
// 1541BD8: using guessed type int dword_1541BD8;
// 1542DD8: using guessed type int dword_1542DD8;
// 1542DDC: using guessed type int dword_1542DDC;
// 1542DE0: using guessed type int dword_1542DE0;

//----- (004724D0) --------------------------------------------------------
_DWORD *sub_4724D0()
{
  LPCSTR v0; // ecx
  LPCSTR v1; // eax
  int v2; // ecx
  unsigned __int8 v3; // al
  int v4; // ebp
  __int16 v5; // ax
  int v6; // esi
  int v7; // edi
  int v8; // ecx
  unsigned int v9; // eax
  int v10; // ecx
  LPCSTR v11; // esi
  int v12; // edi
  int v13; // ebp
  bool v14; // cf
  signed int v15; // edi
  _DWORD *v16; // esi
  char *v17; // ecx
  _DWORD *result; // eax
  signed int v19; // edx
  int v20; // [esp+10h] [ebp-10h]
  LPCSTR *v21; // [esp+10h] [ebp-10h]
  signed int v22; // [esp+14h] [ebp-Ch]
  float v23; // [esp+14h] [ebp-Ch]
  int v24; // [esp+18h] [ebp-8h]
  int v25; // [esp+18h] [ebp-8h]
  int v26; // [esp+1Ch] [ebp-4h]

  v0 = (&lpString)[dword_131D690];
  if ( *((_DWORD *)v0 + 159) == 110 )
  {
    *((_BYTE *)v0 + 64) = 3;
  }
  else
  {
    if ( byte_1328EC3[284 * byte_1329448] )
    {
      if ( byte_1328EC3[284 * byte_1329448] == 1 )
      {
        *((_BYTE *)v0 + 64) = 10;
      }
      else if ( byte_1328EC3[284 * byte_1329448] == 2 )
      {
        *((_BYTE *)v0 + 64) = 14;
      }
    }
    else
    {
      *((_BYTE *)v0 + 64) = 8;
    }
    if ( dword_48CF84 != -1 && dword_48CF84 == 195 )
      *((_BYTE *)(&lpString)[dword_131D690] + 64) = 22;
    v1 = (&lpString)[dword_131D690];
    v2 = *((_DWORD *)v1 + 187);
    if ( v2 == 704 || v2 == 706 || v2 == 502 )
      *((_BYTE *)v1 + 64) = 14;
  }
  if ( dword_489A00[(unsigned __int16)word_131ABFE] )
  {
    byte_1547959 = 15;
    sub_46FEF0(252645135);
  }
  else if ( dword_13225E0 || *((_DWORD *)(&lpString)[dword_131D690] + 159) == 110 )
  {
    sub_46FEF0(0);
  }
  else
  {
    v3 = byte_1547959;
    if ( (unsigned __int8)byte_1547959 > 0xFu )
    {
      v3 = 15;
      byte_1547959 = 15;
    }
    sub_46FEF0(v3);
  }
  v4 = -20;
  v26 = dword_154794C / 40;
  v22 = 63;
  v24 = dword_1547950 / 20;
  do
  {
    v5 = 40 - 7 * (byte_1328E45 != 0);
    if ( v5 > -20 )
    {
      v6 = v5;
      v7 = (unsigned __int16)v24 + v4;
      v20 = v5 + 20;
      do
      {
        if ( v7 <= 0 )
          goto LABEL_39;
        if ( v7 >= dword_1540B50 - 1 )
          goto LABEL_39;
        v8 = v6 + (unsigned __int16)v26;
        if ( v8 <= 0 || v8 >= dword_1540B4C - 1 )
          goto LABEL_39;
        v9 = *((_DWORD *)dword_1330790 + 2 * ((unsigned __int16)v26 + v6 + dword_1540B4C * v7) + 1);
        if ( v9 == -1 || v9 < 0x10000 )
        {
          if ( v9 != 454 && v9 != 459 )
            goto LABEL_39;
        }
        else if ( !dword_48B740[v9 >> 7] || *((_DWORD *)(&lpString)[dword_131D690] + 159) == 110 )
        {
          goto LABEL_39;
        }
        sub_46FF20(v6, v4, 12);
LABEL_39:
        --v6;
        --v20;
      }
      while ( v20 );
    }
    ++v4;
    --v22;
  }
  while ( v22 );
  v10 = 0;
  v25 = 0;
  if ( dword_1317E74 )
  {
    v21 = &lpString;
    do
    {
      v11 = *v21;
      if ( v10 == dword_131D690 || *((_DWORD *)(&lpString)[dword_131D690] + 159) != 110 )
      {
        v23 = *((float *)v11 + 30) - *((float *)v11 + 29);
        if ( (signed int)(signed __int64)(v23 * 0.02 + (double)*((unsigned __int8 *)v11 + 64)) > 0
          && (*((_DWORD *)v11 + 42) != 1009 || *((_WORD *)v11 + 88)) )
        {
          v12 = dword_154794C / -40 - (unsigned __int64)(signed __int64)(*((float *)v11 + 28) * -0.025);
          v13 = dword_1547950 / -20 - (unsigned __int64)(signed __int64)(*((float *)v11 + 30) * -0.050000001);
          if ( (signed __int64)*((float *)v11 + 28) % 40 <= 2
            && (signed __int64)*((float *)v11 + 30) % 20 <= 2
            && (*((float *)v11 + 40) > 0.0 && *((float *)v11 + 41) < 0.0
             || *((float *)v11 + 40) < 0.0 && *((float *)v11 + 41) > 0.0) )
          {
            --v12;
          }
          if ( v12 > -10 && v12 < 30 && v13 > -10 && v13 < 40 )
            sub_46FF20(v12, v13, v11[64] + (char)(signed __int64)v23 / 50);
        }
      }
      v10 = v25 + 1;
      v14 = v25++ + 1 < (unsigned int)dword_1317E74;
      ++v21;
    }
    while ( v14 );
  }
  v15 = 20;
  v16 = &unk_1543A90;
  do
  {
    v17 = (char *)&unk_1540D56 + v15;
    result = v16;
    v19 = 45;
    do
    {
      *result = *v17 << 17;
      result += 70;
      v17 += 70;
      --v19;
    }
    while ( v19 );
    ++v16;
    ++v15;
  }
  while ( (signed int)v16 < (signed int)&unk_1543B28 );
  return result;
}
// 48CF84: using guessed type int dword_48CF84;
// 1317E74: using guessed type int dword_1317E74;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131D690: using guessed type int dword_131D690;
// 13225E0: using guessed type int dword_13225E0;
// 1328E45: using guessed type char byte_1328E45;
// 1329448: using guessed type char byte_1329448;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;
// 1547959: using guessed type char byte_1547959;

//----- (00472910) --------------------------------------------------------
__int16 sub_472910()
{
  signed int v0; // ebx
  unsigned int v1; // eax
  signed __int16 *v2; // esi
  int v3; // edx
  int v4; // eax
  int v5; // ecx
  char *v6; // esi
  char v7; // cl
  __int16 v8; // ax
  int v9; // edx
  int v10; // eax
  signed int v11; // edi
  int v12; // eax
  int v13; // ecx
  int v14; // edx
  signed __int16 *v15; // esi
  int v16; // eax
  int v17; // ecx
  int v18; // edx
  char *v19; // esi
  char v20; // cl
  __int16 v21; // ax
  int v22; // edx
  int v23; // eax
  signed int v24; // edi
  int v25; // eax
  int v26; // ecx
  int v27; // edx

  v0 = 0;
  if ( (_BYTE)dword_48EB10 )
  {
    if ( (unsigned __int8)dword_48EB10 == 1 )
    {
      v1 = (unsigned int)dword_154795C >> 5;
      if ( (signed int)((unsigned int)dword_154795C >> 5) > 0 )
      {
        v6 = (char *)&unk_1547463;
        do
        {
          v7 = *v6;
          if ( *v6 < 0 || (v8 = *(_WORD *)(v6 - 9), v8 < *(_WORD *)(v6 - 7)) )
          {
            v12 = *(signed __int16 *)(v6 - 9);
            v13 = *(signed __int16 *)(v6 - 5);
            x = *(signed __int16 *)(v6 - 11);
            y = v12;
            v14 = *(signed __int16 *)(v6 - 3);
            dword_1330678 = v13;
            dword_133067C = v14;
            sub_472360();
          }
          else
          {
            v9 = *(signed __int16 *)(v6 - 11);
            y = v8;
            v10 = *(v6 - 1);
            x = v9 - 3;
            v11 = 0;
            dword_1547438 = dword_8D5EB8[3 * v10];
            if ( v7 > 0 )
            {
              do
              {
                dword_1541C10();
                ++v11;
              }
              while ( v11 < *v6 );
            }
          }
          ++v0;
          v1 = (unsigned int)dword_154795C >> 5;
          v6 += 12;
        }
        while ( v0 < (signed int)((unsigned int)dword_154795C >> 5) );
      }
    }
    else
    {
      LOWORD(v1) = (unsigned __int8)dword_48EB10 - 2;
      if ( (unsigned __int8)dword_48EB10 == 2 )
      {
        v1 = (unsigned int)dword_154795C >> 5;
        if ( (signed int)((unsigned int)dword_154795C >> 5) > 0 )
        {
          v2 = (signed __int16 *)&unk_13307AE;
          do
          {
            v3 = *(v2 - 2);
            v4 = *v2;
            x = *(v2 - 3);
            y = v3;
            v5 = v2[1];
            dword_1330678 = v4;
            dword_133067C = v5;
            LOWORD(v1) = sub_4723F0();
            ++v0;
            v2 += 6;
          }
          while ( v0 < (signed int)((unsigned int)dword_154795C >> 5) );
        }
      }
    }
  }
  else
  {
    LOWORD(v1) = BYTE1(dword_48EB10) - 1;
    if ( BYTE1(dword_48EB10) == 1 )
    {
      if ( (signed int)((unsigned int)dword_154795C >> 5) > 0 )
      {
        v19 = (char *)&unk_1547463;
        do
        {
          v20 = *v19;
          if ( *v19 < 0 || (v21 = *(_WORD *)(v19 - 9), v21 < *(_WORD *)(v19 - 7)) )
          {
            v25 = *(signed __int16 *)(v19 - 9);
            v26 = *(signed __int16 *)(v19 - 5);
            x = *(signed __int16 *)(v19 - 11);
            y = v25;
            v27 = *(signed __int16 *)(v19 - 3);
            dword_1330678 = v26;
            dword_133067C = v27;
            sub_472360();
          }
          else
          {
            v22 = *(signed __int16 *)(v19 - 11);
            y = v21;
            v23 = *(v19 - 1);
            x = v22 - 3;
            v24 = 0;
            dword_1547438 = dword_8D5EB8[3 * v23];
            if ( v20 > 0 )
            {
              do
              {
                dword_1541C10();
                ++v24;
              }
              while ( v24 < *v19 );
            }
          }
          ++v0;
          v1 = (unsigned int)dword_154795C >> 5;
          v19 += 12;
        }
        while ( v0 < (signed int)((unsigned int)dword_154795C >> 5) );
      }
    }
    else
    {
      LOWORD(v1) = BYTE1(dword_48EB10) - 2;
      if ( BYTE1(dword_48EB10) == 2 && (signed int)((unsigned int)dword_154795C >> 5) > 0 )
      {
        v15 = (signed __int16 *)&unk_13307AE;
        do
        {
          v16 = *(v15 - 2);
          v17 = *v15;
          x = *(v15 - 3);
          y = v16;
          v18 = v15[1];
          dword_1330678 = v17;
          dword_133067C = v18;
          sub_4723F0();
          ++v0;
          v1 = (unsigned int)dword_154795C >> 5;
          v15 += 6;
        }
        while ( v0 < (signed int)((unsigned int)dword_154795C >> 5) );
      }
    }
  }
  return v1;
}
// 48EB10: using guessed type int dword_48EB10;
// 1330678: using guessed type int dword_1330678;
// 133067C: using guessed type int dword_133067C;
// 1541C10: using guessed type int (*dword_1541C10)(void);
// 1547438: using guessed type int dword_1547438;
// 154795C: using guessed type int dword_154795C;

//----- (00472B40) --------------------------------------------------------
__int16 sub_472B40()
{
  LPCSTR v0; // eax
  signed int v1; // edi
  signed int v2; // ebp
  int v3; // eax
  unsigned int v4; // eax
  _WORD *v5; // esi
  int v6; // eax
  __int64 v7; // rtt
  __int16 v8; // dx
  __int16 v9; // cx
  int v10; // ecx
  int v11; // eax
  int v12; // edx
  int v13; // eax
  unsigned int v14; // ecx
  __int16 v15; // dx
  __int16 v16; // di
  char *v17; // esi
  __int16 v18; // cx
  __int16 v19; // bp
  char v20; // al
  char v21; // al
  __int16 v22; // ax
  __int16 v23; // cx
  __int16 v24; // ax
  __int16 v25; // cx
  _WORD *v26; // esi
  int v27; // eax
  __int64 v28; // rtt
  __int16 v29; // dx
  __int16 v30; // cx
  signed int v31; // ebx
  int v32; // ecx
  int v33; // edx
  int v34; // edi
  char *v35; // esi
  signed __int16 v36; // bp
  char v37; // al
  char v38; // al
  __int16 v39; // ax
  __int16 v40; // ax
  signed int v42; // [esp+10h] [ebp-4h]

  v0 = (&lpString)[dword_131D690];
  v1 = 0;
  v2 = 0;
  v42 = 0;
  if ( v0[174] == 2 )
  {
    switch ( *((unsigned __int8 *)v0 + 173) )
    {
      case 0u:
        dword_1547908 = 4;
        goto LABEL_11;
      case 1u:
        dword_1547908 = 4;
        dword_154790C = 0;
        break;
      case 2u:
        dword_1547908 = 4;
        dword_154790C = 2;
        break;
      case 3u:
        dword_1547908 = 0;
        dword_154790C = 2;
        break;
      case 4u:
        dword_1547908 = -4;
        dword_154790C = 2;
        break;
      case 5u:
        dword_1547908 = -4;
        dword_154790C = 0;
        break;
      case 6u:
        dword_1547908 = -4;
        goto LABEL_11;
      case 7u:
        dword_1547908 = 0;
LABEL_11:
        dword_154790C = -2;
        break;
      default:
        break;
    }
    if ( !dword_1319238 )
      dword_1547908 = 0;
    if ( !dword_1319498 )
      dword_154790C = 0;
    v2 = 0;
  }
  else
  {
    dword_154790C = 0;
    dword_1547908 = 0;
  }
  if ( (_BYTE)dword_48EB10 )
  {
    if ( (unsigned __int8)dword_48EB10 == 1 )
    {
      v10 = dword_154795C;
      if ( (unsigned __int8)byte_1547958 >= 5u && (unsigned __int8)byte_1547958 <= 0x16u
        || (dword_154795C & 0xFFFFFFE0) <= 0x280 )
      {
        if ( (unsigned __int8)dword_1547450 == 1 )
        {
          byte_1547959 = BYTE2(dword_1330674);
        }
        else if ( (unsigned __int8)dword_1547450 == 2 )
        {
          byte_1547959 = BYTE2(dword_1330674);
        }
      }
      else if ( (_BYTE)dword_1547450 )
      {
        if ( (unsigned __int8)dword_1547450 == 1 )
        {
          if ( (_BYTE)dword_1330674 )
          {
            if ( (unsigned __int8)dword_1330674 == 1 && (unsigned __int8)--byte_1547959 <= BYTE2(dword_1330674) )
            {
              LOBYTE(dword_1330674) = 0;
              if ( !byte_133066C )
                LOBYTE(dword_1547450) = 0;
            }
          }
          else if ( (unsigned __int8)byte_133066C <= 1u )
          {
            byte_1547959 = 11;
            LOBYTE(dword_1330674) = 1;
            byte_133066C = 0;
          }
          else
          {
            LOBYTE(dword_1330674) = 1;
            byte_1547959 = BYTE1(dword_1330674);
            --byte_133066C;
          }
        }
        else if ( (unsigned __int8)dword_1547450 == 2 )
        {
          if ( (_BYTE)dword_1330674 )
          {
            if ( (unsigned __int8)dword_1330674 == 1 && (unsigned __int8)--byte_1547959 <= BYTE2(dword_1330674) )
            {
              LOBYTE(dword_1330674) = 0;
              LOBYTE(dword_1547450) = 0;
            }
          }
          else
          {
            byte_1547959 = 11;
            LOBYTE(dword_1330674) = 1;
          }
        }
      }
      else if ( ++dword_1330798 > (unsigned int)dword_1540B54 )
      {
        v11 = rand();
        LOBYTE(dword_1547450) = v11 % 3;
        v12 = v11 % 100;
        v13 = (unsigned __int8)(v11 % 3) - 1;
        dword_1540B54 = v12 + 100;
        if ( v13 )
        {
          if ( v13 == 1 )
          {
            LOBYTE(dword_1330674) = 0;
            BYTE2(dword_1330674) = byte_1547959;
            sub_416860(63, 0, 0, 0, 0);
          }
        }
        else
        {
          byte_133066C = 2;
          LOBYTE(dword_1330674) = 0;
          if ( (unsigned __int8)byte_1547959 >= 9u )
            BYTE1(dword_1330674) = 11;
          else
            BYTE1(dword_1330674) = byte_1547959 + 3;
          BYTE2(dword_1330674) = byte_1547959;
          sub_416860(62, 0, 0, 0, 0);
        }
        v10 = dword_154795C;
        dword_1330798 = 0;
      }
      v14 = v10 + 2;
      dword_154795C = v14;
      if ( (v14 & 0xFFFFFFE0) > 0xC80 )
      {
        v14 = 3200;
        dword_154795C = 3200;
      }
      LOWORD(v3) = sub_416700(57, (v14 >> 5) - 30 * dword_13225E4);
      if ( (signed int)((unsigned int)dword_154795C >> 5) > 0 )
      {
        v15 = dword_1547908;
        v16 = dword_154790C;
        v17 = (char *)&unk_1547463;
        do
        {
          v18 = *(_WORD *)(v17 - 9);
          v19 = *(_WORD *)(v17 - 7);
          if ( v18 < v19 )
          {
            *(_WORD *)(v17 - 5) += 2;
            v22 = v18 + *(_WORD *)(v17 - 5);
            v23 = *(_WORD *)(v17 - 11) + *(_WORD *)(v17 - 3);
            v24 = v16 + v22;
            *(_WORD *)(v17 - 9) = v24;
            v25 = v15 + v23;
            *(_WORD *)(v17 - 11) = v25;
            if ( v24 < -40 || v25 < -10 || v25 > 810 )
            {
              *(_WORD *)(v17 - 9) = v19;
              *(v17 - 1) = 0;
            }
          }
          else
          {
            v20 = *v17;
            if ( *v17 )
            {
              *(_WORD *)(v17 - 11) += v15;
              *(_WORD *)(v17 - 9) = v16 + v18;
              *v17 = v20 - 1;
            }
            else
            {
              *(_WORD *)(v17 - 11) = rand() % 800;
              *(_WORD *)(v17 - 7) = rand() % 500;
              *(_WORD *)(v17 - 9) = *(_WORD *)(v17 - 7) - rand() % 30 - 60;
              *(_WORD *)(v17 - 5) = rand() % 10 + 2;
              *(_WORD *)(v17 - 3) = rand() % 3 - 1;
              v21 = rand() % 2;
              v15 = dword_1547908;
              v16 = dword_154790C;
              *(v17 - 1) = v21;
              *v17 = 4;
            }
          }
          LOWORD(v3) = v42 + 1;
          v17 += 12;
          ++v42;
        }
        while ( v42 < (signed int)((unsigned int)dword_154795C >> 5) );
      }
    }
    else
    {
      LOWORD(v3) = (unsigned __int8)dword_48EB10 - 2;
      if ( (unsigned __int8)dword_48EB10 == 2 )
      {
        v4 = ++dword_154795C;
        if ( (dword_154795C & 0xFFFFFFE0) > 0x2580 )
        {
          v4 = 9600;
          dword_154795C = 9600;
        }
        v3 = v4 >> 5;
        if ( v3 > 0 )
        {
          v5 = &unk_13307AC;
          do
          {
            if ( *(v5 - 1) < *v5 )
            {
              LOWORD(v3) = rand() % 4 - 2;
              v8 = dword_154790C + v5[1];
              v5[2] = v3;
              *(v5 - 1) += v8;
              v9 = *(v5 - 1);
              LOWORD(v3) = *(v5 - 2) + dword_1547908 + v3;
              *(v5 - 2) = v3;
              if ( v9 < -40 || (signed __int16)v3 < -10 || (signed __int16)v3 > 810 )
              {
                LOWORD(v3) = *v5;
                *(v5 - 1) = *v5;
              }
            }
            else
            {
              *(v5 - 2) = rand() % 800;
              *v5 = rand() % 500;
              *(v5 - 1) = *v5 - rand() % 30 - 60;
              v6 = rand();
              v7 = v6;
              v3 = v6 / 5;
              v5[1] = (unsigned __int64)(v7 % 5) + 1;
            }
            ++v2;
            v5 += 6;
          }
          while ( v2 < (signed int)((unsigned int)dword_154795C >> 5) );
        }
      }
    }
  }
  else
  {
    LOWORD(v3) = dword_154795C;
    if ( dword_154795C & 0xFFFFFFE0 )
    {
      v3 = dword_154795C - 10;
      dword_154795C -= 10;
      if ( BYTE1(dword_48EB10) == 1 )
      {
        v31 = 0;
        sub_416700(57, ((unsigned int)v3 >> 5) - 30 * dword_13225E4);
        v3 = (unsigned int)dword_154795C >> 5;
        if ( (signed int)((unsigned int)dword_154795C >> 5) > 0 )
        {
          v33 = dword_1547908;
          v34 = dword_154790C;
          v35 = (char *)&unk_1547463;
          do
          {
            LOWORD(v32) = *(_WORD *)(v35 - 9);
            v36 = *(_WORD *)(v35 - 7);
            if ( (signed __int16)v32 < v36 )
            {
              *(_WORD *)(v35 - 5) += 2;
              v39 = v32 + *(_WORD *)(v35 - 5);
              LOWORD(v32) = *(_WORD *)(v35 - 11) + *(_WORD *)(v35 - 3);
              v40 = v34 + v39;
              *(_WORD *)(v35 - 9) = v40;
              v32 += v33;
              *(_WORD *)(v35 - 11) = v32;
              if ( v40 < -40 || (signed __int16)v32 < -10 || (signed __int16)v32 > 810 )
              {
                *(_WORD *)(v35 - 9) = v36;
                *(v35 - 1) = 0;
              }
            }
            else
            {
              v37 = *v35;
              if ( *v35 )
              {
                *(_WORD *)(v35 - 11) += v33;
                v32 += v34;
                *(_WORD *)(v35 - 9) = v32;
                *v35 = v37 - 1;
              }
              else
              {
                *(_WORD *)(v35 - 11) = rand() % 800;
                *(_WORD *)(v35 - 7) = rand() % 500;
                *(_WORD *)(v35 - 9) = *(_WORD *)(v35 - 7) - rand() % 30 - 60;
                *(_WORD *)(v35 - 5) = rand() % 10 + 2;
                *(_WORD *)(v35 - 3) = rand() % 3 - 1;
                v38 = rand() % 2;
                v33 = dword_1547908;
                v34 = dword_154790C;
                *(v35 - 1) = v38;
                *v35 = 4;
              }
            }
            ++v31;
            v3 = (unsigned int)dword_154795C >> 5;
            v35 += 12;
          }
          while ( v31 < (signed int)((unsigned int)dword_154795C >> 5) );
        }
      }
      else if ( BYTE1(dword_48EB10) == 2 )
      {
        v3 = (unsigned int)v3 >> 5;
        if ( v3 > 0 )
        {
          v26 = &unk_13307AC;
          do
          {
            if ( *(v26 - 1) < *v26 )
            {
              LOWORD(v3) = rand() % 4 - 2;
              v29 = dword_154790C + v26[1];
              v26[2] = v3;
              *(v26 - 1) += v29;
              v30 = *(v26 - 1);
              LOWORD(v3) = *(v26 - 2) + dword_1547908 + v3;
              *(v26 - 2) = v3;
              if ( v30 < -40 || (signed __int16)v3 < -10 || (signed __int16)v3 > 810 )
              {
                LOWORD(v3) = *v26;
                *(v26 - 1) = *v26;
              }
            }
            else
            {
              *(v26 - 2) = rand() % 800;
              *v26 = rand() % 500;
              *(v26 - 1) = *v26 - rand() % 30 - 60;
              v27 = rand();
              v28 = v27;
              v3 = v27 / 5;
              v26[1] = (unsigned __int64)(v28 % 5) + 1;
            }
            ++v1;
            v26 += 6;
          }
          while ( v1 < (signed int)((unsigned int)dword_154795C >> 5) );
        }
      }
    }
    else
    {
      dword_154795C = 0;
      BYTE1(dword_48EB10) = dword_48EB10;
    }
  }
  return v3;
}
// 48EB10: using guessed type int dword_48EB10;
// 1319238: using guessed type int dword_1319238;
// 1319498: using guessed type int dword_1319498;
// 131D690: using guessed type int dword_131D690;
// 13225E4: using guessed type int dword_13225E4;
// 133066C: using guessed type char byte_133066C;
// 1330674: using guessed type int dword_1330674;
// 1330798: using guessed type int dword_1330798;
// 1540B54: using guessed type int dword_1540B54;
// 1547450: using guessed type int dword_1547450;
// 1547908: using guessed type int dword_1547908;
// 154790C: using guessed type int dword_154790C;
// 1547958: using guessed type char byte_1547958;
// 1547959: using guessed type char byte_1547959;
// 154795C: using guessed type int dword_154795C;

//----- (00473340) --------------------------------------------------------
__int16 __cdecl sub_473340(int a1)
{
  unsigned int v1; // ecx
  int v2; // eax

  v1 = *(_DWORD *)(a1 + 168);
  switch ( v1 )
  {
    case 0x65u:
    case 0x66u:
    case 0x67u:
    case 0x69u:
    case 0x72u:
    case 0x73u:
    case 0x74u:
    case 0x77u:
    case 0x78u:
    case 0x79u:
    case 0x7Au:
    case 0x7Bu:
    case 0x7Du:
    case 0x7Eu:
    case 0x7Fu:
    case 0x80u:
    case 0x81u:
    case 0x82u:
    case 0x83u:
    case 0x84u:
    case 0x85u:
    case 0x8Eu:
    case 0x8Fu:
    case 0x90u:
    case 0x91u:
    case 0x92u:
    case 0x93u:
    case 0x94u:
    case 0x95u:
    case 0x96u:
    case 0x97u:
    case 0x98u:
    case 0x99u:
    case 0x9Au:
    case 0x9Bu:
    case 0x9Eu:
    case 0x9Fu:
    case 0xA0u:
      v2 = *(unsigned __int16 *)(a1 + 756) - (unsigned __int16)dword_13246DC;
      if ( v2 >= 2 )
      {
        if ( v2 >= 7 )
        {
          if ( v2 >= 10 )
            LOWORD(v2) = v2 >= 20 ? 32640 : 31775;
          else
            LOWORD(v2) = 1057;
        }
        else
        {
          LOWORD(v2) = 31744;
        }
      }
      else
      {
        LOWORD(v2) = -1;
      }
      break;
    case 0x6Au:
    case 0x6Bu:
    case 0x6Cu:
    case 0x6Du:
    case 0x6Eu:
    case 0x6Fu:
    case 0x70u:
    case 0x71u:
    case 0x76u:
    case 0x7Cu:
    case 0x8Du:
    case 0x9Cu:
    case 0x9Du:
    case 0xA1u:
      goto LABEL_10;
    default:
      if ( v1 < 0xC8 )
        v2 = (unsigned __int8)dword_1330680 | 32
                                            * ((unsigned __int8)dword_1330784 | 32 * (unsigned __int8)dword_1330794);
      else
LABEL_10:
        LOWORD(v2) = -1;
      break;
  }
  return v2;
}
// 13246DC: using guessed type int dword_13246DC;
// 1330680: using guessed type int dword_1330680;
// 1330784: using guessed type int dword_1330784;
// 1330794: using guessed type int dword_1330794;

//----- (00473440) --------------------------------------------------------
int sub_473440()
{
  bool v0; // zf
  bool v1; // sf
  unsigned __int8 v2; // of
  int v3; // eax
  int v4; // eax
  int v5; // edx
  int v6; // ecx
  int v7; // ebx
  int v8; // esi
  char *v9; // edi
  char *v10; // esi
  signed int v11; // edx
  int v12; // edx
  char *v13; // eax
  signed int v14; // ecx
  signed int v15; // eax
  __int16 *v16; // edi
  unsigned __int16 *v17; // esi
  char *v18; // ebx
  int v19; // ecx
  signed int v20; // ecx
  int v21; // edx
  char *v22; // eax
  signed int v23; // ecx
  signed int v24; // eax
  __int16 *v25; // edi
  unsigned __int16 *v26; // esi
  char *v27; // ebx
  int v28; // ecx
  signed int v29; // ecx
  int v30; // edi
  signed __int64 v31; // rax
  int v32; // esi
  int v33; // ebx
  int v34; // ecx
  int v35; // eax
  int v36; // esi
  int v37; // eax
  int v38; // esi
  int v39; // edx
  int v40; // ecx
  int v41; // eax
  LPCSTR v42; // esi
  int v43; // edi
  int v44; // eax
  int v45; // ecx
  int v46; // ebx
  int v47; // esi
  signed __int16 *v48; // eax
  int v49; // edi
  int v50; // edx
  signed __int16 *v51; // eax
  int v52; // esi
  int v53; // esi
  double v54; // st7
  int v55; // ebx
  int v56; // eax
  char v57; // al
  unsigned int v58; // edi
  int v59; // eax
  int v60; // ecx
  int v61; // edi
  int v62; // ecx
  signed int v63; // eax
  int v64; // eax
  int v65; // ebx
  int v66; // ebx
  double v67; // st7
  int v68; // edx
  int v69; // ecx
  int v70; // eax
  int v71; // edx
  int v72; // ecx
  int v73; // ecx
  int v74; // edi
  int v75; // eax
  int v76; // ebx
  int v77; // edi
  int v78; // eax
  int v79; // ecx
  int v80; // edx
  int v81; // eax
  signed __int16 v82; // ax
  int v83; // eax
  int v84; // ecx
  int v85; // eax
  int v86; // eax
  int v87; // edx
  int v88; // eax
  int v89; // ecx
  int v90; // eax
  int v91; // ecx
  int v92; // eax
  int v93; // ecx
  int v94; // eax
  int v95; // eax
  int v96; // edx
  int v97; // eax
  int v98; // ecx
  int v99; // eax
  int v100; // ecx
  int v101; // edx
  int v102; // ecx
  int v103; // eax
  __int16 v104; // ax
  unsigned int v105; // ecx
  unsigned int v106; // edx
  int v107; // eax
  signed __int16 v108; // ax
  int v109; // eax
  int v110; // eax
  int v111; // eax
  __int16 v112; // cx
  int v113; // eax
  int v114; // ecx
  int v115; // edi
  int v116; // eax
  signed __int16 *v117; // ecx
  int v118; // edi
  int v119; // ebx
  int v120; // eax
  unsigned int v121; // ecx
  int v122; // edx
  int v123; // eax
  int v124; // eax
  int v125; // eax
  int v126; // edi
  int v127; // eax
  int v128; // edx
  int v129; // ebx
  int v130; // ecx
  int v131; // eax
  int v132; // eax
  int v133; // ecx
  char v134; // dl
  int v135; // eax
  int v136; // eax
  int v137; // eax
  int v138; // edi
  int v139; // eax
  int v140; // edx
  unsigned __int16 v141; // cx
  int v142; // eax
  int v143; // edi
  int v144; // esi
  unsigned int v145; // ecx
  int v146; // ecx
  int v147; // ebx
  signed __int16 *v148; // eax
  int v149; // ecx
  int v150; // ecx
  unsigned int v151; // ecx
  unsigned int v152; // eax
  signed __int16 *v153; // ecx
  int v154; // eax
  int v155; // ebx
  int v156; // ecx
  int v157; // ebx
  LPCSTR v158; // edx
  LPCSTR v159; // edx
  int v160; // edx
  int v161; // eax
  char *v162; // ebx
  int v163; // ecx
  int v164; // esi
  int v165; // edi
  unsigned int v166; // eax
  int v167; // eax
  signed __int16 *v168; // eax
  char v169; // al
  int v170; // ecx
  int v171; // edi
  int v172; // ebx
  unsigned int v173; // ecx
  int v174; // esi
  int v175; // ecx
  char v176; // al
  unsigned int v177; // ecx
  signed __int16 *v178; // eax
  int v179; // esi
  int v180; // ecx
  signed __int16 *v181; // eax
  int v182; // ecx
  int result; // eax
  int v184; // ebx
  signed int v185; // edx
  int v186; // esi
  double v187; // st7
  int v188; // eax
  int v189; // edx
  int v190; // ebx
  int v191; // edi
  int v192; // edi
  int v193; // eax
  int v194; // ecx
  int v195; // eax
  int v196; // eax
  int v197; // eax
  int v198; // edx
  int v199; // eax
  int v200; // edx
  int v201; // eax
  int v202; // ecx
  int v203; // eax
  int v204; // ecx
  int v205; // eax
  int v206; // eax
  int v207; // edx
  int v208; // eax
  int v209; // edx
  int v210; // eax
  int v211; // ecx
  int v212; // eax
  unsigned __int16 v213; // ax
  int v214; // edi
  int v215; // eax
  int v216; // eax
  int v217; // edx
  int v218; // ecx
  __int16 *v219; // [esp-8h] [ebp-464h]
  int v220; // [esp-8h] [ebp-464h]
  int v221; // [esp-8h] [ebp-464h]
  char v222; // [esp+Ch] [ebp-450h]
  char v223; // [esp+110h] [ebp-34Ch]
  char v224; // [esp+214h] [ebp-248h]
  char v225; // [esp+318h] [ebp-144h]
  int v226; // [esp+41Ch] [ebp-40h]
  int v227; // [esp+420h] [ebp-3Ch]
  int v228; // [esp+424h] [ebp-38h]
  int v229; // [esp+428h] [ebp-34h]
  int v230; // [esp+42Ch] [ebp-30h]
  int v231; // [esp+430h] [ebp-2Ch]
  int v232; // [esp+434h] [ebp-28h]
  char *v233; // [esp+438h] [ebp-24h]
  unsigned int v234; // [esp+43Ch] [ebp-20h]
  unsigned int v235; // [esp+440h] [ebp-1Ch]
  int v236; // [esp+444h] [ebp-18h]
  int v237; // [esp+448h] [ebp-14h]
  char *v238; // [esp+44Ch] [ebp-10h]
  int v239; // [esp+450h] [ebp-Ch]
  int v240; // [esp+454h] [ebp-8h]
  int v241; // [esp+458h] [ebp-4h]

  dword_1322600 = 0;
  if ( dword_13225A0 )
  {
    v2 = __OFSUB__(dword_13225B0 + 1, 1000);
    v0 = dword_13225B0 == 999;
    v1 = dword_13225B0++ - 999 < 0;
    if ( !((unsigned __int8)(v1 ^ v2) | v0) )
    {
      dword_13225A0 = 0;
      *((_DWORD *)(&lpString)[dword_131D690] + 45) = 0;
    }
  }
  if ( dword_13225A4 )
  {
    v2 = __OFSUB__(dword_13225B4 + 1, 1000);
    v0 = dword_13225B4 == 999;
    v1 = dword_13225B4++ - 999 < 0;
    if ( !((unsigned __int8)(v1 ^ v2) | v0) )
      dword_13225A4 = 0;
  }
  v3 = *((_DWORD *)(&lpString)[dword_131D690] + 159);
  if ( v3 == 200 )
  {
    dword_13225A0 = 0;
    dword_13225A4 = 0;
    dword_13225AC = 1;
  }
  else if ( v3 != -1 )
  {
    dword_13225A0 = 0;
    dword_13225A4 = 0;
    dword_13225AC = 0;
  }
  if ( dword_154798C )
  {
    if ( dword_154798C == 1 && !--dword_1547990 )
      dword_154798C = 0;
  }
  else
  {
    v2 = __OFSUB__(dword_1547990 + 1, 11);
    v0 = dword_1547990 == 10;
    v1 = dword_1547990++ - 10 < 0;
    if ( !((unsigned __int8)(v1 ^ v2) | v0) )
      dword_154798C = 1;
  }
  if ( dword_13225EC )
  {
    v4 = dword_13225F0-- - 1;
    if ( dword_13225F0 )
    {
      switch ( dword_132258C & 7 )
      {
        case 0:
          v5 = v4 + dword_154794C;
          goto LABEL_28;
        case 1:
          dword_154794C += v4;
          break;
        case 2:
          v6 = v4 + dword_1547950;
          dword_154794C += v4;
          goto LABEL_30;
        case 3:
          goto LABEL_25;
        case 4:
          dword_154794C -= v4;
LABEL_25:
          v6 = v4 + dword_1547950;
          goto LABEL_30;
        case 5:
          dword_154794C -= v4;
          break;
        case 6:
          v5 = dword_154794C - v4;
LABEL_28:
          dword_154794C = v5;
          goto LABEL_29;
        case 7:
LABEL_29:
          v6 = dword_1547950 - v4;
LABEL_30:
          dword_1547950 = v6;
          break;
        default:
          break;
      }
      if ( dword_154794C >= 0 )
      {
        if ( dword_154794C > 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0) )
          dword_154794C = 8 * (5 * dword_1540B4C - 100) + 290 * (byte_1328E45 != 0);
      }
      else
      {
        dword_154794C = 0;
      }
      if ( dword_1547950 >= 0 )
      {
        if ( dword_1547950 > 4 * (5 * dword_1540B50 - 125) )
          dword_1547950 = 4 * (5 * dword_1540B50 - 125);
      }
      else
      {
        dword_1547950 = 0;
      }
    }
    else
    {
      dword_13225EC = 0;
    }
  }
  v7 = dword_154794C / 40;
  v230 = dword_154794C / 40;
  v8 = dword_1547950 / 20;
  v227 = dword_1547950 / 20;
  LOBYTE(v228) = dword_154794C % 40;
  LOBYTE(v229) = dword_1547950 % 20;
  if ( dword_489820[(unsigned __int16)word_131ABFE] )
  {
    v241 = (int)word_13B5390;
    if ( --dword_48EB14 < 0 )
      dword_48EB14 = 799;
    v234 = (unsigned int)dword_8C87A4 + 2 * dword_48EB14;
    v9 = (char *)v241;
    v10 = (char *)dword_8C87A4 + 2 * dword_48EB14;
    v11 = 460;
    do
    {
      qmemcpy(v9, v10, 0x640u);
      v10 += 1600;
      v9 += 1800;
      --v11;
    }
    while ( v11 );
    LOWORD(v8) = v227;
  }
  v233 = (char *)(unsigned __int8)v229;
  v231 = (unsigned __int8)v228;
  v241 = (int)&word_13B5390[-((unsigned __int8)v228 + 900 * (unsigned __int8)v229)];
  v219 = &word_13B5390[-((unsigned __int8)v228 + 900 * (unsigned __int8)v229)];
  if ( byte_1328E45 )
  {
    if ( (byte_1328E45 != 0) == 1 )
    {
      v7 = (unsigned __int16)v7;
      v12 = (unsigned __int16)v8;
      v13 = (char *)&unk_1543DD8;
      v235 = (unsigned __int16)v7;
      v240 = (unsigned __int16)v8;
      v238 = (char *)&unk_1543DD8;
      do
      {
        v14 = 0;
        v241 = (int)v13;
        v239 = 0;
        do
        {
          v15 = *((unsigned __int16 *)dword_1330790 + 4 * (v14 + v7 + dword_1540B4C * v12));
          if ( (signed int)(unsigned __int16)v15 <= 6991 || v15 >= 7000 )
          {
            v236 = *(_DWORD *)v241;
            v234 = dword_1208200[(unsigned __int8)dword_1547960 + 4 * v15];
            v16 = v219;
            v17 = (unsigned __int16 *)v234;
            v18 = (char *)&unk_4BDF00 + v236;
            v19 = 20;
            do
            {
              v220 = v19;
              v20 = 40;
              do
              {
                *v16 = *(_WORD *)&v18[2 * *v17];
                ++v16;
                ++v17;
                --v20;
              }
              while ( v20 );
              v16 += 860;
              v19 = v220 - 1;
            }
            while ( v220 != 1 );
            v219 = v16 - 17960;
            v12 = v240;
            v7 = v235;
            v14 = v239;
          }
          else
          {
            v219 += 40;
          }
          v239 = ++v14;
          v241 += 280;
        }
        while ( v14 < 14 );
        v219 += 17440;
        ++v12;
        v13 = v238 + 4;
        v240 = v12;
        v238 = v13;
      }
      while ( (signed int)v13 < (signed int)&unk_1543E38 );
    }
  }
  else
  {
    v7 = (unsigned __int16)v7;
    v21 = (unsigned __int16)v8;
    v22 = (char *)&unk_1543DD8;
    v235 = (unsigned __int16)v7;
    v240 = (unsigned __int16)v8;
    v238 = (char *)&unk_1543DD8;
    do
    {
      v23 = 0;
      v241 = (int)v22;
      v239 = 0;
      do
      {
        v24 = *((unsigned __int16 *)dword_1330790 + 4 * (v23 + v7 + dword_1540B4C * v21));
        if ( (signed int)(unsigned __int16)v24 <= 6991 || v24 >= 7000 )
        {
          v236 = *(_DWORD *)v241;
          v234 = dword_1208200[(unsigned __int8)dword_1547960 + 4 * v24];
          v25 = v219;
          v26 = (unsigned __int16 *)v234;
          v27 = (char *)&unk_4BDF00 + v236;
          v28 = 20;
          do
          {
            v221 = v28;
            v29 = 40;
            do
            {
              *v25 = *(_WORD *)&v27[2 * *v26];
              ++v25;
              ++v26;
              --v29;
            }
            while ( v29 );
            v25 += 860;
            v28 = v221 - 1;
          }
          while ( v221 != 1 );
          v219 = v25 - 17960;
          v21 = v240;
          v7 = v235;
          v23 = v239;
        }
        else
        {
          v219 += 40;
        }
        v239 = ++v23;
        v241 += 280;
      }
      while ( v23 < 21 );
      v219 += 17160;
      ++v21;
      v22 = v238 + 4;
      v240 = v21;
      v238 = v22;
    }
    while ( (signed int)v22 < (signed int)&unk_1543E38 );
  }
  v241 = 0;
  memset(&unk_1541C24, 0, 0x1180u);
  if ( dword_1317E74 > 0 )
  {
    v234 = (unsigned int)&lpString;
    do
    {
      v30 = *(_DWORD *)v234;
      v31 = (signed __int64)*(float *)(*(_DWORD *)v234 + 112);
      v32 = (unsigned __int16)v31;
      v33 = (unsigned __int16)v31 - dword_154794C;
      v34 = (unsigned __int16)(signed __int64)*(float *)(*(_DWORD *)v234 + 120);
      v35 = v34 - dword_1547950;
      if ( v33 > -1 && v33 < 840 && v35 > -1 && v35 < 600 )
      {
        switch ( *(unsigned __int8 *)(v30 + 48) )
        {
          case 1u:
          case 2u:
          case 3u:
          case 4u:
          case 6u:
            if ( *(_DWORD *)(v30 + 168) == 200 )
            {
              v38 = (unsigned __int16)(signed __int64)(*(float *)(v30 + 112) + 20.0) / 40 - dword_154794C / 40;
              v39 = (unsigned __int16)(signed __int64)(*(float *)(v30 + 120) + 40.0) / 20;
            }
            else
            {
              v38 = v32 / 40 - dword_154794C / 40;
              v39 = v34 / 20;
            }
            v40 = v38 + 28 * (v39 - dword_1547950 / 20);
            v41 = dword_1541C34[v40];
            if ( v41 )
              *(_DWORD *)(v30 + 632) = v41;
            dword_1541C34[v40] = v30;
            break;
          case 5u:
            if ( *(_DWORD *)(v30 + 168) != 1009 || *(_WORD *)(v30 + 176) )
            {
              v36 = v32 / 40 - dword_154794C / 40 + 28 * (v34 / 20 - dword_1547950 / 20 + 1);
              v37 = dword_1541C34[v36];
              if ( v37 )
                *(_DWORD *)(v30 + 632) = v37;
              dword_1541C34[v36] = v30;
            }
            break;
          default:
            break;
        }
      }
      v2 = __OFSUB__(v241 + 1, dword_1317E74);
      v1 = v241++ + 1 - dword_1317E74 < 0;
      v234 += 4;
    }
    while ( v1 ^ v2 );
  }
  if ( ++dword_154797C > *(unsigned __int16 *)dword_8D4C58 - 1 )
    dword_154797C = 0;
  if ( ++dword_1547980 > *(unsigned __int16 *)dword_8D4C94 - 1 )
    dword_1547980 = 0;
  if ( ++dword_1547984 > *(unsigned __int16 *)dword_8D4CA4 - 1 )
    dword_1547984 = 0;
  if ( ++dword_1547988 > *(unsigned __int16 *)dword_8D4CA8 - 1 )
    dword_1547988 = 0;
  if ( dword_48CCE4 == -1 )
    goto LABEL_113;
  v42 = (&lpString)[dword_48CCE4];
  v43 = (signed __int16)(signed __int64)*((float *)v42 + 28) - dword_154794C;
  v44 = (signed __int16)(signed __int64)*((float *)v42 + 30) - dword_1547950;
  if ( *((_DWORD *)v42 + 45) )
    goto LABEL_112;
  v45 = *((_DWORD *)v42 + 159);
  if ( v45 == 214 || v45 == 224 )
    goto LABEL_112;
  if ( v43 - 40 > dword_49D89C
    || v43 + 40 < dword_49D89C
    || v44 - 40 > dword_49D8A0
    || v44 + 30 < dword_49D8A0
    || *((_DWORD *)v42 + 42) == 237 )
  {
    if ( *((_DWORD *)(&lpString)[dword_131D690] + 150) || byte_1330124 )
      goto LABEL_113;
    goto LABEL_112;
  }
  if ( *((_DWORD *)v42 + 23) == 1 )
LABEL_112:
    dword_48CCE4 = -1;
LABEL_113:
  v237 = 0;
  do
  {
    v46 = 24 - 7 * (byte_1328E45 != 0);
    v239 = v46;
    if ( v46 > -4 )
    {
      v226 = 28 * v237;
      while ( 1 )
      {
        if ( dword_1322614
          && *((_WORD *)dword_1330790
             + 4 * (dword_1540B4C * (v237 + (unsigned __int16)v227) + v46 + (unsigned __int16)v230)) == 2168 )
        {
          v47 = (signed __int16)(40 * v46 - (unsigned __int8)v228);
          v48 = (signed __int16 *)(dword_13107AC + 12 * *(_DWORD *)(*(_DWORD *)(dword_8D4CA4 + 4) + 4 * dword_1547984));
          v49 = (signed __int16)(20 * v237 - (unsigned __int8)v229);
          v50 = *v48 + v47 + 38;
          x = *v48 + v47 + 38;
          y = v48[1] + v49 - 145;
          dword_1547438 = *((_DWORD *)v48 + 2);
          if ( y > -300 && v50 > -140 && v50 < 720 )
            dword_1541C10();
          v51 = (signed __int16 *)(dword_13107CC + 12 * *(_DWORD *)(*(_DWORD *)(dword_8D4CA8 + 4) + 4 * dword_1547988));
          v52 = *v51 + v47 + 38;
          x = v52;
          y = v49 + v51[1];
          dword_1547438 = *((_DWORD *)v51 + 2);
          if ( y > -300 && v52 > -140 && v52 < 720 )
            dword_1541C10();
        }
        v53 = dword_1541C34[v46 + v226];
        if ( v53 )
        {
          while ( 1 )
          {
            v54 = *(float *)(v53 + 116);
            v55 = (signed __int16)(signed __int64)*(float *)(v53 + 112) - dword_154794C;
            v236 = (signed __int16)(signed __int64)*(float *)(v53 + 112) - dword_154794C;
            v240 = (signed __int16)(signed __int64)v54 - dword_1547950;
            if ( dword_13225A4 || !*(_DWORD *)(v53 + 180) )
            {
              v56 = *(_DWORD *)(v53 + 636);
              if ( v56 != 214 && v56 != 224 && *(_DWORD *)(v53 + 52) != dword_131D690 )
              {
                v57 = *(_BYTE *)(v53 + 48);
                if ( v57 == 2 || v57 == 3 || v57 == 4 )
                {
                  v58 = *(_DWORD *)(v53 + 168);
                  if ( v58 != 237
                    && !*((_DWORD *)(&lpString)[dword_131D690] + 150)
                    && dword_48CCE4 == -1
                    && v55 - 20 < dword_49D89C
                    && v55 + 20 > dword_49D89C )
                  {
                    v59 = (signed __int16)(signed __int64)*(float *)(v53 + 120) - dword_1547950;
                    if ( v59 - 20 < dword_49D8A0
                      && v59 + 20 > dword_49D8A0
                      && (v58 < 0xF3 || v58 > 0xF2 && (unsigned __int16)dword_13246DC < 2u) )
                    {
                      if ( !strcmp((const char *)v53, byte_49D994) && !*(_DWORD *)(v53 + 68) )
                      {
                        byte_1550B60[0] = -9;
                        byte_1550B61[0] = 113;
                        LOBYTE(dword_1550B62) = 56;
                        *(int *)((char *)&dword_1550B62 + 1) = *(_DWORD *)(v53 + 56);
                        sub_479790(7);
                      }
                      dword_48CCE4 = *(_DWORD *)(v53 + 52);
                    }
                  }
                }
              }
            }
            switch ( *(unsigned __int8 *)(v53 + 48) )
            {
              case 1u:
                v138 = *(_DWORD *)(v53 + 168);
                v139 = 8 * *(signed __int16 *)(v53 + 604);
                v140 = *(unsigned __int8 *)(v53 + 173);
                v241 = *(_DWORD *)(*(_DWORD *)(v139 + dword_8D3C24[v138] + 4) + 4 * *(unsigned __int16 *)(v53 + 176));
                v141 = *(_WORD *)(v53 + 176) + 1;
                *(_WORD *)(v53 + 176) = v141;
                if ( v141 > *(unsigned __int16 *)(v139 + dword_8D3C24[v138]) - 1 )
                {
                  if ( *(_WORD *)(v53 + 604) )
                  {
                    if ( *(_WORD *)(v53 + 604) == 1 )
                      *(_WORD *)(v53 + 176) = 0;
                  }
                  else
                  {
                    v142 = *(_DWORD *)(v53 + 168);
                    *(_WORD *)(v53 + 176) = 0;
                    if ( *(_WORD *)(dword_8D3C24[v142] + 8) )
                      *(_WORD *)(v53 + 604) = 1;
                  }
                }
                x = v236 + *(signed __int16 *)(dword_13083AC[v140 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241);
                y = v240 + *(signed __int16 *)(dword_13083AC[v140 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241 + 2);
                dword_1547438 = *(_DWORD *)(dword_13083AC[v140 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241 + 8);
                if ( y > -300 )
                  goto LABEL_362;
                goto LABEL_363;
              case 2u:
              case 6u:
                if ( *(_DWORD *)(v53 + 168) > 0xF2u )
                {
                  *(_BYTE *)(v53 + 172) = 0;
                  *(_BYTE *)(v53 + 173) = 0;
                }
                if ( !dword_13083AC[8 * *(_DWORD *)(v53 + 168)] )
                {
                  sprintf(&v225, a03dAni, *(_DWORD *)(v53 + 168));
                  sub_4221A0((int)&v225, *(_DWORD *)(v53 + 168));
                }
                v60 = *(_DWORD *)(v53 + 168);
                v61 = *(unsigned __int8 *)(v53 + 173);
                if ( *(_WORD *)(dword_8D3C24[v60] + 8 * *(unsigned __int8 *)(v53 + 174)) )
                {
                  if ( *(unsigned __int16 *)(v53 + 176) > *(unsigned __int16 *)(dword_8D3C24[v60]
                                                                              + 8 * *(unsigned __int8 *)(v53 + 174))
                                                        - 1 )
                    *(_WORD *)(v53 + 176) = *(_WORD *)(dword_8D3C24[*(_DWORD *)(v53 + 168)]
                                                     + 8 * *(unsigned __int8 *)(v53 + 174))
                                          - 1;
                  v241 = *(_DWORD *)(*(_DWORD *)(dword_8D3C24[*(_DWORD *)(v53 + 168)]
                                               + 8 * *(unsigned __int8 *)(v53 + 174)
                                               + 4)
                                   + 4 * *(unsigned __int16 *)(v53 + 176));
                }
                else
                {
                  v62 = **(_DWORD **)(dword_8D3C24[v60] + 4);
                  *(_WORD *)(v53 + 176) = 0;
                  v241 = v62;
                }
                v63 = *((unsigned __int16 *)dword_1330790
                      + 4
                      * ((signed __int64)*(float *)(v53 + 112) / 40
                       + dword_1540B4C * ((signed __int64)*(float *)(v53 + 120) / 20)));
                if ( (signed int)(unsigned __int16)v63 >= 7000 && v63 < 7192 )
                {
                  dword_133067C = *(unsigned __int16 *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241 + 4);
                  dword_1330678 = *(unsigned __int16 *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241 + 6);
                  x = v236 + *(signed __int16 *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241);
                  y = v240;
                  v64 = *(_DWORD *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241 + 8);
                  LOBYTE(dword_1547948) = 0;
                  dword_1547438 = v64;
                  dword_1540B5C();
                }
                v65 = v239;
                if ( *(_DWORD *)(v53 + 156) || v239 <= -1 || v239 >= 22 - 7 * (byte_1328E45 != 0) )
                  goto LABEL_170;
                if ( *(_DWORD *)(v53 + 180) )
                  goto LABEL_601;
                v66 = 12 * v241;
                x = v236 + *(signed __int16 *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241);
                v67 = *(float *)(v53 + 120);
                v234 = *(signed __int16 *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241 + 2);
                y = (unsigned __int16)(signed __int64)v67 + v234 - dword_1547950;
                if ( *(_DWORD *)(v53 + 168) == 200 )
                {
                  x += 12;
                  y -= 10;
                }
                dword_1547438 = *(_DWORD *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + v66 + 8);
                dword_1330678 = -*(signed __int16 *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + v66 + 2) >> 1;
                dword_133067C = *(signed __int16 *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + v66 + 2) / -2;
                sub_4708C0();
                v65 = v239;
LABEL_170:
                if ( *(_DWORD *)(v53 + 180) )
                {
LABEL_601:
                  if ( !dword_13225A4 )
                  {
                    v68 = *(_DWORD *)(v53 + 168);
                    v69 = *(unsigned __int8 *)(v53 + 173);
                    v70 = 12
                        * *(_DWORD *)(*(_DWORD *)(dword_8D3C24[v68] + 8 * *(unsigned __int8 *)(v53 + 174) + 4)
                                    + 4 * *(unsigned __int16 *)(v53 + 176));
                    x = v236 + *(signed __int16 *)(dword_13083AC[v69 + 8 * v68] + v70);
                    v71 = v240 + *(signed __int16 *)(dword_13083AC[v69 + 8 * *(_DWORD *)(v53 + 168)] + v70 + 2);
                    y = v240 + *(signed __int16 *)(dword_13083AC[v69 + 8 * *(_DWORD *)(v53 + 168)] + v70 + 2);
                    v72 = dword_13083AC[v69 + 8 * *(_DWORD *)(v53 + 168)];
                    dword_1547438 = *(_DWORD *)(v72 + v70 + 8);
                    if ( *(_DWORD *)(v53 + 156) )
                      y = v71 + 12;
                    LOBYTE(dword_1547948) = 27;
                    dword_1330668(v72);
                    goto LABEL_363;
                  }
                }
                break;
              case 3u:
                v111 = 100 * *(unsigned __int16 *)(v53 + 86) / *(unsigned __int16 *)(v53 + 84);
                if ( v111 <= 70 )
                {
                  v114 = *(_DWORD *)(v53 + 168);
                  *(_WORD *)(v53 + 176) = ((unsigned int)((unsigned __int64)(1717986919i64 * (70 - v111)) >> 32) >> 31)
                                        + ((signed int)((unsigned __int64)(1717986919i64 * (70 - v111)) >> 32) >> 2);
                  v113 = *(_DWORD *)(*(_DWORD *)(dword_8D3C24[v114] + 140)
                                   + 4
                                   * (unsigned __int16)(((unsigned int)((unsigned __int64)(1717986919i64 * (70 - v111)) >> 32) >> 31)
                                                      + ((signed int)((unsigned __int64)(1717986919i64 * (70 - v111)) >> 32) >> 2)));
                  *(_BYTE *)(v53 + 64) = 3;
                  v241 = v113;
                }
                else
                {
                  v112 = *(_WORD *)(v53 + 176) + 1;
                  v113 = *(_DWORD *)(*(_DWORD *)(dword_8D3C24[*(_DWORD *)(v53 + 168)] + 4)
                                   + 4 * *(unsigned __int16 *)(v53 + 176));
                  *(_WORD *)(v53 + 176) = v112;
                  v241 = v113;
                  switch ( v112 )
                  {
                    case 0:
                    case 0x14:
                      *(_BYTE *)(v53 + 64) = 8;
                      break;
                    case 2:
                    case 0x12:
                      *(_BYTE *)(v53 + 64) = 7;
                      break;
                    case 4:
                    case 0x10:
                      *(_BYTE *)(v53 + 64) = 6;
                      break;
                    case 6:
                    case 0xE:
                      *(_BYTE *)(v53 + 64) = 5;
                      break;
                    case 8:
                    case 0xC:
                      *(_BYTE *)(v53 + 64) = 4;
                      break;
                    case 0xA:
                      *(_BYTE *)(v53 + 64) = 3;
                      break;
                    default:
                      break;
                  }
                  if ( *(unsigned __int16 *)(v53 + 176) > *(unsigned __int16 *)dword_8D3C24[*(_DWORD *)(v53 + 168)] - 1 )
                    *(_WORD *)(v53 + 176) = 0;
                }
                v115 = v239;
                if ( v239 > -1 && v239 < 22 - 7 * (byte_1328E45 != 0) )
                {
                  x = v55 + *(signed __int16 *)(dword_13083AC[8 * *(_DWORD *)(v53 + 168)] + 12 * v113);
                  y = (unsigned __int16)(signed __int64)*(float *)(v53 + 120)
                    + *(signed __int16 *)(dword_13083AC[8 * *(_DWORD *)(v53 + 168)] + 12 * v113 + 2)
                    - dword_1547950;
                  dword_1547438 = *(_DWORD *)(dword_13083AC[8 * *(_DWORD *)(v53 + 168)] + 12 * v113 + 8);
                  dword_1330678 = -*(signed __int16 *)(dword_13083AC[8 * *(_DWORD *)(v53 + 168)] + 12 * v113 + 2) >> 1;
                  dword_133067C = *(signed __int16 *)(dword_13083AC[8 * *(_DWORD *)(v53 + 168)] + 12 * v113 + 2) / -2;
                  sub_4708C0();
                  v115 = v239;
                  v113 = v241;
                  v55 = v236;
                }
                v116 = 12 * v113;
                x = v55 + *(signed __int16 *)(dword_13083AC[8 * *(_DWORD *)(v53 + 168)] + v116);
                y = v240 + *(signed __int16 *)(dword_13083AC[8 * *(_DWORD *)(v53 + 168)] + v116 + 2);
                dword_1547438 = *(_DWORD *)(dword_13083AC[8 * *(_DWORD *)(v53 + 168)] + v116 + 8);
                LOBYTE(dword_1547948) = byte_1540E3C[70 * v115 + v237];
LABEL_317:
                if ( *(_DWORD *)(v53 + 52) != dword_48CCE4 )
                  goto LABEL_343;
                sub_470C10();
                goto LABEL_363;
              case 4u:
                switch ( *(_DWORD *)(v53 + 168) )
                {
                  case 0:
                  case 5:
                    v235 = 142;
                    break;
                  case 1:
                    v235 = 138;
                    break;
                  case 2:
                    v235 = 139;
                    break;
                  case 3:
                    v235 = 140;
                    break;
                  case 4:
                    v235 = 141;
                    break;
                  default:
                    break;
                }
                v117 = (signed __int16 *)dword_6BDF04[v235];
                v234 = 4 * v235 + 7069444;
                v118 = 40 * v239;
                x = *v117 - v231 + 40 * v239 + 20;
                v119 = 20 * v237;
                v0 = v117[1] - (_DWORD)v233 + 20 * v237 == -310;
                v1 = v117[1] - (signed int)v233 + 20 * v237 + 310 < 0;
                y = v117[1] - (_DWORD)v233 + 20 * v237 + 10;
                if ( !((unsigned __int8)(v1 ^ __OFSUB__(y, -300)) | v0) )
                {
                  if ( dword_48BCB0[v235] && v239 > 0 && v239 < 22 - 7 * (byte_1328E45 != 0) )
                  {
                    dword_1330678 = -v117[1] >> 1;
                    dword_133067C = v117[1] / -2;
                    dword_1547438 = *((_DWORD *)v117 + 2);
                    sub_4708C0();
                  }
                  v120 = *(_DWORD *)v234;
                  x = **(signed __int16 **)v234 - v231 + v118 + 20;
                  y = *(signed __int16 *)(v120 + 2) - (_DWORD)v233 + v119 + 10;
                  dword_1547438 = *(_DWORD *)(v120 + 8);
                  LOBYTE(dword_1547948) = byte_1540E3C[70 * v239 + v237];
                  if ( *(_DWORD *)(v53 + 52) != dword_48CCE4 )
                    goto LABEL_343;
                  sub_470C10();
                }
                goto LABEL_363;
              case 5u:
                v121 = *(_DWORD *)(v53 + 168);
                v122 = *(signed __int16 *)(v53 + 604);
                v123 = dword_8D3C24[v121];
                v0 = *(_WORD *)(v123 + 8 * v122) == 0;
                v124 = v123 + 8 * v122;
                if ( v0 || (v125 = *(_DWORD *)(v124 + 4)) == 0 )
                {
                  dword_49D008 = fopen(aErrorlogTxt, aAt);
                  fprintf(dword_49D008, &byte_48EB5C, *(_DWORD *)(v53 + 168), *(signed __int16 *)(v53 + 604));
                  fclose(dword_49D008);
                  goto LABEL_363;
                }
                v126 = *(unsigned __int8 *)(v53 + 173);
                v127 = *(_DWORD *)(v125 + 4 * *(unsigned __int16 *)(v53 + 176));
                if ( *(_BYTE *)(v53 + 174) == 7 || *(_BYTE *)(v53 + 174) == 9 )
                {
                  if ( !*(_BYTE *)(v53 + 184) )
                    goto LABEL_363;
                  v137 = 12 * v127;
                  x = v55 + *(signed __int16 *)(dword_13083AC[v126 + 8 * v121] + v137);
                  v133 = v240 + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v137 + 2);
                  y = v240 + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v137 + 2);
                  dword_1547438 = *(_DWORD *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v137 + 8);
                  v134 = *(_BYTE *)(v53 + 184);
                  goto LABEL_346;
                }
                if ( *(_BYTE *)(v53 + 174) == 16 )
                {
                  if ( !*(_WORD *)(v53 + 176) )
                    goto LABEL_363;
LABEL_350:
                  v136 = 12 * v127;
                  x = v55 + *(signed __int16 *)(dword_13083AC[v126 + 8 * v121] + v136);
                  y = v240 + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v136 + 2);
                  dword_1547438 = *(_DWORD *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v136 + 8);
                  if ( y > -300 )
LABEL_362:
                    dword_1541C10();
                  goto LABEL_363;
                }
                if ( !dword_48B230[v121] )
                  goto LABEL_350;
                if ( v121 == 1040 || v121 > 0x417 && v121 <= 0x41A )
                {
                  v131 = 3 * v127;
                  if ( *(_WORD *)(v53 + 608) )
                  {
                    v132 = 4 * v131;
                    x = v55 + *(signed __int16 *)(dword_13083AC[v126 + 8 * v121] + v132);
                    v133 = v240 + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v132 + 2);
                    y = v240 + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v132 + 2);
                    dword_1547438 = *(_DWORD *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v132 + 8);
                    v134 = *(_BYTE *)(v53 + 608);
LABEL_346:
                    LOBYTE(dword_1547948) = v134;
                    if ( v133 > -300 )
                      dword_1330668(v133);
                    goto LABEL_363;
                  }
                  v135 = 4 * v131;
                  x = v55 + *(signed __int16 *)(dword_13083AC[v126 + 8 * v121] + v135);
                  v130 = v240 + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v135 + 2);
                  y = v240 + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v135 + 2);
                  dword_1547438 = *(_DWORD *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v135 + 8);
                  LOBYTE(dword_1547948) = byte_1540E3C[70 * v239 + v237];
                }
                else
                {
                  v128 = dword_13083AC[v126 + 8 * v121];
                  v234 = 12 * v127;
                  x = v55 + *(signed __int16 *)(v128 + 12 * v127);
                  y = (unsigned __int64)(signed __int64)*(float *)(v53 + 120)
                    + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v127 + 2)
                    - dword_1547950;
                  v129 = 12 * v127;
                  dword_1547438 = *(_DWORD *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v127 + 8);
                  dword_1330678 = -*(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v127 + 2) >> 1;
                  dword_133067C = *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v127 + 2)
                                / -2;
                  sub_4708C0();
                  x = v236 + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v129);
                  v130 = v240 + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v129 + 2);
                  y = v240 + *(signed __int16 *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v129 + 2);
                  dword_1547438 = *(_DWORD *)(dword_13083AC[v126 + 8 * *(_DWORD *)(v53 + 168)] + v129 + 8);
                  LOBYTE(dword_1547948) = byte_1540E3C[70 * v239 + v237];
                }
                if ( v130 > -300 )
LABEL_343:
                  sub_471350();
                goto LABEL_363;
              default:
                goto LABEL_363;
            }
            v73 = *(_DWORD *)(v53 + 168);
            switch ( v73 )
            {
              case 0:
              case 3:
              case 6:
              case 9:
              case 12:
              case 20:
              case 23:
              case 26:
              case 40:
              case 43:
              case 60:
              case 63:
              case 80:
              case 83:
              case 86:
                sub_423AC0(v53);
                v74 = (int)v238;
                v241 = 0;
                while ( 1 )
                {
                  if ( v241 == byte_13194B2 )
                  {
                    v75 = *(_DWORD *)(v53 + 168);
                    v76 = *(unsigned __int8 *)(v53 + 173);
                    v77 = 12
                        * *(_DWORD *)(*(_DWORD *)(dword_8D3C24[v75] + 8 * *(unsigned __int8 *)(v53 + 174) + 4)
                                    + 4 * *(unsigned __int16 *)(v53 + 176));
                    x = v236 + *(signed __int16 *)(dword_13083AC[v76 + 8 * v75] + v77);
                    v78 = v240 + *(signed __int16 *)(dword_13083AC[v76 + 8 * *(_DWORD *)(v53 + 168)] + v77 + 2);
                    y = v240 + *(signed __int16 *)(dword_13083AC[v76 + 8 * *(_DWORD *)(v53 + 168)] + v77 + 2);
                    dword_1547438 = *(_DWORD *)(dword_13083AC[v76 + 8 * *(_DWORD *)(v53 + 168)] + v77 + 8);
                    if ( *(_DWORD *)(v53 + 636) == 114 )
                    {
                      if ( *(_DWORD *)(v53 + 156) )
                        y = v78 + 12;
                      HIWORD(dword_13315BC) = 31;
                      v82 = 0;
                      LOBYTE(dword_1547948) = byte_1540E3C[70 * v239 + v237];
                      word_13315C0 = 0;
                    }
                    else
                    {
                      if ( *(_DWORD *)(v53 + 636) == 121 )
                      {
                        if ( *(_DWORD *)(v53 + 156) )
                          y = v78 + 12;
                        v82 = 2;
                        LOBYTE(dword_1547948) = byte_1540E3C[70 * v239 + v237];
                        word_13315C0 = 2;
                      }
                      else
                      {
                        v79 = *(_DWORD *)(v53 + 636) - 212;
                        if ( *(_DWORD *)(v53 + 636) != 212 )
                        {
                          LOBYTE(v79) = *(_BYTE *)(v53 + 184);
                          if ( (_BYTE)v79 )
                          {
                            LOBYTE(dword_1547948) = *(_BYTE *)(v53 + 184);
                            dword_1330668(v79);
                          }
                          else
                          {
                            LOBYTE(dword_1547948) = byte_1540E3C[70 * v239 + v237];
                            if ( *(_DWORD *)(v53 + 156) )
                            {
                              y = v78 + 12;
                              dword_1330670 = v240;
                              if ( *(_DWORD *)(v53 + 52) == dword_48CCE4 )
                                sub_470B10();
                              else
                                sub_470A20();
                            }
                            else if ( *(_DWORD *)(v53 + 52) == dword_48CCE4 )
                            {
                              sub_470C10();
                            }
                            else
                            {
                              sub_471350();
                            }
                          }
                          if ( !dword_13083CC[8 * *(_DWORD *)(v53 + 168)] )
                          {
                            sprintf(&v223, a03dAni, *(_DWORD *)(v53 + 168) + 1);
                            sub_4221A0((int)&v223, *(_DWORD *)(v53 + 168) + 1);
                          }
                          LOBYTE(dword_1547948) = byte_1540E3C[70 * v239 + v237];
                          x = v236 + *(signed __int16 *)(dword_13083CC[v76 + 8 * *(_DWORD *)(v53 + 168)] + v77);
                          v80 = dword_13083CC[v76 + 8 * *(_DWORD *)(v53 + 168)];
                          v81 = v240 + *(signed __int16 *)(v80 + v77 + 2);
                          y = v240 + *(signed __int16 *)(v80 + v77 + 2);
                          if ( *(_DWORD *)(v53 + 156) )
                            y = v81 + 12;
                          dword_1547438 = *(_DWORD *)(dword_13083CC[v76 + 8 * *(_DWORD *)(v53 + 168)] + v77 + 8);
                          LOWORD(dword_13315BC) = *(_WORD *)(v53 + 756);
                          word_13315C0 = ((unsigned int)dword_13315BC >> 10) & 0x1F;
                          HIWORD(dword_13315BC) = ((unsigned int)dword_13315BC >> 5) & 0x1F;
                          LOWORD(dword_13315BC) = dword_13315BC & 0x1F;
                          dword_1547454();
                          v74 = (int)v238;
                          v65 = v239;
                          goto LABEL_259;
                        }
                        if ( *(_DWORD *)(v53 + 156) )
                          y = v78 + 12;
                        word_13315C0 = 31;
                        v82 = 0;
                        LOBYTE(dword_1547948) = byte_1540E3C[70 * v239 + v237];
                      }
                      HIWORD(dword_13315BC) = v82;
                    }
                    LOWORD(dword_13315BC) = v82;
                    dword_1547454();
                    v74 = (int)v238;
                    v65 = v239;
                  }
                  else if ( v241 == byte_1322590 && (v83 = *(_DWORD *)(v53 + 748)) != 0 )
                  {
                    switch ( *(_DWORD *)(v53 + 168) )
                    {
                      case 0:
                      case 3:
                      case 6:
                      case 9:
                        v74 = *(_DWORD *)(v53 + 748);
                        goto LABEL_214;
                      case 0xC:
                      case 0x28:
                      case 0x2B:
                        v74 = v83 + 20;
                        goto LABEL_214;
                      case 0x14:
                      case 0x17:
                      case 0x1A:
                        v74 = v83 + 10;
                        goto LABEL_214;
                      case 0x3C:
                      case 0x3F:
                        v74 = v83 + 30;
                        goto LABEL_214;
                      case 0x50:
                      case 0x53:
                      case 0x56:
                        v74 = v83 + 40;
LABEL_214:
                        v238 = (char *)v74;
                        break;
                      default:
                        break;
                    }
                    if ( !dword_13083AC[8 * v74] )
                    {
                      sprintf(&v224, a03dAni, v74);
                      sub_4221A0((int)&v224, v74);
                    }
                    v84 = dword_8D3C24[v74];
                    v85 = *(unsigned __int8 *)(v53 + 174);
                    v0 = *(_WORD *)(v84 + 8 * v85) == 0;
                    v86 = v84 + 8 * v85;
                    if ( v0 )
                    {
                      dword_49D008 = fopen(aErrorlogTxt, aAt);
                      fprintf(dword_49D008, &byte_48EBC8, *(_DWORD *)(v53 + 748), v74, *(unsigned __int8 *)(v53 + 174));
LABEL_219:
                      fclose(dword_49D008);
                      goto LABEL_259;
                    }
                    v87 = 3 * *(_DWORD *)(*(_DWORD *)(v86 + 4) + 4 * *(unsigned __int16 *)(v53 + 176));
                    v88 = dword_13083AC[*(unsigned __int8 *)(v53 + 173) + 8 * v74];
                    v89 = *(signed __int16 *)(v88 + 4 * v87);
                    v90 = v88 + 4 * v87;
                    x = v236 + v89;
                    v91 = v240 + *(signed __int16 *)(v90 + 2);
                    y = v240 + *(signed __int16 *)(v90 + 2);
                    dword_1547438 = *(_DWORD *)(v90 + 8);
                    if ( !dword_1547438 )
                      dword_1547438 = 0;
                    if ( *(_BYTE *)(v53 + 184) )
                    {
                      LOBYTE(dword_1547948) = *(_BYTE *)(v53 + 184);
                      dword_1330668(v91);
                    }
                    else
                    {
                      LOBYTE(dword_1547948) = byte_1540E3C[70 * v65 + v237];
                      if ( *(_DWORD *)(v53 + 748) == 502
                        || *(_DWORD *)(v53 + 748) == 704
                        || *(_DWORD *)(v53 + 748) == 706 )
                      {
                        if ( *(_DWORD *)(v53 + 156) )
                          y = v91 + 12;
                        dword_1541C10();
                        if ( *(_DWORD *)(v53 + 52) != dword_131D690 )
                          *(_BYTE *)(v53 + 64) = 14;
                        goto LABEL_259;
                      }
                      if ( *(_DWORD *)(v53 + 52) != dword_131D690 )
                      {
                        *(_BYTE *)(v53 + 64) = 0;
                        v91 = y;
                      }
                      if ( !*(_DWORD *)(v53 + 156) )
                      {
LABEL_254:
                        if ( *(_DWORD *)(v53 + 52) == dword_48CCE4 )
                          sub_470C10();
                        else
                          sub_471350();
                        goto LABEL_259;
                      }
                      y = v91 + 12;
                      dword_1330670 = v240;
                      if ( *(_DWORD *)(v53 + 52) != dword_48CCE4 )
                      {
LABEL_258:
                        sub_470A20();
                        goto LABEL_259;
                      }
                      sub_470B10();
                    }
                  }
                  else
                  {
                    if ( v241 != byte_131D694 )
                      goto LABEL_259;
                    v92 = *(_DWORD *)(v53 + 752);
                    if ( !v92 )
                      goto LABEL_259;
                    switch ( *(_DWORD *)(v53 + 168) )
                    {
                      case 0:
                      case 3:
                      case 6:
                        v74 = *(_DWORD *)(v53 + 752);
                        goto LABEL_246;
                      case 0x14:
                      case 0x17:
                        v74 = v92 + 10;
                        goto LABEL_246;
                      case 0x28:
                      case 0x2B:
                        v74 = v92 + 20;
                        goto LABEL_246;
                      case 0x3C:
                      case 0x3F:
                        v74 = v92 + 30;
                        goto LABEL_246;
                      case 0x50:
                      case 0x53:
                      case 0x56:
                        v74 = v92 + 40;
LABEL_246:
                        v238 = (char *)v74;
                        break;
                      default:
                        break;
                    }
                    if ( !dword_13083AC[8 * v74] )
                    {
                      sprintf(&v222, a03dAni, v74);
                      sub_4221A0((int)&v222, v74);
                    }
                    v93 = dword_8D3C24[v74];
                    v94 = *(unsigned __int8 *)(v53 + 174);
                    v0 = *(_WORD *)(v93 + 8 * v94) == 0;
                    v95 = v93 + 8 * v94;
                    if ( v0 )
                    {
                      dword_49D008 = fopen(aErrorlogTxt, aAt);
                      fprintf(
                        dword_49D008,
                        (const char *)&unk_48EB8C,
                        *(_DWORD *)(v53 + 752),
                        v74,
                        *(unsigned __int8 *)(v53 + 174));
                      goto LABEL_219;
                    }
                    v96 = 3 * *(_DWORD *)(*(_DWORD *)(v95 + 4) + 4 * *(unsigned __int16 *)(v53 + 176));
                    v97 = dword_13083AC[*(unsigned __int8 *)(v53 + 173) + 8 * v74];
                    v98 = *(signed __int16 *)(v97 + 4 * v96);
                    v99 = v97 + 4 * v96;
                    x = v236 + v98;
                    v100 = v240 + *(signed __int16 *)(v99 + 2);
                    y = v240 + *(signed __int16 *)(v99 + 2);
                    dword_1547438 = *(_DWORD *)(v99 + 8);
                    if ( *(_BYTE *)(v53 + 184) )
                    {
                      LOBYTE(dword_1547948) = *(_BYTE *)(v53 + 184);
                      dword_1330668(v100);
                    }
                    else
                    {
                      LOBYTE(dword_1547948) = byte_1540E3C[70 * v65 + v237];
                      if ( !*(_DWORD *)(v53 + 156) )
                        goto LABEL_254;
                      y = v100 + 12;
                      dword_1330670 = v240;
                      if ( *(_DWORD *)(v53 + 52) != dword_48CCE4 )
                        goto LABEL_258;
                      sub_470B10();
                    }
                  }
LABEL_259:
                  v1 = v241++ - 2 < 0;
                  if ( !(v1 ^ __OFSUB__(v241, 3)) )
                    goto LABEL_363;
                }
              default:
                v101 = v236 + *(signed __int16 *)(dword_13083AC[v61 + 8 * v73] + 12 * v241);
                x = v236 + *(signed __int16 *)(dword_13083AC[v61 + 8 * v73] + 12 * v241);
                v102 = v240 + *(signed __int16 *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241 + 2);
                y = v240 + *(signed __int16 *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241 + 2);
                if ( *(_DWORD *)(v53 + 168) == 200 )
                {
                  v102 -= 10;
                  x = v101 + 15;
                  y = v102;
                }
                dword_1547438 = *(_DWORD *)(dword_13083AC[v61 + 8 * *(_DWORD *)(v53 + 168)] + 12 * v241 + 8);
                if ( *(_DWORD *)(v53 + 636) == 114 )
                {
                  v110 = *(_DWORD *)(v53 + 156);
                  if ( *(_DWORD *)(v53 + 168) == 118 )
                  {
                    if ( v110 )
                    {
                      v102 += 12;
                      y = v102;
                    }
                    LOBYTE(dword_1547948) = 20;
                    dword_1330668(v102);
                    goto LABEL_363;
                  }
                  if ( v110 )
                    y = v102 + 12;
                  LOBYTE(dword_1547948) = byte_1540E3C[70 * v65 + v237];
                  word_13315C0 = 0;
                  dword_13315BC = 2031616;
                  goto LABEL_298;
                }
                if ( *(_DWORD *)(v53 + 636) == 121 )
                {
                  v109 = *(_DWORD *)(v53 + 156);
                  if ( *(_DWORD *)(v53 + 168) != 118 )
                  {
                    if ( v109 )
                      y = v102 + 12;
                    v108 = 2;
                    LOBYTE(dword_1547948) = byte_1540E3C[70 * v65 + v237];
                    word_13315C0 = 2;
                    goto LABEL_286;
                  }
                  if ( !v109 )
                    goto LABEL_293;
LABEL_292:
                  v102 += 12;
                  y = v102;
                  goto LABEL_293;
                }
                v103 = *(_DWORD *)(v53 + 168);
                if ( *(_DWORD *)(v53 + 636) == 212 )
                {
                  v0 = v103 == 118;
                  v107 = *(_DWORD *)(v53 + 156);
                  if ( !v0 )
                  {
                    if ( v107 )
                      y = v102 + 12;
                    word_13315C0 = 31;
                    v108 = 0;
                    LOBYTE(dword_1547948) = byte_1540E3C[70 * v65 + v237];
LABEL_286:
                    HIWORD(dword_13315BC) = v108;
                    LOWORD(dword_13315BC) = v108;
                    dword_1547454();
                    goto LABEL_363;
                  }
                }
                else
                {
                  if ( v103 != 118 )
                  {
                    if ( *(_BYTE *)(v53 + 184) )
                    {
                      LOBYTE(dword_1547948) = *(_BYTE *)(v53 + 184);
                      dword_1330668(v102);
                      goto LABEL_363;
                    }
                    LOBYTE(dword_1547948) = byte_1540E3C[70 * v65 + v237];
                    v104 = sub_473340(v53);
                    LOWORD(dword_13315BC) = v104;
                    if ( v104 == -1 )
                    {
                      if ( !*(_DWORD *)(v53 + 156) )
                        goto LABEL_317;
                      y += 12;
                      dword_1330670 = v240;
                      if ( *(_DWORD *)(v53 + 52) == dword_48CCE4 )
                        sub_470B10();
                      else
                        sub_470A20();
                      goto LABEL_363;
                    }
                    v105 = dword_13315BC;
                    v106 = dword_13315BC;
                    LOWORD(dword_13315BC) = v104 & 0x1F;
                    word_13315C0 = (v106 >> 10) & 0x1F;
                    HIWORD(dword_13315BC) = (v105 >> 5) & 0x1F;
                    if ( *(_DWORD *)(v53 + 156) )
                    {
                      y += 12;
                      dword_1330670 = v240;
                      if ( *(_DWORD *)(v53 + 52) == dword_48CCE4 )
                      {
                        dword_1547448();
                        goto LABEL_363;
                      }
                    }
                    else if ( *(_DWORD *)(v53 + 52) == dword_48CCE4 )
                    {
                      dword_1547448();
                      goto LABEL_363;
                    }
LABEL_298:
                    dword_1547454();
                    goto LABEL_363;
                  }
                  v107 = *(_DWORD *)(v53 + 156);
                }
                if ( v107 )
                  goto LABEL_292;
LABEL_293:
                LOBYTE(dword_1547948) = 20;
                dword_1330668(v102);
LABEL_363:
                v53 = *(_DWORD *)(v53 + 632);
                if ( !v53 )
                  goto LABEL_364;
                break;
            }
          }
        }
LABEL_364:
        v143 = v237;
        v236 = (unsigned __int16)v227 + v237;
        if ( v236 >= dword_1540B50 - 1 )
        {
          v144 = v239;
          goto LABEL_444;
        }
        v144 = v239;
        if ( (unsigned __int16)v230 + v239 > -1 )
        {
          v145 = *((_DWORD *)dword_1330790 + 2 * (v239 + (unsigned __int16)v230 + dword_1540B4C * v236) + 1);
          v235 = v145;
          if ( v145 != -1 )
          {
            if ( v145 >= 0x10000 )
            {
              v151 = (v145 >> 7) - 512;
              v152 = v151;
              v235 = v151;
              if ( v151 <= 0xFF )
              {
                if ( v151 == 60 || v151 == 59 )
                {
                  x = *(signed __int16 *)dword_6BDFF4 - v231 + 40 * v239 + 20;
                  v160 = *(signed __int16 *)(dword_6BDFF4 + 2) - (_DWORD)v233;
                  v241 = 20 * v237;
                  y = v160 + 20 * v237 + 10;
                  dword_1547438 = *(_DWORD *)(dword_6BDFF4 + 8);
                  LOBYTE(dword_1547948) = byte_1540E3C[70 * v239 + v237];
                  if ( v239 >= 1 )
                  {
                    if ( v239 <= 19 - 7 * (byte_1328E45 != 0) )
                      sub_471350();
                    else
                      sub_471A20();
                  }
                  else
                  {
                    sub_471860();
                  }
                  v161 = dword_131054C + 12 * *(_DWORD *)(*(_DWORD *)(dword_8D4C58 + 4) + 4 * dword_154797C);
                  x = *(signed __int16 *)(dword_131054C
                                        + 12 * *(_DWORD *)(*(_DWORD *)(dword_8D4C58 + 4) + 4 * dword_154797C))
                    - v231
                    + 40 * v144
                    + 20;
                  y = *(signed __int16 *)(v161 + 2) - (_DWORD)v233 + v241 + 10;
                  dword_1547438 = *(_DWORD *)(v161 + 8);
                  if ( y > -300 && v144 > -1 && v144 < 22 - 7 * (byte_1328E45 != 0) )
                    dword_1541C10();
                  goto LABEL_444;
                }
              }
              else
              {
                v152 = 0;
                v235 = 0;
              }
              v153 = (signed __int16 *)dword_6BDF04[v152];
              v234 = 4 * v152 + 7069444;
              v154 = *v153 - v231;
              v155 = 40 * v239;
              v239 *= 40;
              x = v154 + 40 * v144 + 20;
              v241 = 20 * v237;
              y = v153[1] - (_DWORD)v233 + 20 * v237 + 10;
              if ( y > -300 )
              {
                if ( dword_48BCB0[v235] && v144 > 0 && v144 < 22 - 7 * (byte_1328E45 != 0) )
                {
                  dword_1330678 = -v153[1] >> 1;
                  dword_133067C = v153[1] / -2;
                  dword_1547438 = *((_DWORD *)v153 + 2);
                  sub_4708C0();
                }
                v156 = *(_DWORD *)v234;
                x = **(signed __int16 **)v234 - v231 + v155 + 20;
                y = *(signed __int16 *)(v156 + 2) - (_DWORD)v233 + v241 + 10;
                dword_1547438 = *(_DWORD *)(v156 + 8);
                switch ( 0 )
                {
                  case 3:
                  case 159:
                  case 160:
                    v157 = v239 + dword_154794C + 20;
                    v240 = v241 + dword_1547950 + 10;
                    v158 = (&lpString)[dword_131D690];
                    v232 = v239 + dword_154794C - 220;
                    if ( (double)v232 >= *((float *)v158 + 28)
                      || (v232 = v239 + dword_154794C + 260, (double)v232 <= *((float *)v158 + 28))
                      || (v232 = v240 - 120, (double)(v240 - 120) >= *((float *)v158 + 30))
                      || (v232 = v240 + 120, (double)(v240 + 120) <= *((float *)v158 + 30))
                      || x >= dword_49D89C
                      || x + *(unsigned __int16 *)(v156 + 4) <= dword_49D89C
                      || y >= dword_49D8A0
                      || y + *(unsigned __int16 *)(v156 + 6) <= dword_49D8A0 )
                    {
                      LOBYTE(dword_1547948) = byte_1540E3C[70 * v144 + v143];
                      if ( v144 >= 1 )
                      {
                        if ( v144 <= 19 - 7 * (byte_1328E45 != 0) )
                          sub_471350();
                        else
                          sub_471A20();
                        v155 = v239;
                      }
                      else
                      {
                        sub_471860();
                        v155 = v239;
                      }
                    }
                    else
                    {
                      LOBYTE(dword_1547948) = byte_1540E3C[70 * v144 + v143];
                      sub_470C10();
                      dword_1322604 = v157;
                      v155 = v239;
                      dword_1322600 = 1;
                      dword_1322608 = v240;
                    }
                    break;
                  case 22:
                  case 23:
                  case 44:
                  case 45:
                  case 69:
                  case 70:
                    break;
                  case 145:
                    v159 = (&lpString)[dword_131D690];
                    v232 = v155 + dword_154794C - 220;
                    v240 = (int)v159;
                    if ( (double)v232 >= *((float *)v159 + 28)
                      || (v232 = v155 + dword_154794C + 260, (double)v232 <= *((float *)v159 + 28))
                      || (v232 = v241 + dword_1547950 - 110, (double)v232 >= *(float *)(v240 + 120))
                      || (v232 = v241 + dword_1547950 + 130, (double)v232 <= *(float *)(v240 + 120))
                      || x >= dword_49D89C
                      || x + *(unsigned __int16 *)(v156 + 4) <= dword_49D89C
                      || y >= dword_49D8A0
                      || y + *(unsigned __int16 *)(v156 + 6) <= dword_49D8A0 )
                    {
                      dword_13225FC = 0;
                      LOBYTE(dword_1547948) = byte_1540E3C[70 * v144 + v143];
                      if ( v144 >= 1 )
                      {
                        if ( v144 <= 19 - 7 * (byte_1328E45 != 0) )
                          goto LABEL_428;
                        sub_471A20();
                      }
                      else
                      {
                        sub_471860();
                      }
                    }
                    else
                    {
                      LOBYTE(dword_1547948) = byte_1540E3C[70 * v144 + v143];
                      sub_470C10();
                      dword_13225FC = 1;
                    }
                    break;
                  default:
                    LOBYTE(dword_1547948) = byte_1540E3C[70 * v144 + v143];
                    if ( v144 >= 1 )
                    {
                      if ( v144 <= 19 - 7 * (byte_1328E45 != 0) )
LABEL_428:
                        sub_471350();
                      else
                        sub_471A20();
                    }
                    else
                    {
                      sub_471860();
                    }
                    break;
                }
                if ( *((_DWORD *)(&lpString)[dword_131D690] + 159) != 110
                  && dword_48BF40[v235]
                  && v144 > -1
                  && v144 < 22 - 7 * (byte_1328E45 != 0) )
                {
                  v148 = (signed __int16 *)(dword_131072C + 12 * dword_1547980);
                  x = *(signed __int16 *)(dword_131072C + 12 * dword_1547980) - v231 + v155 + 20;
                  v150 = *(signed __int16 *)(*(_DWORD *)v234 + 2) + v148[1] - (_DWORD)v233 + v241 + 18;
                  goto LABEL_384;
                }
              }
            }
            else if ( v239 < 22 - 7 * (byte_1328E45 != 0) )
            {
              if ( !dword_11FDDD4[v145] )
                y = 1;
              v235 = v145 % 0x32 + 50 * (v145 / 0x32);
              v146 = dword_11FDDD4[v235];
              y = 4 * (5 * v237 + 5) - *(unsigned __int16 *)(v146 + 6) - (_DWORD)v233;
              if ( y <= -300 || v239 <= -1 )
              {
                v147 = v231;
              }
              else
              {
                v147 = v231;
                x = 40 * v239 - v231;
                dword_1547438 = *(_DWORD *)(v146 + 8);
                LOBYTE(dword_1547948) = byte_1540E3C[70 * v239 + v237];
                sub_471350();
              }
              if ( (v235 == 454 || v235 == 459)
                && *((_DWORD *)(&lpString)[dword_131D690] + 159) != 110
                && v144 > -1
                && v144 < 22 - 7 * (byte_1328E45 != 0) )
              {
                if ( v235 == 454 )
                {
                  v148 = (signed __int16 *)(dword_131072C + 12 * dword_1547980);
                  v149 = *v148 + 40 * v144 - v147 + 25;
                }
                else
                {
                  v148 = (signed __int16 *)(dword_131072C + 12 * dword_1547980);
                  v149 = *v148 + 40 * v144 - v147 + 13;
                }
                x = v149;
                v150 = v148[1] + 20 * v143 - (_DWORD)v233 - 122;
LABEL_384:
                y = v150;
                dword_1547438 = *((_DWORD *)v148 + 2);
                if ( v150 > -300 )
                  dword_1541C10();
                goto LABEL_444;
              }
            }
          }
        }
LABEL_444:
        if ( !((char *)dword_1330790 + 8 * (dword_1540B4C * v236 + v144 + (unsigned __int16)v230)) )
          v235 = 0;
        v239 = v144 - 1;
        if ( v144 - 1 <= -4 )
          break;
        v46 = v239;
      }
    }
    v1 = v237++ - 25 < 0;
  }
  while ( v1 ^ __OFSUB__(v237, 26) );
  v162 = v233;
  v163 = 0;
  v237 = 0;
  v241 = 0;
  while ( 2 )
  {
    v164 = 24 - 7 * (byte_1328E45 != 0);
    if ( v164 <= -4 )
      goto LABEL_472;
    v236 = v163 + (unsigned __int16)v227;
    v165 = 40 * v164;
    v234 = (unsigned int)&byte_1540E3C[70 * v164 + v163];
    while ( 2 )
    {
      if ( v236 < dword_1540B50 - 1 && (unsigned __int16)v230 + v164 > -1 )
      {
        v166 = *((_DWORD *)dword_1330790 + 2 * (v164 + (unsigned __int16)v230 + dword_1540B4C * v236) + 1);
        if ( v166 > 0xFFFF && v166 != -1 )
        {
          v167 = (v166 >> 7) - 512;
          switch ( v167 )
          {
            case 22:
            case 23:
            case 44:
            case 45:
            case 69:
            case 70:
              v168 = (signed __int16 *)dword_6BDF04[v167];
              x = *v168 - v231 + v165 + 20;
              v0 = v168[1] - (_DWORD)v162 + v241 == -310;
              v1 = v168[1] - (signed int)v162 + v241 + 310 < 0;
              y = v168[1] - (_DWORD)v162 + v241 + 10;
              if ( !((unsigned __int8)(v1 ^ __OFSUB__(y, -300)) | v0) )
              {
                dword_1547438 = *((_DWORD *)v168 + 2);
                if ( dword_13225E4 )
                {
                  if ( (unsigned __int8)byte_154796C < 0x1Fu )
                  {
                    v169 = byte_154796C + 1;
                    goto LABEL_462;
                  }
                }
                else if ( byte_154796C )
                {
                  v169 = byte_154796C - 1;
LABEL_462:
                  byte_154796C = v169;
                  LOBYTE(dword_1547948) = v169;
                  if ( v164 > -1 )
                  {
                    v170 = 7 * (byte_1328E45 != 0);
                    if ( v164 < 20 - v170 )
                      dword_1330668(v170);
                  }
                }
                else
                {
                  LOBYTE(dword_1547948) = *(_BYTE *)v234;
                  if ( v164 >= 1 )
                  {
                    if ( v164 <= 19 - 7 * (byte_1328E45 != 0) )
                      sub_471350();
                    else
                      sub_471A20();
                  }
                  else
                  {
                    sub_471860();
                  }
                }
              }
              break;
            default:
              break;
          }
        }
      }
      --v164;
      v165 -= 40;
      v234 -= 70;
      if ( v164 > -4 )
        continue;
      break;
    }
    v163 = v237;
LABEL_472:
    v237 = ++v163;
    v241 += 20;
    if ( v241 < 520 )
      continue;
    break;
  }
  v237 = 26;
  do
  {
    v171 = 24 - 7 * (byte_1328E45 != 0);
    v239 = v171;
    if ( v171 > -3 )
    {
      v172 = 40 * v171;
      v236 = v237 + (unsigned __int16)v227;
      v240 = 40 * v171;
      v241 = (int)&byte_1540E3C[70 * v171 + v237];
      do
      {
        if ( v236 < dword_1540B50 - 1 && (unsigned __int16)v230 + v171 > -1 )
        {
          v173 = *((_DWORD *)dword_1330790 + 2 * (v171 + (unsigned __int16)v230 + dword_1540B4C * v236) + 1);
          if ( v173 != -1 )
          {
            if ( v173 >= 0x10000 )
            {
              v177 = (v173 >> 7) - 512;
              v235 = v177;
              if ( v177 > 0xFF )
              {
                v177 = 0;
                v235 = 0;
              }
              v234 = 4 * v177 + 7069444;
              v178 = (signed __int16 *)dword_6BDF04[v177];
              v179 = 20 * v237;
              x = *v178 - v231 + v172 + 20;
              v0 = v178[1] - (_DWORD)v233 + 20 * v237 == -310;
              v1 = v178[1] - (signed int)v233 + 20 * v237 + 310 < 0;
              y = v178[1] - (_DWORD)v233 + 20 * v237 + 10;
              if ( !((unsigned __int8)(v1 ^ __OFSUB__(y, -300)) | v0) && y < 450 )
              {
                x = *v178 - v231 + v172 + 20;
                y = v178[1] - (_DWORD)v233 + v179 + 10;
                dword_1547438 = *((_DWORD *)v178 + 2);
                switch ( v235 )
                {
                  case 0x16u:
                  case 0x17u:
                  case 0x2Cu:
                  case 0x2Du:
                    if ( !dword_13225E4 && !byte_154796C )
                    {
                      LOBYTE(dword_1547948) = *(_BYTE *)v241;
                      if ( v171 >= 1 )
                      {
                        if ( v171 <= 19 - 7 * (byte_1328E45 != 0) )
                          goto LABEL_503;
                        sub_471680();
                      }
                      else
                      {
                        sub_4714B0();
                      }
                    }
                    break;
                  default:
                    LOBYTE(dword_1547948) = *(_BYTE *)v241;
                    if ( v171 >= 1 )
                    {
                      if ( v171 <= 19 - 7 * (byte_1328E45 != 0) )
LABEL_503:
                        sub_4713F0();
                      else
                        sub_471680();
                    }
                    else
                    {
                      sub_4714B0();
                    }
                    break;
                }
                if ( *((_DWORD *)(&lpString)[dword_131D690] + 159) != 110
                  && dword_48BF40[v235]
                  && v171 > -1
                  && v171 < 22 - 7 * (byte_1328E45 != 0) )
                {
                  v180 = *(_DWORD *)v234;
                  v181 = (signed __int16 *)(dword_131072C + 12 * dword_1547980);
                  x = **(signed __int16 **)v234 + *v181 - v231 + v172 + 30;
                  v182 = *(signed __int16 *)(v180 + 2) + v181[1] - (_DWORD)v233 + v179 + 15;
                  y = v182;
                  dword_1547438 = *((_DWORD *)v181 + 2);
                  if ( v182 > -300 && v182 < 460 )
                    dword_1541C10();
                  v172 = v240;
                  v171 = v239;
                }
              }
            }
            else
            {
              v174 = -7 * (byte_1328E45 != 0);
              if ( v171 < v174 + 22 )
              {
                v175 = dword_11FDDD4[v173 % 0x32 + 50 * (v173 / 0x32)];
                y = 4 * (5 * v237 + 5) - *(unsigned __int16 *)(v175 + 6) - (_DWORD)v233;
                if ( y <= -300 || y >= 450 )
                {
                  v172 = v240;
                }
                else
                {
                  v172 = v240;
                  x = v240 - v231;
                  v176 = *(_BYTE *)v241;
                  dword_1547438 = *(_DWORD *)(v175 + 8);
                  LOBYTE(dword_1547948) = v176;
                  if ( v171 >= 1 )
                  {
                    if ( v171 <= v174 + 19 )
                      sub_4713F0();
                    else
                      sub_471680();
                  }
                  else
                  {
                    sub_4714B0();
                  }
                }
              }
            }
          }
        }
        --v171;
        v172 -= 40;
        v239 = v171;
        v241 -= 70;
        v240 = v172;
      }
      while ( v171 > -3 );
    }
    result = v237 + 1;
    v1 = v237 - 36 < 0;
    v237 = result;
  }
  while ( v1 ^ __OFSUB__(result, 37) );
  if ( dword_1547978 == 1 )
    return result;
  v184 = (int)v238;
  v185 = 0;
  v237 = 0;
  v228 = 0;
  while ( 2 )
  {
    result = 24 - 7 * (byte_1328E45 != 0);
    if ( result <= -4 )
      goto LABEL_598;
    v230 = 4 * (result + v185) + 22289460;
    v229 = result + 4;
    v233 = &byte_1540E3C[70 * result + v237];
    while ( 2 )
    {
      v186 = *(_DWORD *)v230;
      if ( *(_DWORD *)v230 )
      {
        while ( 1 )
        {
          v187 = *(float *)(v186 + 116);
          v236 = (unsigned __int16)(signed __int64)*(float *)(v186 + 112) - dword_154794C;
          v240 = (unsigned __int16)(signed __int64)v187 - dword_1547950;
          if ( !*(_DWORD *)(v186 + 180) && (*(_BYTE *)(v186 + 48) == 2 || *(_BYTE *)(v186 + 48) == 6) )
            break;
LABEL_595:
          v186 = *(_DWORD *)(v186 + 632);
          if ( !v186 )
            goto LABEL_596;
        }
        v188 = *(_DWORD *)(v186 + 168);
        switch ( v188 )
        {
          case 0:
          case 3:
          case 6:
          case 9:
          case 12:
          case 20:
          case 23:
          case 26:
          case 40:
          case 43:
          case 60:
          case 63:
          case 80:
          case 83:
          case 86:
            sub_423AC0(v186);
            v241 = 0;
            break;
          default:
            if ( v188 != 118 )
            {
              v213 = *(_WORD *)(dword_8D3C24[v188] + 8 * *(unsigned __int8 *)(v186 + 174));
              v214 = *(unsigned __int8 *)(v186 + 173);
              if ( v213 )
              {
                if ( *(unsigned __int16 *)(v186 + 176) > v213 - 1 )
                  *(_WORD *)(v186 + 176) = *(_WORD *)(dword_8D3C24[*(_DWORD *)(v186 + 168)]
                                                    + 8 * *(unsigned __int8 *)(v186 + 174))
                                         - 1;
                v215 = *(_DWORD *)(*(_DWORD *)(dword_8D3C24[*(_DWORD *)(v186 + 168)]
                                             + 8 * *(unsigned __int8 *)(v186 + 174)
                                             + 4)
                                 + 4 * *(unsigned __int16 *)(v186 + 176));
              }
              else
              {
                v215 = **(_DWORD **)(dword_8D3C24[*(_DWORD *)(v186 + 168)] + 4);
                *(_WORD *)(v186 + 176) = 0;
              }
              v216 = 12 * v215;
              v217 = v236 + *(signed __int16 *)(dword_13083AC[v214 + 8 * *(_DWORD *)(v186 + 168)] + v216);
              x = v236 + *(signed __int16 *)(dword_13083AC[v214 + 8 * *(_DWORD *)(v186 + 168)] + v216);
              v218 = v240 + *(signed __int16 *)(dword_13083AC[v214 + 8 * *(_DWORD *)(v186 + 168)] + v216 + 2);
              y = v240 + *(signed __int16 *)(dword_13083AC[v214 + 8 * *(_DWORD *)(v186 + 168)] + v216 + 2);
              if ( *(_DWORD *)(v186 + 168) == 200 )
              {
                v218 -= 10;
                x = v217 + 15;
                y = v218;
              }
              if ( *(_DWORD *)(v186 + 156) )
                y = v218 + 12;
              dword_1547438 = *(_DWORD *)(dword_13083AC[v214 + 8 * *(_DWORD *)(v186 + 168)] + v216 + 8);
              LOBYTE(dword_1547948) = (*v233 ^ 0xF) + 20;
              if ( (unsigned __int8)dword_1547948 > 0x1Eu )
                LOBYTE(dword_1547948) = 30;
              dword_1330668(v233);
            }
            goto LABEL_595;
        }
        while ( 2 )
        {
          if ( v241 == byte_13194B2 )
          {
            if ( !dword_13083AC[8 * *(_DWORD *)(v186 + 168)] )
            {
              sprintf(&v222, a03dAni, *(_DWORD *)(v186 + 168));
              sub_4221A0((int)&v222, *(_DWORD *)(v186 + 168));
            }
            v189 = *(_DWORD *)(v186 + 168);
            v190 = *(unsigned __int8 *)(v186 + 173);
            if ( *(_WORD *)(dword_8D3C24[v189] + 8 * *(unsigned __int8 *)(v186 + 174)) )
            {
              if ( *(unsigned __int16 *)(v186 + 176) > *(unsigned __int16 *)(dword_8D3C24[v189]
                                                                           + 8 * *(unsigned __int8 *)(v186 + 174))
                                                     - 1 )
                *(_WORD *)(v186 + 176) = *(_WORD *)(dword_8D3C24[*(_DWORD *)(v186 + 168)]
                                                  + 8 * *(unsigned __int8 *)(v186 + 174))
                                       - 1;
              v191 = *(_DWORD *)(*(_DWORD *)(dword_8D3C24[*(_DWORD *)(v186 + 168)]
                                           + 8 * *(unsigned __int8 *)(v186 + 174)
                                           + 4)
                               + 4 * *(unsigned __int16 *)(v186 + 176));
            }
            else
            {
              v191 = **(_DWORD **)(dword_8D3C24[v189] + 4);
              *(_WORD *)(v186 + 176) = 0;
            }
            v192 = 12 * v191;
            x = v236 + *(signed __int16 *)(dword_13083AC[v190 + 8 * *(_DWORD *)(v186 + 168)] + v192);
            v193 = v240 + *(signed __int16 *)(dword_13083AC[v190 + 8 * *(_DWORD *)(v186 + 168)] + v192 + 2);
            y = v240 + *(signed __int16 *)(dword_13083AC[v190 + 8 * *(_DWORD *)(v186 + 168)] + v192 + 2);
            dword_1547438 = *(_DWORD *)(dword_13083AC[v190 + 8 * *(_DWORD *)(v186 + 168)] + v192 + 8);
            v194 = *(_DWORD *)(v186 + 156);
            if ( v194 )
              y = v193 + 12;
            LOBYTE(dword_1547948) = (*v233 ^ 0xF) + 20;
            if ( (unsigned __int8)dword_1547948 > 0x1Eu )
              LOBYTE(dword_1547948) = 30;
            dword_1330668(v194);
            if ( !dword_13083CC[8 * *(_DWORD *)(v186 + 168)] )
            {
              sprintf(&v224, a03dAni, *(_DWORD *)(v186 + 168) + 1);
              sub_4221A0((int)&v224, *(_DWORD *)(v186 + 168) + 1);
            }
            LOBYTE(dword_1547948) = *v233;
            x = v236 + *(signed __int16 *)(dword_13083CC[v190 + 8 * *(_DWORD *)(v186 + 168)] + v192);
            v195 = v240 + *(signed __int16 *)(dword_13083CC[v190 + 8 * *(_DWORD *)(v186 + 168)] + v192 + 2);
            y = v240 + *(signed __int16 *)(dword_13083CC[v190 + 8 * *(_DWORD *)(v186 + 168)] + v192 + 2);
            if ( *(_DWORD *)(v186 + 156) )
              y = v195 + 12;
            dword_1547438 = *(_DWORD *)(dword_13083CC[v190 + 8 * *(_DWORD *)(v186 + 168)] + v192 + 8);
            LOWORD(dword_13315BC) = *(_WORD *)(v186 + 756);
            word_13315C0 = ((unsigned int)dword_13315BC >> 10) & 0x1F;
            HIWORD(dword_13315BC) = ((unsigned int)dword_13315BC >> 5) & 0x1F;
            LOWORD(dword_13315BC) = dword_13315BC & 0x1F;
            dword_1330788();
            v184 = (int)v238;
LABEL_580:
            v1 = v241++ - 2 < 0;
            if ( !(v1 ^ __OFSUB__(v241, 3)) )
              goto LABEL_595;
            continue;
          }
          break;
        }
        if ( v241 == byte_1322590 && (v196 = *(_DWORD *)(v186 + 748)) != 0 )
        {
          if ( v196 == 502 || v196 == 704 || v196 == 706 )
            goto LABEL_580;
          switch ( *(_DWORD *)(v186 + 168) )
          {
            case 0:
            case 3:
            case 6:
            case 9:
              v184 = *(_DWORD *)(v186 + 748);
              goto LABEL_553;
            case 0xC:
            case 0x28:
            case 0x2B:
              v184 = v196 + 20;
              goto LABEL_553;
            case 0x14:
            case 0x17:
            case 0x1A:
              v184 = v196 + 10;
              goto LABEL_553;
            case 0x3C:
            case 0x3F:
              v184 = v196 + 30;
              goto LABEL_553;
            case 0x50:
            case 0x53:
            case 0x56:
              v184 = v196 + 40;
LABEL_553:
              v238 = (char *)v184;
              break;
            default:
              break;
          }
          if ( !dword_13083AC[8 * v184] )
          {
            sprintf(&v223, a03dAni, v184);
            sub_4221A0((int)&v223, v184);
          }
          v197 = dword_8D3C24[v184];
          v198 = *(unsigned __int8 *)(v186 + 174);
          v0 = *(_WORD *)(v197 + 8 * v198) == 0;
          v199 = v197 + 8 * v198;
          if ( v0 )
          {
            dword_49D008 = fopen(aErrorlogTxt, aAt);
            fprintf(dword_49D008, &byte_48EBC8, *(_DWORD *)(v186 + 748), v184, *(unsigned __int8 *)(v186 + 174));
            fclose(dword_49D008);
            goto LABEL_580;
          }
          v200 = 3 * *(_DWORD *)(*(_DWORD *)(v199 + 4) + 4 * *(unsigned __int16 *)(v186 + 176));
          v201 = dword_13083AC[*(unsigned __int8 *)(v186 + 173) + 8 * v184];
          v202 = *(signed __int16 *)(v201 + 4 * v200);
          v203 = v201 + 4 * v200;
          x = v236 + v202;
          v204 = v240 + *(signed __int16 *)(v203 + 2);
          y = v240 + *(signed __int16 *)(v203 + 2);
          dword_1547438 = *(_DWORD *)(v203 + 8);
          if ( *(_DWORD *)(v186 + 156) )
          {
            v204 += 12;
            y = v204;
          }
          LOBYTE(dword_1547948) = (*v233 ^ 0xF) + 20;
          if ( (unsigned __int8)dword_1547948 > 0x1Eu )
            goto LABEL_578;
        }
        else
        {
          if ( v241 != byte_131D694 )
            goto LABEL_580;
          v205 = *(_DWORD *)(v186 + 752);
          if ( !v205 )
            goto LABEL_580;
          switch ( *(_DWORD *)(v186 + 168) )
          {
            case 0:
            case 3:
            case 6:
              v184 = *(_DWORD *)(v186 + 752);
              goto LABEL_570;
            case 0x14:
            case 0x17:
              v184 = v205 + 10;
              goto LABEL_570;
            case 0x28:
            case 0x2B:
              v184 = v205 + 20;
              goto LABEL_570;
            case 0x3C:
            case 0x3F:
              v184 = v205 + 30;
              goto LABEL_570;
            case 0x50:
            case 0x53:
            case 0x56:
              v184 = v205 + 40;
LABEL_570:
              v238 = (char *)v184;
              break;
            default:
              break;
          }
          if ( !dword_13083AC[8 * v184] )
          {
            sprintf(&v225, a03dAni, v184);
            sub_4221A0((int)&v225, v184);
          }
          v206 = dword_8D3C24[v184];
          v207 = *(unsigned __int8 *)(v186 + 174);
          v0 = *(_WORD *)(v206 + 8 * v207) == 0;
          v208 = v206 + 8 * v207;
          if ( v0 )
          {
            dword_49D008 = fopen(aErrorlogTxt, aAt);
            fprintf(dword_49D008, &byte_48EB20, *(_DWORD *)(v186 + 752), v184, *(unsigned __int8 *)(v186 + 174));
            fclose(dword_49D008);
            goto LABEL_580;
          }
          v209 = 3 * *(_DWORD *)(*(_DWORD *)(v208 + 4) + 4 * *(unsigned __int16 *)(v186 + 176));
          v210 = dword_13083AC[*(unsigned __int8 *)(v186 + 173) + 8 * v184];
          v211 = *(signed __int16 *)(v210 + 4 * v209);
          v212 = v210 + 4 * v209;
          x = v236 + v211;
          v204 = v240 + *(signed __int16 *)(v212 + 2);
          y = v240 + *(signed __int16 *)(v212 + 2);
          dword_1547438 = *(_DWORD *)(v212 + 8);
          if ( *(_DWORD *)(v186 + 156) )
          {
            v204 += 12;
            y = v204;
          }
          LOBYTE(dword_1547948) = (*v233 ^ 0xF) + 16;
          if ( (unsigned __int8)dword_1547948 > 0x1Eu )
LABEL_578:
            LOBYTE(dword_1547948) = 30;
        }
        dword_1330668(v204);
        goto LABEL_580;
      }
LABEL_596:
      result = v229 - 1;
      v230 -= 4;
      v233 -= 70;
      v229 = result;
      if ( result )
        continue;
      break;
    }
    v185 = v228;
LABEL_598:
    v185 += 28;
    ++v237;
    v228 = v185;
    if ( v185 < 728 )
      continue;
    return result;
  }
}
// 48BCB0: using guessed type int dword_48BCB0[];
// 48CCE4: using guessed type int dword_48CCE4;
// 48EB14: using guessed type int dword_48EB14;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 6BDFF4: using guessed type int dword_6BDFF4;
// 8D3C24: using guessed type int dword_8D3C24[];
// 8D4C58: using guessed type int dword_8D4C58;
// 8D4C94: using guessed type int dword_8D4C94;
// 8D4CA4: using guessed type int dword_8D4CA4;
// 8D4CA8: using guessed type int dword_8D4CA8;
// 1208200: using guessed type int dword_1208200[];
// 13083AC: using guessed type int dword_13083AC[];
// 131054C: using guessed type int dword_131054C;
// 131072C: using guessed type int dword_131072C;
// 13107AC: using guessed type int dword_13107AC;
// 13107CC: using guessed type int dword_13107CC;
// 1317E74: using guessed type int dword_1317E74;
// 13194B2: using guessed type char byte_13194B2;
// 131ABFE: using guessed type __int16 word_131ABFE;
// 131D690: using guessed type int dword_131D690;
// 131D694: using guessed type char byte_131D694;
// 132258C: using guessed type int dword_132258C;
// 1322590: using guessed type char byte_1322590;
// 13225A0: using guessed type int dword_13225A0;
// 13225A4: using guessed type int dword_13225A4;
// 13225AC: using guessed type int dword_13225AC;
// 13225B0: using guessed type int dword_13225B0;
// 13225B4: using guessed type int dword_13225B4;
// 13225E4: using guessed type int dword_13225E4;
// 13225EC: using guessed type int dword_13225EC;
// 13225F0: using guessed type int dword_13225F0;
// 13225FC: using guessed type int dword_13225FC;
// 1322600: using guessed type int dword_1322600;
// 1322604: using guessed type int dword_1322604;
// 1322608: using guessed type int dword_1322608;
// 1322614: using guessed type int dword_1322614;
// 13246DC: using guessed type int dword_13246DC;
// 1328E45: using guessed type char byte_1328E45;
// 1330124: using guessed type char byte_1330124;
// 1330668: using guessed type int (__thiscall *dword_1330668)(_DWORD);
// 1330670: using guessed type int dword_1330670;
// 1330678: using guessed type int dword_1330678;
// 133067C: using guessed type int dword_133067C;
// 1330788: using guessed type int (*dword_1330788)(void);
// 13315BC: using guessed type int dword_13315BC;
// 13315C0: using guessed type __int16 word_13315C0;
// 1540B4C: using guessed type int dword_1540B4C;
// 1540B50: using guessed type int dword_1540B50;
// 1540B5C: using guessed type int (*dword_1540B5C)(void);
// 1541C10: using guessed type int (*dword_1541C10)(void);
// 1547438: using guessed type int dword_1547438;
// 1547448: using guessed type int (*dword_1547448)(void);
// 1547454: using guessed type int (*dword_1547454)(void);
// 1547948: using guessed type int dword_1547948;
// 154794C: using guessed type int dword_154794C;
// 1547950: using guessed type int dword_1547950;
// 1547960: using guessed type int dword_1547960;
// 154796C: using guessed type char byte_154796C;
// 1547978: using guessed type int dword_1547978;
// 154797C: using guessed type int dword_154797C;
// 1547980: using guessed type int dword_1547980;
// 1547984: using guessed type int dword_1547984;
// 1547988: using guessed type int dword_1547988;
// 154798C: using guessed type int dword_154798C;
// 1547990: using guessed type int dword_1547990;
// 1550B62: using guessed type int dword_1550B62;

//----- (004770A0) --------------------------------------------------------
char sub_4770A0()
{
  DWORD v0; // eax
  DWORD v1; // eax
  int v2; // eax
  DWORD v3; // eax
  bool v4; // cf
  bool v5; // zf
  int v6; // eax
  char *v7; // edi
  __int16 *v8; // esi
  signed int v9; // edx
  int v10; // eax
  FILE *v11; // esi
  signed int v12; // ecx
  unsigned int v13; // eax
  _WORD *v14; // edx
  bool v15; // sf
  unsigned __int8 v16; // of
  char v18; // [esp+Ch] [ebp-3Ch]
  __int16 *v19; // [esp+40h] [ebp-8h]
  int v20; // [esp+44h] [ebp-4h]

  if ( !(byte_1547940 & 1) )
  {
    byte_1547940 |= 1u;
    dword_1541C14 = GetTickCount();
  }
  BYTE2(dword_48EB10) = 33;
  v0 = GetTickCount();
  ++dword_15479D0;
  if ( v0 - dword_15479D4 >= BYTE2(dword_48EB10) )
  {
    if ( v0 - dword_15479D4 - BYTE2(dword_48EB10) > BYTE2(dword_48EB10) )
    {
      v2 = v0 - BYTE2(dword_48EB10);
      dword_15479D4 = v2;
      return v2;
    }
    dword_15479D4 += BYTE2(dword_48EB10);
  }
  else
  {
    do
      v1 = GetTickCount();
    while ( v1 - dword_15479D4 < BYTE2(dword_48EB10) );
    dword_15479D4 = v1;
  }
  sub_42DAB0();
  v3 = GetTickCount();
  dword_1547964 = v3;
  if ( v3 - dword_1547968 > 0xC8 )
  {
    dword_1547968 = v3;
    LOBYTE(dword_1547960) = dword_1547960 + 1;
    if ( (unsigned __int8)dword_1547960 > 3u )
    {
      LOBYTE(dword_1547960) = 0;
      v4 = (unsigned __int8)byte_15479DC < 5u;
      v5 = byte_15479DC++ == 5;
      if ( !v4 && !v5 )
      {
        byte_15479DC = 0;
        sub_422E80(asc_485098, 4);
      }
    }
  }
  sub_4724D0();
  if ( byte_1330135 )
  {
    if ( dword_1547978 <= 0 )
      dword_1547978 = 0;
    else
      --dword_1547978;
  }
  if ( byte_1330136 )
  {
    v6 = 1;
    if ( dword_1547978 < 1 )
      v6 = dword_1547978 + 1;
    dword_1547978 = v6;
  }
  sub_4773E0();
  sub_473440();
  if ( !dword_13225E0 )
    sub_472910();
  LOBYTE(v2) = sub_4494D0();
  if ( dword_4862F0 )
  {
    v19 = word_13B5390;
    v7 = (char *)dword_1570240;
    v8 = word_13B5390;
    v9 = 600;
    v10 = (unsigned __int16)word_156FAA0;
    do
    {
      qmemcpy(v7, v8, 0x640u);
      v8 += 900;
      v7 += v10 + 1600;
      --v9;
    }
    while ( v9 );
    sub_4503C0();
    x = dword_49D89C;
    y = dword_49D8A0;
    dword_1547438 = dword_8C8630;
    sub_4702F0();
    if ( dword_48CFA0 )
      sub_455FD0();
    if ( dword_13300B4 && (unsigned int)dword_13211C8 < unk_132507C )
      sub_4560D0();
    else
      dword_13300B4 = 0;
    nullsub_1();
    LOBYTE(v2) = sub_479E60();
  }
  if ( byte_1317E78 )
  {
    LOBYTE(v2) = dword_1317E7C;
    if ( (unsigned int)dword_1317E7C < 0xA )
    {
      sprintf(&v18, a09dTga, dword_1317E7C);
      if ( (unsigned int)++dword_1317E7C > 0x3B9AC9FE )
      {
        byte_1317E78 = 0;
        dword_1317E7C = 0;
      }
      v11 = fopen(&v18, aWb);
      fwrite(&unk_6C861C, 0xCu, 1u, v11);
      v20 = 800;
      fwrite(&v20, 2u, 1u, v11);
      v20 = 600;
      fwrite(&v20, 2u, 1u, v11);
      v20 = 272;
      fwrite(&v20, 2u, 1u, v11);
      v20 = 599;
      do
      {
        if ( dword_156FEB0 )
        {
          v12 = 0;
          do
          {
            HIWORD(v13) = HIWORD(dword_1570240);
            v14 = (_WORD *)(dword_1570240 + 2 * (v12 + v20 * ((unsigned int)(unsigned __int16)dword_1570244 >> 1)));
            LOWORD(v13) = *v14;
            ++v12;
            *v14 = *v14 & 0x1F | (v13 >> 1) & 0x7FE0;
          }
          while ( v12 < 800 );
        }
        fwrite(
          (const void *)(dword_1570240 + 2 * v20 * ((unsigned int)(unsigned __int16)dword_1570244 >> 1)),
          0x640u,
          1u,
          v11);
        v16 = __OFSUB__(v20 - 1, -1);
        v5 = v20 == 0;
        v15 = v20-- < 0;
      }
      while ( !((unsigned __int8)(v15 ^ v16) | v5) );
      LOBYTE(v2) = fclose(v11);
    }
  }
  byte_1317E78 = 0;
  return v2;
}
// 409C20: using guessed type int nullsub_1(void);
// 4862F0: using guessed type int dword_4862F0;
// 48CFA0: using guessed type int dword_48CFA0;
// 48EB10: using guessed type int dword_48EB10;
// 49D89C: using guessed type int dword_49D89C;
// 49D8A0: using guessed type int dword_49D8A0;
// 8C8630: using guessed type int dword_8C8630;
// 1317E78: using guessed type char byte_1317E78;
// 1317E7C: using guessed type int dword_1317E7C;
// 13211C8: using guessed type int dword_13211C8;
// 13225E0: using guessed type int dword_13225E0;
// 13300B4: using guessed type int dword_13300B4;
// 1330135: using guessed type char byte_1330135;
// 1330136: using guessed type char byte_1330136;
// 1541C14: using guessed type int dword_1541C14;
// 1547438: using guessed type int dword_1547438;
// 1547940: using guessed type char byte_1547940;
// 1547960: using guessed type int dword_1547960;
// 1547964: using guessed type int dword_1547964;
// 1547968: using guessed type int dword_1547968;
// 1547978: using guessed type int dword_1547978;
// 15479D0: using guessed type int dword_15479D0;
// 15479D4: using guessed type int dword_15479D4;
// 15479DC: using guessed type char byte_15479DC;
// 156FAA0: using guessed type __int16 word_156FAA0;
// 156FAA4: using guessed type int dword_156FAA4;
// 156FEB0: using guessed type int dword_156FEB0;
// 1570240: using guessed type int dword_1570240;
// 1570244: using guessed type int dword_1570244;

//----- (004773E0) --------------------------------------------------------
int sub_4773E0()
{
  int result; // eax

  result = sub_479E10((int *)dword_156FAA4);
  dword_1570248 = result;
  dword_1570240 = result;
  return result;
}
// 156FAA4: using guessed type int dword_156FAA4;
// 1570240: using guessed type int dword_1570240;
// 1570248: using guessed type int dword_1570248;

//----- (00477400) --------------------------------------------------------
void __cdecl sub_477400(signed int a1, signed int a2, __int16 a3)
{
  int v3; // ecx

  if ( a1 >= 0 && a1 <= (unsigned __int16)dword_1570244 && a2 >= 0 && a2 <= 600 )
  {
    v3 = dword_1570248;
    *(_BYTE *)(2 * a1 + a2 * (unsigned __int16)dword_1570244 + dword_1570248) = a3;
    *(_BYTE *)(2 * a1 + a2 * (unsigned __int16)dword_1570244 + v3 + 1) = HIBYTE(a3);
  }
}
// 1570244: using guessed type int dword_1570244;
// 1570248: using guessed type int dword_1570248;

//----- (00477460) --------------------------------------------------------
void __cdecl sub_477460(signed int a1, signed int a2, int a3, int a4, __int16 a5)
{
  signed int v5; // esi
  signed int v6; // edi
  signed int v7; // ebx
  signed int v8; // ebp
  signed int v9; // edi
  int v10; // eax
  signed int v11; // ebx
  int v12; // edi
  int v13; // ecx
  int v14; // eax
  int v15; // ecx
  int v16; // esi
  int v17; // [esp+10h] [ebp-4h]
  signed int v18; // [esp+18h] [ebp+4h]
  signed int v19; // [esp+1Ch] [ebp+8h]
  int v20; // [esp+20h] [ebp+Ch]
  signed int v21; // [esp+24h] [ebp+10h]

  v5 = a1;
  if ( a1 == a3 )
  {
    v6 = a2;
    if ( a2 != a4 )
    {
      v7 = a4 - a2 >= 0 ? 1 : -1;
      if ( a2 != v7 + a4 )
      {
        do
        {
          sub_477400(a1, v6, a5);
          v6 += v7;
        }
        while ( v6 != v7 + a4 );
      }
    }
  }
  else
  {
    v8 = a2;
    if ( a2 == a4 )
    {
      v9 = a3 - a1 >= 0 ? 1 : -1;
      if ( a1 != v9 + a3 )
      {
        do
        {
          sub_477400(v5, a2, a5);
          v5 += v9;
        }
        while ( v5 != v9 + a3 );
      }
    }
    else
    {
      v10 = a3 - a1;
      v11 = a1;
      v12 = a3 - a1;
      if ( a3 - a1 >= 0 )
      {
        v18 = 1;
      }
      else
      {
        v18 = -1;
        v12 = -v10;
      }
      v13 = a4 - a2;
      v14 = a4 - a2;
      if ( a4 - a2 >= 0 )
      {
        v21 = 1;
      }
      else
      {
        v21 = -1;
        v14 = -v13;
      }
      if ( v14 <= v12 )
      {
        v19 = 0;
      }
      else
      {
        v15 = v12;
        v12 = v14;
        v14 = v15;
        v19 = 1;
      }
      v17 = 2 * v14;
      v16 = 2 * v14 - v12;
      if ( v12 + 1 > 0 )
      {
        v20 = v12 + 1;
        do
        {
          sub_477400(v11, v8, a5);
          for ( ; v16 >= 0; v16 -= 2 * v12 )
          {
            if ( v19 )
              v11 += v18;
            else
              v8 += v21;
          }
          if ( v19 )
            v8 += v21;
          else
            v11 += v18;
          v16 += v17;
          --v20;
        }
        while ( v20 );
      }
    }
  }
}

//----- (004775B0) --------------------------------------------------------
void __cdecl sub_4775B0(signed int a1, signed int a2, int a3, int a4, __int16 a5)
{
  sub_477460(a1, a2, a3, a2, a5);
  sub_477460(a3, a2, a3, a4, a5);
  sub_477460(a1, a4, a3, a4, a5);
  sub_477460(a1, a2, a1, a4, a5);
}

//----- (00477600) --------------------------------------------------------
void __cdecl sub_477600(signed int a1, signed int a2, int a3, int a4, __int16 a5, __int16 a6)
{
  signed int i; // esi

  sub_477460(a1, a2, a3, a2, a5);
  sub_477460(a3, a2, a3, a4, a5);
  sub_477460(a1, a4, a3, a4, a5);
  sub_477460(a1, a2, a1, a4, a5);
  for ( i = a2 + 1; i < a4; ++i )
    sub_477460(a1 + 1, i, a3 - 1, i, a6);
}

//----- (00477670) --------------------------------------------------------
int __cdecl sub_477670(int a1)
{
  FILE *v1; // ebx
  int result; // eax
  FILE *v3; // edi
  unsigned __int16 v4; // ax
  FILE *v5; // ebx
  FILE *v6; // edi
  unsigned __int16 v7; // dx
  char v8; // [esp+Ch] [ebp-104h]

  if ( dword_1322624 )
  {
    v1 = sub_41BC40(aScrtestdataDat);
    result = (int)fopen(aScrtestDat, aRb);
    v3 = (FILE *)result;
    if ( result )
    {
      sprintf(&v8, aScr03dBin, a1);
      result = sub_41BD00(&v8, (int)v1);
      if ( result != -1 )
      {
        fseek(v3, *((_DWORD *)dword_8D0AE0[result] + 13), 0);
        dword_1550828 = 0;
        fread(&dword_1550828, 1u, 4u, v3);
        fread(byte_154DF70, 1u, dword_1550828, v3);
        LOBYTE(v4) = 0;
        HIBYTE(v4) = byte_154DF70[0];
        dword_1550688 = 0;
        dword_1550694 = 0;
        dword_1550690 = (unsigned __int8)byte_154DF73 | (((unsigned __int8)byte_154DF72 | (((unsigned __int8)byte_154DF71[0] | v4) << 8)) << 8);
        dword_1550834 = 0;
        dword_15509C8 = 0;
        dword_155068C = HIBYTE(dword_154DF74) | ((BYTE2(dword_154DF74) | ((BYTE1(dword_154DF74) | ((unsigned __int8)dword_154DF74 << 8)) << 8)) << 8);
        dword_1550680 = 0;
        dword_1550830 = HIBYTE(dword_154DF78) | ((BYTE2(dword_154DF78) | ((BYTE1(dword_154DF78) | ((unsigned __int8)dword_154DF78 << 8)) << 8)) << 8);
        dword_1550684 = HIBYTE(dword_154DF7C) | ((BYTE2(dword_154DF7C) | ((BYTE1(dword_154DF7C) | ((unsigned __int8)dword_154DF7C << 8)) << 8)) << 8);
        fclose(v3);
        return sub_479150();
      }
    }
  }
  else
  {
    v5 = sub_41BC40(aScrdataDat);
    result = (int)fopen(aScrDat, aRb);
    v6 = (FILE *)result;
    if ( result )
    {
      sprintf(&v8, aScr03dBin, a1);
      result = sub_41BD00(&v8, (int)v5);
      if ( result != -1 )
      {
        fseek(v6, *((_DWORD *)dword_8D0AE0[result] + 13), 0);
        dword_1550828 = 0;
        fread(&dword_1550828, 1u, 4u, v6);
        fread(byte_154DF70, 1u, dword_1550828, v6);
        LOBYTE(v7) = 0;
        HIBYTE(v7) = byte_154DF70[0];
        dword_1550688 = 0;
        dword_1550694 = 0;
        dword_1550690 = (unsigned __int8)byte_154DF73 | (((unsigned __int8)byte_154DF72 | (((unsigned __int8)byte_154DF71[0] | v7) << 8)) << 8);
        dword_1550834 = 0;
        dword_15509C8 = 0;
        dword_155068C = HIBYTE(dword_154DF74) | ((BYTE2(dword_154DF74) | ((BYTE1(dword_154DF74) | ((unsigned __int8)dword_154DF74 << 8)) << 8)) << 8);
        dword_1550680 = 0;
        dword_1550830 = HIBYTE(dword_154DF78) | ((BYTE2(dword_154DF78) | ((BYTE1(dword_154DF78) | ((unsigned __int8)dword_154DF78 << 8)) << 8)) << 8);
        dword_1550684 = HIBYTE(dword_154DF7C) | ((BYTE2(dword_154DF7C) | ((BYTE1(dword_154DF7C) | ((unsigned __int8)dword_154DF7C << 8)) << 8)) << 8);
        fclose(v6);
        return sub_479150();
      }
    }
  }
  dword_1550688 = 1;
  return result;
}
// 1322624: using guessed type int dword_1322624;
// 154DF72: using guessed type char byte_154DF72;
// 154DF73: using guessed type char byte_154DF73;
// 154DF74: using guessed type int dword_154DF74;
// 154DF78: using guessed type int dword_154DF78;
// 154DF7C: using guessed type int dword_154DF7C;
// 1550680: using guessed type int dword_1550680;
// 1550684: using guessed type int dword_1550684;
// 1550688: using guessed type int dword_1550688;
// 155068C: using guessed type int dword_155068C;
// 1550690: using guessed type int dword_1550690;
// 1550694: using guessed type int dword_1550694;
// 1550830: using guessed type int dword_1550830;
// 1550834: using guessed type int dword_1550834;
// 15509C8: using guessed type int dword_15509C8;

//----- (004779D0) --------------------------------------------------------
signed int __cdecl sub_4779D0(int *a1)
{
  char *v1; // ebx
  int *v2; // edi
  int v3; // eax
  int v4; // ecx
  int v5; // ecx
  int v6; // eax
  int v7; // ecx
  int v8; // ecx
  int v9; // edx
  int v10; // eax
  int v11; // esi
  int v12; // ecx
  int v13; // eax
  signed int v14; // edx
  int v15; // ecx
  int v16; // ecx
  int v17; // ecx
  unsigned __int16 v18; // cx
  unsigned __int16 v19; // ax
  unsigned __int16 v20; // dx
  int v21; // ecx
  int v22; // eax
  int v23; // eax
  int v24; // ecx
  int v25; // edx
  int v26; // ecx
  int v27; // edx
  unsigned __int16 v28; // cx
  unsigned __int16 v29; // cx
  int v30; // edx
  int v31; // ecx
  int i; // eax
  int v33; // esi
  int v34; // eax
  int v35; // ecx
  int v36; // ecx
  int v37; // eax
  int v38; // ecx
  int v39; // ecx
  int v40; // ecx
  unsigned __int16 v41; // dx
  int v42; // edx
  int v43; // esi
  int v44; // eax
  int v45; // edi
  char v46; // dl
  int v47; // ecx
  int v48; // eax
  unsigned __int16 v49; // cx
  int v50; // ecx
  int v51; // eax
  unsigned __int16 v52; // cx
  int v53; // ecx
  int v54; // eax
  int v55; // edx
  int v56; // ecx
  int v57; // edx
  int v58; // ecx
  unsigned __int16 v59; // cx
  int v60; // ecx
  int v61; // eax
  unsigned __int16 v62; // cx
  int v63; // ecx
  int v64; // eax
  unsigned __int16 v65; // cx
  int v66; // ecx
  int v67; // eax
  unsigned __int16 v68; // cx
  int v69; // ecx
  int v70; // eax
  int v71; // edx
  int v72; // eax
  int v73; // ecx
  int v74; // edx
  int v75; // eax
  int v76; // ecx
  int v77; // edx
  int v78; // eax
  int v79; // ecx
  int v80; // ecx
  int v81; // eax
  int v82; // ecx
  int v83; // eax
  int v84; // edx
  int v85; // edx
  int v86; // edx
  int v87; // ecx
  int v89; // [esp+10h] [ebp-214h]
  signed int v90; // [esp+14h] [ebp-210h]
  int v91; // [esp+18h] [ebp-20Ch]
  char v92[260]; // [esp+1Ch] [ebp-208h]
  char v93; // [esp+120h] [ebp-104h]

  if ( !dword_1550688 )
  {
    v1 = (char *)v90;
    v2 = (int *)v91;
    while ( 2 )
    {
      v3 = *a1 + 1;
      v4 = (unsigned __int8)byte_154DF70[*a1] - 48;
      *a1 = v3;
      switch ( v4 )
      {
        case 0:
          v5 = (unsigned __int8)byte_154DF70[v3];
          v6 = v3 + 1;
          v7 = v5 - 80;
          *a1 = v6;
          if ( v7 )
          {
            v8 = v7 - 1;
            if ( v8 )
            {
              if ( v8 != 3 )
              {
LABEL_11:
                v9 = (unsigned __int8)byte_154DF70[*a1];
                v10 = *a1 + 1;
                *a1 = v10;
                v11 = v9;
                v12 = (unsigned __int8)byte_154DF70[v10];
                v13 = v10 + 1;
                *a1 = v13;
                switch ( v12 )
                {
                  case 80:
                    v14 = 0;
                    v15 = (unsigned __int8)byte_154DF70[v13];
                    v90 = 0;
                    *a1 = v13 + 1;
                    v2 = (int *)(4 * v15 + 22349464);
                    v91 = 4 * v15 + 22349464;
                    break;
                  case 81:
                    v14 = 0;
                    v16 = (unsigned __int8)byte_154DF70[v13];
                    v90 = 0;
                    *a1 = v13 + 1;
                    v2 = (int *)(4 * v16 + 22349880);
                    v91 = 4 * v16 + 22349880;
                    break;
                  case 82:
                    v14 = 1;
                    HIBYTE(v18) = byte_154DF70[v13];
                    v90 = 1;
                    LOBYTE(v18) = byte_154DF71[v13];
                    v89 = v18;
                    *a1 = v13 + 2;
                    break;
                  case 84:
                    v14 = 0;
                    v17 = (unsigned __int8)byte_154DF70[v13];
                    v90 = 0;
                    *a1 = v13 + 1;
                    v2 = (int *)(4 * v17 + 22350284);
                    v91 = 4 * v17 + 22350284;
                    break;
                  default:
                    v14 = v90;
                    break;
                }
                HIBYTE(v19) = byte_154DF70[*a1];
                LOBYTE(v19) = byte_154DF71[*a1];
                *a1 += 2;
                switch ( v11 )
                {
                  case 128:
                    if ( v14 )
                    {
                      if ( v14 == 1 && *(_DWORD *)v1 != v89 )
                        *a1 = v19;
                    }
                    else if ( *(_DWORD *)v1 != *v2 )
                    {
                      *a1 = v19;
                    }
                    break;
                  case 129:
                    if ( v14 )
                    {
                      if ( v14 == 1 && *(_DWORD *)v1 <= v89 )
                        *a1 = v19;
                    }
                    else if ( *(_DWORD *)v1 <= *v2 )
                    {
                      *a1 = v19;
                    }
                    break;
                  case 130:
                    if ( v14 )
                    {
                      if ( v14 == 1 && *(_DWORD *)v1 >= v89 )
                        *a1 = v19;
                    }
                    else if ( *(_DWORD *)v1 >= *v2 )
                    {
                      *a1 = v19;
                    }
                    break;
                  case 131:
                    if ( v14 )
                    {
                      if ( v14 == 1 && *(_DWORD *)v1 == v89 )
                        *a1 = v19;
                    }
                    else if ( *(_DWORD *)v1 == *v2 )
                    {
                      *a1 = v19;
                    }
                    break;
                  default:
                    goto LABEL_141;
                }
                goto LABEL_141;
              }
              v1 = (char *)(4 * (unsigned __int8)byte_154DF70[v6] + 22350284);
            }
            else
            {
              v1 = (char *)(4 * (unsigned __int8)byte_154DF70[v6] + 22349880);
            }
          }
          else
          {
            v1 = (char *)(4 * (unsigned __int8)byte_154DF70[v6] + 22349464);
          }
          *a1 = v6 + 1;
          goto LABEL_11;
        case 1:
          HIBYTE(v20) = byte_154DF70[v3];
          LOBYTE(v20) = byte_154DF71[v3];
          *a1 = v20;
          goto LABEL_141;
        case 2:
          v21 = (unsigned __int8)byte_154DF70[v3];
          v22 = v3 + 1;
          *a1 = v22;
          switch ( v21 )
          {
            case 80:
              v90 = 0;
              v1 = (char *)(4 * (unsigned __int8)byte_154DF70[v22] + 22349464);
              goto LABEL_48;
            case 81:
              v90 = 0;
              v1 = (char *)(4 * (unsigned __int8)byte_154DF70[v22] + 22349880);
              goto LABEL_48;
            case 83:
              v90 = 2;
              v1 = (char *)(260 * (unsigned __int8)byte_154DF70[v22] + 22313440);
              goto LABEL_48;
            case 84:
              v90 = 0;
              v1 = (char *)(4 * (unsigned __int8)byte_154DF70[v22] + 22350284);
LABEL_48:
              *a1 = v22 + 1;
              break;
            default:
              break;
          }
          v23 = *a1 + 1;
          v24 = (unsigned __int8)byte_154DF70[*a1] - 80;
          *a1 = v23;
          switch ( v24 )
          {
            case 0:
              v25 = (unsigned __int8)byte_154DF70[v23];
              *a1 = v23 + 1;
              v2 = (int *)(4 * v25 + 22349464);
              v91 = 4 * v25 + 22349464;
              break;
            case 1:
              v26 = (unsigned __int8)byte_154DF70[v23];
              *a1 = v23 + 1;
              v2 = (int *)(4 * v26 + 22349880);
              v91 = 4 * v26 + 22349880;
              break;
            case 2:
              if ( v90 )
              {
                HIBYTE(v29) = byte_154DF70[v23];
                LOBYTE(v29) = byte_154DF71[v23];
                v90 = 2;
                v89 = v29;
                *a1 = v23 + 2;
                _itoa(v29, v92, 10);
              }
              else
              {
                v90 = 1;
                HIBYTE(v28) = byte_154DF70[v23];
                LOBYTE(v28) = byte_154DF71[v23];
                v89 = v28;
                *a1 = v23 + 2;
              }
              break;
            case 3:
              v30 = 65 * (unsigned __int8)byte_154DF70[v23];
              *a1 = v23 + 1;
              strcpy(v92, (const char *)(4 * v30 + 22313440));
              goto LABEL_60;
            case 4:
              v27 = (unsigned __int8)byte_154DF70[v23];
              *a1 = v23 + 1;
              v2 = (int *)(4 * v27 + 22350284);
              v91 = 4 * v27 + 22350284;
              break;
            case 5:
              v31 = (unsigned __int8)byte_154DF70[v23];
              *a1 = v23 + 1;
              for ( i = 0; i < v31; *a1 = v33 )
              {
                v33 = *a1 + 1;
                v92[i++] = byte_154DF70[*a1] ^ 0x3C;
              }
              v92[i] = 0;
LABEL_60:
              v2 = (int *)v91;
              break;
            default:
              break;
          }
          v34 = *a1 + 1;
          v35 = (unsigned __int8)byte_154DF70[*a1] - 96;
          *a1 = v34;
          switch ( v35 )
          {
            case 0:
              if ( v90 )
              {
                if ( v90 == 1 )
                {
                  v47 = (unsigned __int8)byte_154DF70[v34];
                  v48 = v34 + 1;
                  *a1 = v48;
                  switch ( v47 )
                  {
                    case 80:
                      *(_DWORD *)v1 = v89 + *(&dword_1550698 + (unsigned __int8)byte_154DF70[v48]);
                      ++*a1;
                      break;
                    case 81:
                      *(_DWORD *)v1 = v89 + *(&dword_1550838 + (unsigned __int8)byte_154DF70[v48]);
                      ++*a1;
                      break;
                    case 82:
                      HIBYTE(v49) = byte_154DF70[v48];
                      LOBYTE(v49) = byte_154DF71[v48];
                      *(_DWORD *)v1 = v89 + v49;
                      *a1 += 2;
                      break;
                    case 84:
                      *(_DWORD *)v1 = v89 + dword_15509CC[(unsigned __int8)byte_154DF70[v48]];
                      ++*a1;
                      break;
                    default:
                      goto LABEL_141;
                  }
                }
                else if ( v90 == 2 )
                {
                  v36 = (unsigned __int8)byte_154DF70[v34];
                  v37 = v34 + 1;
                  *a1 = v37;
                  switch ( v36 )
                  {
                    case 80:
                      v38 = *(&dword_1550698 + (unsigned __int8)byte_154DF70[v37]);
                      *a1 = v37 + 1;
                      _itoa(v38, &v93, 10);
                      strcpy(v1, v92);
                      strcat(v1, &v93);
                      v2 = (int *)v91;
                      break;
                    case 81:
                      v39 = *(&dword_1550838 + (unsigned __int8)byte_154DF70[v37]);
                      *a1 = v37 + 1;
                      _itoa(v39, &v93, 10);
                      strcpy(v1, v92);
                      strcat(v1, &v93);
                      v2 = (int *)v91;
                      break;
                    case 82:
                      HIBYTE(v41) = byte_154DF70[v37];
                      LOBYTE(v41) = byte_154DF71[v37];
                      _itoa(v41, &v93, 10);
                      strcpy(v1, v92);
                      strcat(v1, &v93);
                      v2 = (int *)v91;
                      *a1 += 2;
                      break;
                    case 83:
                      strcpy(v1, v92);
                      v42 = 65 * (unsigned __int8)byte_154DF70[(*a1)++];
                      strcat(v1, (const char *)(4 * v42 + 22313440));
                      v2 = (int *)v91;
                      break;
                    case 84:
                      v40 = dword_15509CC[(unsigned __int8)byte_154DF70[v37]];
                      *a1 = v37 + 1;
                      _itoa(v40, &v93, 10);
                      strcpy(v1, v92);
                      strcat(v1, &v93);
                      v2 = (int *)v91;
                      break;
                    case 85:
                      strcpy(v1, v92);
                      v43 = 0;
                      v44 = *a1 + 1;
                      v45 = (unsigned __int8)byte_154DF70[*a1];
                      *a1 = v44;
                      if ( v45 > 0 )
                      {
                        do
                        {
                          v46 = byte_154DF70[v44++] ^ 0x3C;
                          v92[v43++] = v46;
                          *a1 = v44;
                        }
                        while ( v43 < v45 );
                      }
                      v92[v43] = 0;
                      strcat(v1, v92);
                      v2 = (int *)v91;
                      break;
                    default:
                      goto LABEL_141;
                  }
                }
              }
              else
              {
                v50 = (unsigned __int8)byte_154DF70[v34];
                v51 = v34 + 1;
                *a1 = v51;
                switch ( v50 )
                {
                  case 80:
                    *(_DWORD *)v1 = *v2 + *(&dword_1550698 + (unsigned __int8)byte_154DF70[v51]);
                    ++*a1;
                    break;
                  case 81:
                    *(_DWORD *)v1 = *v2 + *(&dword_1550838 + (unsigned __int8)byte_154DF70[v51]);
                    ++*a1;
                    break;
                  case 82:
                    HIBYTE(v52) = byte_154DF70[v51];
                    LOBYTE(v52) = byte_154DF71[v51];
                    *(_DWORD *)v1 = *v2 + v52;
                    *a1 += 2;
                    break;
                  case 84:
                    *(_DWORD *)v1 = *v2 + dword_15509CC[(unsigned __int8)byte_154DF70[v51]];
                    ++*a1;
                    break;
                  default:
                    goto LABEL_141;
                }
              }
              break;
            case 1:
              if ( v90 )
              {
                if ( v90 == 1 )
                {
                  v53 = (unsigned __int8)byte_154DF70[v34];
                  v54 = v34 + 1;
                  *a1 = v54;
                  switch ( v53 )
                  {
                    case 80:
                      *(_DWORD *)v1 = v89 - *(&dword_1550698 + (unsigned __int8)byte_154DF70[v54]);
                      ++*a1;
                      goto LABEL_141;
                    case 81:
                      v55 = v89;
                      v56 = (unsigned __int8)byte_154DF70[v54];
                      goto LABEL_95;
                    case 82:
                      HIBYTE(v59) = byte_154DF70[v54];
                      LOBYTE(v59) = byte_154DF71[v54];
                      *(_DWORD *)v1 = v89 - v59;
                      *a1 += 2;
                      goto LABEL_141;
                    case 84:
                      v57 = v89;
                      v58 = (unsigned __int8)byte_154DF70[v54];
                      goto LABEL_97;
                    default:
                      goto LABEL_141;
                  }
                }
              }
              else
              {
                v60 = (unsigned __int8)byte_154DF70[v34];
                v61 = v34 + 1;
                *a1 = v61;
                switch ( v60 )
                {
                  case 80:
                    *(_DWORD *)v1 = *v2 - *(&dword_1550698 + (unsigned __int8)byte_154DF70[v61]);
                    ++*a1;
                    break;
                  case 81:
                    v55 = *v2;
                    v56 = (unsigned __int8)byte_154DF70[v61];
LABEL_95:
                    *(_DWORD *)v1 = v55 - *(&dword_1550838 + v56);
                    ++*a1;
                    break;
                  case 82:
                    HIBYTE(v62) = byte_154DF70[v61];
                    LOBYTE(v62) = byte_154DF71[v61];
                    *(_DWORD *)v1 = *v2 - v62;
                    *a1 += 2;
                    break;
                  case 84:
                    v57 = *v2;
                    v58 = (unsigned __int8)byte_154DF70[v61];
LABEL_97:
                    *(_DWORD *)v1 = v57 - dword_15509CC[v58];
                    ++*a1;
                    break;
                  default:
                    goto LABEL_141;
                }
              }
              break;
            case 2:
              if ( v90 )
              {
                if ( v90 == 1 )
                {
                  v63 = (unsigned __int8)byte_154DF70[v34];
                  v64 = v34 + 1;
                  *a1 = v64;
                  switch ( v63 )
                  {
                    case 80:
                      *(_DWORD *)v1 = v89 * *(&dword_1550698 + (unsigned __int8)byte_154DF70[v64]);
                      ++*a1;
                      break;
                    case 81:
                      *(_DWORD *)v1 = v89 * *(&dword_1550838 + (unsigned __int8)byte_154DF70[v64]);
                      ++*a1;
                      break;
                    case 82:
                      HIBYTE(v65) = byte_154DF70[v64];
                      LOBYTE(v65) = byte_154DF71[v64];
                      *(_DWORD *)v1 = v89 * v65;
                      *a1 += 2;
                      break;
                    case 84:
                      *(_DWORD *)v1 = v89 * dword_15509CC[(unsigned __int8)byte_154DF70[v64]];
                      ++*a1;
                      break;
                    default:
                      goto LABEL_141;
                  }
                }
              }
              else
              {
                v66 = (unsigned __int8)byte_154DF70[v34];
                v67 = v34 + 1;
                *a1 = v67;
                switch ( v66 )
                {
                  case 80:
                    *(_DWORD *)v1 = *v2 * *(&dword_1550698 + (unsigned __int8)byte_154DF70[v67]);
                    ++*a1;
                    break;
                  case 81:
                    *(_DWORD *)v1 = *v2 * *(&dword_1550838 + (unsigned __int8)byte_154DF70[v67]);
                    ++*a1;
                    break;
                  case 82:
                    HIBYTE(v68) = byte_154DF70[v67];
                    LOBYTE(v68) = byte_154DF71[v67];
                    *(_DWORD *)v1 = *v2 * v68;
                    *a1 += 2;
                    break;
                  case 84:
                    *(_DWORD *)v1 = *v2 * dword_15509CC[(unsigned __int8)byte_154DF70[v67]];
                    ++*a1;
                    break;
                  default:
                    goto LABEL_141;
                }
              }
              break;
            case 3:
              if ( v90 )
              {
                if ( v90 == 1 )
                {
                  v69 = (unsigned __int8)byte_154DF70[v34];
                  v70 = v34 + 1;
                  *a1 = v70;
                  switch ( v69 )
                  {
                    case 80:
                      v71 = (unsigned __int8)byte_154DF70[v70];
                      v72 = v89;
                      v73 = v71;
                      goto LABEL_126;
                    case 81:
                      v74 = (unsigned __int8)byte_154DF70[v70];
                      v75 = v89;
                      v76 = v74;
                      goto LABEL_128;
                    case 82:
                      HIWORD(v80) = 0;
                      BYTE1(v80) = byte_154DF70[v70];
                      LOBYTE(v80) = byte_154DF71[v70];
                      v81 = v89;
                      goto LABEL_123;
                    case 84:
                      v77 = (unsigned __int8)byte_154DF70[v70];
                      v78 = v89;
                      v79 = v77;
                      goto LABEL_130;
                    default:
                      goto LABEL_141;
                  }
                }
              }
              else
              {
                v82 = (unsigned __int8)byte_154DF70[v34];
                v83 = v34 + 1;
                *a1 = v83;
                switch ( v82 )
                {
                  case 80:
                    v84 = (unsigned __int8)byte_154DF70[v83];
                    v72 = *v2;
                    v73 = v84;
LABEL_126:
                    *(_DWORD *)v1 = v72 / *(&dword_1550698 + v73);
                    ++*a1;
                    break;
                  case 81:
                    v85 = (unsigned __int8)byte_154DF70[v83];
                    v75 = *v2;
                    v76 = v85;
LABEL_128:
                    *(_DWORD *)v1 = v75 / *(&dword_1550838 + v76);
                    ++*a1;
                    break;
                  case 82:
                    HIWORD(v80) = 0;
                    BYTE1(v80) = byte_154DF70[v83];
                    LOBYTE(v80) = byte_154DF71[v83];
                    v81 = *v2;
LABEL_123:
                    v2 = (int *)v91;
                    *(_DWORD *)v1 = v81 / v80;
                    *a1 += 2;
                    break;
                  case 84:
                    v86 = (unsigned __int8)byte_154DF70[v83];
                    v78 = *v2;
                    v79 = v86;
LABEL_130:
                    *(_DWORD *)v1 = v78 / dword_15509CC[v79];
                    ++*a1;
                    break;
                  default:
                    goto LABEL_141;
                }
              }
              break;
            case 7:
              if ( v90 )
              {
                if ( v90 == 1 )
                {
                  *(_DWORD *)v1 = v89;
                }
                else if ( v90 == 2 )
                {
                  strcpy(v1, v92);
                  v2 = (int *)v91;
                }
              }
              else
              {
                *(_DWORD *)v1 = *v2;
              }
              break;
            default:
              break;
          }
LABEL_141:
          if ( !dword_1550688 )
            continue;
          return 0;
        case 3:
          return 1;
        case 4:
          v87 = (unsigned __int8)byte_154DF70[v3] - 1;
          *a1 = v3 + 1;
          switch ( v87 )
          {
            case 0:
              sub_4788B0();
              goto LABEL_141;
            case 1:
              sub_4789E0();
              goto LABEL_141;
            case 2:
              sub_478B70();
              goto LABEL_141;
            case 3:
              sub_478D10();
              goto LABEL_141;
            case 4:
              sub_478DC0();
              goto LABEL_141;
            case 5:
              sub_478E90();
              goto LABEL_141;
            case 6:
              sub_478910();
              goto LABEL_141;
            case 7:
              sub_4790D0();
              goto LABEL_141;
            default:
              goto LABEL_144;
          }
          goto LABEL_144;
        default:
LABEL_144:
          dword_1550688 = 1;
          return 0;
      }
    }
  }
  return 0;
}
// 1550688: using guessed type int dword_1550688;
// 4779D0: using guessed type char var_208[260];

//----- (004788B0) --------------------------------------------------------
unsigned int sub_4788B0()
{
  char *v0; // edx
  unsigned int result; // eax
  CHAR *v2; // edi

  v0 = (char *)&unk_15479E0;
  memset(&dword_1550698, 0, 0x190u);
  memset(&dword_1550838, 0, 0x190u);
  memset(dword_15509CC, 0, 0x190u);
  do
  {
    result = strlen(byte_49D994) + 1;
    v2 = v0;
    v0 += 260;
    qmemcpy(v2, byte_49D994, result);
  }
  while ( (signed int)v0 < (signed int)byte_154DF70 );
  return result;
}

//----- (00478910) --------------------------------------------------------
signed int sub_478910()
{
  LPCSTR v0; // esi
  int v1; // edi
  int v2; // edx
  signed int result; // eax
  int v4; // eax

  v0 = (&lpString)[dword_131D690];
  v1 = (signed __int64)*((float *)v0 + 28) / 40;
  v2 = (signed __int64)*((float *)v0 + 30) / 20;
  result = dword_155083C;
  if ( v1 <= dword_155083C
    || v1 >= dword_1550844
    || v2 <= dword_1550840
    || v2 >= dword_1550848
    || (result = dword_155084C, (unsigned __int16)dword_13246DC >= dword_155084C) )
  {
    dword_1319494 = 0;
  }
  else
  {
    v4 = dword_13211C8;
    strcpy(byte_1324F74, byte_1547AE4);
    dword_1329444 = v4 + 3000;
    result = 1;
    dword_13300B8 = 1;
    dword_1319494 = 1;
  }
  return result;
}
// 1319494: using guessed type int dword_1319494;
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13246DC: using guessed type int dword_13246DC;
// 1329444: using guessed type int dword_1329444;
// 13300B8: using guessed type int dword_13300B8;
// 155083C: using guessed type int dword_155083C;
// 1550840: using guessed type int dword_1550840;
// 1550844: using guessed type int dword_1550844;
// 1550848: using guessed type int dword_1550848;
// 155084C: using guessed type int dword_155084C;

//----- (004789E0) --------------------------------------------------------
FILE *sub_4789E0()
{
  FILE *result; // eax
  int v1; // ecx
  int v2; // eax
  int v3; // edx
  char v4; // [esp+0h] [ebp-108h]
  char v5; // [esp+1h] [ebp-107h]
  char v6; // [esp+2h] [ebp-106h]
  char v7; // [esp+3h] [ebp-105h]
  char v8; // [esp+4h] [ebp-104h]

  v7 = -1;
  v6 = -1;
  v5 = -1;
  v4 = -1;
  if ( dword_1550844 )
  {
    v1 = dword_155084C;
    v2 = dword_1550848;
    *((_DWORD *)dword_1330790 + 2 * (dword_1550848 + dword_155084C * dword_1540B4C) + 1) = (dword_1550840 + 512) << 7;
    v3 = v2 + v1 * dword_1540B4C;
    result = (FILE *)dword_1547440;
    *((_WORD *)dword_1547440 + v3) = 1;
  }
  else
  {
    sub_41CB10(0, 0, (int)&v4);
    *(_BYTE *)(dword_49DA1C[dword_1317E74] + 48) = 2;
    *(_WORD *)(dword_49DA1C[dword_1317E74] + 616) = dword_155083C + 100;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168) = dword_1550840;
    *(float *)(dword_49DA1C[dword_1317E74] + 112) = (double)dword_1550848 * 40.0 + 20.0;
    *(float *)(dword_49DA1C[dword_1317E74] + 120) = (double)dword_155084C * 20.0 + 10.0;
    *(_DWORD *)(dword_49DA1C[dword_1317E74] + 116) = *(_DWORD *)(dword_49DA1C[dword_1317E74] + 120);
    result = (FILE *)dword_49DA1C[dword_1317E74];
    if ( !dword_13083AC[8 * (_DWORD)result[5]._base] )
    {
      sprintf(&v8, a03dAni, result[5]._base, *(_DWORD *)&v4);
      result = sub_4221A0((int)&v8, *(_DWORD *)(dword_49DA1C[dword_1317E74] + 168));
    }
  }
  return result;
}
// 49DA1C: using guessed type int dword_49DA1C[];
// 13083AC: using guessed type int dword_13083AC[];
// 1317E74: using guessed type int dword_1317E74;
// 1540B4C: using guessed type int dword_1540B4C;
// 155083C: using guessed type int dword_155083C;
// 1550840: using guessed type int dword_1550840;
// 1550844: using guessed type int dword_1550844;
// 1550848: using guessed type int dword_1550848;
// 155084C: using guessed type int dword_155084C;

//----- (00478B70) --------------------------------------------------------
unsigned int sub_478B70()
{
  int v0; // edx
  signed int v1; // ebp
  const char *v2; // ebx
  char v3; // al
  char *v4; // ST18_4
  unsigned int v5; // ecx
  int v6; // edi
  char v7; // bl
  char *v8; // esi
  char *v9; // edi
  char *v10; // esi
  signed int v11; // ebx
  int v12; // edx
  signed int v13; // ecx
  int v14; // ebp
  char v15; // al
  int v16; // eax
  char *v17; // ebx
  unsigned int result; // eax
  int v19; // [esp+10h] [ebp-Ch]
  signed int v20; // [esp+10h] [ebp-Ch]
  const char *v21; // [esp+14h] [ebp-8h]
  signed int v22; // [esp+18h] [ebp-4h]

  v0 = 0;
  v1 = 0;
  v2 = byte_1547AE4;
  v21 = (const char *)&unk_1547BE8;
  dword_133007C = 1;
  v19 = 0;
  while ( 1 )
  {
    v3 = v2[v1];
    if ( v3 != 32 && v3 )
      goto LABEL_8;
    if ( !v3 )
      break;
    if ( v1 >= 64 )
    {
      strcpy(&byte_1207A14[v19], v2);
      ++v0;
      v2 += v22;
      v19 += 100;
      byte_12079B0[v19 + v22] = 0;
      v1 = 0;
    }
    v22 = v1;
LABEL_8:
    ++v1;
  }
  v4 = (char *)(100 * v0 + 18905620);
  v5 = strlen(v2) + 1;
  v6 = (int)&v2[v5];
  v7 = v5;
  v8 = (char *)(v6 - v5);
  v5 >>= 2;
  qmemcpy(v4, v8, 4 * v5);
  v10 = &v8[4 * v5];
  v9 = &v4[4 * v5];
  LOBYTE(v5) = v7;
  v11 = 0;
  v12 = v0 + 1;
  qmemcpy(v9, v10, v5 & 3);
  v4[v1] = 0;
  v13 = 0;
  v20 = 0;
  v14 = 100 * v12;
  while ( 1 )
  {
    v15 = v21[v13];
    if ( v15 != 32 && v15 )
      goto LABEL_16;
    if ( !v15 )
      break;
    if ( v13 >= 64 )
    {
      strcpy(&byte_1207A14[v14], v21);
      ++v12;
      byte_1207A14[v11 + v14] = 0;
      v14 += 100;
      v16 = (int)&v21[v11];
      v11 = 0;
      v21 = (const char *)v16;
      v13 = 0;
LABEL_16:
      v20 = ++v13;
      continue;
    }
    v11 = v13++;
    v20 = v13;
  }
  byte_1328E45 = 0;
  dword_489040 = -1;
  v17 = (char *)(100 * v12 + 18905620);
  result = strlen(v21) + 1;
  qmemcpy(v17, v21, result);
  v17[v20] = 0;
  byte_1317E80 = v12 + 1;
  return result;
}
// 489040: using guessed type int dword_489040;
// 1317E80: using guessed type char byte_1317E80;
// 1328E45: using guessed type char byte_1328E45;
// 133007C: using guessed type int dword_133007C;

//----- (00478D10) --------------------------------------------------------
int sub_478D10()
{
  LPCSTR v0; // esi
  int v1; // edi
  int v2; // edx
  int result; // eax
  int v4; // eax

  v0 = (&lpString)[dword_131D690];
  v1 = (signed __int64)*((float *)v0 + 28) / 40;
  v2 = (signed __int64)*((float *)v0 + 30) / 20;
  result = dword_155083C;
  if ( v1 > dword_155083C && v1 < dword_1550844 && v2 > dword_1550840 && v2 < dword_1550848 )
  {
    dword_13300B8 = 1;
    v4 = dword_13211C8;
    strcpy(byte_1324F74, byte_1547AE4);
    result = v4 + 3000;
    dword_1329444 = result;
  }
  return result;
}
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 1329444: using guessed type int dword_1329444;
// 13300B8: using guessed type int dword_13300B8;
// 155083C: using guessed type int dword_155083C;
// 1550840: using guessed type int dword_1550840;
// 1550844: using guessed type int dword_1550844;
// 1550848: using guessed type int dword_1550848;

//----- (00478DC0) --------------------------------------------------------
unsigned int sub_478DC0()
{
  LPCSTR v0; // esi
  int v1; // edi
  int v2; // edx
  unsigned int result; // eax
  signed int v4; // edx
  CHAR *v5; // ebx
  char *v6; // edi

  v0 = (&lpString)[dword_131D690];
  v1 = (signed __int64)*((float *)v0 + 28) / 40;
  v2 = (signed __int64)*((float *)v0 + 30) / 20;
  result = dword_155083C;
  if ( v1 > dword_155083C && v1 < dword_1550844 && v2 > dword_1550840 && v2 < dword_1550848 )
  {
    v4 = 0;
    do
    {
      v5 = &byte_132974C[v4];
      result = strlen(&byte_1547AE4[v4]) + 1;
      v6 = &byte_1547AE4[v4 + result];
      v4 += 260;
      qmemcpy(v5, &v6[-result], result);
    }
    while ( v4 < 2080 );
    dword_13300B4 = 1;
    unk_132507C = dword_13211C8 + 500;
  }
  return result;
}
// 131D690: using guessed type int dword_131D690;
// 13211C8: using guessed type int dword_13211C8;
// 13300B4: using guessed type int dword_13300B4;
// 155083C: using guessed type int dword_155083C;
// 1550840: using guessed type int dword_1550840;
// 1550844: using guessed type int dword_1550844;
// 1550848: using guessed type int dword_1550848;

//----- (00478E90) --------------------------------------------------------
char sub_478E90()
{
  int v0; // edx
  signed int v1; // ebp
  const char *v2; // ebx
  char v3; // al
  char *v4; // ST24_4
  unsigned int v5; // ecx
  int v6; // edi
  char v7; // bl
  char *v8; // esi
  char *v9; // edi
  char *v10; // esi
  signed int v11; // ebx
  int v12; // edx
  signed int v13; // ecx
  int v14; // ebp
  char v15; // al
  int v16; // eax
  char *v17; // ebx
  unsigned int v18; // ecx
  char v19; // al
  char *v20; // edi
  const char *v21; // esi
  int v22; // eax
  char result; // al
  LPCSTR v24; // eax
  int v25; // [esp+10h] [ebp-Ch]
  signed int v26; // [esp+10h] [ebp-Ch]
  const char *v27; // [esp+14h] [ebp-8h]
  signed int v28; // [esp+18h] [ebp-4h]

  v0 = 0;
  v1 = 0;
  v2 = byte_1547AE4;
  v27 = (const char *)&unk_1547BE8;
  dword_133007C = 1;
  v25 = 0;
  while ( 1 )
  {
    v3 = v2[v1];
    if ( v3 != 32 && v3 )
      goto LABEL_8;
    if ( !v3 )
      break;
    if ( v1 >= 64 )
    {
      strcpy(&byte_1207A14[v25], v2);
      ++v0;
      v2 += v28;
      v25 += 100;
      byte_12079B0[v25 + v28] = 0;
      v1 = 0;
    }
    v28 = v1;
LABEL_8:
    ++v1;
  }
  v4 = (char *)(100 * v0 + 18905620);
  v5 = strlen(v2) + 1;
  v6 = (int)&v2[v5];
  v7 = v5;
  v8 = (char *)(v6 - v5);
  v5 >>= 2;
  qmemcpy(v4, v8, 4 * v5);
  v10 = &v8[4 * v5];
  v9 = &v4[4 * v5];
  LOBYTE(v5) = v7;
  v11 = 0;
  v12 = v0 + 1;
  qmemcpy(v9, v10, v5 & 3);
  v4[v1] = 0;
  v13 = 0;
  v26 = 0;
  v14 = 100 * v12;
  while ( 1 )
  {
    v15 = v27[v13];
    if ( v15 != 32 && v15 )
      goto LABEL_16;
    if ( !v15 )
      break;
    if ( v13 >= 64 )
    {
      strcpy(&byte_1207A14[v14], v27);
      ++v12;
      byte_1207A14[v11 + v14] = 0;
      v14 += 100;
      v16 = (int)&v27[v11];
      v11 = 0;
      v27 = (const char *)v16;
      v13 = 0;
LABEL_16:
      v26 = ++v13;
      continue;
    }
    v11 = v13++;
    v26 = v13;
  }
  byte_1328E45 = 0;
  dword_132260C = 0;
  v17 = (char *)(100 * v12 + 18905620);
  v18 = strlen(v27) + 1;
  v19 = v18;
  v18 >>= 2;
  qmemcpy(v17, v27, 4 * v18);
  v21 = &v27[4 * v18];
  v20 = &v17[4 * v18];
  LOBYTE(v18) = v19;
  v22 = dword_155083C;
  qmemcpy(v20, v21, v18 & 3);
  byte_1317E80 = v12 + 1;
  dword_489040 = v22;
  v17[v26] = 0;
  if ( v22 == 16 )
  {
    byte_1328E45 = 13;
  }
  else if ( v22 != -1 && v22 != 17 )
  {
    dword_1330070 = 1;
    byte_1328E45 = 12;
  }
  result = byte_133005C;
  if ( !byte_133005C )
  {
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    v24 = (&lpString)[dword_131D690];
    LOBYTE(dword_1550B62) = 19;
    *(int *)((char *)&dword_1550B62 + 1) = *((_DWORD *)v24 + 14);
    sub_479790(7);
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 67;
    sub_479790(3);
    byte_1550B60[0] = -9;
    byte_1550B61[0] = 113;
    LOBYTE(dword_1550B62) = 100;
    result = sub_479790(3);
  }
  return result;
}
// 489040: using guessed type int dword_489040;
// 1317E80: using guessed type char byte_1317E80;
// 131D690: using guessed type int dword_131D690;
// 132260C: using guessed type int dword_132260C;
// 1328E45: using guessed type char byte_1328E45;
// 133005C: using guessed type char byte_133005C;
// 1330070: using guessed type int dword_1330070;
// 133007C: using guessed type int dword_133007C;
// 155083C: using guessed type int dword_155083C;
// 1550B62: using guessed type int dword_1550B62;

//----- (004790D0) --------------------------------------------------------
char sub_4790D0()
{
  char result; // al

  if ( (_WORD)dword_132FFFC != word_1328E46 || (result = dword_1324F54, dword_132FFEC != dword_1324F54) )
  {
    result = dword_13246D8;
    if ( !(_BYTE)dword_13246D8 )
    {
      sub_416860(10, 0, 0, 0, 0);
      byte_1550B60[0] = -9;
      byte_1550B61[0] = 113;
      dword_1550B62 = -2046754742;
      byte_1550B66 = -96;
      result = sub_479790(7);
      LOBYTE(dword_13246D8) = 30;
    }
  }
  return result;
}
// 13246D8: using guessed type int dword_13246D8;
// 1324F54: using guessed type int dword_1324F54;
// 1328E46: using guessed type __int16 word_1328E46;
// 132FFFC: using guessed type int dword_132FFFC;
// 1550B62: using guessed type int dword_1550B62;
// 1550B66: using guessed type char byte_1550B66;

//----- (00479150) --------------------------------------------------------
signed int sub_479150()
{
  signed int result; // eax

  result = dword_1550688;
  if ( !dword_1550688 )
  {
    dword_1550694 = dword_1550690;
    memset(&dword_1550698, 0, 0x190u);
    result = sub_4779D0(&dword_1550694);
  }
  return result;
}
// 1550688: using guessed type int dword_1550688;
// 1550690: using guessed type int dword_1550690;
// 1550694: using guessed type int dword_1550694;

//----- (00479190) --------------------------------------------------------
signed int __cdecl sub_479190(int a1, int a2)
{
  signed int result; // eax
  LPCSTR v3; // esi

  result = dword_1550688;
  if ( !dword_1550688 )
  {
    dword_1550680 = dword_1550684;
    memset(&dword_1550698, 0, 0x190u);
    dword_155069C = a1;
    dword_15506A0 = a2;
    v3 = (&lpString)[dword_131D690];
    dword_15506A4 = (signed __int64)*((float *)v3 + 28) / 40;
    dword_15506A8 = (signed __int64)*((float *)v3 + 30) / 20;
    result = sub_4779D0(&dword_1550680);
  }
  return result;
}
// 131D690: using guessed type int dword_131D690;
// 1550680: using guessed type int dword_1550680;
// 1550684: using guessed type int dword_1550684;
// 1550688: using guessed type int dword_1550688;
// 155069C: using guessed type int dword_155069C;
// 15506A0: using guessed type int dword_15506A0;
// 15506A4: using guessed type int dword_15506A4;
// 15506A8: using guessed type int dword_15506A8;

//----- (00479230) --------------------------------------------------------
signed int sub_479230()
{
  signed int result; // eax

  result = dword_1550688;
  if ( !dword_1550688 )
  {
    dword_1550834 = dword_155068C;
    memset(&dword_1550698, 0, 0x190u);
    result = sub_4779D0(&dword_1550834);
  }
  return result;
}
// 1550688: using guessed type int dword_1550688;
// 155068C: using guessed type int dword_155068C;
// 1550834: using guessed type int dword_1550834;

//----- (00479270) --------------------------------------------------------
BOOL sub_479270()
{
  return WSAStartup(0x101u, &stru_1560E80) == 0;
}

//----- (00479290) --------------------------------------------------------
signed int sub_479290()
{
  closesocket(s);
  s = 0;
  closesocket(dword_1560E7C);
  dword_1560E7C = 0;
  WSACleanup();
  return 1;
}

//----- (004792D0) --------------------------------------------------------
signed int sub_4792D0()
{
  while ( closesocket(s) )
    ;
  s = 0;
  return 1;
}

//----- (00479300) --------------------------------------------------------
SOCKET __cdecl sub_479300(int a1, char *cp)
{
  int v2; // eax

  v2 = inet_addr(cp);
  if ( v2 != -1 )
    return sub_4793C0((HWND *)a1, v2);
  dword_1551330 = (int)WSAAsyncGetHostByName(*(HWND *)a1, 0x2714u, cp, buf, 1024);
  if ( !dword_1551330 )
    return -1;
  dword_48EC4C = 3;
  return 0;
}
// 48EC4C: using guessed type int dword_48EC4C;
// 1551330: using guessed type int dword_1551330;

//----- (00479360) --------------------------------------------------------
SOCKET __cdecl sub_479360(int a1, char *cp)
{
  int v2; // eax

  v2 = inet_addr(cp);
  if ( v2 != -1 )
    return sub_4795A0((HWND *)a1, v2);
  dword_1551330 = (int)WSAAsyncGetHostByName(*(HWND *)a1, 0x2711u, cp, buf, 1024);
  if ( !dword_1551330 )
    return -1;
  dword_48EC4C = 3;
  return 0;
}
// 48EC4C: using guessed type int dword_48EC4C;
// 1551330: using guessed type int dword_1551330;

//----- (004793C0) --------------------------------------------------------
SOCKET __cdecl sub_4793C0(HWND *a1, int a2)
{
  SOCKET result; // eax
  HWND v3; // edx
  DWORD v4; // edi
  int namelen; // [esp+4h] [ebp-2Ch]
  char optval[4]; // [esp+8h] [ebp-28h]
  int v7; // [esp+Ch] [ebp-24h]
  struct sockaddr v8; // [esp+10h] [ebp-20h]
  struct sockaddr name; // [esp+20h] [ebp-10h]

  if ( s )
  {
    closesocket(s);
    s = 0;
  }
  result = socket(2, 1, 0);
  s = result;
  if ( result != -1 )
  {
    *(_DWORD *)optval = 1;
    v7 = 0;
    if ( setsockopt(result, 0xFFFF, 128, optval, 8) )
      namelen = 0;
    name.sa_family = 2;
    *(_WORD *)name.sa_data = htons(hostshort);
    v3 = *a1;
    *(_DWORD *)&name.sa_data[2] = a2;
    WSAAsyncSelect(s, v3, 0x2710u, 16);
    if ( connect(s, &name, 16) != -1 || WSAGetLastError() == 10035 )
    {
      *(_DWORD *)&v8.sa_family = 0;
      *(_DWORD *)&v8.sa_data[2] = 0;
      namelen = 16;
      *(_DWORD *)&v8.sa_data[6] = 0;
      *(_DWORD *)&v8.sa_data[10] = 0;
      v4 = GetTickCount();
      while ( GetTickCount() - v4 < 0x3E8 )
        ;
      getsockname(s, &v8, &namelen);
      if ( v8.sa_data[2] == -53 )
      {
        if ( v8.sa_data[3] == -8 && v8.sa_data[4] == -127 )
        {
          switch ( v8.sa_data[5] )
          {
            case 0x14:
            case 0x18:
            case 0x19:
            case 0x51:
            case 0x52:
            case 0x5B:
            case 0x5C:
            case 0x5D:
              goto LABEL_19;
            default:
              break;
          }
        }
      }
      else if ( v8.sa_data[2] == 62 && v8.sa_data[3] == -95 && v8.sa_data[4] == 70 && v8.sa_data[5] == 35 )
      {
LABEL_19:
        byte_132259C = 1;
      }
      dword_48EC4C = 4;
      result = 0;
    }
    else
    {
      __setargv();
      result = -1;
    }
  }
  return result;
}
// 48EC4C: using guessed type int dword_48EC4C;
// 132259C: using guessed type char byte_132259C;

//----- (004795A0) --------------------------------------------------------
SOCKET __cdecl sub_4795A0(HWND *a1, int a2)
{
  SOCKET result; // eax
  char optval[4]; // [esp+4h] [ebp-1Ch]
  char v4[4]; // [esp+8h] [ebp-18h]
  int v5; // [esp+Ch] [ebp-14h]
  struct sockaddr name; // [esp+10h] [ebp-10h]

  *(_DWORD *)optval = 0;
  result = socket(2, 1, 0);
  s = result;
  if ( result != -1 )
  {
    *(_DWORD *)optval = 100000;
    setsockopt(result, 0xFFFF, 4098, optval, 4);
    *(_DWORD *)optval = 100;
    if ( setsockopt(s, 0xFFFF, 4097, optval, 4) )
      *(_DWORD *)optval = 0;
    *(_DWORD *)v4 = 1;
    v5 = 0;
    if ( setsockopt(s, 0xFFFF, 128, v4, 8) )
      *(_DWORD *)optval = 0;
    name.sa_family = 2;
    *(_WORD *)name.sa_data = htons(word_1551334);
    *(_DWORD *)&name.sa_data[2] = a2;
    WSAAsyncSelect(s, *a1, 0x2710u, 16);
    if ( connect(s, &name, 16) != -1 || WSAGetLastError() == 10035 )
    {
      dword_48EC4C = 4;
      result = 0;
    }
    else
    {
      __setargv();
      result = -1;
    }
  }
  return result;
}
// 48EC4C: using guessed type int dword_48EC4C;

//----- (004796C0) --------------------------------------------------------
SOCKET __cdecl sub_4796C0(HWND *a1, int a2)
{
  SOCKET result; // eax
  HWND v3; // edx
  struct sockaddr name; // [esp+0h] [ebp-10h]

  if ( dword_1560E7C )
  {
    closesocket(dword_1560E7C);
    dword_1560E7C = 0;
  }
  result = socket(2, 1, 0);
  dword_1560E7C = result;
  if ( result != -1 )
  {
    name.sa_family = 2;
    *(_WORD *)name.sa_data = htons(0x251Cu);
    v3 = *a1;
    *(_DWORD *)&name.sa_data[2] = a2;
    WSAAsyncSelect(dword_1560E7C, v3, 0x2712u, 16);
    if ( connect(dword_1560E7C, &name, 16) != -1 || WSAGetLastError() == 10035 )
    {
      dword_48EC50 = 4;
      result = 0;
    }
    else
    {
      __setargv();
      result = -1;
    }
  }
  return result;
}
// 48EC50: using guessed type int dword_48EC50;

//----- (00479790) --------------------------------------------------------
int __cdecl sub_479790(int a1)
{
  int result; // eax

  result = s;
  if ( s )
  {
    dword_48EC4C = 6;
    dword_156FA80 = a1;
    dword_156FA7C = 0;
    while ( 1 )
    {
      result = sub_479840();
      if ( dword_156FA84 )
        break;
      if ( dword_48EC4C != 6 )
        return result;
    }
    SetFocus(hWndParent);
    if ( (_BYTE)dword_49D8F8 == 1 )
    {
      result = s;
      if ( s )
      {
        result = closesocket(s);
        s = 0;
      }
      byte_133004A = 0;
      byte_13225C0 = 0;
      byte_1330049 = 1;
      byte_49CFF0 = 25;
    }
    else
    {
      result = sub_456CE0(&byte_48CA78, &byte_48CA88);
      dword_49D92C = 1;
    }
  }
  return result;
}
// 48EC4C: using guessed type int dword_48EC4C;
// 49CFF0: using guessed type char byte_49CFF0;
// 49D8F8: using guessed type int dword_49D8F8;
// 49D92C: using guessed type int dword_49D92C;
// 13225C0: using guessed type char byte_13225C0;
// 1330049: using guessed type char byte_1330049;
// 133004A: using guessed type char byte_133004A;
// 156FA7C: using guessed type int dword_156FA7C;
// 156FA84: using guessed type int dword_156FA84;

//----- (00479840) --------------------------------------------------------
int sub_479840()
{
  int result; // eax
  bool v1; // zf

  result = send(s, &byte_1550B60[dword_156FA7C], dword_156FA80, 0);
  if ( result == -1 )
  {
    while ( 2 )
    {
      result = WSAGetLastError();
      switch ( result )
      {
        case 10004:
        case 10014:
        case 10022:
        case 10036:
        case 10038:
        case 10040:
        case 10045:
        case 10050:
        case 10052:
        case 10053:
        case 10054:
        case 10055:
        case 10057:
        case 10058:
          dword_156FA84 = 1;
          break;
        case 10035:
          result = send(s, &byte_1550B60[dword_156FA7C], dword_156FA80, 0);
          if ( result != -1 )
            goto LABEL_4;
          continue;
        default:
          return result;
      }
      break;
    }
  }
  else
  {
LABEL_4:
    v1 = dword_156FA80 == result;
    dword_156FA84 = 0;
    dword_156FA80 -= result;
    dword_156FA7C += result;
    if ( v1 )
      dword_48EC4C = 5;
  }
  return result;
}
// 48EC4C: using guessed type int dword_48EC4C;
// 156FA7C: using guessed type int dword_156FA7C;
// 156FA84: using guessed type int dword_156FA84;

//----- (00479930) --------------------------------------------------------
BOOL sub_479930()
{
  BOOL result; // eax
  struct tagMSG Msg; // [esp+4h] [ebp-1Ch]

  for ( result = PeekMessageA(&Msg, 0, 0, 0, 1u); result; result = PeekMessageA(&Msg, 0, 0, 0, 1u) )
  {
    TranslateMessage(&Msg);
    if ( Msg.message != 260 && (Msg.message != 261 || dword_1322620) )
      DispatchMessageA(&Msg);
  }
  return result;
}
// 1322620: using guessed type int dword_1322620;

//----- (004799A0) --------------------------------------------------------
signed int __cdecl sub_4799A0(HWND a1, DWORD a2, DWORD a3, DWORD a4)
{
  signed int v4; // esi
  signed int v5; // eax
  signed int v6; // esi
  signed int v7; // eax

  v4 = 0;
  while ( DirectDrawCreate(0, &lpDD, 0) )
  {
    v5 = v4++;
    if ( v5 > 1000000 )
      sub_4169B0(aDirectdrawInit, Caption, 0x40000);
  }
  if ( lpDD->lpVtbl->SetCooperativeLevel(lpDD, a1, 21) )
    sub_4169B0(aDirectdrawCoop, Caption, 0x40000);
  lpDD->lpVtbl->SetDisplayMode(lpDD, a2, a3, a4);
  v6 = 0;
  memset(&dword_1570288, 0, 0x6Cu);
  dword_1570288 = 108;
  dword_157028C = 33;
  dword_15702F0 = 16920;
  dword_157029C = 1;
  while ( lpDD->lpVtbl->CreateSurface(lpDD, (LPDDSURFACEDESC)&dword_1570288, (LPDIRECTDRAWSURFACE *)&dword_156FF24, 0) )
  {
    v7 = v6++;
    if ( v7 > 1000000 )
      sub_4169B0(aPrimarysurface, Caption, 0x40000);
  }
  lpDD->lpVtbl->CreateClipper(lpDD, 0, (LPDIRECTDRAWCLIPPER *)&dword_156FA98, 0);
  (*(void (__stdcall **)(int, _DWORD, HWND))(*(_DWORD *)dword_156FA98 + 32))(dword_156FA98, 0, a1);
  (*(void (__stdcall **)(int, int))(*(_DWORD *)dword_156FF24 + 112))(dword_156FF24, dword_156FA98);
  (*(void (__stdcall **)(int))(*(_DWORD *)dword_156FA98 + 8))(dword_156FA98);
  dword_156FA98 = 0;
  dword_15702FC = 4;
  if ( (*(int (__stdcall **)(int, int *, int *))(*(_DWORD *)dword_156FF24 + 48))(
         dword_156FF24,
         &dword_15702FC,
         &dword_156FAA4) )
  {
    sub_4169B0(aBacksurfaceIni, Caption, 0x40000);
  }
  memset(&dword_156FEB8, 0, 0x6Cu);
  dword_156FEB8 = 108;
  if ( (*(int (__stdcall **)(int, _DWORD, int *, signed int, _DWORD))(*(_DWORD *)dword_156FF24 + 100))(
         dword_156FF24,
         0,
         &dword_156FEB8,
         1,
         0) )
  {
    sub_4169B0(aLockError, Caption, 0x40000);
  }
  dword_156FEB0 = dword_156FF14 == 2016;
  dword_15702F8 = dword_156FEDC;
  dword_15702F4 = dword_156FEDC;
  (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)dword_156FF24 + 128))(dword_156FF24, 0);
  dword_1571324 = dword_156FEC8;
  LOWORD(dword_1570244) = dword_156FEC8;
  dword_156FEB8 = 108;
  (*(void (__stdcall **)(int, _DWORD, int *, signed int, _DWORD))(*(_DWORD *)dword_156FAA4 + 100))(
    dword_156FAA4,
    0,
    &dword_156FEB8,
    1,
    0);
  dword_1570300 = dword_156FEDC;
  (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)dword_156FAA4 + 128))(dword_156FAA4, 0);
  word_156FAA0 = dword_1570244 - 1600;
  return 1;
}
// 156FA98: using guessed type int dword_156FA98;
// 156FAA0: using guessed type __int16 word_156FAA0;
// 156FAA4: using guessed type int dword_156FAA4;
// 156FEB0: using guessed type int dword_156FEB0;
// 156FEB8: using guessed type int dword_156FEB8;
// 156FEC8: using guessed type int dword_156FEC8;
// 156FEDC: using guessed type int dword_156FEDC;
// 156FF14: using guessed type int dword_156FF14;
// 156FF24: using guessed type int dword_156FF24;
// 1570244: using guessed type int dword_1570244;
// 1570288: using guessed type int dword_1570288;
// 157028C: using guessed type int dword_157028C;
// 157029C: using guessed type int dword_157029C;
// 15702F0: using guessed type int dword_15702F0;
// 15702F4: using guessed type int dword_15702F4;
// 15702F8: using guessed type int dword_15702F8;
// 15702FC: using guessed type int dword_15702FC;
// 1570300: using guessed type int dword_1570300;
// 1571324: using guessed type int dword_1571324;

//----- (00479C50) --------------------------------------------------------
LPDIRECTDRAW sub_479C50()
{
  LPDIRECTDRAW result; // eax

  result = lpDD;
  if ( lpDD )
  {
    if ( dword_156FF24 && !(*(int (__stdcall **)(int))(*(_DWORD *)dword_156FF24 + 8))(dword_156FF24) )
      dword_156FF24 = 0;
    result = (LPDIRECTDRAW)lpDD->lpVtbl->Release(lpDD);
    if ( !result )
      lpDD = 0;
  }
  return result;
}
// 156FF24: using guessed type int dword_156FF24;

//----- (00479C90) --------------------------------------------------------
signed int __cdecl sub_479C90(HWND a1, DWORD a2, DWORD a3, DWORD a4)
{
  signed int v4; // esi
  signed int v5; // eax
  signed int result; // eax

  (*(void (__stdcall **)(int))(*(_DWORD *)dword_156FF24 + 8))(dword_156FF24);
  if ( lpDD->lpVtbl->SetCooperativeLevel(lpDD, a1, 21) )
    exit(0);
  if ( lpDD->lpVtbl->SetDisplayMode(lpDD, a2, a3, a4) )
    exit(0);
  memset(&dword_1570288, 0, 0x6Cu);
  v4 = 0;
  dword_1570288 = 108;
  dword_157028C = 33;
  dword_15702F0 = 16920;
  dword_157029C = 1;
  if ( lpDD->lpVtbl->CreateSurface(lpDD, (LPDDSURFACEDESC)&dword_1570288, (LPDIRECTDRAWSURFACE *)&dword_156FF24, 0) )
  {
    while ( 1 )
    {
      v5 = v4++;
      if ( v5 > 1000000 )
        break;
      if ( !lpDD->lpVtbl->CreateSurface(lpDD, (LPDDSURFACEDESC)&dword_1570288, (LPDIRECTDRAWSURFACE *)&dword_156FF24, 0) )
        goto LABEL_6;
    }
    result = 0;
  }
  else
  {
LABEL_6:
    dword_15702FC = 4;
    (*(void (__stdcall **)(int, int *, int *))(*(_DWORD *)dword_156FF24 + 48))(
      dword_156FF24,
      &dword_15702FC,
      &dword_156FAA4);
    dword_156FEB8 = 108;
    (*(void (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)dword_156FF24 + 100))(
      dword_156FF24,
      0,
      &dword_156FEB8,
      0,
      0);
    dword_15702F8 = dword_156FEDC;
    dword_15702F4 = dword_156FEDC;
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)dword_156FF24 + 128))(dword_156FF24, 0);
    dword_1571324 = dword_156FEC8;
    LOWORD(dword_1570244) = dword_156FEC8;
    dword_156FEB8 = 108;
    (*(void (__stdcall **)(int, _DWORD, int *, _DWORD, _DWORD))(*(_DWORD *)dword_156FAA4 + 100))(
      dword_156FAA4,
      0,
      &dword_156FEB8,
      0,
      0);
    dword_1570300 = dword_156FEDC;
    (*(void (__stdcall **)(int, _DWORD))(*(_DWORD *)dword_156FAA4 + 128))(dword_156FAA4, 0);
    result = 1;
  }
  return result;
}
// 156FAA4: using guessed type int dword_156FAA4;
// 156FEB8: using guessed type int dword_156FEB8;
// 156FEC8: using guessed type int dword_156FEC8;
// 156FEDC: using guessed type int dword_156FEDC;
// 156FF24: using guessed type int dword_156FF24;
// 1570244: using guessed type int dword_1570244;
// 1570288: using guessed type int dword_1570288;
// 157028C: using guessed type int dword_157028C;
// 157029C: using guessed type int dword_157029C;
// 15702F0: using guessed type int dword_15702F0;
// 15702F4: using guessed type int dword_15702F4;
// 15702F8: using guessed type int dword_15702F8;
// 15702FC: using guessed type int dword_15702FC;
// 1570300: using guessed type int dword_1570300;
// 1571324: using guessed type int dword_1571324;

//----- (00479E10) --------------------------------------------------------
int __cdecl sub_479E10(int *a1)
{
  int v1; // eax
  int v2; // edi
  int v4; // [esp+8h] [ebp-6Ch]
  int v5; // [esp+2Ch] [ebp-48h]

  memset(&v4, 0, 0x6Cu);
  v1 = *a1;
  v4 = 108;
  (*(void (__stdcall **)(int *, _DWORD, int *, signed int, _DWORD))(v1 + 100))(a1, 0, &v4, 1, 0);
  v2 = v5;
  (*(void (__stdcall **)(int *, _DWORD))(*a1 + 128))(a1, 0);
  return v2;
}

//----- (00479E60) --------------------------------------------------------
int sub_479E60()
{
  int v1; // [esp+0h] [ebp-10h]
  int v2; // [esp+4h] [ebp-Ch]
  int v3; // [esp+8h] [ebp-8h]
  int v4; // [esp+Ch] [ebp-4h]

  v1 = 0;
  v2 = 0;
  v3 = 800;
  v4 = 600;
  return (*(int (__stdcall **)(int, int *, int, _DWORD, void *, _DWORD))(*(_DWORD *)dword_156FF24 + 20))(
           dword_156FF24,
           &v1,
           dword_156FAA4,
           0,
           &unk_1000000,
           0);
}
// 156FAA4: using guessed type int dword_156FAA4;
// 156FF24: using guessed type int dword_156FF24;

//----- (00479FCB) --------------------------------------------------------
int __cdecl sub_479FCB(int a1)
{
  int result; // eax

  result = a1;
  dword_48ECD0 = a1;
  return result;
}
// 48ECD0: using guessed type int dword_48ECD0;

//----- (0047BAE1) --------------------------------------------------------
signed int sub_47BAE1()
{
  return flsall(1);
}

//----- (0047FAB1) --------------------------------------------------------
int __cdecl sub_47FAB1(int a1, int a2)
{
  return _ld12cvt(a1, a2, &unk_48F510);
}
// 47F945: using guessed type _DWORD __cdecl _ld12cvt(_DWORD, _DWORD, _DWORD);

//----- (0047FAC7) --------------------------------------------------------
int __cdecl sub_47FAC7(int a1, int a2)
{
  return _ld12cvt(a1, a2, &unk_48F528);
}
// 47F945: using guessed type _DWORD __cdecl _ld12cvt(_DWORD, _DWORD, _DWORD);

//----- (0047FADD) --------------------------------------------------------
int __cdecl sub_47FADD(int a1, int a2)
{
  char v3; // [esp+0h] [ebp-Ch]

  __strgtold12(&v3, &a2, a2, 0, 0, 0, 0);
  return sub_47FAB1((int)&v3, a1);
}
// 481362: using guessed type _DWORD __cdecl __strgtold12(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0047FB0A) --------------------------------------------------------
int __cdecl sub_47FB0A(int a1, int a2)
{
  char v3; // [esp+0h] [ebp-Ch]

  __strgtold12(&v3, &a2, a2, 0, 0, 0, 0);
  return sub_47FAC7((int)&v3, a1);
}
// 481362: using guessed type _DWORD __cdecl __strgtold12(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

// ALL OK, 381 function(s) have been successfully decompiled
